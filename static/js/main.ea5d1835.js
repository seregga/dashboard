/*! For license information please see main.ea5d1835.js.LICENSE.txt */
(function(){var __webpack_modules__={83085:function(e,t,n){"use strict";var r=r||{};r.__findSuperClass=function e(t,n){return"null"==n?null:t.$className===n||t.hasOwnProperty("alternateClassName")&&t.alternateClassName.includes(n)||null==t.superclass?t:e(t.superclass,n)},t.Z=r},48264:function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";var _GRUI_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(83085);_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.USE_NATIVE_JSON=!0,_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.JSON=new function(){var me=this,hasNative=window.JSON&&"[object JSON]"===JSON.toString(),useHasOwn=!!{}.hasOwnProperty,pad=function(e){return e<10?"0"+e:e},doDecode=function doDecode(json){return eval("("+json+")")},doEncode=function e(t,n){return null==t?"null":_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.isDate(t)?me.encodeDate(t):_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.isString(t)?_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.isMSDate(t)?me.encodeMSDate(t):me.encodeString(t):"number"==typeof t?isFinite(t)?String(t):"null":_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.isBoolean(t)?String(t):"function"==typeof t.toJSON?e(t.toJSON()):_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.isArray(t)?encodeArray(t,n):_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.isObject(t)?encodeObject(t,n):"function"==typeof t?"null":"undefined"},m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","\v":"\\u000b"},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(e){return'"'+e.replace(charToReplace,(function(e){var t=m[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"'},encodeMSDate=function(e){return'"'+e+'"'},encodeArrayPretty=function(e,t){for(var n=e.length,r=t+"   ",i=","+r,o=["[",r],a=0;a<n;a+=1)o.push(me.encodeValue(e[a],r),i);return o[o.length-1]=t+"]",o.join("")},encodeObjectPretty=function(e,t){var n,r,i=t+"   ",o=","+i,a=["{",i];for(n in e)r=e[n],useHasOwn&&!e.hasOwnProperty(n)||"function"==typeof r||void 0===r||r.isInstance||a.push(me.encodeValue(n)+": "+me.encodeValue(r,i),o);return a[a.length-1]=t+"}",a.join("")},encodeArray=function(e,t){if(t)return encodeArrayPretty(e,t);for(var n=["[",""],r=e.length,i=0;i<r;i+=1)n.push(me.encodeValue(e[i]),",");return n[n.length-1]="]",n.join("")},encodeObject=function(e,t){if(t)return encodeObjectPretty(e,t);var n,r,i=["{",""];for(n in e)r=e[n],useHasOwn&&!e.hasOwnProperty(n)||"function"!=typeof r&&void 0!==r&&i.push(me.encodeValue(n),":",me.encodeValue(r),",");return i[i.length-1]="}",i.join("")};me.encodeString=encodeString,me.encodeValue=doEncode,me.encodeDate=function(e){return'"'+e.getFullYear()+"-"+pad(e.getMonth()+1)+"-"+pad(e.getDate())+"T"+pad(e.getHours())+":"+pad(e.getMinutes())+":"+pad(e.getSeconds())+'"'},me.encode=function(e){return hasNative&&_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.USE_NATIVE_JSON?JSON.stringify(e):me.encodeValue(e)},me.decode=function(e,t){try{return hasNative&&_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.USE_NATIVE_JSON?JSON.parse(e):doDecode(e)}catch(n){if(t)return null;_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.raise({sourceClass:"GRUI.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+e})}},me.encodeMSDate=encodeMSDate,_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.util||(_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.util={}),_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.util.JSON=me,_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.encode=me.encode,_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.decode=me.decode}},37137:function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";var _GRUI_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(83085);_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.define("GRUI.direct.Manager",{singleton:!0,requires:["GRUI.util.MixedCollection"],mixins:["GRUI.mixin.Observable"],exceptions:{TRANSPORT:"xhr",PARSE:"parse",DATA:"data",LOGIN:"login",SERVER:"exception"},providerClasses:{},remotingMethods:{},config:{varName:"GRUI.REMOTING_API"},apiNotFoundError:"GRUI Direct API was not found at {0}",constructor:function(){var e=this;e.mixins.observable.constructor.call(e),e.transactions=new _GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.util.MixedCollection,e.providers=new _GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.util.MixedCollection},addProvider:function(e){var t,n,r=this,i=arguments,o=r.relayers||(r.relayers={});if(!(1<i.length))return e.isProvider||(e=_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.create("direct."+e.type+"provider",e)),r.providers.add(e),e.on("data",r.onProviderData,r),e.relayedEvents&&(o[e.id]=r.relayEvents(e,e.relayedEvents)),e.isConnected()||e.connect(),e;for(t=0,n=i.length;t<n;++t)r.addProvider(i[t])},loadProvider:function(e,t,n){var r,i,o,a,s,l=this,u=l.providerClasses;if(_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.isArray(e))for(a=0,s=e.length;a<s;a++)l.loadProvider(e[a],t,n);else{if(r=e.type,i=e.url,u[r]&&u[r].checkConfig(e))return u=l.addProvider(e),l.fireEventArgs("providerload",[i,u]),void _GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.callback(t,n,[i,u]);o=e.varName||l.getVarName(),delete e.varName,delete e.url,_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.Loader.loadScript({url:i,scope:l,onLoad:function(){this.onApiLoadSuccess({url:i,varName:o,config:e,callback:t,scope:n})},onError:function(){this.onApiLoadFailure({url:i,callback:t,scope:n})}})}},getProvider:function(e){return e.isProvider?e:this.providers.get(e)},removeProvider:function(e){var t=this,n=t.providers,r=t.relayers;return(e=e.isProvider?e:n.get(e))?(e.un("data",t.onProviderData,t),r[t=e.id]&&(r[t].destroy(),delete r[t]),n.remove(e),e):null},addTransaction:function(e){return this.transactions.add(e),e},removeTransaction:function(e){return e=this.getTransaction(e),this.transactions.remove(e),e},getTransaction:function(e){return"object"==typeof e?e:this.transactions.get(e)},onProviderData:function(e,t){var n,r,i=this;if(_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.isArray(t))for(n=0,r=t.length;n<r;++n)i.onProviderData(e,t[n]);else t.name&&"event"!==t.name&&"exception"!==t.name?i.fireEvent(t.name,t):!1===t.status&&i.fireEvent("exception",t),i.fireEvent("event",t,e)},parseMethod:function(e){var t,n,r,i=_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.global,o=0;if(_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.isFunction(e))t=e;else if(_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.isString(e)&&!(t=this.remotingMethods[e])){for(r=(n=e.split(".")).length;i&&o<r;)i=i[n[o]],++o;t=_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.isFunction(i)?i:null}return t||null},resolveApi:function(e,t){var n,r,i=e&&e.prefix;for(n in i&&"."!==i.substr(i.length-1)&&(i+="."),e)r=e[n],"prefix"!==n&&"function"!=typeof r&&"function"==typeof(r=this.parseMethod((i||"")+r))&&(e[n]=r);return e},privates:{addProviderClass:function(e,t){this.providerClasses[e]=t},onApiLoadSuccess:function onApiLoadSuccess(options){var me=this,url=options.url,varName=options.varName,api,provider,error;try{api=_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.apply(options.config,eval(varName)),provider=me.addProvider(api)}catch(e){error=e+""}error?(me.fireEventArgs("providerloaderror",[url,error]),_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.callback(options.callback,options.scope,[url,error])):(me.fireEventArgs("providerload",[url,provider]),_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.callback(options.callback,options.scope,[url,provider]))},onApiLoadFailure:function(e){var t=e.url,n=_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.String.format(this.apiNotFoundError,t);this.fireEventArgs("providerloaderror",[t,n]),_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.callback(e.callback,e.scope,[t,n])},registerMethod:function(e,t){this.remotingMethods[e]=t},clearAllMethods:function(){this.remotingMethods={}}}},(function(){_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.Direct=_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.direct.Manager}))},48346:function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";var _GRUI_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(83085);_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.define("GRUI.dom.Query",(function(){var child,_next,_prev,byClassName,f,batch,DQ,doc=document,cache,simpleCache,valueCache,useClassList=!!doc.documentElement.classList,useElementPointer=!!doc.documentElement.firstElementChild,useChildrenCollection=function(){var e=doc.createElement("div");return e.innerHTML="\x3c!-- --\x3etext\x3c!-- --\x3e",e.children&&0===e.children.length}(),nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w\-\*\|\\]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,startIdRe=/^\s*#/,key=30803,longHex=/\\([0-9a-fA-F]{6})/g,shortHex=/\\([0-9a-fA-F]{1,6})\s{0,1}/g,nonHex=/\\([^0-9a-fA-F]{1})/g,escapes=/\\/g,num,hasEscapes,supportsColonNsSeparator=function(){var e,t='<r><a:b xmlns:a="n"></a:b></r>';return window.DOMParser?e=(new DOMParser).parseFromString(t,"application/xml"):(e=new ActiveXObject("Microsoft.XMLDOM")).loadXML(t),!!e.getElementsByTagName("a:b").length}(),longHexToChar=function(e,t){return String.fromCharCode(parseInt(t,16))},shortToLongHex=function(e,t){for(;t.length<6;)t="0"+t;return"\\"+t},charToLongHex=function(e,t){return"\\0000"+(num=1===(num=t.charCodeAt(0).toString(16)).length?"0"+num:num)},unescapeCssSelector=function(e){return hasEscapes?e.replace(longHex,longHexToChar):e},setupEscapes=function(e){return(hasEscapes=-1<e.indexOf("\\"))?e.replace(shortHex,shortToLongHex).replace(nonHex,charToLongHex).replace(escapes,"\\\\"):e};function children(e){for(var t,n=e.firstChild,r=-1;n;)t=n.nextSibling,3!=n.nodeType||nonSpace.test(n.nodeValue)?n.nodeIndex=++r:e.removeChild(n),n=t}function attrValue(e,t){if(e=e.tagName||void 0===e.length?e:e[0])return"for"==t?e.htmlFor:"class"==t||"className"==t?e.className:void(e.getAttribute(t)||e[t])}function getNodes(e,t,n){var r,i,o,a,s,l,u,c,d,f=[],h=-1;if(!e)return f;if(n=n.replace("|",":")||"*",void 0!==e.getElementsByTagName&&(e=[e]),t){if("/"==t||">"==t)for(u=n.toUpperCase(),i=0;o=e[i];i++)for(l=o.childNodes,a=0;d=l[a];a++)d.nodeName!=u&&d.nodeName!=n&&"*"!=n||(f[++h]=d);else if("+"==t)for(u=n.toUpperCase(),i=0;c=e[i];i++){for(;(c=c.nextSibling)&&1!=c.nodeType;);!c||c.nodeName!=u&&c.nodeName!=n&&"*"!=n||(f[++h]=c)}else if("~"==t)for(u=n.toUpperCase(),i=0;c=e[i];i++)for(;c=c.nextSibling;)c.nodeName!=u&&c.nodeName!=n&&"*"!=n||(f[++h]=c)}else if(n=unescapeCssSelector(n),!supportsColonNsSeparator&&DQ.isXml(e[0])&&-1!==n.indexOf(":"))for(i=0;o=e[i];i++)for(r=o.getElementsByTagName(n.split(":").pop()),a=0;s=r[a];a++)s.tagName===n&&(f[++h]=s);else for(i=0;o=e[i];i++)for(r=o.getElementsByTagName(n),a=0;s=r[a];a++)f[++h]=s;return f}function concat(e,t){e.push.apply(e,t)}function byTag(e,t){if(!e.tagName&&e!==doc||(e=[e]),t){var n,r,i=[],o=-1;for(t=t.toLowerCase(),n=0;r=e[n];n++)1==r.nodeType&&r.tagName.toLowerCase()==t&&(i[++o]=r)}}function byId(e,t){if(t=unescapeCssSelector(t),!e.tagName&&e!==doc||(e=[e]),!t)return e;for(var n,r=[],i=-1,o=0;n=e[o];o++)if(n&&n.id==t)return r[++i]=n,r;return r}function byAttribute(e,t,n,r,i){var o,a,s,l,u,c=[],d=-1,f="{"==i,h=DQ.operators[r];for(n=unescapeCssSelector(n),l=0;u=e[l];l++)1===u.nodeType&&(s||(a=DQ.isXml(u),s=!0),o=a?u.getAttribute(t):f?DQ.getStyle(u,t):"class"==t||"className"==t?u.className:"for"==t?u.htmlFor:"href"==t?u.getAttribute("href",2):u.getAttribute(t),(h&&h(o,n)||!h&&o)&&(c[++d]=u))}function byPseudo(e,t,n){n=unescapeCssSelector(n),DQ.pseudos[t](e,n)}function nodup(e){if(!e)return[];var t,n,r,i,o,a=e.length,s=e,l=-1;if(!a||void 0!==e.nodeType||1==a)return e;for(i=++key,e[0]._nodup=i,r=1;t=e[r];r++){if(t._nodup==i){for(s=[],o=0;o<r;o++)s[++l]=e[o];for(o=r+1;n=e[o];o++)n._nodup!=i&&(n._nodup=i,s[++l]=n);return s}t._nodup=i}return s}function quickDiff(e,t){var n,r,i=e.length,o=++key,a=[];if(!i)return t;for(n=0;n<i;n++)e[n]._qdiff=o;for(n=0,r=t.length;n<r;n++)t[n]._qdiff!=o&&(a[a.length]=t[n]);return a}function quickId(e,t,n,r){if(e==n)return r=unescapeCssSelector(r),(n.ownerDocument||n).getElementById(r);byId(e=getNodes(e,t,"*"),r)}return eval("var batch = 30803, child, next, prev, byClassName;"),child=useChildrenCollection?function(e,t){return e.children[t]}:function(e,t){for(var n=0,r=e.firstChild;r;){if(1==r.nodeType&&++n==t)return r;r=r.nextSibling}return null},_next=useElementPointer?function(e){return e.nextElementSibling}:function(e){for(;(e=e.nextSibling)&&1!=e.nodeType;);return e},_prev=useElementPointer?function(e){return e.previousElementSibling}:function(e){for(;(e=e.previousSibling)&&1!=e.nodeType;);return e},byClassName=useClassList?function(e,t){if(!(t=unescapeCssSelector(t)))return e;for(var n,r,i=[],o=-1,a=0;n=e[a];a++)(r=n.classList)?r.contains(t)&&(i[++o]=n):-1!==(" "+n.className+" ").indexOf(t)&&(i[++o]=n);return i}:function(e,t){if(!(t=unescapeCssSelector(t)))return e;for(var n,r=[],i=-1,o=0;n=e[o];o++)-1!==(" "+n.className+" ").indexOf(t)&&(r[++i]=n);return r},{singleton:!0,alternateClassName:["GRUI.core.DomQuery","GRUI.DomQuery"],requires:["GRUI.dom.Helper","GRUI.util.Operators"],_init:function(){(DQ=this).operators=_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.Object.chain(_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.util.Operators),DQ._cache=cache=new _GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.util.LruCache({maxSize:200}),DQ._valueCache=valueCache=new _GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.util.LruCache({maxSize:200}),DQ._simpleCache=simpleCache=new _GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.util.LruCache({maxSize:200})},clearCache:function(){cache.clear(),valueCache.clear(),simpleCache.clear()},getStyle:function(e,t){return _GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.fly(e,"_DomQuery").getStyle(t)},compile:function compile(path,type){type=type||"select";var fn=["var f = function(root) {\n var mode; ++batch; var n = root || document;\n"],lastPath,matchers=DQ.matchers,matchersLn=matchers.length,lmode=path.match(modeRe),modeMatch,tokenMatch,matched,j,t,m;for(path=setupEscapes(path),lmode&&lmode[1]&&(fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";',path=path.replace(lmode[1],""));"/"==path.substr(0,1);)path=path.substr(1);for(;path&&lastPath!=path;){for(lastPath=path,tokenMatch=path.match(tagTokenRe),"select"==type?tokenMatch?("#"==tokenMatch[1]?fn[fn.length]='n = quickId(n, mode, root, "'+tokenMatch[2]+'");':fn[fn.length]='n = getNodes(n, mode, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],"")):"@"!=path.substr(0,1)&&(fn[fn.length]='n = getNodes(n, mode, "*");'):tokenMatch&&("#"==tokenMatch[1]?fn[fn.length]='n = byId(n, "'+tokenMatch[2]+'");':fn[fn.length]='n = byTag(n, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],""));!(modeMatch=path.match(modeRe));){for(matched=!1,j=0;j<matchersLn;j++)if(t=matchers[j],m=path.match(t.re),m){fn[fn.length]=t.select.replace(tplRe,(function(e,t){return m[t]})),path=path.replace(m[0],""),matched=!0;break}matched||_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.raise({sourceClass:"GRUI.DomQuery",sourceMethod:"compile",msg:'Error parsing selector. Parsing failed at "'+path+'"'})}modeMatch[1]&&(fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";',path=path.replace(modeMatch[1],""))}return fn[fn.length]="return nodup(n);\n}",eval(fn.join("")),f},jsSelect:function(e,t,n){"string"==typeof(t=t||doc)&&(t=doc.getElementById(t));for(var r,i,o=_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.splitAndUnescape(e,","),a=[],s=0,l=o.length;s<l;s++)i=o[s].replace(trimRe,""),(r=cache.get(i))?setupEscapes(i):((r=DQ.compile(i,n))||_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.raise({sourceClass:"GRUI.DomQuery",sourceMethod:"jsSelect",msg:i+" is not a valid selector"}),cache.add(i,r)),(i=r(t))&&i!==doc&&(a=a.concat(i));return 1<o.length?nodup(a):a},isXml:function(e){return!!(e=(e?e.ownerDocument||e:0).documentElement)&&"HTML"!==e.nodeName},select:doc.querySelectorAll?function(e,t,n,r){if(!DQ.isXml(t=t||doc))try{return t.parentNode&&9!==t.nodeType&&-1===e.indexOf(",")&&!startIdRe.test(e)&&(e=_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.makeIdSelector(_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.id(t))+" "+e,t=t.parentNode),r?[t.querySelector(e)]:_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.Array.toArray(t.querySelectorAll(e))}catch(e){}return DQ.jsSelect.call(this,e,t,n)}:function(e,t,n){return DQ.jsSelect.call(this,e,t,n)},selectNode:function(e,t){return _GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.DomQuery.select(e,t,null,!0)[0]},selectValue:function(e,t,n){e=e.replace(trimRe,"");var r=valueCache.get(e);return r?setupEscapes(e):(r=DQ.compile(e,"select"),valueCache.add(e,r)),e=r(t),DQ.getNodeValue(e[0]||e,n)},getNodeValue:function(e,t){return"function"==typeof e.normalize&&e.normalize(),e=(e=e&&e.firstChild)?e.nodeValue:null,void 0===t||null!=e&&""!==e?e:t},selectNumber:function(e,t,n){return e=DQ.selectValue(e,t,n||0),parseFloat(e)},is:function(e,t){"string"==typeof e&&(e=doc.getElementById(e));var n=_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.isArray(e);t=DQ.filter(n?e:[e],t);return n?t.length==e.length:0<t.length},filter:function(e,t,n){t=t.replace(trimRe,"");var r=simpleCache.get(t);return r?setupEscapes(t):(r=DQ.compile(t,"simple"),simpleCache.add(t,r)),t=r(e),n?quickDiff(t,e):t},matchers:[{re:/^\.([\w\-\\]+)/,select:useClassList?'n = byClassName(n, "{1}");':'n = byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w\-\\]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w\-\.]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],pseudos:{"first-child":function(e){for(var t,n,r=[],i=-1,o=0;n=t=e[o];o++){for(;(t=t.previousSibling)&&1!=t.nodeType;);t||(r[++i]=n)}return r},"last-child":function(e){for(var t,n,r=[],i=-1,o=0;n=t=e[o];o++){for(;(t=t.nextSibling)&&1!=t.nodeType;);t||(r[++i]=n)}return r},"nth-child":function(e,t){for(var n,r,i,o,a=[],s=-1,l=+((t=nthRe.exec(("even"==t?"2n":"odd"==t&&"2n+1")||!nthRe2.test(t)&&"n+"+t||t))[1]||1),u=+t[2],c=0;n=e[c];c++){if(o=n.parentNode,batch!=o._batch){for(r=0,i=o.firstChild;i;i=i.nextSibling)1==i.nodeType&&(i.nodeIndex=++r);o._batch=batch}1==l?0!=u&&n.nodeIndex!=u||(a[++s]=n):(n.nodeIndex+u)%l==0&&(a[++s]=n)}return a},"only-child":function(e){for(var t,n=[],r=-1,i=0;t=e[i];i++)_prev(t)||_next(t)||(n[++r]=t);return n},empty:function(e){for(var t,n,r,i,o,a=[],s=-1,l=0;t=e[l];l++){for(n=t.childNodes,o=!(r=0);i=n[r];)if(++r,1==i.nodeType||3==i.nodeType){o=!1;break}o&&(a[++s]=t)}return a},contains:function(e,t){for(var n,r=[],i=-1,o=0;n=e[o];o++)-1!=(n.textContent||n.innerText||n.text||"").indexOf(t)&&(r[++i]=n);return r},nodeValue:function(e,t){for(var n,r=[],i=-1,o=0;n=e[o];o++)n.firstChild&&n.firstChild.nodeValue==t&&(r[++i]=n);return r},checked:function(e){for(var t,n=[],r=-1,i=0;t=e[i];i++)!0===t.checked&&(n[++r]=t);return n},not:function(e,t){return DQ.filter(e,t,!0)},any:function(e,t){for(var n,r,i,o=t.split("|"),a=[],s=-1,l=0;r=e[l];l++)for(i=0;n=o[i];i++)if(DQ.is(r,n)){a[++s]=r;break}return a},odd:function(e){return this["nth-child"](e,"odd")},even:function(e){return this["nth-child"](e,"even")},nth:function(e,t){return e[t-1]||[]},first:function(e){return e[0]||[]},last:function(e){return e[e.length-1]||[]},has:function(e,t){for(var n,r=DQ.select,i=[],o=-1,a=0;n=e[a];a++)0<r(t,n).length&&(i[++o]=n);return i},next:function(e,t){for(var n,r,i=DQ.is,o=[],a=-1,s=0;n=e[s];s++)(r=_next(n))&&i(r,t)&&(o[++a]=n);return o},prev:function(e,t){for(var n,r,i=DQ.is,o=[],a=-1,s=0;n=e[s];s++)(r=_prev(n))&&i(r,t)&&(o[++a]=n);return o},focusable:function(e){for(var t,n=e.length,r=[],i=0;i<n;i++)t=e[i],_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.fly(t,"_DomQuery").isFocusable()&&r.push(t);return r},visible:function(e,t){for(var n,r=e.length,i=[],o=0;o<r;o++)n=e[o],_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.fly(n,"_DomQuery").isVisible(t)&&i.push(n);return i},isScrolled:function(e){for(var t,n,r=[],i=-1,o=0;t=e[o];o++)(0<(n=_GRUI_js__WEBPACK_IMPORTED_MODULE_0__.Z.fly(t,"_DomQuery").getScroll()).top||0<n.left)&&(r[++i]=t);return r}}}}),(function(){this._init()}))},66724:function(e,t,n){var r=n(39218),i=n(81772),o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not a function")}},10611:function(e,t,n){var r=n(51219),i=n(81772),o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not a constructor")}},56299:function(e,t,n){var r=n(39218),i=String,o=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw o("Can't set "+i(e)+" as a prototype")}},35715:function(e,t,n){var r=n(95028),i=n(4385),o=n(91592).f,a=r("unscopables"),s=Array.prototype;void 0==s[a]&&o(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},35466:function(e,t,n){"use strict";var r=n(18424).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},14817:function(e,t,n){var r=n(68946),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw i("Incorrect invocation")}},45884:function(e,t,n){var r=n(43931),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not an object")}},16077:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},21531:function(e,t,n){var r=n(92837);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},93866:function(e,t,n){"use strict";var r,i,o,a=n(16077),s=n(31196),l=n(6840),u=n(39218),c=n(43931),d=n(73013),f=n(37205),h=n(81772),p=n(63873),g=n(17543),m=n(91592).f,v=n(68946),y=n(24305),b=n(4381),C=n(95028),S=n(24839),x=n(49671),I=x.enforce,R=x.get,w=l.Int8Array,E=w&&w.prototype,Z=l.Uint8ClampedArray,P=Z&&Z.prototype,T=w&&y(w),A=E&&y(E),M=Object.prototype,k=l.TypeError,G=C("toStringTag"),F=S("TYPED_ARRAY_TAG"),_="TypedArrayConstructor",D=a&&!!b&&"Opera"!==f(l.opera),U=!1,O={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},L={BigInt64Array:8,BigUint64Array:8},N=function(e){if(!c(e))return!1;var t=f(e);return d(O,t)||d(L,t)};for(r in O)(o=(i=l[r])&&i.prototype)?I(o).TypedArrayConstructor=i:D=!1;for(r in L)(o=(i=l[r])&&i.prototype)&&(I(o).TypedArrayConstructor=i);if((!D||!u(T)||T===Function.prototype)&&(T=function(){throw k("Incorrect invocation")},D))for(r in O)l[r]&&b(l[r],T);if((!D||!A||A===M)&&(A=T.prototype,D))for(r in O)l[r]&&b(l[r].prototype,A);if(D&&y(P)!==A&&b(P,A),s&&!d(A,G))for(r in U=!0,m(A,G,{get:function(){return c(this)?this[F]:void 0}}),O)l[r]&&p(l[r],F,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:D,TYPED_ARRAY_TAG:U&&F,aTypedArray:function(e){if(N(e))return e;throw k("Target is not a typed array")},aTypedArrayConstructor:function(e){if(u(e)&&(!b||v(T,e)))return e;throw k(h(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(s){if(n)for(var i in O){var o=l[i];if(o&&d(o.prototype,e))try{delete o.prototype[e]}catch(a){try{o.prototype[e]=t}catch(u){}}}A[e]&&!n||g(A,e,n?t:D&&E[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(s){if(b){if(n)for(r in O)if((i=l[r])&&d(i,e))try{delete i[e]}catch(o){}if(T[e]&&!n)return;try{return g(T,e,n?t:D&&T[e]||t)}catch(o){}}for(r in O)!(i=l[r])||i[e]&&!n||g(i,e,t)}},getTypedArrayConstructor:function e(t){var n=y(t);if(c(n)){var r=R(n);return r&&d(r,_)?r.TypedArrayConstructor:e(n)}},isView:function(e){if(!c(e))return!1;var t=f(e);return"DataView"===t||d(O,t)||d(L,t)},isTypedArray:N,TypedArray:T,TypedArrayPrototype:A}},40865:function(e,t,n){"use strict";var r=n(6840),i=n(74932),o=n(31196),a=n(16077),s=n(23211),l=n(63873),u=n(7544),c=n(92837),d=n(14817),f=n(92128),h=n(62347),p=n(31143),g=n(29580),m=n(24305),v=n(4381),y=n(3772).f,b=n(91592).f,C=n(56012),S=n(43278),x=n(53370),I=n(49671),R=s.PROPER,w=s.CONFIGURABLE,E=I.get,Z=I.set,P="ArrayBuffer",T="DataView",A="Wrong index",M=r.ArrayBuffer,k=M,G=k&&k.prototype,F=r.DataView,_=F&&F.prototype,D=Object.prototype,U=r.Array,O=r.RangeError,L=i(C),N=i([].reverse),B=g.pack,V=g.unpack,H=function(e){return[255&e]},z=function(e){return[255&e,e>>8&255]},j=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},W=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},q=function(e){return B(e,23,4)},$=function(e){return B(e,52,8)},K=function(e,t){b(e.prototype,t,{get:function(){return E(this)[t]}})},X=function(e,t,n,r){var i=p(n),o=E(e);if(i+t>o.byteLength)throw O(A);var a=E(o.buffer).bytes,s=i+o.byteOffset,l=S(a,s,s+t);return r?l:N(l)},Y=function(e,t,n,r,i,o){var a=p(n),s=E(e);if(a+t>s.byteLength)throw O(A);for(var l=E(s.buffer).bytes,u=a+s.byteOffset,c=r(+i),d=0;d<t;d++)l[u+d]=c[o?d:t-d-1]};if(a){var Q=R&&M.name!==P;if(c((function(){M(1)}))&&c((function(){new M(-1)}))&&!c((function(){return new M,new M(1.5),new M(NaN),Q&&!w})))Q&&w&&l(M,"name",P);else{(k=function(e){return d(this,G),new M(p(e))}).prototype=G;for(var J,ee=y(M),te=0;ee.length>te;)(J=ee[te++])in k||l(k,J,M[J]);G.constructor=k}v&&m(_)!==D&&v(_,D);var ne=new F(new k(2)),re=i(_.setInt8);ne.setInt8(0,2147483648),ne.setInt8(1,2147483649),!ne.getInt8(0)&&ne.getInt8(1)||u(_,{setInt8:function(e,t){re(this,e,t<<24>>24)},setUint8:function(e,t){re(this,e,t<<24>>24)}},{unsafe:!0})}else G=(k=function(e){d(this,G);var t=p(e);Z(this,{bytes:L(U(t),0),byteLength:t}),o||(this.byteLength=t)}).prototype,_=(F=function(e,t,n){d(this,_),d(e,G);var r=E(e).byteLength,i=f(t);if(i<0||i>r)throw O("Wrong offset");if(i+(n=void 0===n?r-i:h(n))>r)throw O("Wrong length");Z(this,{buffer:e,byteLength:n,byteOffset:i}),o||(this.buffer=e,this.byteLength=n,this.byteOffset=i)}).prototype,o&&(K(k,"byteLength"),K(F,"buffer"),K(F,"byteLength"),K(F,"byteOffset")),u(_,{getInt8:function(e){return X(this,1,e)[0]<<24>>24},getUint8:function(e){return X(this,1,e)[0]},getInt16:function(e){var t=X(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=X(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return W(X(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return W(X(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return V(X(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return V(X(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){Y(this,1,e,H,t)},setUint8:function(e,t){Y(this,1,e,H,t)},setInt16:function(e,t){Y(this,2,e,z,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){Y(this,2,e,z,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){Y(this,4,e,j,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){Y(this,4,e,j,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){Y(this,4,e,q,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){Y(this,8,e,$,t,arguments.length>2?arguments[2]:void 0)}});x(k,P),x(F,T),e.exports={ArrayBuffer:k,DataView:F}},54739:function(e,t,n){"use strict";var r=n(28385),i=n(41823),o=n(23385),a=n(87820),s=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),l=o(n),u=i(e,l),c=i(t,l),d=arguments.length>2?arguments[2]:void 0,f=s((void 0===d?l:i(d,l))-c,l-u),h=1;for(c<u&&u<c+f&&(h=-1,c+=f-1,u+=f-1);f-- >0;)c in n?n[u]=n[c]:a(n,u),u+=h,c+=h;return n}},56012:function(e,t,n){"use strict";var r=n(28385),i=n(41823),o=n(23385);e.exports=function(e){for(var t=r(this),n=o(t),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,u=void 0===l?n:i(l,n);u>s;)t[s++]=e;return t}},48129:function(e,t,n){"use strict";var r=n(5880).forEach,i=n(92241)("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},11793:function(e,t,n){var r=n(23385);e.exports=function(e,t){for(var n=0,i=r(t),o=new e(i);i>n;)o[n]=t[n++];return o}},22422:function(e,t,n){"use strict";var r=n(5851),i=n(98513),o=n(28385),a=n(81940),s=n(38205),l=n(51219),u=n(23385),c=n(13055),d=n(78131),f=n(40443),h=Array;e.exports=function(e){var t=o(e),n=l(this),p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g;m&&(g=r(g,p>2?arguments[2]:void 0));var v,y,b,C,S,x,I=f(t),R=0;if(!I||this===h&&s(I))for(v=u(t),y=n?new this(v):h(v);v>R;R++)x=m?g(t[R],R):t[R],c(y,R,x);else for(S=(C=d(t,I)).next,y=n?new this:[];!(b=i(S,C)).done;R++)x=m?a(C,g,[b.value,R],!0):b.value,c(y,R,x);return y.length=R,y}},70488:function(e,t,n){var r=n(45770),i=n(41823),o=n(23385),a=function(e){return function(t,n,a){var s,l=r(t),u=o(l),c=i(a,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},5880:function(e,t,n){var r=n(5851),i=n(74932),o=n(71036),a=n(28385),s=n(23385),l=n(95491),u=i([].push),c=function(e){var t=1==e,n=2==e,i=3==e,c=4==e,d=6==e,f=7==e,h=5==e||d;return function(p,g,m,v){for(var y,b,C=a(p),S=o(C),x=r(g,m),I=s(S),R=0,w=v||l,E=t?w(p,I):n||f?w(p,0):void 0;I>R;R++)if((h||R in S)&&(b=x(y=S[R],R,C),e))if(t)E[R]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return R;case 2:u(E,y)}else switch(e){case 4:return!1;case 7:u(E,y)}return d?-1:i||c?c:E}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},2561:function(e,t,n){"use strict";var r=n(86339),i=n(45770),o=n(92128),a=n(23385),s=n(92241),l=Math.min,u=[].lastIndexOf,c=!!u&&1/[1].lastIndexOf(1,-0)<0,d=s("lastIndexOf"),f=c||!d;e.exports=f?function(e){if(c)return r(u,this,arguments)||0;var t=i(this),n=a(t),s=n-1;for(arguments.length>1&&(s=l(s,o(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:u},81379:function(e,t,n){var r=n(92837),i=n(95028),o=n(65372),a=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},92241:function(e,t,n){"use strict";var r=n(92837);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},94512:function(e,t,n){var r=n(66724),i=n(28385),o=n(71036),a=n(23385),s=TypeError,l=function(e){return function(t,n,l,u){r(n);var c=i(t),d=o(c),f=a(c),h=e?f-1:0,p=e?-1:1;if(l<2)for(;;){if(h in d){u=d[h],h+=p;break}if(h+=p,e?h<0:f<=h)throw s("Reduce of empty array with no initial value")}for(;e?h>=0:f>h;h+=p)h in d&&(u=n(u,d[h],h,c));return u}};e.exports={left:l(!1),right:l(!0)}},43278:function(e,t,n){var r=n(41823),i=n(23385),o=n(13055),a=Array,s=Math.max;e.exports=function(e,t,n){for(var l=i(e),u=r(t,l),c=r(void 0===n?l:n,l),d=a(s(c-u,0)),f=0;u<c;u++,f++)o(d,f,e[u]);return d.length=f,d}},15618:function(e,t,n){var r=n(74932);e.exports=r([].slice)},47732:function(e,t,n){var r=n(43278),i=Math.floor,o=function(e,t){for(var n,r,i=e.length,o=1;o<i;){for(r=o,n=e[o];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},a=function(e,t,n,r){for(var i=t.length,o=n.length,a=0,s=0;a<i||s<o;)e[a+s]=a<i&&s<o?r(t[a],n[s])<=0?t[a++]:n[s++]:a<i?t[a++]:n[s++];return e};e.exports=function e(t,n){var s=t.length,l=i(s/2);return s<8?o(t,n):a(t,e(r(t,0,l),n),e(r(t,l),n),n)}},89026:function(e,t,n){var r=n(51941),i=n(51219),o=n(43931),a=n(95028)("species"),s=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(i(t)&&(t===s||r(t.prototype))||o(t)&&null===(t=t[a]))&&(t=void 0)),void 0===t?s:t}},95491:function(e,t,n){var r=n(89026);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},32456:function(e,t,n){"use strict";var r=n(1240),i=n(74932),o=n(66724),a=n(23385),s=n(28385),l=n(95491),u=r("Map"),c=u.prototype,d=i(c.forEach),f=i(c.has),h=i(c.set),p=i([].push);e.exports=function(e){var t,n,r,i=s(this),c=a(i),g=l(i,0),m=new u,v=null!=e?o(e):function(e){return e};for(t=0;t<c;t++)r=v(n=i[t]),f(m,r)||h(m,r,n);return d(m,(function(e){p(g,e)})),g}},81940:function(e,t,n){var r=n(45884),i=n(9053);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(a){i(e,"throw",a)}}},6225:function(e,t,n){var r=n(95028)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(s){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(s){}return n}},82933:function(e,t,n){var r=n(74932),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},37205:function(e,t,n){var r=n(56042),i=n(39218),o=n(82933),a=n(95028)("toStringTag"),s=Object,l="Arguments"==o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=s(e),a))?n:l?o(t):"Object"==(r=o(t))&&i(t.callee)?"Arguments":r}},9844:function(e,t,n){var r=n(74932),i=Error,o=r("".replace),a=String(i("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(a);e.exports=function(e,t){if(l&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=o(e,s,"");return e}},97154:function(e,t,n){"use strict";var r=n(98513),i=n(66724),o=n(45884);e.exports=function(){for(var e=o(this),t=i(e.add),n=0,a=arguments.length;n<a;n++)r(t,e,arguments[n]);return e}},46785:function(e,t,n){"use strict";var r=n(98513),i=n(66724),o=n(45884);e.exports=function(){for(var e,t=o(this),n=i(t.delete),a=!0,s=0,l=arguments.length;s<l;s++)e=r(n,t,arguments[s]),a=a&&e;return!!a}},86379:function(e,t,n){"use strict";var r=n(5851),i=n(98513),o=n(66724),a=n(10611),s=n(54439),l=[].push;e.exports=function(e){var t,n,u,c,d=arguments.length,f=d>1?arguments[1]:void 0;return a(this),(t=void 0!==f)&&o(f),void 0==e?new this:(n=[],t?(u=0,c=r(f,d>2?arguments[2]:void 0),s(e,(function(e){i(l,n,c(e,u++))}))):s(e,l,{that:n}),new this(n))}},92e3:function(e,t,n){"use strict";var r=n(15618);e.exports=function(){return new this(r(arguments))}},13425:function(e,t,n){"use strict";var r=n(91592).f,i=n(4385),o=n(7544),a=n(5851),s=n(14817),l=n(54439),u=n(32170),c=n(52267),d=n(31196),f=n(12499).fastKey,h=n(49671),p=h.set,g=h.getterFor;e.exports={getConstructor:function(e,t,n,u){var c=e((function(e,r){s(e,h),p(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),d||(e.size=0),void 0!=r&&l(r,e[u],{that:e,AS_ENTRIES:n})})),h=c.prototype,m=g(t),v=function(e,t,n){var r,i,o=m(e),a=y(e,t);return a?a.value=n:(o.last=a={index:i=f(t,!0),key:t,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),d?o.size++:e.size++,"F"!==i&&(o.index[i]=a)),e},y=function(e,t){var n,r=m(e),i=f(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return o(h,{clear:function(){for(var e=m(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,d?e.size=0:this.size=0},delete:function(e){var t=this,n=m(t),r=y(t,e);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),d?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=m(this),r=a(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!y(this,e)}}),o(h,n?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),d&&r(h,"size",{get:function(){return m(this).size}}),c},setStrong:function(e,t,n){var r=t+" Iterator",i=g(t),o=g(r);u(e,t,(function(e,t){p(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),c(t)}}},20322:function(e,t,n){"use strict";var r=n(74932),i=n(7544),o=n(12499).getWeakData,a=n(45884),s=n(43931),l=n(14817),u=n(54439),c=n(5880),d=n(73013),f=n(49671),h=f.set,p=f.getterFor,g=c.find,m=c.findIndex,v=r([].splice),y=0,b=function(e){return e.frozen||(e.frozen=new C)},C=function(){this.entries=[]},S=function(e,t){return g(e.entries,(function(e){return e[0]===t}))};C.prototype={get:function(e){var t=S(this,e);if(t)return t[1]},has:function(e){return!!S(this,e)},set:function(e,t){var n=S(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=m(this.entries,(function(t){return t[0]===e}));return~t&&v(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,n,r){var c=e((function(e,i){l(e,f),h(e,{type:t,id:y++,frozen:void 0}),void 0!=i&&u(i,e[r],{that:e,AS_ENTRIES:n})})),f=c.prototype,g=p(t),m=function(e,t,n){var r=g(e),i=o(a(t),!0);return!0===i?b(r).set(t,n):i[r.id]=n,e};return i(f,{delete:function(e){var t=g(this);if(!s(e))return!1;var n=o(e);return!0===n?b(t).delete(e):n&&d(n,t.id)&&delete n[t.id]},has:function(e){var t=g(this);if(!s(e))return!1;var n=o(e);return!0===n?b(t).has(e):n&&d(n,t.id)}}),i(f,n?{get:function(e){var t=g(this);if(s(e)){var n=o(e);return!0===n?b(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return m(this,e,t)}}:{add:function(e){return m(this,e,!0)}}),c}}},93309:function(e,t,n){"use strict";var r=n(67768),i=n(6840),o=n(74932),a=n(96673),s=n(17543),l=n(12499),u=n(54439),c=n(14817),d=n(39218),f=n(43931),h=n(92837),p=n(6225),g=n(53370),m=n(21527);e.exports=function(e,t,n){var v=-1!==e.indexOf("Map"),y=-1!==e.indexOf("Weak"),b=v?"set":"add",C=i[e],S=C&&C.prototype,x=C,I={},R=function(e){var t=o(S[e]);s(S,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(y&&!f(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return y&&!f(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!f(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(a(e,!d(C)||!(y||S.forEach&&!h((function(){(new C).entries().next()})))))x=n.getConstructor(t,e,v,b),l.enable();else if(a(e,!0)){var w=new x,E=w[b](y?{}:-0,1)!=w,Z=h((function(){w.has(1)})),P=p((function(e){new C(e)})),T=!y&&h((function(){for(var e=new C,t=5;t--;)e[b](t,t);return!e.has(-0)}));P||((x=t((function(e,t){c(e,S);var n=m(new C,e,x);return void 0!=t&&u(t,n[b],{that:n,AS_ENTRIES:v}),n}))).prototype=S,S.constructor=x),(Z||T)&&(R("delete"),R("has"),v&&R("get")),(T||E)&&R(b),y&&S.clear&&delete S.clear}return I[e]=x,r({global:!0,constructor:!0,forced:x!=C},I),g(x,e),y||n.setStrong(x,e,v),x}},99841:function(e,t,n){n(45742),n(87952);var r=n(1240),i=n(4385),o=n(43931),a=Object,s=TypeError,l=r("Map"),u=r("WeakMap"),c=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=i(null)};c.prototype.get=function(e,t){return this[e]||(this[e]=t())},c.prototype.next=function(e,t,n){var r=n?this.objectsByIndex[e]||(this.objectsByIndex[e]=new u):this.primitives||(this.primitives=new l),i=r.get(t);return i||r.set(t,i=new c),i};var d=new c;e.exports=function(){var e,t,n=d,r=arguments.length;for(e=0;e<r;e++)o(t=arguments[e])&&(n=n.next(e,t,!0));if(this===a&&n===d)throw s("Composite keys must contain a non-primitive component");for(e=0;e<r;e++)o(t=arguments[e])||(n=n.next(e,t,!1));return n}},90189:function(e,t,n){var r=n(73013),i=n(17273),o=n(32573),a=n(91592);e.exports=function(e,t,n){for(var s=i(t),l=a.f,u=o.f,c=0;c<s.length;c++){var d=s[c];r(e,d)||n&&r(n,d)||l(e,d,u(t,d))}}},2525:function(e,t,n){var r=n(95028)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(i){}}return!1}},11586:function(e,t,n){var r=n(92837);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},41949:function(e,t,n){"use strict";var r=n(27022).IteratorPrototype,i=n(4385),o=n(72037),a=n(53370),s=n(29706),l=function(){return this};e.exports=function(e,t,n,u){var c=t+" Iterator";return e.prototype=i(r,{next:o(+!u,n)}),a(e,c,!1,!0),s[c]=l,e}},63873:function(e,t,n){var r=n(31196),i=n(91592),o=n(72037);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},72037:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},13055:function(e,t,n){"use strict";var r=n(54655),i=n(91592),o=n(72037);e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},68505:function(e,t,n){"use strict";var r=n(45884),i=n(67772),o=TypeError;e.exports=function(e){if(r(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw o("Incorrect hint");return i(this,e)}},50695:function(e,t,n){var r=n(32557),i=n(91592);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},17543:function(e,t,n){var r=n(39218),i=n(91592),o=n(32557),a=n(19131);e.exports=function(e,t,n,s){s||(s={});var l=s.enumerable,u=void 0!==s.name?s.name:t;if(r(n)&&o(n,u,s),s.global)l?e[t]=n:a(t,n);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(c){}l?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},7544:function(e,t,n){var r=n(17543);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},19131:function(e,t,n){var r=n(6840),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},32170:function(e,t,n){"use strict";var r=n(67768),i=n(98513),o=n(23608),a=n(23211),s=n(39218),l=n(41949),u=n(24305),c=n(4381),d=n(53370),f=n(63873),h=n(17543),p=n(95028),g=n(29706),m=n(27022),v=a.PROPER,y=a.CONFIGURABLE,b=m.IteratorPrototype,C=m.BUGGY_SAFARI_ITERATORS,S=p("iterator"),x="keys",I="values",R="entries",w=function(){return this};e.exports=function(e,t,n,a,p,m,E){l(n,t,a);var Z,P,T,A=function(e){if(e===p&&_)return _;if(!C&&e in G)return G[e];switch(e){case x:case I:case R:return function(){return new n(this,e)}}return function(){return new n(this)}},M=t+" Iterator",k=!1,G=e.prototype,F=G[S]||G["@@iterator"]||p&&G[p],_=!C&&F||A(p),D="Array"==t&&G.entries||F;if(D&&(Z=u(D.call(new e)))!==Object.prototype&&Z.next&&(o||u(Z)===b||(c?c(Z,b):s(Z[S])||h(Z,S,w)),d(Z,M,!0,!0),o&&(g[M]=w)),v&&p==I&&F&&F.name!==I&&(!o&&y?f(G,"name",I):(k=!0,_=function(){return i(F,this)})),p)if(P={values:A(I),keys:m?_:A(x),entries:A(R)},E)for(T in P)(C||k||!(T in G))&&h(G,T,P[T]);else r({target:t,proto:!0,forced:C||k},P);return o&&!E||G[S]===_||h(G,S,_,{name:p}),g[t]=_,P}},84418:function(e,t,n){var r=n(34750),i=n(73013),o=n(21384),a=n(91592).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},87820:function(e,t,n){"use strict";var r=n(81772),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw i("Cannot delete property "+r(t)+" of "+r(e))}},31196:function(e,t,n){var r=n(92837);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},90937:function(e,t,n){var r=n(6840),i=n(43931),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},96117:function(e){var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},50650:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},22752:function(e,t,n){var r=n(90937)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},58336:function(e,t,n){var r=n(84839).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},64163:function(e){e.exports="object"==typeof window&&"object"!=typeof Deno},64891:function(e,t,n){var r=n(84839);e.exports=/MSIE|Trident/.test(r)},71070:function(e,t,n){var r=n(84839),i=n(6840);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},63929:function(e,t,n){var r=n(84839);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},31653:function(e,t,n){var r=n(82933),i=n(6840);e.exports="process"==r(i.process)},81785:function(e,t,n){var r=n(84839);e.exports=/web0s(?!.*chrome)/i.test(r)},84839:function(e,t,n){var r=n(1240);e.exports=r("navigator","userAgent")||""},65372:function(e,t,n){var r,i,o=n(6840),a=n(84839),s=o.process,l=o.Deno,u=s&&s.versions||l&&l.version,c=u&&u.v8;c&&(i=(r=c.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},24469:function(e,t,n){var r=n(84839).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},12080:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},86177:function(e,t,n){var r=n(92837),i=n(72037);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},67768:function(e,t,n){var r=n(6840),i=n(32573).f,o=n(63873),a=n(17543),s=n(19131),l=n(90189),u=n(96673);e.exports=function(e,t){var n,c,d,f,h,p=e.target,g=e.global,m=e.stat;if(n=g?r:m?r[p]||s(p,{}):(r[p]||{}).prototype)for(c in t){if(f=t[c],d=e.dontCallGetSet?(h=i(n,c))&&h.value:n[c],!u(g?c:p+(m?".":"#")+c,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;l(f,d)}(e.sham||d&&d.sham)&&o(f,"sham",!0),a(n,c,f,e)}}},92837:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},58093:function(e,t,n){"use strict";n(20447);var r=n(74932),i=n(17543),o=n(94087),a=n(92837),s=n(95028),l=n(63873),u=s("species"),c=RegExp.prototype;e.exports=function(e,t,n,d){var f=s(e),h=!a((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),p=h&&!a((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!h||!p||n){var g=r(/./[f]),m=t(f,""[e],(function(e,t,n,i,a){var s=r(e),l=t.exec;return l===o||l===c.exec?h&&!a?{done:!0,value:g(t,n,i)}:{done:!0,value:s(n,t,i)}:{done:!1}}));i(String.prototype,e,m[0]),i(c,f,m[1])}d&&l(c[f],"sham",!0)}},18264:function(e,t,n){"use strict";var r=n(51941),i=n(23385),o=n(96117),a=n(5851);e.exports=function e(t,n,s,l,u,c,d,f){for(var h,p=u,g=0,m=!!d&&a(d,f);g<l;)g in s&&(h=m?m(s[g],g,n):s[g],c>0&&r(h)?p=e(t,n,h,i(h),p,c-1)-1:(o(p+1),t[p]=h),p++),g++;return p}},7914:function(e,t,n){var r=n(92837);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},86339:function(e,t,n){var r=n(54138),i=Function.prototype,o=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},5851:function(e,t,n){var r=n(74932),i=n(66724),o=n(54138),a=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},54138:function(e,t,n){var r=n(92837);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},66448:function(e,t,n){"use strict";var r=n(74932),i=n(66724),o=n(43931),a=n(73013),s=n(15618),l=n(54138),u=Function,c=r([].concat),d=r([].join),f={},h=function(e,t,n){if(!a(f,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";f[t]=u("C,a","return new C("+d(r,",")+")")}return f[t](e,n)};e.exports=l?u.bind:function(e){var t=i(this),n=t.prototype,r=s(arguments,1),a=function(){var n=c(r,s(arguments));return this instanceof a?h(t,n.length,n):t.apply(e,n)};return o(n)&&(a.prototype=n),a}},98513:function(e,t,n){var r=n(54138),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},23211:function(e,t,n){var r=n(31196),i=n(73013),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),l=s&&"something"===function(){}.name,u=s&&(!r||r&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:u}},74932:function(e,t,n){var r=n(54138),i=Function.prototype,o=i.bind,a=i.call,s=r&&o.bind(a,a);e.exports=r?function(e){return e&&s(e)}:function(e){return e&&function(){return a.apply(e,arguments)}}},1240:function(e,t,n){var r=n(6840),i=n(39218),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e]):r[e]&&r[e][t]}},40443:function(e,t,n){var r=n(37205),i=n(23863),o=n(29706),a=n(95028)("iterator");e.exports=function(e){if(void 0!=e)return i(e,a)||i(e,"@@iterator")||o[r(e)]}},78131:function(e,t,n){var r=n(98513),i=n(66724),o=n(45884),a=n(81772),s=n(40443),l=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(i(n))return o(r(n,e));throw l(a(e)+" is not iterable")}},83317:function(e,t,n){var r=n(98513);e.exports=function(e){return r(Map.prototype.entries,e)}},23863:function(e,t,n){var r=n(66724);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},94507:function(e,t,n){var r=n(98513);e.exports=function(e){return r(Set.prototype.values,e)}},17794:function(e,t,n){var r=n(74932),i=n(28385),o=Math.floor,a=r("".charAt),s=r("".replace),l=r("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,d,f){var h=n+e.length,p=r.length,g=c;return void 0!==d&&(d=i(d),g=u),s(f,g,(function(i,s){var u;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,n);case"'":return l(t,h);case"<":u=d[l(s,1,-1)];break;default:var c=+s;if(0===c)return i;if(c>p){var f=o(c/10);return 0===f?i:f<=p?void 0===r[f-1]?a(s,1):r[f-1]+a(s,1):i}u=r[c-1]}return void 0===u?"":u}))}},6840:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},73013:function(e,t,n){var r=n(74932),i=n(28385),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},56196:function(e){e.exports={}},65995:function(e,t,n){var r=n(6840);e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},62012:function(e,t,n){var r=n(1240);e.exports=r("document","documentElement")},36707:function(e,t,n){var r=n(31196),i=n(92837),o=n(90937);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},29580:function(e){var t=Array,n=Math.abs,r=Math.pow,i=Math.floor,o=Math.log,a=Math.LN2;e.exports={pack:function(e,s,l){var u,c,d,f=t(l),h=8*l-s-1,p=(1<<h)-1,g=p>>1,m=23===s?r(2,-24)-r(2,-77):0,v=e<0||0===e&&1/e<0?1:0,y=0;for((e=n(e))!=e||e===1/0?(c=e!=e?1:0,u=p):(u=i(o(e)/a),e*(d=r(2,-u))<1&&(u--,d*=2),(e+=u+g>=1?m/d:m*r(2,1-g))*d>=2&&(u++,d/=2),u+g>=p?(c=0,u=p):u+g>=1?(c=(e*d-1)*r(2,s),u+=g):(c=e*r(2,g-1)*r(2,s),u=0));s>=8;)f[y++]=255&c,c/=256,s-=8;for(u=u<<s|c,h+=s;h>0;)f[y++]=255&u,u/=256,h-=8;return f[--y]|=128*v,f},unpack:function(e,t){var n,i=e.length,o=8*i-t-1,a=(1<<o)-1,s=a>>1,l=o-7,u=i-1,c=e[u--],d=127&c;for(c>>=7;l>0;)d=256*d+e[u--],l-=8;for(n=d&(1<<-l)-1,d>>=-l,l+=t;l>0;)n=256*n+e[u--],l-=8;if(0===d)d=1-s;else{if(d===a)return n?NaN:c?-1/0:1/0;n+=r(2,t),d-=s}return(c?-1:1)*n*r(2,d-t)}}},71036:function(e,t,n){var r=n(74932),i=n(92837),o=n(82933),a=Object,s=r("".split);e.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?s(e,""):a(e)}:a},21527:function(e,t,n){var r=n(39218),i=n(43931),o=n(4381);e.exports=function(e,t,n){var a,s;return o&&r(a=t.constructor)&&a!==n&&i(s=a.prototype)&&s!==n.prototype&&o(e,s),e}},88589:function(e,t,n){var r=n(74932),i=n(39218),o=n(74460),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},53606:function(e,t,n){var r=n(43931),i=n(63873);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},12499:function(e,t,n){var r=n(67768),i=n(74932),o=n(56196),a=n(43931),s=n(73013),l=n(91592).f,u=n(3772),c=n(8910),d=n(86643),f=n(24839),h=n(7914),p=!1,g=f("meta"),m=0,v=function(e){l(e,g,{value:{objectID:"O"+m++,weakData:{}}})},y=e.exports={enable:function(){y.enable=function(){},p=!0;var e=u.f,t=i([].splice),n={};n[g]=1,e(n).length&&(u.f=function(n){for(var r=e(n),i=0,o=r.length;i<o;i++)if(r[i]===g){t(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,g)){if(!d(e))return"F";if(!t)return"E";v(e)}return e[g].objectID},getWeakData:function(e,t){if(!s(e,g)){if(!d(e))return!0;if(!t)return!1;v(e)}return e[g].weakData},onFreeze:function(e){return h&&p&&d(e)&&!s(e,g)&&v(e),e}};o[g]=!0},49671:function(e,t,n){var r,i,o,a=n(45242),s=n(6840),l=n(74932),u=n(43931),c=n(63873),d=n(73013),f=n(74460),h=n(89378),p=n(56196),g="Object already initialized",m=s.TypeError,v=s.WeakMap;if(a||f.state){var y=f.state||(f.state=new v),b=l(y.get),C=l(y.has),S=l(y.set);r=function(e,t){if(C(y,e))throw new m(g);return t.facade=e,S(y,e,t),t},i=function(e){return b(y,e)||{}},o=function(e){return C(y,e)}}else{var x=h("state");p[x]=!0,r=function(e,t){if(d(e,x))throw new m(g);return t.facade=e,c(e,x,t),t},i=function(e){return d(e,x)?e[x]:{}},o=function(e){return d(e,x)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}}}},38205:function(e,t,n){var r=n(95028),i=n(29706),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},51941:function(e,t,n){var r=n(82933);e.exports=Array.isArray||function(e){return"Array"==r(e)}},39218:function(e){e.exports=function(e){return"function"==typeof e}},51219:function(e,t,n){var r=n(74932),i=n(92837),o=n(39218),a=n(37205),s=n(1240),l=n(88589),u=function(){},c=[],d=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,h=r(f.exec),p=!f.exec(u),g=function(e){if(!o(e))return!1;try{return d(u,c,e),!0}catch(t){return!1}},m=function(e){if(!o(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!h(f,l(e))}catch(t){return!0}};m.sham=!0,e.exports=!d||i((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?m:g},75989:function(e,t,n){var r=n(73013);e.exports=function(e){return void 0!==e&&(r(e,"value")||r(e,"writable"))}},96673:function(e,t,n){var r=n(92837),i=n(39218),o=/#|\.prototype\./,a=function(e,t){var n=l[s(e)];return n==c||n!=u&&(i(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=a.data={},u=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},57724:function(e,t,n){var r=n(43931),i=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&i(e)===e}},43931:function(e,t,n){var r=n(39218);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},23608:function(e){e.exports=!1},10670:function(e,t,n){var r=n(43931),i=n(82933),o=n(95028)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},28287:function(e,t,n){var r=n(1240),i=n(39218),o=n(68946),a=n(47611),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,s(e))}},54439:function(e,t,n){var r=n(5851),i=n(98513),o=n(45884),a=n(81772),s=n(38205),l=n(23385),u=n(68946),c=n(78131),d=n(40443),f=n(9053),h=TypeError,p=function(e,t){this.stopped=e,this.result=t},g=p.prototype;e.exports=function(e,t,n){var m,v,y,b,C,S,x,I=n&&n.that,R=!(!n||!n.AS_ENTRIES),w=!(!n||!n.IS_ITERATOR),E=!(!n||!n.INTERRUPTED),Z=r(t,I),P=function(e){return m&&f(m,"normal",e),new p(!0,e)},T=function(e){return R?(o(e),E?Z(e[0],e[1],P):Z(e[0],e[1])):E?Z(e,P):Z(e)};if(w)m=e;else{if(!(v=d(e)))throw h(a(e)+" is not iterable");if(s(v)){for(y=0,b=l(e);b>y;y++)if((C=T(e[y]))&&u(g,C))return C;return new p(!1)}m=c(e,v)}for(S=m.next;!(x=i(S,m)).done;){try{C=T(x.value)}catch(A){f(m,"throw",A)}if("object"==typeof C&&C&&u(g,C))return C}return new p(!1)}},9053:function(e,t,n){var r=n(98513),i=n(45884),o=n(23863);e.exports=function(e,t,n){var a,s;i(e);try{if(!(a=o(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(l){s=!0,a=l}if("throw"===t)throw n;if(s)throw a;return i(a),n}},27022:function(e,t,n){"use strict";var r,i,o,a=n(92837),s=n(39218),l=n(4385),u=n(24305),c=n(17543),d=n(95028),f=n(23608),h=d("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(r=i):p=!0),void 0==r||a((function(){var e={};return r[h].call(e)!==e}))?r={}:f&&(r=l(r)),s(r[h])||c(r,h,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},29706:function(e){e.exports={}},23385:function(e,t,n){var r=n(62347);e.exports=function(e){return r(e.length)}},32557:function(e,t,n){var r=n(92837),i=n(39218),o=n(73013),a=n(31196),s=n(23211).CONFIGURABLE,l=n(88589),u=n(49671),c=u.enforce,d=u.get,f=Object.defineProperty,h=a&&!r((function(){return 8!==f((function(){}),"length",{value:8}).length})),p=String(String).split("String"),g=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!o(e,"name")||s&&e.name!==t)&&(a?f(e,"name",{value:t,configurable:!0}):e.name=t),h&&n&&o(n,"arity")&&e.length!==n.arity&&f(e,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?a&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var r=c(e);return o(r,"source")||(r.source=p.join("string"==typeof t?t:"")),e};Function.prototype.toString=g((function(){return i(this)&&d(this).source||l(this)}),"toString")},81607:function(e){var t=Math.expm1,n=Math.exp;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!=t(-2e-17)?function(e){var t=+e;return 0==t?t:t>-1e-6&&t<1e-6?t+t*t/2:n(t)-1}:t},55270:function(e,t,n){var r=n(35646),i=Math.abs,o=Math.pow,a=o(2,-52),s=o(2,-23),l=o(2,127)*(2-s),u=o(2,-126);e.exports=Math.fround||function(e){var t,n,o=+e,c=i(o),d=r(o);return c<u?d*function(e){return e+1/a-1/a}(c/u/s)*u*s:(n=(t=(1+s/a)*c)-(t-c))>l||n!=n?d*(1/0):d*n}},57960:function(e){var t=Math.log,n=Math.LOG10E;e.exports=Math.log10||function(e){return t(e)*n}},50576:function(e){var t=Math.log;e.exports=Math.log1p||function(e){var n=+e;return n>-1e-8&&n<1e-8?n-n*n/2:t(1+n)}},47623:function(e){e.exports=Math.scale||function(e,t,n,r,i){var o=+e,a=+t,s=+n,l=+r,u=+i;return o!=o||a!=a||s!=s||l!=l||u!=u?NaN:o===1/0||o===-1/0?o:(o-a)*(u-l)/(s-a)+l}},35646:function(e){e.exports=Math.sign||function(e){var t=+e;return 0==t||t!=t?t:t<0?-1:1}},21246:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},24410:function(e,t,n){var r,i,o,a,s,l,u,c,d=n(6840),f=n(5851),h=n(32573).f,p=n(91625).set,g=n(63929),m=n(71070),v=n(81785),y=n(31653),b=d.MutationObserver||d.WebKitMutationObserver,C=d.document,S=d.process,x=d.Promise,I=h(d,"queueMicrotask"),R=I&&I.value;R||(r=function(){var e,t;for(y&&(e=S.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(n){throw i?a():o=void 0,n}}o=void 0,e&&e.enter()},g||y||v||!b||!C?!m&&x&&x.resolve?((u=x.resolve(void 0)).constructor=x,c=f(u.then,u),a=function(){c(r)}):y?a=function(){S.nextTick(r)}:(p=f(p,d),a=function(){p(r)}):(s=!0,l=C.createTextNode(""),new b(r).observe(l,{characterData:!0}),a=function(){l.data=s=!s})),e.exports=R||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,a()),o=t}},94390:function(e,t,n){var r=n(63991);e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},63991:function(e,t,n){var r=n(65372),i=n(92837);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},81887:function(e,t,n){var r=n(92837),i=n(95028),o=n(23608),a=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},45242:function(e,t,n){var r=n(6840),i=n(39218),o=n(88589),a=r.WeakMap;e.exports=i(a)&&/native code/.test(o(a))},30246:function(e,t,n){"use strict";var r=n(66724),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},42002:function(e,t,n){var r=n(86124);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},79693:function(e,t,n){var r=n(10670),i=TypeError;e.exports=function(e){if(r(e))throw i("The method doesn't accept regular expressions");return e}},3431:function(e,t,n){var r=n(6840).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&r(e)}},98056:function(e,t,n){var r=n(6840),i=n(92837),o=n(74932),a=n(86124),s=n(56889).trim,l=n(95450),u=o("".charAt),c=r.parseFloat,d=r.Symbol,f=d&&d.iterator,h=1/c(l+"-0")!==-1/0||f&&!i((function(){c(Object(f))}));e.exports=h?function(e){var t=s(a(e)),n=c(t);return 0===n&&"-"==u(t,0)?-0:n}:c},29139:function(e,t,n){var r=n(6840),i=n(92837),o=n(74932),a=n(86124),s=n(56889).trim,l=n(95450),u=r.parseInt,c=r.Symbol,d=c&&c.iterator,f=/^[+-]?0x/i,h=o(f.exec),p=8!==u(l+"08")||22!==u(l+"0x16")||d&&!i((function(){u(Object(d))}));e.exports=p?function(e,t){var n=s(a(e));return u(n,t>>>0||(h(f,n)?16:10))}:u},52526:function(e,t,n){"use strict";var r=n(31196),i=n(74932),o=n(98513),a=n(92837),s=n(18084),l=n(60400),u=n(28306),c=n(28385),d=n(71036),f=Object.assign,h=Object.defineProperty,p=i([].concat);e.exports=!f||a((function(){if(r&&1!==f({b:1},f(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=f({},e)[n]||s(f({},t)).join("")!=i}))?function(e,t){for(var n=c(e),i=arguments.length,a=1,f=l.f,h=u.f;i>a;)for(var g,m=d(arguments[a++]),v=f?p(s(m),f(m)):s(m),y=v.length,b=0;y>b;)g=v[b++],r&&!o(h,m,g)||(n[g]=m[g]);return n}:f},4385:function(e,t,n){var r,i=n(45884),o=n(61697),a=n(12080),s=n(56196),l=n(62012),u=n(90937),c=n(89378),d=c("IE_PROTO"),f=function(){},h=function(e){return"<script>"+e+"</"+"script>"},p=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},g=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}g="undefined"!=typeof document?document.domain&&r?p(r):function(){var e,t=u("iframe");return t.style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F}():p(r);for(var e=a.length;e--;)delete g.prototype[a[e]];return g()};s[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f.prototype=i(e),n=new f,f.prototype=null,n[d]=e):n=g(),void 0===t?n:o.f(n,t)}},61697:function(e,t,n){var r=n(31196),i=n(26056),o=n(91592),a=n(45884),s=n(45770),l=n(18084);t.f=r&&!i?Object.defineProperties:function(e,t){a(e);for(var n,r=s(t),i=l(t),u=i.length,c=0;u>c;)o.f(e,n=i[c++],r[n]);return e}},91592:function(e,t,n){var r=n(31196),i=n(36707),o=n(26056),a=n(45884),s=n(54655),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",h="writable";t.f=r?o?function(e,t,n){if(a(e),t=s(t),a(n),"function"===typeof e&&"prototype"===t&&"value"in n&&h in n&&!n.writable){var r=c(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:f in n?n.configurable:r.configurable,enumerable:d in n?n.enumerable:r.enumerable,writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(a(e),t=s(t),a(n),i)try{return u(e,t,n)}catch(r){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},32573:function(e,t,n){var r=n(31196),i=n(98513),o=n(28306),a=n(72037),s=n(45770),l=n(54655),u=n(73013),c=n(36707),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=l(t),c)try{return d(e,t)}catch(n){}if(u(e,t))return a(!i(o.f,e,t),e[t])}},8910:function(e,t,n){var r=n(82933),i=n(45770),o=n(3772).f,a=n(43278),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==r(e)?function(e){try{return o(e)}catch(t){return a(s)}}(e):o(i(e))}},3772:function(e,t,n){var r=n(63080),i=n(12080).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},60400:function(e,t){t.f=Object.getOwnPropertySymbols},24305:function(e,t,n){var r=n(73013),i=n(39218),o=n(28385),a=n(89378),s=n(11586),l=a("IE_PROTO"),u=Object,c=u.prototype;e.exports=s?u.getPrototypeOf:function(e){var t=o(e);if(r(t,l))return t[l];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof u?c:null}},86643:function(e,t,n){var r=n(92837),i=n(43931),o=n(82933),a=n(21531),s=Object.isExtensible,l=r((function(){s(1)}));e.exports=l||a?function(e){return!!i(e)&&((!a||"ArrayBuffer"!=o(e))&&(!s||s(e)))}:s},68946:function(e,t,n){var r=n(74932);e.exports=r({}.isPrototypeOf)},63080:function(e,t,n){var r=n(74932),i=n(73013),o=n(45770),a=n(70488).indexOf,s=n(56196),l=r([].push);e.exports=function(e,t){var n,r=o(e),u=0,c=[];for(n in r)!i(s,n)&&i(r,n)&&l(c,n);for(;t.length>u;)i(r,n=t[u++])&&(~a(c,n)||l(c,n));return c}},18084:function(e,t,n){var r=n(63080),i=n(12080);e.exports=Object.keys||function(e){return r(e,i)}},28306:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},16389:function(e,t,n){"use strict";var r=n(23608),i=n(6840),o=n(92837),a=n(24469);e.exports=r||!o((function(){if(!(a&&a<535)){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete i[e]}}))},4381:function(e,t,n){var r=n(74932),i=n(45884),o=n(56299);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(a){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},19700:function(e,t,n){var r=n(31196),i=n(74932),o=n(18084),a=n(45770),s=i(n(28306).f),l=i([].push),u=function(e){return function(t){for(var n,i=a(t),u=o(i),c=u.length,d=0,f=[];c>d;)n=u[d++],r&&!s(i,n)||l(f,e?[n,i[n]]:i[n]);return f}};e.exports={entries:u(!0),values:u(!1)}},84289:function(e,t,n){"use strict";var r=n(56042),i=n(37205);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},11591:function(e,t,n){var r=n(6840),i=n(39218),o=n(95028)("observable"),a=r.Observable,s=a&&a.prototype;e.exports=!i(a)||!i(a.from)||!i(a.of)||!i(s.subscribe)||!i(s[o])},67772:function(e,t,n){var r=n(98513),i=n(39218),o=n(43931),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&i(n=e.toString)&&!o(s=r(n,e)))return s;if(i(n=e.valueOf)&&!o(s=r(n,e)))return s;if("string"!==t&&i(n=e.toString)&&!o(s=r(n,e)))return s;throw a("Can't convert object to primitive value")}},17273:function(e,t,n){var r=n(1240),i=n(74932),o=n(3772),a=n(60400),s=n(45884),l=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?l(t,n(e)):t}},34750:function(e,t,n){var r=n(6840);e.exports=r},63752:function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},77426:function(e,t,n){var r=n(6840),i=n(31),o=n(39218),a=n(96673),s=n(88589),l=n(95028),u=n(64163),c=n(23608),d=n(65372),f=i&&i.prototype,h=l("species"),p=!1,g=o(r.PromiseRejectionEvent),m=a("Promise",(function(){var e=s(i),t=e!==String(i);if(!t&&66===d)return!0;if(c&&(!f.catch||!f.finally))return!0;if(d>=51&&/native code/.test(e))return!1;var n=new i((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[h]=r,!(p=n.then((function(){}))instanceof r)||!t&&u&&!g}));e.exports={CONSTRUCTOR:m,REJECTION_EVENT:g,SUBCLASSING:p}},31:function(e,t,n){var r=n(6840);e.exports=r.Promise},86321:function(e,t,n){var r=n(45884),i=n(43931),o=n(30246);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},71321:function(e,t,n){var r=n(31),i=n(6225),o=n(77426).CONSTRUCTOR;e.exports=o||!i((function(e){r.all(e).then(void 0,(function(){}))}))},37105:function(e,t,n){var r=n(91592).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},9033:function(e){var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},95758:function(e,t,n){n(45742),n(87952);var r=n(1240),i=n(74932),o=n(91778),a=r("Map"),s=r("WeakMap"),l=i([].push),u=o("metadata"),c=u.store||(u.store=new s),d=function(e,t,n){var r=c.get(e);if(!r){if(!n)return;c.set(e,r=new a)}var i=r.get(t);if(!i){if(!n)return;r.set(t,i=new a)}return i};e.exports={store:c,getMap:d,has:function(e,t,n){var r=d(t,n,!1);return void 0!==r&&r.has(e)},get:function(e,t,n){var r=d(t,n,!1);return void 0===r?void 0:r.get(e)},set:function(e,t,n,r){d(n,r,!0).set(e,t)},keys:function(e,t){var n=d(e,t,!1),r=[];return n&&n.forEach((function(e,t){l(r,t)})),r},toKey:function(e){return void 0===e||"symbol"==typeof e?e:String(e)}}},22781:function(e,t,n){var r=n(98513),i=n(45884),o=n(39218),a=n(82933),s=n(94087),l=TypeError;e.exports=function(e,t){var n=e.exec;if(o(n)){var u=r(n,e,t);return null!==u&&i(u),u}if("RegExp"===a(e))return r(s,e,t);throw l("RegExp#exec called on incompatible receiver")}},94087:function(e,t,n){"use strict";var r=n(98513),i=n(74932),o=n(86124),a=n(67687),s=n(8596),l=n(91778),u=n(4385),c=n(49671).get,d=n(12047),f=n(32063),h=l("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,g=p,m=i("".charAt),v=i("".indexOf),y=i("".replace),b=i("".slice),C=function(){var e=/a/,t=/b*/g;return r(p,e,"a"),r(p,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),S=s.BROKEN_CARET,x=void 0!==/()??/.exec("")[1];(C||x||S||d||f)&&(g=function(e){var t,n,i,s,l,d,f,I=this,R=c(I),w=o(e),E=R.raw;if(E)return E.lastIndex=I.lastIndex,t=r(g,E,w),I.lastIndex=E.lastIndex,t;var Z=R.groups,P=S&&I.sticky,T=r(a,I),A=I.source,M=0,k=w;if(P&&(T=y(T,"y",""),-1===v(T,"g")&&(T+="g"),k=b(w,I.lastIndex),I.lastIndex>0&&(!I.multiline||I.multiline&&"\n"!==m(w,I.lastIndex-1))&&(A="(?: "+A+")",k=" "+k,M++),n=new RegExp("^(?:"+A+")",T)),x&&(n=new RegExp("^"+A+"$(?!\\s)",T)),C&&(i=I.lastIndex),s=r(p,P?n:I,k),P?s?(s.input=b(s.input,M),s[0]=b(s[0],M),s.index=I.lastIndex,I.lastIndex+=s[0].length):I.lastIndex=0:C&&s&&(I.lastIndex=I.global?s.index+s[0].length:i),x&&s&&s.length>1&&r(h,s[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(s[l]=void 0)})),s&&Z)for(s.groups=d=u(null),l=0;l<Z.length;l++)d[(f=Z[l])[0]]=s[f[1]];return s}),e.exports=g},67687:function(e,t,n){"use strict";var r=n(45884);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},97667:function(e,t,n){var r=n(98513),i=n(73013),o=n(68946),a=n(67687),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||i(e,"flags")||!o(s,e)?t:r(a,e)}},8596:function(e,t,n){var r=n(92837),i=n(6840).RegExp,o=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=o||r((function(){return!i("a","y").sticky})),s=o||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:o}},12047:function(e,t,n){var r=n(92837),i=n(6840).RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},32063:function(e,t,n){var r=n(92837),i=n(6840).RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},2244:function(e){var t=TypeError;e.exports=function(e){if(void 0==e)throw t("Can't call method on "+e);return e}},6316:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},58362:function(e){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},52267:function(e,t,n){"use strict";var r=n(1240),i=n(91592),o=n(95028),a=n(31196),s=o("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},53370:function(e,t,n){var r=n(91592).f,i=n(73013),o=n(95028)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,o)&&r(e,o,{configurable:!0,value:t})}},89378:function(e,t,n){var r=n(91778),i=n(24839),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},74460:function(e,t,n){var r=n(6840),i=n(19131),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},91778:function(e,t,n){var r=n(23608),i=n(74460);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.23.3",mode:r?"pure":"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.3/LICENSE",source:"https://github.com/zloirock/core-js"})},917:function(e,t,n){var r=n(45884),i=n(10611),o=n(95028)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},18424:function(e,t,n){var r=n(74932),i=n(92128),o=n(86124),a=n(2244),s=r("".charAt),l=r("".charCodeAt),u=r("".slice),c=function(e){return function(t,n){var r,c,d=o(a(t)),f=i(n),h=d.length;return f<0||f>=h?e?"":void 0:(r=l(d,f))<55296||r>56319||f+1===h||(c=l(d,f+1))<56320||c>57343?e?s(d,f):r:e?u(d,f,f+2):c-56320+(r-55296<<10)+65536}};e.exports={codeAt:c(!1),charAt:c(!0)}},35106:function(e,t,n){var r=n(84839);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},19605:function(e,t,n){var r=n(74932),i=n(62347),o=n(86124),a=n(7729),s=n(2244),l=r(a),u=r("".slice),c=Math.ceil,d=function(e){return function(t,n,r){var a,d,f=o(s(t)),h=i(n),p=f.length,g=void 0===r?" ":o(r);return h<=p||""==g?f:((d=l(g,c((a=h-p)/g.length))).length>a&&(d=u(d,0,a)),e?f+d:d+f)}};e.exports={start:d(!1),end:d(!0)}},31649:function(e,t,n){"use strict";var r=n(74932),i=2147483647,o=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",l=RangeError,u=r(a.exec),c=Math.floor,d=String.fromCharCode,f=r("".charCodeAt),h=r([].join),p=r([].push),g=r("".replace),m=r("".split),v=r("".toLowerCase),y=function(e){return e+22+75*(e<26)},b=function(e,t,n){var r=0;for(e=n?c(e/700):e>>1,e+=c(e/t);e>455;)e=c(e/35),r+=36;return c(r+36*e/(e+38))},C=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=f(e,n++);if(i>=55296&&i<=56319&&n<r){var o=f(e,n++);56320==(64512&o)?p(t,((1023&i)<<10)+(1023&o)+65536):(p(t,i),n--)}else p(t,i)}return t}(e);var n,r,o=e.length,a=128,u=0,g=72;for(n=0;n<e.length;n++)(r=e[n])<128&&p(t,d(r));var m=t.length,v=m;for(m&&p(t,"-");v<o;){var C=i;for(n=0;n<e.length;n++)(r=e[n])>=a&&r<C&&(C=r);var S=v+1;if(C-a>c((i-u)/S))throw l(s);for(u+=(C-a)*S,a=C,n=0;n<e.length;n++){if((r=e[n])<a&&++u>i)throw l(s);if(r==a){for(var x=u,I=36;;){var R=I<=g?1:I>=g+26?26:I-g;if(x<R)break;var w=x-R,E=36-R;p(t,d(y(R+w%E))),x=c(w/E),I+=36}p(t,d(y(x))),g=b(u,S,v==m),u=0,v++}}u++,a++}return h(t,"")};e.exports=function(e){var t,n,r=[],i=m(g(v(e),a,"."),".");for(t=0;t<i.length;t++)n=i[t],p(r,u(o,n)?"xn--"+C(n):n);return h(r,".")}},7729:function(e,t,n){"use strict";var r=n(92128),i=n(86124),o=n(2244),a=RangeError;e.exports=function(e){var t=i(o(this)),n="",s=r(e);if(s<0||s==1/0)throw a("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(n+=t);return n}},69556:function(e,t,n){"use strict";var r=n(56889).end,i=n(21879);e.exports=i("trimEnd")?function(){return r(this)}:"".trimEnd},21879:function(e,t,n){var r=n(23211).PROPER,i=n(92837),o=n(95450);e.exports=function(e){return i((function(){return!!o[e]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[e]()||r&&o[e].name!==e}))}},89257:function(e,t,n){"use strict";var r=n(56889).start,i=n(21879);e.exports=i("trimStart")?function(){return r(this)}:"".trimStart},56889:function(e,t,n){var r=n(74932),i=n(2244),o=n(86124),a=n(95450),s=r("".replace),l="["+a+"]",u=RegExp("^"+l+l+"*"),c=RegExp(l+l+"*$"),d=function(e){return function(t){var n=o(i(t));return 1&e&&(n=s(n,u,"")),2&e&&(n=s(n,c,"")),n}};e.exports={start:d(1),end:d(2),trim:d(3)}},32745:function(e,t,n){var r=n(98513),i=n(1240),o=n(95028),a=n(17543);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,s=o("toPrimitive");t&&!t[s]&&a(t,s,(function(e){return r(n,this)}),{arity:1})}},91625:function(e,t,n){var r,i,o,a,s=n(6840),l=n(86339),u=n(5851),c=n(39218),d=n(73013),f=n(92837),h=n(62012),p=n(15618),g=n(90937),m=n(34974),v=n(63929),y=n(31653),b=s.setImmediate,C=s.clearImmediate,S=s.process,x=s.Dispatch,I=s.Function,R=s.MessageChannel,w=s.String,E=0,Z={},P="onreadystatechange";try{r=s.location}catch(G){}var T=function(e){if(d(Z,e)){var t=Z[e];delete Z[e],t()}},A=function(e){return function(){T(e)}},M=function(e){T(e.data)},k=function(e){s.postMessage(w(e),r.protocol+"//"+r.host)};b&&C||(b=function(e){m(arguments.length,1);var t=c(e)?e:I(e),n=p(arguments,1);return Z[++E]=function(){l(t,void 0,n)},i(E),E},C=function(e){delete Z[e]},y?i=function(e){S.nextTick(A(e))}:x&&x.now?i=function(e){x.now(A(e))}:R&&!v?(a=(o=new R).port2,o.port1.onmessage=M,i=u(a.postMessage,a)):s.addEventListener&&c(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!f(k)?(i=k,s.addEventListener("message",M,!1)):i=P in g("script")?function(e){h.appendChild(g("script")).onreadystatechange=function(){h.removeChild(this),T(e)}}:function(e){setTimeout(A(e),0)}),e.exports={set:b,clear:C}},34748:function(e,t,n){var r=n(74932);e.exports=r(1..valueOf)},41823:function(e,t,n){var r=n(92128),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},69818:function(e,t,n){var r=n(66740),i=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw i("Can't convert number to bigint");return BigInt(t)}},31143:function(e,t,n){var r=n(92128),i=n(62347),o=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw o("Wrong length or index");return n}},45770:function(e,t,n){var r=n(71036),i=n(2244);e.exports=function(e){return r(i(e))}},92128:function(e,t,n){var r=n(21246);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},62347:function(e,t,n){var r=n(92128),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},28385:function(e,t,n){var r=n(2244),i=Object;e.exports=function(e){return i(r(e))}},25303:function(e,t,n){var r=n(8718),i=RangeError;e.exports=function(e,t){var n=r(e);if(n%t)throw i("Wrong offset");return n}},8718:function(e,t,n){var r=n(92128),i=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw i("The argument can't be less than 0");return t}},66740:function(e,t,n){var r=n(98513),i=n(43931),o=n(28287),a=n(23863),s=n(67772),l=n(95028),u=TypeError,c=l("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,l=a(e,c);if(l){if(void 0===t&&(t="default"),n=r(l,e,t),!i(n)||o(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},54655:function(e,t,n){var r=n(66740),i=n(28287);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},56042:function(e,t,n){var r={};r[n(95028)("toStringTag")]="z",e.exports="[object z]"===String(r)},86124:function(e,t,n){var r=n(37205),i=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},81772:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},2859:function(e,t,n){"use strict";var r=n(67768),i=n(6840),o=n(98513),a=n(31196),s=n(36255),l=n(93866),u=n(40865),c=n(14817),d=n(72037),f=n(63873),h=n(57724),p=n(62347),g=n(31143),m=n(25303),v=n(54655),y=n(73013),b=n(37205),C=n(43931),S=n(28287),x=n(4385),I=n(68946),R=n(4381),w=n(3772).f,E=n(44137),Z=n(5880).forEach,P=n(52267),T=n(91592),A=n(32573),M=n(49671),k=n(21527),G=M.get,F=M.set,_=M.enforce,D=T.f,U=A.f,O=Math.round,L=i.RangeError,N=u.ArrayBuffer,B=N.prototype,V=u.DataView,H=l.NATIVE_ARRAY_BUFFER_VIEWS,z=l.TYPED_ARRAY_TAG,j=l.TypedArray,W=l.TypedArrayPrototype,q=l.aTypedArrayConstructor,$=l.isTypedArray,K="BYTES_PER_ELEMENT",X="Wrong length",Y=function(e,t){q(e);for(var n=0,r=t.length,i=new e(r);r>n;)i[n]=t[n++];return i},Q=function(e,t){D(e,t,{get:function(){return G(this)[t]}})},J=function(e){var t;return I(B,e)||"ArrayBuffer"==(t=b(e))||"SharedArrayBuffer"==t},ee=function(e,t){return $(e)&&!S(t)&&t in e&&h(+t)&&t>=0},te=function(e,t){return t=v(t),ee(e,t)?d(2,e[t]):U(e,t)},ne=function(e,t,n){return t=v(t),!(ee(e,t)&&C(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?D(e,t,n):(e[t]=n.value,e)};a?(H||(A.f=te,T.f=ne,Q(W,"buffer"),Q(W,"byteOffset"),Q(W,"byteLength"),Q(W,"length")),r({target:"Object",stat:!0,forced:!H},{getOwnPropertyDescriptor:te,defineProperty:ne}),e.exports=function(e,t,n){var a=e.match(/\d+$/)[0]/8,l=e+(n?"Clamped":"")+"Array",u="get"+e,d="set"+e,h=i[l],v=h,y=v&&v.prototype,b={},S=function(e,t){D(e,t,{get:function(){return function(e,t){var n=G(e);return n.view[u](t*a+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,r){var i=G(e);n&&(r=(r=O(r))<0?0:r>255?255:255&r),i.view[d](t*a+i.byteOffset,r,!0)}(this,t,e)},enumerable:!0})};H?s&&(v=t((function(e,t,n,r){return c(e,y),k(C(t)?J(t)?void 0!==r?new h(t,m(n,a),r):void 0!==n?new h(t,m(n,a)):new h(t):$(t)?Y(v,t):o(E,v,t):new h(g(t)),e,v)})),R&&R(v,j),Z(w(h),(function(e){e in v||f(v,e,h[e])})),v.prototype=y):(v=t((function(e,t,n,r){c(e,y);var i,s,l,u=0,d=0;if(C(t)){if(!J(t))return $(t)?Y(v,t):o(E,v,t);i=t,d=m(n,a);var f=t.byteLength;if(void 0===r){if(f%a)throw L(X);if((s=f-d)<0)throw L(X)}else if((s=p(r)*a)+d>f)throw L(X);l=s/a}else l=g(t),i=new N(s=l*a);for(F(e,{buffer:i,byteOffset:d,byteLength:s,length:l,view:new V(i)});u<l;)S(e,u++)})),R&&R(v,j),y=v.prototype=x(W)),y.constructor!==v&&f(y,"constructor",v),_(y).TypedArrayConstructor=v,z&&f(y,z,l);var I=v!=h;b[l]=v,r({global:!0,constructor:!0,forced:I,sham:!H},b),K in v||f(v,K,a),K in y||f(y,K,a),P(l)}):e.exports=function(){}},36255:function(e,t,n){var r=n(6840),i=n(92837),o=n(6225),a=n(93866).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,l=r.Int8Array;e.exports=!a||!i((function(){l(1)}))||!i((function(){new l(-1)}))||!o((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||i((function(){return 1!==new l(new s(2),1,void 0).length}))},53702:function(e,t,n){var r=n(11793),i=n(87349);e.exports=function(e,t){return r(i(e),t)}},44137:function(e,t,n){var r=n(5851),i=n(98513),o=n(10611),a=n(28385),s=n(23385),l=n(78131),u=n(40443),c=n(38205),d=n(93866).aTypedArrayConstructor;e.exports=function(e){var t,n,f,h,p,g,m=o(this),v=a(e),y=arguments.length,b=y>1?arguments[1]:void 0,C=void 0!==b,S=u(v);if(S&&!c(S))for(g=(p=l(v,S)).next,v=[];!(h=i(g,p)).done;)v.push(h.value);for(C&&y>2&&(b=r(b,arguments[2])),n=s(v),f=new(d(m))(n),t=0;n>t;t++)f[t]=C?b(v[t],t):v[t];return f}},87349:function(e,t,n){var r=n(93866),i=n(917),o=r.aTypedArrayConstructor,a=r.getTypedArrayConstructor;e.exports=function(e){return o(i(e,a(e)))}},24839:function(e,t,n){var r=n(74932),i=0,o=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},47611:function(e,t,n){var r=n(63991);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},26056:function(e,t,n){var r=n(31196),i=n(92837);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},34974:function(e){var t=TypeError;e.exports=function(e,n){if(e<n)throw t("Not enough arguments");return e}},21384:function(e,t,n){var r=n(95028);t.f=r},95028:function(e,t,n){var r=n(6840),i=n(91778),o=n(73013),a=n(24839),s=n(63991),l=n(47611),u=i("wks"),c=r.Symbol,d=c&&c.for,f=l?c:c&&c.withoutSetter||a;e.exports=function(e){if(!o(u,e)||!s&&"string"!=typeof u[e]){var t="Symbol."+e;s&&o(c,e)?u[e]=c[e]:u[e]=l&&d?d(t):f(t)}return u[e]}},95450:function(e){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},78449:function(e,t,n){"use strict";var r=n(67768),i=n(68946),o=n(24305),a=n(4381),s=n(90189),l=n(4385),u=n(63873),c=n(72037),d=n(9844),f=n(53606),h=n(54439),p=n(42002),g=n(95028),m=n(86177),v=g("toStringTag"),y=Error,b=[].push,C=function(e,t){var n,r=arguments.length>2?arguments[2]:void 0,s=i(S,this);a?n=a(new y,s?o(this):S):(n=s?this:l(S),u(n,v,"Error")),void 0!==t&&u(n,"message",p(t)),m&&u(n,"stack",d(n.stack,1)),f(n,r);var c=[];return h(e,b,{that:c}),u(n,"errors",c),n};a?a(C,y):s(C,y,{name:!0});var S=C.prototype=l(y.prototype,{constructor:c(1,C),message:c(1,""),name:c(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:C})},68766:function(e,t,n){n(78449)},4778:function(e,t,n){"use strict";var r=n(67768),i=n(92837),o=n(51941),a=n(43931),s=n(28385),l=n(23385),u=n(96117),c=n(13055),d=n(95491),f=n(81379),h=n(95028),p=n(65372),g=h("isConcatSpreadable"),m=p>=51||!i((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),v=f("concat"),y=function(e){if(!a(e))return!1;var t=e[g];return void 0!==t?!!t:o(e)};r({target:"Array",proto:!0,arity:1,forced:!m||!v},{concat:function(e){var t,n,r,i,o,a=s(this),f=d(a,0),h=0;for(t=-1,r=arguments.length;t<r;t++)if(y(o=-1===t?a:arguments[t]))for(i=l(o),u(h+i),n=0;n<i;n++,h++)n in o&&c(f,h,o[n]);else u(h+1),c(f,h++,o);return f.length=h,f}})},80195:function(e,t,n){var r=n(67768),i=n(54739),o=n(35715);r({target:"Array",proto:!0},{copyWithin:i}),o("copyWithin")},59668:function(e,t,n){var r=n(67768),i=n(56012),o=n(35715);r({target:"Array",proto:!0},{fill:i}),o("fill")},33858:function(e,t,n){"use strict";var r=n(67768),i=n(5880).filter;r({target:"Array",proto:!0,forced:!n(81379)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},41285:function(e,t,n){"use strict";var r=n(67768),i=n(5880).findIndex,o=n(35715),a="findIndex",s=!0;a in[]&&Array(1).findIndex((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},55269:function(e,t,n){"use strict";var r=n(67768),i=n(5880).find,o=n(35715),a="find",s=!0;a in[]&&Array(1).find((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},75470:function(e,t,n){"use strict";var r=n(67768),i=n(18264),o=n(66724),a=n(28385),s=n(23385),l=n(95491);r({target:"Array",proto:!0},{flatMap:function(e){var t,n=a(this),r=s(n);return o(e),(t=l(n,0)).length=i(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},98624:function(e,t,n){"use strict";var r=n(67768),i=n(18264),o=n(28385),a=n(23385),s=n(92128),l=n(95491);r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=o(this),n=a(t),r=l(t,0);return r.length=i(r,t,t,n,0,void 0===e?1:s(e)),r}})},89104:function(e,t,n){var r=n(67768),i=n(22422);r({target:"Array",stat:!0,forced:!n(6225)((function(e){Array.from(e)}))},{from:i})},68225:function(e,t,n){"use strict";var r=n(67768),i=n(70488).includes,o=n(92837),a=n(35715);r({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},35036:function(e,t,n){"use strict";var r=n(67768),i=n(74932),o=n(70488).indexOf,a=n(92241),s=i([].indexOf),l=!!s&&1/s([1],1,-0)<0,u=a("indexOf");r({target:"Array",proto:!0,forced:l||!u},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return l?s(this,e,t)||0:o(this,e,t)}})},18887:function(e,t,n){"use strict";var r=n(45770),i=n(35715),o=n(29706),a=n(49671),s=n(91592).f,l=n(32170),u=n(23608),c=n(31196),d="Array Iterator",f=a.set,h=a.getterFor(d);e.exports=l(Array,"Array",(function(e,t){f(this,{type:d,target:r(e),index:0,kind:t})}),(function(){var e=h(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var p=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!u&&c&&"values"!==p.name)try{s(p,"name",{value:"values"})}catch(g){}},67750:function(e,t,n){var r=n(67768),i=n(2561);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},32463:function(e,t,n){"use strict";var r=n(67768),i=n(5880).map;r({target:"Array",proto:!0,forced:!n(81379)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},159:function(e,t,n){"use strict";var r=n(67768),i=n(92837),o=n(51219),a=n(13055),s=Array;r({target:"Array",stat:!0,forced:i((function(){function e(){}return!(s.of.call(e)instanceof e)}))},{of:function(){for(var e=0,t=arguments.length,n=new(o(this)?this:s)(t);t>e;)a(n,e,arguments[e++]);return n.length=t,n}})},77405:function(e,t,n){"use strict";var r=n(67768),i=n(94512).right,o=n(92241),a=n(65372),s=n(31653);r({target:"Array",proto:!0,forced:!o("reduceRight")||!s&&a>79&&a<83},{reduceRight:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},2603:function(e,t,n){"use strict";var r=n(67768),i=n(94512).left,o=n(92241),a=n(65372),s=n(31653);r({target:"Array",proto:!0,forced:!o("reduce")||!s&&a>79&&a<83},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},49258:function(e,t,n){"use strict";var r=n(67768),i=n(51941),o=n(51219),a=n(43931),s=n(41823),l=n(23385),u=n(45770),c=n(13055),d=n(95028),f=n(81379),h=n(15618),p=f("slice"),g=d("species"),m=Array,v=Math.max;r({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var n,r,d,f=u(this),p=l(f),y=s(e,p),b=s(void 0===t?p:t,p);if(i(f)&&(n=f.constructor,(o(n)&&(n===m||i(n.prototype))||a(n)&&null===(n=n[g]))&&(n=void 0),n===m||void 0===n))return h(f,y,b);for(r=new(void 0===n?m:n)(v(b-y,0)),d=0;y<b;y++,d++)y in f&&c(r,d,f[y]);return r.length=d,r}})},78493:function(e,t,n){"use strict";var r=n(67768),i=n(74932),o=n(66724),a=n(28385),s=n(23385),l=n(87820),u=n(86124),c=n(92837),d=n(47732),f=n(92241),h=n(58336),p=n(64891),g=n(65372),m=n(24469),v=[],y=i(v.sort),b=i(v.push),C=c((function(){v.sort(void 0)})),S=c((function(){v.sort(null)})),x=f("sort"),I=!c((function(){if(g)return g<70;if(!(h&&h>3)){if(p)return!0;if(m)return m<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)v.push({k:t+r,v:n})}for(v.sort((function(e,t){return t.v-e.v})),r=0;r<v.length;r++)t=v[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:C||!S||!x||!I},{sort:function(e){void 0!==e&&o(e);var t=a(this);if(I)return void 0===e?y(t):y(t,e);var n,r,i=[],c=s(t);for(r=0;r<c;r++)r in t&&b(i,t[r]);for(d(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:u(t)>u(n)?1:-1}}(e)),n=i.length,r=0;r<n;)t[r]=i[r++];for(;r<c;)l(t,r++);return t}})},63410:function(e,t,n){n(52267)("Array")},45327:function(e,t,n){"use strict";var r=n(67768),i=n(28385),o=n(41823),a=n(92128),s=n(23385),l=n(96117),u=n(95491),c=n(13055),d=n(87820),f=n(81379)("splice"),h=Math.max,p=Math.min;r({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var n,r,f,g,m,v,y=i(this),b=s(y),C=o(e,b),S=arguments.length;for(0===S?n=r=0:1===S?(n=0,r=b-C):(n=S-2,r=p(h(a(t),0),b-C)),l(b+n-r),f=u(y,r),g=0;g<r;g++)(m=C+g)in y&&c(f,g,y[m]);if(f.length=r,n<r){for(g=C;g<b-r;g++)v=g+n,(m=g+r)in y?y[v]=y[m]:d(y,v);for(g=b;g>b-r+n;g--)d(y,g-1)}else if(n>r)for(g=b-r;g>C;g--)v=g+n-1,(m=g+r-1)in y?y[v]=y[m]:d(y,v);for(g=0;g<n;g++)y[g+C]=arguments[g+2];return y.length=b-r+n,f}})},42330:function(e,t,n){n(35715)("flatMap")},59743:function(e,t,n){n(35715)("flat")},87726:function(e,t,n){var r=n(73013),i=n(17543),o=n(68505),a=n(95028)("toPrimitive"),s=Date.prototype;r(s,a)||i(s,a,o)},53366:function(e,t,n){"use strict";var r=n(39218),i=n(43931),o=n(91592),a=n(24305),s=n(95028),l=n(32557),u=s("hasInstance"),c=Function.prototype;u in c||o.f(c,u,{value:l((function(e){if(!r(this)||!i(e))return!1;var t=this.prototype;if(!i(t))return e instanceof this;for(;e=a(e);)if(t===e)return!0;return!1}),u)})},81506:function(e,t,n){n(67768)({global:!0},{globalThis:n(6840)})},8344:function(e,t,n){var r=n(67768),i=n(1240),o=n(86339),a=n(98513),s=n(74932),l=n(92837),u=n(51941),c=n(39218),d=n(43931),f=n(28287),h=n(15618),p=n(63991),g=i("JSON","stringify"),m=s(/./.exec),v=s("".charAt),y=s("".charCodeAt),b=s("".replace),C=s(1..toString),S=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,I=/^[\uDC00-\uDFFF]$/,R=!p||l((function(){var e=i("Symbol")();return"[null]"!=g([e])||"{}"!=g({a:e})||"{}"!=g(Object(e))})),w=l((function(){return'"\\udf06\\ud834"'!==g("\udf06\ud834")||'"\\udead"'!==g("\udead")})),E=function(e,t){var n=h(arguments),r=t;if((d(t)||void 0!==e)&&!f(e))return u(t)||(t=function(e,t){if(c(r)&&(t=a(r,this,e,t)),!f(t))return t}),n[1]=t,o(g,null,n)},Z=function(e,t,n){var r=v(n,t-1),i=v(n,t+1);return m(x,e)&&!m(I,i)||m(I,e)&&!m(x,r)?"\\u"+C(y(e,0),16):e};g&&r({target:"JSON",stat:!0,arity:3,forced:R||w},{stringify:function(e,t,n){var r=h(arguments),i=o(R?E:g,null,r);return w&&"string"==typeof i?b(i,S,Z):i}})},12948:function(e,t,n){var r=n(6840);n(53370)(r.JSON,"JSON",!0)},41132:function(e,t,n){"use strict";n(93309)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(13425))},45742:function(e,t,n){n(41132)},43041:function(e,t,n){var r=n(67768),i=n(50576),o=Math.acosh,a=Math.log,s=Math.sqrt,l=Math.LN2;r({target:"Math",stat:!0,forced:!o||710!=Math.floor(o(Number.MAX_VALUE))||o(1/0)!=1/0},{acosh:function(e){var t=+e;return t<1?NaN:t>94906265.62425156?a(t)+l:i(t-1+s(t-1)*s(t+1))}})},8589:function(e,t,n){var r=n(67768),i=Math.asinh,o=Math.log,a=Math.sqrt;r({target:"Math",stat:!0,forced:!(i&&1/i(0)>0)},{asinh:function e(t){var n=+t;return isFinite(n)&&0!=n?n<0?-e(-n):o(n+a(n*n+1)):n}})},98127:function(e,t,n){var r=n(67768),i=Math.atanh,o=Math.log;r({target:"Math",stat:!0,forced:!(i&&1/i(-0)<0)},{atanh:function(e){var t=+e;return 0==t?t:o((1+t)/(1-t))/2}})},97832:function(e,t,n){var r=n(67768),i=n(35646),o=Math.abs,a=Math.pow;r({target:"Math",stat:!0},{cbrt:function(e){var t=+e;return i(t)*a(o(t),1/3)}})},59837:function(e,t,n){var r=n(67768),i=Math.floor,o=Math.log,a=Math.LOG2E;r({target:"Math",stat:!0},{clz32:function(e){var t=e>>>0;return t?31-i(o(t+.5)*a):32}})},88636:function(e,t,n){var r=n(67768),i=n(81607),o=Math.cosh,a=Math.abs,s=Math.E;r({target:"Math",stat:!0,forced:!o||o(710)===1/0},{cosh:function(e){var t=i(a(e)-1)+1;return(t+1/(t*s*s))*(s/2)}})},53886:function(e,t,n){var r=n(67768),i=n(81607);r({target:"Math",stat:!0,forced:i!=Math.expm1},{expm1:i})},33141:function(e,t,n){n(67768)({target:"Math",stat:!0},{fround:n(55270)})},1006:function(e,t,n){var r=n(67768),i=Math.hypot,o=Math.abs,a=Math.sqrt;r({target:"Math",stat:!0,arity:2,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(e,t){for(var n,r,i=0,s=0,l=arguments.length,u=0;s<l;)u<(n=o(arguments[s++]))?(i=i*(r=u/n)*r+1,u=n):i+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*a(i)}})},85316:function(e,t,n){n(67768)({target:"Math",stat:!0},{log10:n(57960)})},24992:function(e,t,n){n(67768)({target:"Math",stat:!0},{log1p:n(50576)})},20016:function(e,t,n){var r=n(67768),i=Math.log,o=Math.LN2;r({target:"Math",stat:!0},{log2:function(e){return i(e)/o}})},69460:function(e,t,n){n(67768)({target:"Math",stat:!0},{sign:n(35646)})},11807:function(e,t,n){var r=n(67768),i=n(92837),o=n(81607),a=Math.abs,s=Math.exp,l=Math.E;r({target:"Math",stat:!0,forced:i((function(){return-2e-17!=Math.sinh(-2e-17)}))},{sinh:function(e){var t=+e;return a(t)<1?(o(t)-o(-t))/2:(s(t-1)-s(-t-1))*(l/2)}})},2195:function(e,t,n){var r=n(67768),i=n(81607),o=Math.exp;r({target:"Math",stat:!0},{tanh:function(e){var t=+e,n=i(t),r=i(-t);return n==1/0?1:r==1/0?-1:(n-r)/(o(t)+o(-t))}})},84873:function(e,t,n){n(53370)(Math,"Math",!0)},98177:function(e,t,n){n(67768)({target:"Math",stat:!0},{trunc:n(21246)})},30974:function(e,t,n){"use strict";var r=n(31196),i=n(6840),o=n(74932),a=n(96673),s=n(17543),l=n(73013),u=n(21527),c=n(68946),d=n(28287),f=n(66740),h=n(92837),p=n(3772).f,g=n(32573).f,m=n(91592).f,v=n(34748),y=n(56889).trim,b="Number",C=i.Number,S=C.prototype,x=i.TypeError,I=o("".slice),R=o("".charCodeAt),w=function(e){var t=f(e,"number");return"bigint"==typeof t?t:E(t)},E=function(e){var t,n,r,i,o,a,s,l,u=f(e,"number");if(d(u))throw x("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=y(u),43===(t=R(u,0))||45===t){if(88===(n=R(u,2))||120===n)return NaN}else if(48===t){switch(R(u,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(a=(o=I(u,2)).length,s=0;s<a;s++)if((l=R(o,s))<48||l>i)return NaN;return parseInt(o,r)}return+u};if(a(b,!C(" 0o1")||!C("0b1")||C("+0x1"))){for(var Z,P=function(e){var t=arguments.length<1?0:C(w(e)),n=this;return c(S,n)&&h((function(){v(n)}))?u(Object(t),n,P):t},T=r?p(C):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),A=0;T.length>A;A++)l(C,Z=T[A])&&!l(P,Z)&&m(P,Z,g(C,Z));P.prototype=S,S.constructor=P,s(i,b,P,{constructor:!0})}},47389:function(e,t,n){n(67768)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})},44105:function(e,t,n){n(67768)({target:"Number",stat:!0},{isInteger:n(57724)})},72195:function(e,t,n){var r=n(67768),i=n(57724),o=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},4780:function(e,t,n){n(67768)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},23498:function(e,t,n){n(67768)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})},42720:function(e,t,n){var r=n(67768),i=n(98056);r({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},254:function(e,t,n){var r=n(67768),i=n(29139);r({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},83265:function(e,t,n){var r=n(67768),i=n(52526);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},26048:function(e,t,n){"use strict";var r=n(67768),i=n(31196),o=n(16389),a=n(66724),s=n(28385),l=n(91592);i&&r({target:"Object",proto:!0,forced:o},{__defineGetter__:function(e,t){l.f(s(this),e,{get:a(t),enumerable:!0,configurable:!0})}})},56410:function(e,t,n){var r=n(67768),i=n(31196),o=n(61697).f;r({target:"Object",stat:!0,forced:Object.defineProperties!==o,sham:!i},{defineProperties:o})},33612:function(e,t,n){var r=n(67768),i=n(31196),o=n(91592).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},51796:function(e,t,n){"use strict";var r=n(67768),i=n(31196),o=n(16389),a=n(66724),s=n(28385),l=n(91592);i&&r({target:"Object",proto:!0,forced:o},{__defineSetter__:function(e,t){l.f(s(this),e,{set:a(t),enumerable:!0,configurable:!0})}})},99238:function(e,t,n){var r=n(67768),i=n(19700).entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},55531:function(e,t,n){var r=n(67768),i=n(7914),o=n(92837),a=n(43931),s=n(12499).onFreeze,l=Object.freeze;r({target:"Object",stat:!0,forced:o((function(){l(1)})),sham:!i},{freeze:function(e){return l&&a(e)?l(s(e)):e}})},50691:function(e,t,n){var r=n(67768),i=n(54439),o=n(13055);r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,n){o(t,e,n)}),{AS_ENTRIES:!0}),t}})},87264:function(e,t,n){var r=n(67768),i=n(92837),o=n(45770),a=n(32573).f,s=n(31196),l=i((function(){a(1)}));r({target:"Object",stat:!0,forced:!s||l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},58894:function(e,t,n){var r=n(67768),i=n(31196),o=n(17273),a=n(45770),s=n(32573),l=n(13055);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),i=s.f,u=o(r),c={},d=0;u.length>d;)void 0!==(n=i(r,t=u[d++]))&&l(c,t,n);return c}})},45397:function(e,t,n){var r=n(67768),i=n(92837),o=n(8910).f;r({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:o})},91565:function(e,t,n){var r=n(67768),i=n(63991),o=n(92837),a=n(60400),s=n(28385);r({target:"Object",stat:!0,forced:!i||o((function(){a.f(1)}))},{getOwnPropertySymbols:function(e){var t=a.f;return t?t(s(e)):[]}})},64790:function(e,t,n){var r=n(67768),i=n(92837),o=n(28385),a=n(24305),s=n(11586);r({target:"Object",stat:!0,forced:i((function(){a(1)})),sham:!s},{getPrototypeOf:function(e){return a(o(e))}})},39762:function(e,t,n){var r=n(67768),i=n(86643);r({target:"Object",stat:!0,forced:Object.isExtensible!==i},{isExtensible:i})},80340:function(e,t,n){var r=n(67768),i=n(92837),o=n(43931),a=n(82933),s=n(21531),l=Object.isFrozen;r({target:"Object",stat:!0,forced:i((function(){l(1)}))||s},{isFrozen:function(e){return!o(e)||(!(!s||"ArrayBuffer"!=a(e))||!!l&&l(e))}})},41635:function(e,t,n){var r=n(67768),i=n(92837),o=n(43931),a=n(82933),s=n(21531),l=Object.isSealed;r({target:"Object",stat:!0,forced:i((function(){l(1)}))||s},{isSealed:function(e){return!o(e)||(!(!s||"ArrayBuffer"!=a(e))||!!l&&l(e))}})},65084:function(e,t,n){var r=n(67768),i=n(28385),o=n(18084);r({target:"Object",stat:!0,forced:n(92837)((function(){o(1)}))},{keys:function(e){return o(i(e))}})},10827:function(e,t,n){"use strict";var r=n(67768),i=n(31196),o=n(16389),a=n(28385),s=n(54655),l=n(24305),u=n(32573).f;i&&r({target:"Object",proto:!0,forced:o},{__lookupGetter__:function(e){var t,n=a(this),r=s(e);do{if(t=u(n,r))return t.get}while(n=l(n))}})},28627:function(e,t,n){"use strict";var r=n(67768),i=n(31196),o=n(16389),a=n(28385),s=n(54655),l=n(24305),u=n(32573).f;i&&r({target:"Object",proto:!0,forced:o},{__lookupSetter__:function(e){var t,n=a(this),r=s(e);do{if(t=u(n,r))return t.set}while(n=l(n))}})},47067:function(e,t,n){var r=n(67768),i=n(43931),o=n(12499).onFreeze,a=n(7914),s=n(92837),l=Object.preventExtensions;r({target:"Object",stat:!0,forced:s((function(){l(1)})),sham:!a},{preventExtensions:function(e){return l&&i(e)?l(o(e)):e}})},98988:function(e,t,n){var r=n(67768),i=n(43931),o=n(12499).onFreeze,a=n(7914),s=n(92837),l=Object.seal;r({target:"Object",stat:!0,forced:s((function(){l(1)})),sham:!a},{seal:function(e){return l&&i(e)?l(o(e)):e}})},38283:function(e,t,n){n(67768)({target:"Object",stat:!0},{setPrototypeOf:n(4381)})},65202:function(e,t,n){var r=n(56042),i=n(17543),o=n(84289);r||i(Object.prototype,"toString",o,{unsafe:!0})},45620:function(e,t,n){var r=n(67768),i=n(19700).values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},74093:function(e,t,n){var r=n(67768),i=n(98056);r({global:!0,forced:parseFloat!=i},{parseFloat:i})},69765:function(e,t,n){var r=n(67768),i=n(29139);r({global:!0,forced:parseInt!=i},{parseInt:i})},40193:function(e,t,n){"use strict";var r=n(67768),i=n(98513),o=n(66724),a=n(30246),s=n(63752),l=n(54439);r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=a.f(t),r=n.resolve,u=n.reject,c=s((function(){var n=o(t.resolve),a=[],s=0,u=1;l(e,(function(e){var o=s++,l=!1;u++,i(n,t,e).then((function(e){l||(l=!0,a[o]={status:"fulfilled",value:e},--u||r(a))}),(function(e){l||(l=!0,a[o]={status:"rejected",reason:e},--u||r(a))}))})),--u||r(a)}));return c.error&&u(c.value),n.promise}})},57506:function(e,t,n){"use strict";var r=n(67768),i=n(98513),o=n(66724),a=n(30246),s=n(63752),l=n(54439);r({target:"Promise",stat:!0,forced:n(71321)},{all:function(e){var t=this,n=a.f(t),r=n.resolve,u=n.reject,c=s((function(){var n=o(t.resolve),a=[],s=0,c=1;l(e,(function(e){var o=s++,l=!1;c++,i(n,t,e).then((function(e){l||(l=!0,a[o]=e,--c||r(a))}),u)})),--c||r(a)}));return c.error&&u(c.value),n.promise}})},41766:function(e,t,n){"use strict";var r=n(67768),i=n(98513),o=n(66724),a=n(1240),s=n(30246),l=n(63752),u=n(54439),c="No one promise resolved";r({target:"Promise",stat:!0},{any:function(e){var t=this,n=a("AggregateError"),r=s.f(t),d=r.resolve,f=r.reject,h=l((function(){var r=o(t.resolve),a=[],s=0,l=1,h=!1;u(e,(function(e){var o=s++,u=!1;l++,i(r,t,e).then((function(e){u||h||(h=!0,d(e))}),(function(e){u||h||(u=!0,a[o]=e,--l||f(new n(a,c)))}))})),--l||f(new n(a,c))}));return h.error&&f(h.value),r.promise}})},90223:function(e,t,n){"use strict";var r=n(67768),i=n(23608),o=n(77426).CONSTRUCTOR,a=n(31),s=n(1240),l=n(39218),u=n(17543),c=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&l(a)){var d=s("Promise").prototype.catch;c.catch!==d&&u(c,"catch",d,{unsafe:!0})}},95072:function(e,t,n){"use strict";var r,i,o,a=n(67768),s=n(23608),l=n(31653),u=n(6840),c=n(98513),d=n(17543),f=n(4381),h=n(53370),p=n(52267),g=n(66724),m=n(39218),v=n(43931),y=n(14817),b=n(917),C=n(91625).set,S=n(24410),x=n(65995),I=n(63752),R=n(9033),w=n(49671),E=n(31),Z=n(77426),P=n(30246),T="Promise",A=Z.CONSTRUCTOR,M=Z.REJECTION_EVENT,k=Z.SUBCLASSING,G=w.getterFor(T),F=w.set,_=E&&E.prototype,D=E,U=_,O=u.TypeError,L=u.document,N=u.process,B=P.f,V=B,H=!!(L&&L.createEvent&&u.dispatchEvent),z="unhandledrejection",j=function(e){var t;return!(!v(e)||!m(t=e.then))&&t},W=function(e,t){var n,r,i,o=t.value,a=1==t.state,s=a?e.ok:e.fail,l=e.resolve,u=e.reject,d=e.domain;try{s?(a||(2===t.rejection&&Y(t),t.rejection=1),!0===s?n=o:(d&&d.enter(),n=s(o),d&&(d.exit(),i=!0)),n===e.promise?u(O("Promise-chain cycle")):(r=j(n))?c(r,n,l,u):l(n)):u(o)}catch(f){d&&!i&&d.exit(),u(f)}},q=function(e,t){e.notified||(e.notified=!0,S((function(){for(var n,r=e.reactions;n=r.get();)W(n,e);e.notified=!1,t&&!e.rejection&&K(e)})))},$=function(e,t,n){var r,i;H?((r=L.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},!M&&(i=u["on"+e])?i(r):e===z&&x("Unhandled promise rejection",n)},K=function(e){c(C,u,(function(){var t,n=e.facade,r=e.value;if(X(e)&&(t=I((function(){l?N.emit("unhandledRejection",r,n):$(z,n,r)})),e.rejection=l||X(e)?2:1,t.error))throw t.value}))},X=function(e){return 1!==e.rejection&&!e.parent},Y=function(e){c(C,u,(function(){var t=e.facade;l?N.emit("rejectionHandled",t):$("rejectionhandled",t,e.value)}))},Q=function(e,t,n){return function(r){e(t,r,n)}},J=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,q(e,!0))},ee=function e(t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===n)throw O("Promise can't be resolved itself");var i=j(n);i?S((function(){var r={done:!1};try{c(i,n,Q(e,r,t),Q(J,r,t))}catch(o){J(r,o,t)}})):(t.value=n,t.state=1,q(t,!1))}catch(o){J({done:!1},o,t)}}};if(A&&(U=(D=function(e){y(this,U),g(e),c(r,this);var t=G(this);try{e(Q(ee,t),Q(J,t))}catch(n){J(t,n)}}).prototype,(r=function(e){F(this,{type:T,done:!1,notified:!1,parent:!1,reactions:new R,rejection:!1,state:0,value:void 0})}).prototype=d(U,"then",(function(e,t){var n=G(this),r=B(b(this,D));return n.parent=!0,r.ok=!m(e)||e,r.fail=m(t)&&t,r.domain=l?N.domain:void 0,0==n.state?n.reactions.add(r):S((function(){W(r,n)})),r.promise})),i=function(){var e=new r,t=G(e);this.promise=e,this.resolve=Q(ee,t),this.reject=Q(J,t)},P.f=B=function(e){return e===D||undefined===e?new i(e):V(e)},!s&&m(E)&&_!==Object.prototype)){o=_.then,k||d(_,"then",(function(e,t){var n=this;return new D((function(e,t){c(o,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete _.constructor}catch(te){}f&&f(_,U)}a({global:!0,constructor:!0,wrap:!0,forced:A},{Promise:D}),h(D,T,!1,!0),p(T)},6998:function(e,t,n){"use strict";var r=n(67768),i=n(23608),o=n(31),a=n(92837),s=n(1240),l=n(39218),u=n(917),c=n(86321),d=n(17543),f=o&&o.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){f.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,s("Promise")),n=l(e);return this.then(n?function(n){return c(t,e()).then((function(){return n}))}:e,n?function(n){return c(t,e()).then((function(){throw n}))}:e)}}),!i&&l(o)){var h=s("Promise").prototype.finally;f.finally!==h&&d(f,"finally",h,{unsafe:!0})}},67675:function(e,t,n){n(95072),n(57506),n(90223),n(46522),n(38001),n(7510)},46522:function(e,t,n){"use strict";var r=n(67768),i=n(98513),o=n(66724),a=n(30246),s=n(63752),l=n(54439);r({target:"Promise",stat:!0,forced:n(71321)},{race:function(e){var t=this,n=a.f(t),r=n.reject,u=s((function(){var a=o(t.resolve);l(e,(function(e){i(a,t,e).then(n.resolve,r)}))}));return u.error&&r(u.value),n.promise}})},38001:function(e,t,n){"use strict";var r=n(67768),i=n(98513),o=n(30246);r({target:"Promise",stat:!0,forced:n(77426).CONSTRUCTOR},{reject:function(e){var t=o.f(this);return i(t.reject,void 0,e),t.promise}})},7510:function(e,t,n){"use strict";var r=n(67768),i=n(1240),o=n(23608),a=n(31),s=n(77426).CONSTRUCTOR,l=n(86321),u=i("Promise"),c=o&&!s;r({target:"Promise",stat:!0,forced:o||s},{resolve:function(e){return l(c&&this===u?a:this,e)}})},45947:function(e,t,n){var r=n(67768),i=n(86339),o=n(66724),a=n(45884);r({target:"Reflect",stat:!0,forced:!n(92837)((function(){Reflect.apply((function(){}))}))},{apply:function(e,t,n){return i(o(e),t,a(n))}})},44584:function(e,t,n){var r=n(67768),i=n(1240),o=n(86339),a=n(66448),s=n(10611),l=n(45884),u=n(43931),c=n(4385),d=n(92837),f=i("Reflect","construct"),h=Object.prototype,p=[].push,g=d((function(){function e(){}return!(f((function(){}),[],e)instanceof e)})),m=!d((function(){f((function(){}))})),v=g||m;r({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(e,t){s(e),l(t);var n=arguments.length<3?e:s(arguments[2]);if(m&&!g)return f(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return o(p,r,t),new(o(a,e,r))}var i=n.prototype,d=c(u(i)?i:h),v=o(e,d,t);return u(v)?v:d}})},72636:function(e,t,n){var r=n(67768),i=n(31196),o=n(45884),a=n(54655),s=n(91592);r({target:"Reflect",stat:!0,forced:n(92837)((function(){Reflect.defineProperty(s.f({},1,{value:1}),1,{value:2})})),sham:!i},{defineProperty:function(e,t,n){o(e);var r=a(t);o(n);try{return s.f(e,r,n),!0}catch(i){return!1}}})},70578:function(e,t,n){var r=n(67768),i=n(45884),o=n(32573).f;r({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var n=o(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},1506:function(e,t,n){var r=n(67768),i=n(31196),o=n(45884),a=n(32573);r({target:"Reflect",stat:!0,sham:!i},{getOwnPropertyDescriptor:function(e,t){return a.f(o(e),t)}})},39155:function(e,t,n){var r=n(67768),i=n(45884),o=n(24305);r({target:"Reflect",stat:!0,sham:!n(11586)},{getPrototypeOf:function(e){return o(i(e))}})},81916:function(e,t,n){var r=n(67768),i=n(98513),o=n(43931),a=n(45884),s=n(75989),l=n(32573),u=n(24305);r({target:"Reflect",stat:!0},{get:function e(t,n){var r,c,d=arguments.length<3?t:arguments[2];return a(t)===d?t[n]:(r=l.f(t,n))?s(r)?r.value:void 0===r.get?void 0:i(r.get,d):o(c=u(t))?e(c,n,d):void 0}})},40154:function(e,t,n){n(67768)({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})},28191:function(e,t,n){var r=n(67768),i=n(45884),o=n(86643);r({target:"Reflect",stat:!0},{isExtensible:function(e){return i(e),o(e)}})},69579:function(e,t,n){n(67768)({target:"Reflect",stat:!0},{ownKeys:n(17273)})},38358:function(e,t,n){var r=n(67768),i=n(1240),o=n(45884);r({target:"Reflect",stat:!0,sham:!n(7914)},{preventExtensions:function(e){o(e);try{var t=i("Object","preventExtensions");return t&&t(e),!0}catch(n){return!1}}})},98767:function(e,t,n){var r=n(67768),i=n(45884),o=n(56299),a=n(4381);a&&r({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){i(e),o(t);try{return a(e,t),!0}catch(n){return!1}}})},69005:function(e,t,n){var r=n(67768),i=n(98513),o=n(45884),a=n(43931),s=n(75989),l=n(92837),u=n(91592),c=n(32573),d=n(24305),f=n(72037);r({target:"Reflect",stat:!0,forced:l((function(){var e=function(){},t=u.f(new e,"a",{configurable:!0});return!1!==Reflect.set(e.prototype,"a",1,t)}))},{set:function e(t,n,r){var l,h,p,g=arguments.length<4?t:arguments[3],m=c.f(o(t),n);if(!m){if(a(h=d(t)))return e(h,n,r,g);m=f(0)}if(s(m)){if(!1===m.writable||!a(g))return!1;if(l=c.f(g,n)){if(l.get||l.set||!1===l.writable)return!1;l.value=r,u.f(g,n,l)}else u.f(g,n,f(0,r))}else{if(void 0===(p=m.set))return!1;i(p,g,r)}return!0}})},95979:function(e,t,n){var r=n(31196),i=n(6840),o=n(74932),a=n(96673),s=n(21527),l=n(63873),u=n(3772).f,c=n(68946),d=n(10670),f=n(86124),h=n(97667),p=n(8596),g=n(37105),m=n(17543),v=n(92837),y=n(73013),b=n(49671).enforce,C=n(52267),S=n(95028),x=n(12047),I=n(32063),R=S("match"),w=i.RegExp,E=w.prototype,Z=i.SyntaxError,P=o(E.exec),T=o("".charAt),A=o("".replace),M=o("".indexOf),k=o("".slice),G=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,F=/a/g,_=/a/g,D=new w(F)!==F,U=p.MISSED_STICKY,O=p.UNSUPPORTED_Y,L=r&&(!D||U||x||I||v((function(){return _[R]=!1,w(F)!=F||w(_)==_||"/a/i"!=w(F,"i")})));if(a("RegExp",L)){for(var N=function(e,t){var n,r,i,o,a,u,p=c(E,this),g=d(e),m=void 0===t,v=[],C=e;if(!p&&g&&m&&e.constructor===N)return e;if((g||c(E,e))&&(e=e.source,m&&(t=h(C))),e=void 0===e?"":f(e),t=void 0===t?"":f(t),C=e,x&&"dotAll"in F&&(r=!!t&&M(t,"s")>-1)&&(t=A(t,/s/g,"")),n=t,U&&"sticky"in F&&(i=!!t&&M(t,"y")>-1)&&O&&(t=A(t,/y/g,"")),I&&(o=function(e){for(var t,n=e.length,r=0,i="",o=[],a={},s=!1,l=!1,u=0,c="";r<=n;r++){if("\\"===(t=T(e,r)))t+=T(e,++r);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:P(G,k(e,r+1))&&(r+=2,l=!0),i+=t,u++;continue;case">"===t&&l:if(""===c||y(a,c))throw new Z("Invalid capture group name");a[c]=!0,o[o.length]=[c,u],l=!1,c="";continue}l?c+=t:i+=t}return[i,o]}(e),e=o[0],v=o[1]),a=s(w(e,t),p?this:E,N),(r||i||v.length)&&(u=b(a),r&&(u.dotAll=!0,u.raw=N(function(e){for(var t,n=e.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(t=T(e,r))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),i+=t):i+="[\\s\\S]":i+=t+T(e,++r);return i}(e),n)),i&&(u.sticky=!0),v.length&&(u.groups=v)),e!==C)try{l(a,"source",""===C?"(?:)":C)}catch(S){}return a},B=u(w),V=0;B.length>V;)g(N,w,B[V++]);E.constructor=N,N.prototype=E,m(i,"RegExp",N,{constructor:!0})}C("RegExp")},20447:function(e,t,n){"use strict";var r=n(67768),i=n(94087);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},40186:function(e,t,n){var r=n(6840),i=n(31196),o=n(50695),a=n(67687),s=n(92837),l=r.RegExp,u=l.prototype;i&&s((function(){var e=!0;try{l(".","d")}catch(s){e=!1}var t={},n="",r=e?"dgimsy":"gimsy",i=function(e,r){Object.defineProperty(t,e,{get:function(){return n+=r,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var a in e&&(o.hasIndices="d"),o)i(a,o[a]);return Object.getOwnPropertyDescriptor(u,"flags").get.call(t)!==r||n!==r}))&&o(u,"flags",{configurable:!0,get:a})},84208:function(e,t,n){"use strict";var r=n(23211).PROPER,i=n(17543),o=n(45884),a=n(86124),s=n(92837),l=n(97667),u="toString",c=RegExp.prototype.toString,d=s((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),f=r&&c.name!=u;(d||f)&&i(RegExp.prototype,u,(function(){var e=o(this);return"/"+a(e.source)+"/"+a(l(e))}),{unsafe:!0})},95012:function(e,t,n){"use strict";n(93309)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(13425))},36669:function(e,t,n){n(95012)},89118:function(e,t,n){"use strict";var r=n(67768),i=n(18424).codeAt;r({target:"String",proto:!0},{codePointAt:function(e){return i(this,e)}})},23898:function(e,t,n){"use strict";var r=n(67768),i=n(74932),o=n(32573).f,a=n(62347),s=n(86124),l=n(79693),u=n(2244),c=n(2525),d=n(23608),f=i("".endsWith),h=i("".slice),p=Math.min,g=c("endsWith");r({target:"String",proto:!0,forced:!(!d&&!g&&!!function(){var e=o(String.prototype,"endsWith");return e&&!e.writable}())&&!g},{endsWith:function(e){var t=s(u(this));l(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,i=void 0===n?r:p(a(n),r),o=s(e);return f?f(t,o,i):h(t,i-o.length,i)===o}})},67530:function(e,t,n){var r=n(67768),i=n(74932),o=n(41823),a=RangeError,s=String.fromCharCode,l=String.fromCodePoint,u=i([].join);r({target:"String",stat:!0,arity:1,forced:!!l&&1!=l.length},{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,i=0;r>i;){if(t=+arguments[i++],o(t,1114111)!==t)throw a(t+" is not a valid code point");n[i]=t<65536?s(t):s(55296+((t-=65536)>>10),t%1024+56320)}return u(n,"")}})},54121:function(e,t,n){"use strict";var r=n(67768),i=n(74932),o=n(79693),a=n(2244),s=n(86124),l=n(2525),u=i("".indexOf);r({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~u(s(a(this)),s(o(e)),arguments.length>1?arguments[1]:void 0)}})},59147:function(e,t,n){"use strict";var r=n(18424).charAt,i=n(86124),o=n(49671),a=n(32170),s="String Iterator",l=o.set,u=o.getterFor(s);a(String,"String",(function(e){l(this,{type:s,string:i(e),index:0})}),(function(){var e,t=u(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},81123:function(e,t,n){"use strict";var r=n(67768),i=n(98513),o=n(74932),a=n(41949),s=n(2244),l=n(62347),u=n(86124),c=n(45884),d=n(82933),f=n(10670),h=n(97667),p=n(23863),g=n(17543),m=n(92837),v=n(95028),y=n(917),b=n(35466),C=n(22781),S=n(49671),x=n(23608),I=v("matchAll"),R="RegExp String",w="RegExp String Iterator",E=S.set,Z=S.getterFor(w),P=RegExp.prototype,T=TypeError,A=o("".indexOf),M=o("".matchAll),k=!!M&&!m((function(){M("a",/./)})),G=a((function(e,t,n,r){E(this,{type:w,regexp:e,string:t,global:n,unicode:r,done:!1})}),R,(function(){var e=Z(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,n=e.string,r=C(t,n);return null===r?{value:void 0,done:e.done=!0}:e.global?(""===u(r[0])&&(t.lastIndex=b(n,l(t.lastIndex),e.unicode)),{value:r,done:!1}):(e.done=!0,{value:r,done:!1})})),F=function(e){var t,n,r,i=c(this),o=u(e),a=y(i,RegExp),s=u(h(i));return t=new a(a===RegExp?i.source:i,s),n=!!~A(s,"g"),r=!!~A(s,"u"),t.lastIndex=l(i.lastIndex),new G(t,o,n,r)};r({target:"String",proto:!0,forced:k},{matchAll:function(e){var t,n,r,o,a=s(this);if(null!=e){if(f(e)&&(t=u(s(h(e))),!~A(t,"g")))throw T("`.matchAll` does not allow non-global regexes");if(k)return M(a,e);if(void 0===(r=p(e,I))&&x&&"RegExp"==d(e)&&(r=F),r)return i(r,e,a)}else if(k)return M(a,e);return n=u(a),o=new RegExp(e,"g"),x?i(F,o,n):o[I](n)}}),x||I in P||g(P,I,F)},86245:function(e,t,n){"use strict";var r=n(98513),i=n(58093),o=n(45884),a=n(62347),s=n(86124),l=n(2244),u=n(23863),c=n(35466),d=n(22781);i("match",(function(e,t,n){return[function(t){var n=l(this),i=void 0==t?void 0:u(t,e);return i?r(i,t,n):new RegExp(t)[e](s(n))},function(e){var r=o(this),i=s(e),l=n(t,r,i);if(l.done)return l.value;if(!r.global)return d(r,i);var u=r.unicode;r.lastIndex=0;for(var f,h=[],p=0;null!==(f=d(r,i));){var g=s(f[0]);h[p]=g,""===g&&(r.lastIndex=c(i,a(r.lastIndex),u)),p++}return 0===p?null:h}]}))},31743:function(e,t,n){"use strict";var r=n(67768),i=n(19605).end;r({target:"String",proto:!0,forced:n(35106)},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},88905:function(e,t,n){"use strict";var r=n(67768),i=n(19605).start;r({target:"String",proto:!0,forced:n(35106)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},17987:function(e,t,n){var r=n(67768),i=n(74932),o=n(45770),a=n(28385),s=n(86124),l=n(23385),u=i([].push),c=i([].join);r({target:"String",stat:!0},{raw:function(e){for(var t=o(a(e).raw),n=l(t),r=arguments.length,i=[],d=0;n>d;){if(u(i,s(t[d++])),d===n)return c(i,"");d<r&&u(i,s(arguments[d]))}}})},80445:function(e,t,n){n(67768)({target:"String",proto:!0},{repeat:n(7729)})},41504:function(e,t,n){"use strict";var r=n(67768),i=n(98513),o=n(74932),a=n(2244),s=n(39218),l=n(10670),u=n(86124),c=n(23863),d=n(97667),f=n(17794),h=n(95028),p=n(23608),g=h("replace"),m=TypeError,v=o("".indexOf),y=o("".replace),b=o("".slice),C=Math.max,S=function(e,t,n){return n>e.length?-1:""===t?n:v(e,t,n)};r({target:"String",proto:!0},{replaceAll:function(e,t){var n,r,o,h,x,I,R,w,E,Z=a(this),P=0,T=0,A="";if(null!=e){if((n=l(e))&&(r=u(a(d(e))),!~v(r,"g")))throw m("`.replaceAll` does not allow non-global regexes");if(o=c(e,g))return i(o,e,Z,t);if(p&&n)return y(u(Z),e,t)}for(h=u(Z),x=u(e),(I=s(t))||(t=u(t)),R=x.length,w=C(1,R),P=S(h,x,0);-1!==P;)E=I?u(t(x,P,h)):f(x,h,P,[],void 0,t),A+=b(h,T,P)+E,T=P+R,P=S(h,x,P+w);return T<h.length&&(A+=b(h,T)),A}})},54178:function(e,t,n){"use strict";var r=n(86339),i=n(98513),o=n(74932),a=n(58093),s=n(92837),l=n(45884),u=n(39218),c=n(92128),d=n(62347),f=n(86124),h=n(2244),p=n(35466),g=n(23863),m=n(17794),v=n(22781),y=n(95028)("replace"),b=Math.max,C=Math.min,S=o([].concat),x=o([].push),I=o("".indexOf),R=o("".slice),w="$0"==="a".replace(/./,"$0"),E=!!/./[y]&&""===/./[y]("a","$0");a("replace",(function(e,t,n){var o=E?"$":"$0";return[function(e,n){var r=h(this),o=void 0==e?void 0:g(e,y);return o?i(o,e,r,n):i(t,f(r),e,n)},function(e,i){var a=l(this),s=f(e);if("string"==typeof i&&-1===I(i,o)&&-1===I(i,"$<")){var h=n(t,a,s,i);if(h.done)return h.value}var g=u(i);g||(i=f(i));var y=a.global;if(y){var w=a.unicode;a.lastIndex=0}for(var E=[];;){var Z=v(a,s);if(null===Z)break;if(x(E,Z),!y)break;""===f(Z[0])&&(a.lastIndex=p(s,d(a.lastIndex),w))}for(var P,T="",A=0,M=0;M<E.length;M++){for(var k=f((Z=E[M])[0]),G=b(C(c(Z.index),s.length),0),F=[],_=1;_<Z.length;_++)x(F,void 0===(P=Z[_])?P:String(P));var D=Z.groups;if(g){var U=S([k],F,G,s);void 0!==D&&x(U,D);var O=f(r(i,void 0,U))}else O=m(k,s,G,F,D,i);G>=A&&(T+=R(s,A,G)+O,A=G+k.length)}return T+R(s,A)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!w||E)},9994:function(e,t,n){"use strict";var r=n(98513),i=n(58093),o=n(45884),a=n(2244),s=n(58362),l=n(86124),u=n(23863),c=n(22781);i("search",(function(e,t,n){return[function(t){var n=a(this),i=void 0==t?void 0:u(t,e);return i?r(i,t,n):new RegExp(t)[e](l(n))},function(e){var r=o(this),i=l(e),a=n(t,r,i);if(a.done)return a.value;var u=r.lastIndex;s(u,0)||(r.lastIndex=0);var d=c(r,i);return s(r.lastIndex,u)||(r.lastIndex=u),null===d?-1:d.index}]}))},52872:function(e,t,n){"use strict";var r=n(86339),i=n(98513),o=n(74932),a=n(58093),s=n(10670),l=n(45884),u=n(2244),c=n(917),d=n(35466),f=n(62347),h=n(86124),p=n(23863),g=n(43278),m=n(22781),v=n(94087),y=n(8596),b=n(92837),C=y.UNSUPPORTED_Y,S=4294967295,x=Math.min,I=[].push,R=o(/./.exec),w=o(I),E=o("".slice),Z=!b((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));a("split",(function(e,t,n){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var o=h(u(this)),a=void 0===n?S:n>>>0;if(0===a)return[];if(void 0===e)return[o];if(!s(e))return i(t,o,e,a);for(var l,c,d,f=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,y=new RegExp(e.source,p+"g");(l=i(v,y,o))&&!((c=y.lastIndex)>m&&(w(f,E(o,m,l.index)),l.length>1&&l.index<o.length&&r(I,f,g(l,1)),d=l[0].length,m=c,f.length>=a));)y.lastIndex===l.index&&y.lastIndex++;return m===o.length?!d&&R(y,"")||w(f,""):w(f,E(o,m)),f.length>a?g(f,0,a):f}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:i(t,this,e,n)}:t,[function(t,n){var r=u(this),a=void 0==t?void 0:p(t,e);return a?i(a,t,r,n):i(o,h(r),t,n)},function(e,r){var i=l(this),a=h(e),s=n(o,i,a,r,o!==t);if(s.done)return s.value;var u=c(i,RegExp),p=i.unicode,g=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(C?"g":"y"),v=new u(C?"^(?:"+i.source+")":i,g),y=void 0===r?S:r>>>0;if(0===y)return[];if(0===a.length)return null===m(v,a)?[a]:[];for(var b=0,I=0,R=[];I<a.length;){v.lastIndex=C?0:I;var Z,P=m(v,C?E(a,I):a);if(null===P||(Z=x(f(v.lastIndex+(C?I:0)),a.length))===b)I=d(a,I,p);else{if(w(R,E(a,b,I)),R.length===y)return R;for(var T=1;T<=P.length-1;T++)if(w(R,P[T]),R.length===y)return R;I=b=Z}}return w(R,E(a,b)),R}]}),!Z,C)},50288:function(e,t,n){"use strict";var r=n(67768),i=n(74932),o=n(32573).f,a=n(62347),s=n(86124),l=n(79693),u=n(2244),c=n(2525),d=n(23608),f=i("".startsWith),h=i("".slice),p=Math.min,g=c("startsWith");r({target:"String",proto:!0,forced:!(!d&&!g&&!!function(){var e=o(String.prototype,"startsWith");return e&&!e.writable}())&&!g},{startsWith:function(e){var t=s(u(this));l(e);var n=a(p(arguments.length>1?arguments[1]:void 0,t.length)),r=s(e);return f?f(t,r,n):h(t,n,n+r.length)===r}})},69104:function(e,t,n){n(97385);var r=n(67768),i=n(69556);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==i},{trimEnd:i})},17167:function(e,t,n){var r=n(67768),i=n(89257);r({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==i},{trimLeft:i})},97385:function(e,t,n){var r=n(67768),i=n(69556);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==i},{trimRight:i})},27222:function(e,t,n){n(17167);var r=n(67768),i=n(89257);r({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==i},{trimStart:i})},32934:function(e,t,n){"use strict";var r=n(67768),i=n(56889).trim;r({target:"String",proto:!0,forced:n(21879)("trim")},{trim:function(){return i(this)}})},21204:function(e,t,n){n(84418)("asyncIterator")},7550:function(e,t,n){"use strict";var r=n(67768),i=n(6840),o=n(98513),a=n(74932),s=n(23608),l=n(31196),u=n(63991),c=n(92837),d=n(73013),f=n(68946),h=n(45884),p=n(45770),g=n(54655),m=n(86124),v=n(72037),y=n(4385),b=n(18084),C=n(3772),S=n(8910),x=n(60400),I=n(32573),R=n(91592),w=n(61697),E=n(28306),Z=n(17543),P=n(91778),T=n(89378),A=n(56196),M=n(24839),k=n(95028),G=n(21384),F=n(84418),_=n(32745),D=n(53370),U=n(49671),O=n(5880).forEach,L=T("hidden"),N="Symbol",B=U.set,V=U.getterFor(N),H=Object.prototype,z=i.Symbol,j=z&&z.prototype,W=i.TypeError,q=i.QObject,$=I.f,K=R.f,X=S.f,Y=E.f,Q=a([].push),J=P("symbols"),ee=P("op-symbols"),te=P("wks"),ne=!q||!q.prototype||!q.prototype.findChild,re=l&&c((function(){return 7!=y(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=$(H,t);r&&delete H[t],K(e,t,n),r&&e!==H&&K(H,t,r)}:K,ie=function(e,t){var n=J[e]=y(j);return B(n,{type:N,tag:e,description:t}),l||(n.description=t),n},oe=function(e,t,n){e===H&&oe(ee,t,n),h(e);var r=g(t);return h(n),d(J,r)?(n.enumerable?(d(e,L)&&e[L][r]&&(e[L][r]=!1),n=y(n,{enumerable:v(0,!1)})):(d(e,L)||K(e,L,v(1,{})),e[L][r]=!0),re(e,r,n)):K(e,r,n)},ae=function(e,t){h(e);var n=p(t),r=b(n).concat(ce(n));return O(r,(function(t){l&&!o(se,n,t)||oe(e,t,n[t])})),e},se=function(e){var t=g(e),n=o(Y,this,t);return!(this===H&&d(J,t)&&!d(ee,t))&&(!(n||!d(this,t)||!d(J,t)||d(this,L)&&this[L][t])||n)},le=function(e,t){var n=p(e),r=g(t);if(n!==H||!d(J,r)||d(ee,r)){var i=$(n,r);return!i||!d(J,r)||d(n,L)&&n[L][r]||(i.enumerable=!0),i}},ue=function(e){var t=X(p(e)),n=[];return O(t,(function(e){d(J,e)||d(A,e)||Q(n,e)})),n},ce=function(e){var t=e===H,n=X(t?ee:p(e)),r=[];return O(n,(function(e){!d(J,e)||t&&!d(H,e)||Q(r,J[e])})),r};u||(z=function(){if(f(j,this))throw W("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?m(arguments[0]):void 0,t=M(e),n=function e(n){this===H&&o(e,ee,n),d(this,L)&&d(this[L],t)&&(this[L][t]=!1),re(this,t,v(1,n))};return l&&ne&&re(H,t,{configurable:!0,set:n}),ie(t,e)},Z(j=z.prototype,"toString",(function(){return V(this).tag})),Z(z,"withoutSetter",(function(e){return ie(M(e),e)})),E.f=se,R.f=oe,w.f=ae,I.f=le,C.f=S.f=ue,x.f=ce,G.f=function(e){return ie(k(e),e)},l&&(K(j,"description",{configurable:!0,get:function(){return V(this).description}}),s||Z(H,"propertyIsEnumerable",se,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:z}),O(b(te),(function(e){F(e)})),r({target:N,stat:!0,forced:!u},{useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!l},{create:function(e,t){return void 0===t?y(e):ae(y(e),t)},defineProperty:oe,defineProperties:ae,getOwnPropertyDescriptor:le}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ue}),_(),D(z,N),A[L]=!0},4772:function(e,t,n){"use strict";var r=n(67768),i=n(31196),o=n(6840),a=n(74932),s=n(73013),l=n(39218),u=n(68946),c=n(86124),d=n(91592).f,f=n(90189),h=o.Symbol,p=h&&h.prototype;if(i&&l(h)&&(!("description"in p)||void 0!==h().description)){var g={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:c(arguments[0]),t=u(p,this)?new h(e):void 0===e?h():h(e);return""===e&&(g[t]=!0),t};f(m,h),m.prototype=p,p.constructor=m;var v="Symbol(test)"==String(h("test")),y=a(p.toString),b=a(p.valueOf),C=/^Symbol\((.*)\)[^)]+$/,S=a("".replace),x=a("".slice);d(p,"description",{configurable:!0,get:function(){var e=b(this),t=y(e);if(s(g,e))return"";var n=v?x(t,7,-1):S(t,C,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:m})}},50104:function(e,t,n){var r=n(67768),i=n(1240),o=n(73013),a=n(86124),s=n(91778),l=n(94390),u=s("string-to-symbol-registry"),c=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{for:function(e){var t=a(e);if(o(u,t))return u[t];var n=i("Symbol")(t);return u[t]=n,c[n]=t,n}})},55940:function(e,t,n){n(84418)("hasInstance")},55741:function(e,t,n){n(84418)("isConcatSpreadable")},85625:function(e,t,n){n(84418)("iterator")},18116:function(e,t,n){n(7550),n(50104),n(57649),n(8344),n(91565)},57649:function(e,t,n){var r=n(67768),i=n(73013),o=n(28287),a=n(81772),s=n(91778),l=n(94390),u=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{keyFor:function(e){if(!o(e))throw TypeError(a(e)+" is not a symbol");if(i(u,e))return u[e]}})},22372:function(e,t,n){n(84418)("match")},20729:function(e,t,n){n(84418)("replace")},94458:function(e,t,n){n(84418)("search")},50025:function(e,t,n){n(84418)("species")},7281:function(e,t,n){n(84418)("split")},64567:function(e,t,n){var r=n(84418),i=n(32745);r("toPrimitive"),i()},23640:function(e,t,n){var r=n(1240),i=n(84418),o=n(53370);i("toStringTag"),o(r("Symbol"),"Symbol")},94209:function(e,t,n){n(84418)("unscopables")},55790:function(e,t,n){"use strict";var r=n(74932),i=n(93866),o=r(n(54739)),a=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(e,t){return o(a(this),e,t,arguments.length>2?arguments[2]:void 0)}))},56678:function(e,t,n){"use strict";var r=n(93866),i=n(5880).every,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},74847:function(e,t,n){"use strict";var r=n(93866),i=n(56012),o=n(69818),a=n(37205),s=n(98513),l=n(74932),u=n(92837),c=r.aTypedArray,d=r.exportTypedArrayMethod,f=l("".slice);d("fill",(function(e){var t=arguments.length;c(this);var n="Big"===f(a(this),0,3)?o(e):+e;return s(i,this,n,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),u((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},48884:function(e,t,n){"use strict";var r=n(93866),i=n(5880).filter,o=n(53702),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",(function(e){var t=i(a(this),e,arguments.length>1?arguments[1]:void 0);return o(this,t)}))},15669:function(e,t,n){"use strict";var r=n(93866),i=n(5880).findIndex,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},67582:function(e,t,n){"use strict";var r=n(93866),i=n(5880).find,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},69943:function(e,t,n){n(2859)("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},42172:function(e,t,n){n(2859)("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},40014:function(e,t,n){"use strict";var r=n(93866),i=n(5880).forEach,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(e){i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},56340:function(e,t,n){"use strict";var r=n(36255);(0,n(93866).exportTypedArrayStaticMethod)("from",n(44137),r)},45927:function(e,t,n){"use strict";var r=n(93866),i=n(70488).includes,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},78850:function(e,t,n){"use strict";var r=n(93866),i=n(70488).indexOf,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},7181:function(e,t,n){n(2859)("Int16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},63557:function(e,t,n){n(2859)("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},91905:function(e,t,n){n(2859)("Int8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},697:function(e,t,n){"use strict";var r=n(6840),i=n(92837),o=n(74932),a=n(93866),s=n(18887),l=n(95028)("iterator"),u=r.Uint8Array,c=o(s.values),d=o(s.keys),f=o(s.entries),h=a.aTypedArray,p=a.exportTypedArrayMethod,g=u&&u.prototype,m=!i((function(){g[l].call([1])})),v=!!g&&g.values&&g[l]===g.values&&"values"===g.values.name,y=function(){return c(h(this))};p("entries",(function(){return f(h(this))}),m),p("keys",(function(){return d(h(this))}),m),p("values",y,m||!v,{name:"values"}),p(l,y,m||!v,{name:"values"})},53517:function(e,t,n){"use strict";var r=n(93866),i=n(74932),o=r.aTypedArray,a=r.exportTypedArrayMethod,s=i([].join);a("join",(function(e){return s(o(this),e)}))},68591:function(e,t,n){"use strict";var r=n(93866),i=n(86339),o=n(2561),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(e){var t=arguments.length;return i(o,a(this),t>1?[e,arguments[1]]:[e])}))},44516:function(e,t,n){"use strict";var r=n(93866),i=n(5880).map,o=n(87349),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("map",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(o(e))(t)}))}))},92981:function(e,t,n){"use strict";var r=n(93866),i=n(36255),o=r.aTypedArrayConstructor;(0,r.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,n=new(o(this))(t);t>e;)n[e]=arguments[e++];return n}),i)},5977:function(e,t,n){"use strict";var r=n(93866),i=n(94512).right,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(e){var t=arguments.length;return i(o(this),e,t,t>1?arguments[1]:void 0)}))},51937:function(e,t,n){"use strict";var r=n(93866),i=n(94512).left,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(e){var t=arguments.length;return i(o(this),e,t,t>1?arguments[1]:void 0)}))},71283:function(e,t,n){"use strict";var r=n(93866),i=r.aTypedArray,o=r.exportTypedArrayMethod,a=Math.floor;o("reverse",(function(){for(var e,t=this,n=i(t).length,r=a(n/2),o=0;o<r;)e=t[o],t[o++]=t[--n],t[n]=e;return t}))},86332:function(e,t,n){"use strict";var r=n(6840),i=n(98513),o=n(93866),a=n(23385),s=n(25303),l=n(28385),u=n(92837),c=r.RangeError,d=r.Int8Array,f=d&&d.prototype,h=f&&f.set,p=o.aTypedArray,g=o.exportTypedArrayMethod,m=!u((function(){var e=new Uint8ClampedArray(2);return i(h,e,{length:1,0:3},1),3!==e[1]})),v=m&&o.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var e=new d(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));g("set",(function(e){p(this);var t=s(arguments.length>1?arguments[1]:void 0,1),n=l(e);if(m)return i(h,this,n,t);var r=this.length,o=a(n),u=0;if(o+t>r)throw c("Wrong length");for(;u<o;)this[t+u]=n[u++]}),!m||v)},32040:function(e,t,n){"use strict";var r=n(93866),i=n(87349),o=n(92837),a=n(15618),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("slice",(function(e,t){for(var n=a(s(this),e,t),r=i(this),o=0,l=n.length,u=new r(l);l>o;)u[o]=n[o++];return u}),o((function(){new Int8Array(1).slice()})))},20718:function(e,t,n){"use strict";var r=n(93866),i=n(5880).some,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},54777:function(e,t,n){"use strict";var r=n(6840),i=n(74932),o=n(92837),a=n(66724),s=n(47732),l=n(93866),u=n(58336),c=n(64891),d=n(65372),f=n(24469),h=l.aTypedArray,p=l.exportTypedArrayMethod,g=r.Uint16Array,m=g&&i(g.prototype.sort),v=!!m&&!(o((function(){m(new g(2),null)}))&&o((function(){m(new g(2),{})}))),y=!!m&&!o((function(){if(d)return d<74;if(u)return u<67;if(c)return!0;if(f)return f<602;var e,t,n=new g(516),r=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(m(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0}));p("sort",(function(e){return void 0!==e&&a(e),y?m(this,e):s(h(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!==n?-1:t!==t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!y||v)},31447:function(e,t,n){"use strict";var r=n(6840),i=n(86339),o=n(93866),a=n(92837),s=n(15618),l=r.Int8Array,u=o.aTypedArray,c=o.exportTypedArrayMethod,d=[].toLocaleString,f=!!l&&a((function(){d.call(new l(1))}));c("toLocaleString",(function(){return i(d,f?s(u(this)):u(this),s(arguments))}),a((function(){return[1,2].toLocaleString()!=new l([1,2]).toLocaleString()}))||!a((function(){l.prototype.toLocaleString.call([1,2])})))},44319:function(e,t,n){"use strict";var r=n(93866).exportTypedArrayMethod,i=n(92837),o=n(6840),a=n(74932),s=o.Uint8Array,l=s&&s.prototype||{},u=[].toString,c=a([].join);i((function(){u.call({})}))&&(u=function(){return c(this)});var d=l.toString!=u;r("toString",u,d)},39636:function(e,t,n){n(2859)("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},78190:function(e,t,n){n(2859)("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},73966:function(e,t,n){n(2859)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},66053:function(e,t,n){n(2859)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},21400:function(e,t,n){"use strict";var r,i=n(6840),o=n(74932),a=n(7544),s=n(12499),l=n(93309),u=n(20322),c=n(43931),d=n(86643),f=n(49671).enforce,h=n(45242),p=!i.ActiveXObject&&"ActiveXObject"in i,g=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},m=l("WeakMap",g,u);if(h&&p){r=u.getConstructor(g,"WeakMap",!0),s.enable();var v=m.prototype,y=o(v.delete),b=o(v.has),C=o(v.get),S=o(v.set);a(v,{delete:function(e){if(c(e)&&!d(e)){var t=f(this);return t.frozen||(t.frozen=new r),y(this,e)||t.frozen.delete(e)}return y(this,e)},has:function(e){if(c(e)&&!d(e)){var t=f(this);return t.frozen||(t.frozen=new r),b(this,e)||t.frozen.has(e)}return b(this,e)},get:function(e){if(c(e)&&!d(e)){var t=f(this);return t.frozen||(t.frozen=new r),b(this,e)?C(this,e):t.frozen.get(e)}return C(this,e)},set:function(e,t){if(c(e)&&!d(e)){var n=f(this);n.frozen||(n.frozen=new r),b(this,e)?S(this,e,t):n.frozen.set(e,t)}else S(this,e,t);return this}})}},87952:function(e,t,n){n(21400)},26883:function(e,t,n){"use strict";n(93309)("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(20322))},43116:function(e,t,n){n(26883)},98047:function(e,t,n){n(68766)},45286:function(e,t,n){"use strict";var r=n(31196),i=n(35715),o=n(28385),a=n(23385),s=n(50695);r&&(s(Array.prototype,"lastIndex",{configurable:!0,get:function(){var e=o(this),t=a(e);return 0==t?0:t-1}}),i("lastIndex"))},86035:function(e,t,n){"use strict";var r=n(31196),i=n(35715),o=n(28385),a=n(23385),s=n(50695);r&&(s(Array.prototype,"lastItem",{configurable:!0,get:function(){var e=o(this),t=a(e);return 0==t?void 0:e[t-1]},set:function(e){var t=o(this),n=a(t);return t[0==n?0:n-1]=e}}),i("lastItem"))},83438:function(e,t,n){var r=n(67768),i=n(86339),o=n(99841),a=n(1240),s=n(4385),l=Object,u=function(){var e=a("Object","freeze");return e?e(s(null)):s(null)};r({global:!0,forced:!0},{compositeKey:function(){return i(o,l,arguments).get("object",u)}})},37564:function(e,t,n){var r=n(67768),i=n(99841),o=n(1240),a=n(86339);r({global:!0,forced:!0},{compositeSymbol:function(){return 1==arguments.length&&"string"==typeof arguments[0]?o("Symbol").for(arguments[0]):a(i,null,arguments).get("symbol",o("Symbol"))}})},15501:function(e,t,n){n(81506)},4116:function(e,t,n){"use strict";n(67768)({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:n(46785)})},51325:function(e,t,n){"use strict";var r=n(67768),i=n(45884),o=n(5851),a=n(83317),s=n(54439);r({target:"Map",proto:!0,real:!0,forced:!0},{every:function(e){var t=i(this),n=a(t),r=o(e,arguments.length>1?arguments[1]:void 0);return!s(n,(function(e,n,i){if(!r(n,e,t))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},32e3:function(e,t,n){"use strict";var r=n(67768),i=n(1240),o=n(5851),a=n(98513),s=n(66724),l=n(45884),u=n(917),c=n(83317),d=n(54439);r({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(e){var t=l(this),n=c(t),r=o(e,arguments.length>1?arguments[1]:void 0),f=new(u(t,i("Map"))),h=s(f.set);return d(n,(function(e,n){r(n,e,t)&&a(h,f,e,n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),f}})},34075:function(e,t,n){"use strict";var r=n(67768),i=n(45884),o=n(5851),a=n(83317),s=n(54439);r({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(e){var t=i(this),n=a(t),r=o(e,arguments.length>1?arguments[1]:void 0);return s(n,(function(e,n,i){if(r(n,e,t))return i(e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},39699:function(e,t,n){"use strict";var r=n(67768),i=n(45884),o=n(5851),a=n(83317),s=n(54439);r({target:"Map",proto:!0,real:!0,forced:!0},{find:function(e){var t=i(this),n=a(t),r=o(e,arguments.length>1?arguments[1]:void 0);return s(n,(function(e,n,i){if(r(n,e,t))return i(n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},31274:function(e,t,n){n(67768)({target:"Map",stat:!0,forced:!0},{from:n(86379)})},23232:function(e,t,n){"use strict";var r=n(67768),i=n(98513),o=n(74932),a=n(66724),s=n(78131),l=n(54439),u=o([].push);r({target:"Map",stat:!0,forced:!0},{groupBy:function(e,t){a(t);var n=s(e),r=new this,o=a(r.has),c=a(r.get),d=a(r.set);return l(n,(function(e){var n=t(e);i(o,r,n)?u(i(c,r,n),e):i(d,r,n,[e])}),{IS_ITERATOR:!0}),r}})},7862:function(e,t,n){"use strict";var r=n(67768),i=n(45884),o=n(83317),a=n(6316),s=n(54439);r({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(e){return s(o(i(this)),(function(t,n,r){if(a(n,e))return r()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},94357:function(e,t,n){"use strict";var r=n(67768),i=n(98513),o=n(54439),a=n(66724);r({target:"Map",stat:!0,forced:!0},{keyBy:function(e,t){var n=new this;a(t);var r=a(n.set);return o(e,(function(e){i(r,n,t(e),e)})),n}})},68458:function(e,t,n){"use strict";var r=n(67768),i=n(45884),o=n(83317),a=n(54439);r({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(e){return a(o(i(this)),(function(t,n,r){if(n===e)return r(t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},88902:function(e,t,n){"use strict";var r=n(67768),i=n(1240),o=n(5851),a=n(98513),s=n(66724),l=n(45884),u=n(917),c=n(83317),d=n(54439);r({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(e){var t=l(this),n=c(t),r=o(e,arguments.length>1?arguments[1]:void 0),f=new(u(t,i("Map"))),h=s(f.set);return d(n,(function(e,n){a(h,f,r(n,e,t),n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),f}})},84358:function(e,t,n){"use strict";var r=n(67768),i=n(1240),o=n(5851),a=n(98513),s=n(66724),l=n(45884),u=n(917),c=n(83317),d=n(54439);r({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(e){var t=l(this),n=c(t),r=o(e,arguments.length>1?arguments[1]:void 0),f=new(u(t,i("Map"))),h=s(f.set);return d(n,(function(e,n){a(h,f,e,r(n,e,t))}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),f}})},95509:function(e,t,n){"use strict";var r=n(67768),i=n(66724),o=n(45884),a=n(54439);r({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(e){for(var t=o(this),n=i(t.set),r=arguments.length,s=0;s<r;)a(arguments[s++],n,{that:t,AS_ENTRIES:!0});return t}})},3570:function(e,t,n){n(67768)({target:"Map",stat:!0,forced:!0},{of:n(92e3)})},39865:function(e,t,n){"use strict";var r=n(67768),i=n(45884),o=n(66724),a=n(83317),s=n(54439),l=TypeError;r({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=i(this),n=a(t),r=arguments.length<2,u=r?void 0:arguments[1];if(o(e),s(n,(function(n,i){r?(r=!1,u=i):u=e(u,i,n,t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),r)throw l("Reduce of empty map with no initial value");return u}})},1563:function(e,t,n){"use strict";var r=n(67768),i=n(45884),o=n(5851),a=n(83317),s=n(54439);r({target:"Map",proto:!0,real:!0,forced:!0},{some:function(e){var t=i(this),n=a(t),r=o(e,arguments.length>1?arguments[1]:void 0);return s(n,(function(e,n,i){if(r(n,e,t))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},27078:function(e,t,n){"use strict";var r=n(67768),i=n(98513),o=n(45884),a=n(66724),s=TypeError;r({target:"Map",proto:!0,real:!0,forced:!0},{update:function(e,t){var n=o(this),r=a(n.get),l=a(n.has),u=a(n.set),c=arguments.length;a(t);var d=i(l,n,e);if(!d&&c<3)throw s("Updating absent value");var f=d?i(r,n,e):a(c>2?arguments[2]:void 0)(e,n);return i(u,n,e,t(f,e,n)),n}})},77247:function(e,t,n){var r=n(67768),i=Math.min,o=Math.max;r({target:"Math",stat:!0,forced:!0},{clamp:function(e,t,n){return i(n,o(t,e))}})},86430:function(e,t,n){n(67768)({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{DEG_PER_RAD:Math.PI/180})},67568:function(e,t,n){var r=n(67768),i=180/Math.PI;r({target:"Math",stat:!0,forced:!0},{degrees:function(e){return e*i}})},96375:function(e,t,n){var r=n(67768),i=n(47623),o=n(55270);r({target:"Math",stat:!0,forced:!0},{fscale:function(e,t,n,r,a){return o(i(e,t,n,r,a))}})},46072:function(e,t,n){n(67768)({target:"Math",stat:!0,forced:!0},{iaddh:function(e,t,n,r){var i=e>>>0,o=n>>>0;return(t>>>0)+(r>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},90120:function(e,t,n){n(67768)({target:"Math",stat:!0,forced:!0},{imulh:function(e,t){var n=65535,r=+e,i=+t,o=r&n,a=i&n,s=r>>16,l=i>>16,u=(s*a>>>0)+(o*a>>>16);return s*l+(u>>16)+((o*l>>>0)+(u&n)>>16)}})},55153:function(e,t,n){n(67768)({target:"Math",stat:!0,forced:!0},{isubh:function(e,t,n,r){var i=e>>>0,o=n>>>0;return(t>>>0)-(r>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},70511:function(e,t,n){n(67768)({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{RAD_PER_DEG:180/Math.PI})},79510:function(e,t,n){var r=n(67768),i=Math.PI/180;r({target:"Math",stat:!0,forced:!0},{radians:function(e){return e*i}})},51889:function(e,t,n){n(67768)({target:"Math",stat:!0,forced:!0},{scale:n(47623)})},65714:function(e,t,n){var r=n(67768),i=n(45884),o=n(3431),a=n(41949),s=n(49671),l="Seeded Random",u="Seeded Random Generator",c=s.set,d=s.getterFor(u),f=TypeError,h=a((function(e){c(this,{type:u,seed:e%2147483647})}),l,(function(){var e=d(this);return{value:(1073741823&(e.seed=(1103515245*e.seed+12345)%2147483647))/1073741823,done:!1}}));r({target:"Math",stat:!0,forced:!0},{seededPRNG:function(e){var t=i(e).seed;if(!o(t))throw f('Math.seededPRNG() argument should have a "seed" field with a finite value.');return new h(t)}})},11480:function(e,t,n){n(67768)({target:"Math",stat:!0,forced:!0},{signbit:function(e){var t=+e;return t==t&&0==t?1/t==-1/0:t<0}})},1522:function(e,t,n){n(67768)({target:"Math",stat:!0,forced:!0},{umulh:function(e,t){var n=65535,r=+e,i=+t,o=r&n,a=i&n,s=r>>>16,l=i>>>16,u=(s*a>>>0)+(o*a>>>16);return s*l+(u>>>16)+((o*l>>>0)+(u&n)>>>16)}})},37374:function(e,t,n){"use strict";var r=n(67768),i=n(74932),o=n(92128),a=n(29139),s="Invalid number representation",l=RangeError,u=SyntaxError,c=TypeError,d=/^[\da-z]+$/,f=i("".charAt),h=i(d.exec),p=i(1..toString),g=i("".slice);r({target:"Number",stat:!0,forced:!0},{fromString:function(e,t){var n,r,i=1;if("string"!=typeof e)throw c(s);if(!e.length)throw u(s);if("-"==f(e,0)&&(i=-1,!(e=g(e,1)).length))throw u(s);if((n=void 0===t?10:o(t))<2||n>36)throw l("Invalid radix");if(!h(d,e)||p(r=a(e,n),n)!==e)throw u(s);return i*r}})},50907:function(e,t,n){"use strict";var r=n(67768),i=n(98513),o=n(31196),a=n(52267),s=n(66724),l=n(39218),u=n(45884),c=n(43931),d=n(14817),f=n(23863),h=n(17543),p=n(7544),g=n(50695),m=n(65995),v=n(95028),y=n(49671),b=n(11591),C=v("observable"),S="Observable",x="Subscription",I="SubscriptionObserver",R=y.getterFor,w=y.set,E=R(S),Z=R(x),P=R(I),T=function(e){this.observer=u(e),this.cleanup=void 0,this.subscriptionObserver=void 0};T.prototype={type:x,clean:function(){var e=this.cleanup;if(e){this.cleanup=void 0;try{e()}catch(t){m(t)}}},close:function(){if(!o){var e=this.facade,t=this.subscriptionObserver;e.closed=!0,t&&(t.closed=!0)}this.observer=void 0},isClosed:function(){return void 0===this.observer}};var A=function(e,t){var n,r=w(this,new T(e));o||(this.closed=!1);try{(n=f(e,"start"))&&i(n,e,this)}catch(d){m(d)}if(!r.isClosed()){var a=r.subscriptionObserver=new M(r);try{var u=t(a),c=u;null!=u&&(r.cleanup=l(u.unsubscribe)?function(){c.unsubscribe()}:s(u))}catch(d){return void a.error(d)}r.isClosed()&&r.clean()}};A.prototype=p({},{unsubscribe:function(){var e=Z(this);e.isClosed()||(e.close(),e.clean())}}),o&&g(A.prototype,"closed",{configurable:!0,get:function(){return Z(this).isClosed()}});var M=function(e){w(this,{type:I,subscriptionState:e}),o||(this.closed=!1)};M.prototype=p({},{next:function(e){var t=P(this).subscriptionState;if(!t.isClosed()){var n=t.observer;try{var r=f(n,"next");r&&i(r,n,e)}catch(o){m(o)}}},error:function(e){var t=P(this).subscriptionState;if(!t.isClosed()){var n=t.observer;t.close();try{var r=f(n,"error");r?i(r,n,e):m(e)}catch(o){m(o)}t.clean()}},complete:function(){var e=P(this).subscriptionState;if(!e.isClosed()){var t=e.observer;e.close();try{var n=f(t,"complete");n&&i(n,t)}catch(r){m(r)}e.clean()}}}),o&&g(M.prototype,"closed",{configurable:!0,get:function(){return P(this).subscriptionState.isClosed()}});var k=function(e){d(this,G),w(this,{type:S,subscriber:s(e)})},G=k.prototype;p(G,{subscribe:function(e){var t=arguments.length;return new A(l(e)?{next:e,error:t>1?arguments[1]:void 0,complete:t>2?arguments[2]:void 0}:c(e)?e:{},E(this).subscriber)}}),h(G,C,(function(){return this})),r({global:!0,constructor:!0,forced:b},{Observable:k}),a(S)},91909:function(e,t,n){"use strict";var r=n(67768),i=n(1240),o=n(98513),a=n(45884),s=n(51219),l=n(78131),u=n(23863),c=n(54439),d=n(95028),f=n(11591),h=d("observable");r({target:"Observable",stat:!0,forced:f},{from:function(e){var t=s(this)?this:i("Observable"),n=u(a(e),h);if(n){var r=a(o(n,e));return r.constructor===t?r:new t((function(e){return r.subscribe(e)}))}var d=l(e);return new t((function(e){c(d,(function(t,n){if(e.next(t),e.closed)return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}),e.complete()}))}})},17601:function(e,t,n){n(50907),n(91909),n(92299)},92299:function(e,t,n){"use strict";var r=n(67768),i=n(1240),o=n(51219),a=n(11591),s=i("Array");r({target:"Observable",stat:!0,forced:a},{of:function(){for(var e=o(this)?this:i("Observable"),t=arguments.length,n=s(t),r=0;r<t;)n[r]=arguments[r++];return new e((function(e){for(var r=0;r<t;r++)if(e.next(n[r]),e.closed)return;e.complete()}))}})},86705:function(e,t,n){n(40193)},54676:function(e,t,n){n(41766)},26514:function(e,t,n){"use strict";var r=n(67768),i=n(30246),o=n(63752);r({target:"Promise",stat:!0,forced:!0},{try:function(e){var t=i.f(this),n=o(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}})},23973:function(e,t,n){var r=n(67768),i=n(95758),o=n(45884),a=i.toKey,s=i.set;r({target:"Reflect",stat:!0},{defineMetadata:function(e,t,n){var r=arguments.length<4?void 0:a(arguments[3]);s(e,t,o(n),r)}})},66675:function(e,t,n){var r=n(67768),i=n(95758),o=n(45884),a=i.toKey,s=i.getMap,l=i.store;r({target:"Reflect",stat:!0},{deleteMetadata:function(e,t){var n=arguments.length<3?void 0:a(arguments[2]),r=s(o(t),n,!1);if(void 0===r||!r.delete(e))return!1;if(r.size)return!0;var i=l.get(t);return i.delete(n),!!i.size||l.delete(t)}})},39047:function(e,t,n){var r=n(67768),i=n(74932),o=n(95758),a=n(45884),s=n(24305),l=i(n(32456)),u=i([].concat),c=o.keys,d=o.toKey,f=function e(t,n){var r=c(t,n),i=s(t);if(null===i)return r;var o=e(i,n);return o.length?r.length?l(u(r,o)):o:r};r({target:"Reflect",stat:!0},{getMetadataKeys:function(e){var t=arguments.length<2?void 0:d(arguments[1]);return f(a(e),t)}})},15281:function(e,t,n){var r=n(67768),i=n(95758),o=n(45884),a=n(24305),s=i.has,l=i.get,u=i.toKey,c=function e(t,n,r){if(s(t,n,r))return l(t,n,r);var i=a(n);return null!==i?e(t,i,r):void 0};r({target:"Reflect",stat:!0},{getMetadata:function(e,t){var n=arguments.length<3?void 0:u(arguments[2]);return c(e,o(t),n)}})},97354:function(e,t,n){var r=n(67768),i=n(95758),o=n(45884),a=i.keys,s=i.toKey;r({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(e){var t=arguments.length<2?void 0:s(arguments[1]);return a(o(e),t)}})},18136:function(e,t,n){var r=n(67768),i=n(95758),o=n(45884),a=i.get,s=i.toKey;r({target:"Reflect",stat:!0},{getOwnMetadata:function(e,t){var n=arguments.length<3?void 0:s(arguments[2]);return a(e,o(t),n)}})},49556:function(e,t,n){var r=n(67768),i=n(95758),o=n(45884),a=n(24305),s=i.has,l=i.toKey,u=function e(t,n,r){if(s(t,n,r))return!0;var i=a(n);return null!==i&&e(t,i,r)};r({target:"Reflect",stat:!0},{hasMetadata:function(e,t){var n=arguments.length<3?void 0:l(arguments[2]);return u(e,o(t),n)}})},49473:function(e,t,n){var r=n(67768),i=n(95758),o=n(45884),a=i.has,s=i.toKey;r({target:"Reflect",stat:!0},{hasOwnMetadata:function(e,t){var n=arguments.length<3?void 0:s(arguments[2]);return a(e,o(t),n)}})},93958:function(e,t,n){var r=n(67768),i=n(95758),o=n(45884),a=i.toKey,s=i.set;r({target:"Reflect",stat:!0},{metadata:function(e,t){return function(n,r){s(e,t,o(n),a(r))}}})},34160:function(e,t,n){"use strict";n(67768)({target:"Set",proto:!0,real:!0,forced:!0},{addAll:n(97154)})},57321:function(e,t,n){"use strict";n(67768)({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:n(46785)})},65119:function(e,t,n){"use strict";var r=n(67768),i=n(1240),o=n(98513),a=n(66724),s=n(45884),l=n(917),u=n(54439);r({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(e){var t=s(this),n=new(l(t,i("Set")))(t),r=a(n.delete);return u(e,(function(e){o(r,n,e)})),n}})},25860:function(e,t,n){"use strict";var r=n(67768),i=n(45884),o=n(5851),a=n(94507),s=n(54439);r({target:"Set",proto:!0,real:!0,forced:!0},{every:function(e){var t=i(this),n=a(t),r=o(e,arguments.length>1?arguments[1]:void 0);return!s(n,(function(e,n){if(!r(e,e,t))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},39286:function(e,t,n){"use strict";var r=n(67768),i=n(1240),o=n(98513),a=n(66724),s=n(45884),l=n(5851),u=n(917),c=n(94507),d=n(54439);r({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(e){var t=s(this),n=c(t),r=l(e,arguments.length>1?arguments[1]:void 0),f=new(u(t,i("Set"))),h=a(f.add);return d(n,(function(e){r(e,e,t)&&o(h,f,e)}),{IS_ITERATOR:!0}),f}})},38777:function(e,t,n){"use strict";var r=n(67768),i=n(45884),o=n(5851),a=n(94507),s=n(54439);r({target:"Set",proto:!0,real:!0,forced:!0},{find:function(e){var t=i(this),n=a(t),r=o(e,arguments.length>1?arguments[1]:void 0);return s(n,(function(e,n){if(r(e,e,t))return n(e)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},80741:function(e,t,n){n(67768)({target:"Set",stat:!0,forced:!0},{from:n(86379)})},13636:function(e,t,n){"use strict";var r=n(67768),i=n(1240),o=n(98513),a=n(66724),s=n(45884),l=n(917),u=n(54439);r({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(e){var t=s(this),n=new(l(t,i("Set"))),r=a(t.has),c=a(n.add);return u(e,(function(e){o(r,t,e)&&o(c,n,e)})),n}})},64850:function(e,t,n){"use strict";var r=n(67768),i=n(98513),o=n(66724),a=n(45884),s=n(54439);r({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(e){var t=a(this),n=o(t.has);return!s(e,(function(e,r){if(!0===i(n,t,e))return r()}),{INTERRUPTED:!0}).stopped}})},41861:function(e,t,n){"use strict";var r=n(67768),i=n(1240),o=n(98513),a=n(66724),s=n(39218),l=n(45884),u=n(78131),c=n(54439);r({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(e){var t=u(this),n=l(e),r=n.has;return s(r)||(n=new(i("Set"))(e),r=a(n.has)),!c(t,(function(e,t){if(!1===o(r,n,e))return t()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},63399:function(e,t,n){"use strict";var r=n(67768),i=n(98513),o=n(66724),a=n(45884),s=n(54439);r({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(e){var t=a(this),n=o(t.has);return!s(e,(function(e,r){if(!1===i(n,t,e))return r()}),{INTERRUPTED:!0}).stopped}})},15624:function(e,t,n){"use strict";var r=n(67768),i=n(74932),o=n(45884),a=n(86124),s=n(94507),l=n(54439),u=i([].join),c=[].push;r({target:"Set",proto:!0,real:!0,forced:!0},{join:function(e){var t=o(this),n=s(t),r=void 0===e?",":a(e),i=[];return l(n,c,{that:i,IS_ITERATOR:!0}),u(i,r)}})},22246:function(e,t,n){"use strict";var r=n(67768),i=n(1240),o=n(5851),a=n(98513),s=n(66724),l=n(45884),u=n(917),c=n(94507),d=n(54439);r({target:"Set",proto:!0,real:!0,forced:!0},{map:function(e){var t=l(this),n=c(t),r=o(e,arguments.length>1?arguments[1]:void 0),f=new(u(t,i("Set"))),h=s(f.add);return d(n,(function(e){a(h,f,r(e,e,t))}),{IS_ITERATOR:!0}),f}})},68699:function(e,t,n){n(67768)({target:"Set",stat:!0,forced:!0},{of:n(92e3)})},83747:function(e,t,n){"use strict";var r=n(67768),i=n(66724),o=n(45884),a=n(94507),s=n(54439),l=TypeError;r({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=o(this),n=a(t),r=arguments.length<2,u=r?void 0:arguments[1];if(i(e),s(n,(function(n){r?(r=!1,u=n):u=e(u,n,n,t)}),{IS_ITERATOR:!0}),r)throw l("Reduce of empty set with no initial value");return u}})},70500:function(e,t,n){"use strict";var r=n(67768),i=n(45884),o=n(5851),a=n(94507),s=n(54439);r({target:"Set",proto:!0,real:!0,forced:!0},{some:function(e){var t=i(this),n=a(t),r=o(e,arguments.length>1?arguments[1]:void 0);return s(n,(function(e,n){if(r(e,e,t))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},6140:function(e,t,n){"use strict";var r=n(67768),i=n(1240),o=n(98513),a=n(66724),s=n(45884),l=n(917),u=n(54439);r({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(e){var t=s(this),n=new(l(t,i("Set")))(t),r=a(n.delete),c=a(n.add);return u(e,(function(e){o(r,n,e)||o(c,n,e)})),n}})},1932:function(e,t,n){"use strict";var r=n(67768),i=n(1240),o=n(66724),a=n(45884),s=n(917),l=n(54439);r({target:"Set",proto:!0,real:!0,forced:!0},{union:function(e){var t=a(this),n=new(s(t,i("Set")))(t);return l(e,o(n.add),{that:n}),n}})},95132:function(e,t,n){"use strict";var r=n(67768),i=n(18424).charAt,o=n(2244),a=n(92128),s=n(86124);r({target:"String",proto:!0,forced:!0},{at:function(e){var t=s(o(this)),n=t.length,r=a(e),l=r>=0?r:n+r;return l<0||l>=n?void 0:i(t,l)}})},96423:function(e,t,n){"use strict";var r=n(67768),i=n(41949),o=n(2244),a=n(86124),s=n(49671),l=n(18424),u=l.codeAt,c=l.charAt,d="String Iterator",f=s.set,h=s.getterFor(d),p=i((function(e){f(this,{type:d,string:e,index:0})}),"String",(function(){var e,t=h(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=c(n,r),t.index+=e.length,{value:{codePoint:u(e,0),position:r},done:!1})}));r({target:"String",proto:!0,forced:!0},{codePoints:function(){return new p(a(o(this)))}})},67958:function(e,t,n){n(81123)},21225:function(e,t,n){n(41504)},96089:function(e,t,n){n(84418)("dispose")},30213:function(e,t,n){n(84418)("observable")},71030:function(e,t,n){n(84418)("patternMatch")},7018:function(e,t,n){"use strict";n(67768)({target:"WeakMap",proto:!0,real:!0,forced:!0},{deleteAll:n(46785)})},47204:function(e,t,n){n(67768)({target:"WeakMap",stat:!0,forced:!0},{from:n(86379)})},13392:function(e,t,n){n(67768)({target:"WeakMap",stat:!0,forced:!0},{of:n(92e3)})},1693:function(e,t,n){"use strict";n(67768)({target:"WeakSet",proto:!0,real:!0,forced:!0},{addAll:n(97154)})},75476:function(e,t,n){"use strict";n(67768)({target:"WeakSet",proto:!0,real:!0,forced:!0},{deleteAll:n(46785)})},56049:function(e,t,n){n(67768)({target:"WeakSet",stat:!0,forced:!0},{from:n(86379)})},91320:function(e,t,n){n(67768)({target:"WeakSet",stat:!0,forced:!0},{of:n(92e3)})},85834:function(e,t,n){var r=n(67768),i=n(6840),o=n(91625).clear;r({global:!0,bind:!0,enumerable:!0,forced:i.clearImmediate!==o},{clearImmediate:o})},22583:function(e,t,n){var r=n(6840),i=n(50650),o=n(22752),a=n(48129),s=n(63873),l=function(e){if(e&&e.forEach!==a)try{s(e,"forEach",a)}catch(t){e.forEach=a}};for(var u in i)i[u]&&l(r[u]&&r[u].prototype);l(o)},81740:function(e,t,n){var r=n(6840),i=n(50650),o=n(22752),a=n(18887),s=n(63873),l=n(95028),u=l("iterator"),c=l("toStringTag"),d=a.values,f=function(e,t){if(e){if(e[u]!==d)try{s(e,u,d)}catch(r){e[u]=d}if(e[c]||s(e,c,t),i[t])for(var n in a)if(e[n]!==a[n])try{s(e,n,a[n])}catch(r){e[n]=a[n]}}};for(var h in i)f(r[h]&&r[h].prototype,h);f(o,"DOMTokenList")},93449:function(e,t,n){n(85834),n(47369)},94205:function(e,t,n){var r=n(67768),i=n(6840),o=n(24410),a=n(66724),s=n(34974),l=n(31653),u=i.process;r({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:function(e){s(arguments.length,1),a(e);var t=l&&u.domain;o(t?t.bind(e):e)}})},47369:function(e,t,n){var r=n(67768),i=n(6840),o=n(91625).set;r({global:!0,bind:!0,enumerable:!0,forced:i.setImmediate!==o},{setImmediate:o})},21477:function(e,t,n){"use strict";n(18887);var r=n(67768),i=n(6840),o=n(98513),a=n(74932),s=n(31196),l=n(81887),u=n(17543),c=n(7544),d=n(53370),f=n(41949),h=n(49671),p=n(14817),g=n(39218),m=n(73013),v=n(5851),y=n(37205),b=n(45884),C=n(43931),S=n(86124),x=n(4385),I=n(72037),R=n(78131),w=n(40443),E=n(34974),Z=n(95028),P=n(47732),T=Z("iterator"),A="URLSearchParams",M="URLSearchParamsIterator",k=h.set,G=h.getterFor(A),F=h.getterFor(M),_=Object.getOwnPropertyDescriptor,D=function(e){if(!s)return i[e];var t=_(i,e);return t&&t.value},U=D("fetch"),O=D("Request"),L=D("Headers"),N=O&&O.prototype,B=L&&L.prototype,V=i.RegExp,H=i.TypeError,z=i.decodeURIComponent,j=i.encodeURIComponent,W=a("".charAt),q=a([].join),$=a([].push),K=a("".replace),X=a([].shift),Y=a([].splice),Q=a("".split),J=a("".slice),ee=/\+/g,te=Array(4),ne=function(e){return te[e-1]||(te[e-1]=V("((?:%[\\da-f]{2}){"+e+"})","gi"))},re=function(e){try{return z(e)}catch(t){return e}},ie=function(e){var t=K(e,ee," "),n=4;try{return z(t)}catch(r){for(;n;)t=K(t,ne(n--),re);return t}},oe=/[!'()~]|%20/g,ae={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},se=function(e){return ae[e]},le=function(e){return K(j(e),oe,se)},ue=f((function(e,t){k(this,{type:M,iterator:R(G(e).entries),kind:t})}),"Iterator",(function(){var e=F(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),ce=function(e){this.entries=[],this.url=null,void 0!==e&&(C(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===W(e,0)?J(e,1):e:S(e)))};ce.prototype={type:A,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,a,s,l,u=w(e);if(u)for(n=(t=R(e,u)).next;!(r=o(n,t)).done;){if(a=(i=R(b(r.value))).next,(s=o(a,i)).done||(l=o(a,i)).done||!o(a,i).done)throw H("Expected sequence with length 2");$(this.entries,{key:S(s.value),value:S(l.value)})}else for(var c in e)m(e,c)&&$(this.entries,{key:c,value:S(e[c])})},parseQuery:function(e){if(e)for(var t,n,r=Q(e,"&"),i=0;i<r.length;)(t=r[i++]).length&&(n=Q(t,"="),$(this.entries,{key:ie(X(n)),value:ie(q(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],$(n,le(e.key)+"="+le(e.value));return q(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var de=function(){p(this,fe);var e=arguments.length>0?arguments[0]:void 0;k(this,new ce(e))},fe=de.prototype;if(c(fe,{append:function(e,t){E(arguments.length,2);var n=G(this);$(n.entries,{key:S(e),value:S(t)}),n.updateURL()},delete:function(e){E(arguments.length,1);for(var t=G(this),n=t.entries,r=S(e),i=0;i<n.length;)n[i].key===r?Y(n,i,1):i++;t.updateURL()},get:function(e){E(arguments.length,1);for(var t=G(this).entries,n=S(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){E(arguments.length,1);for(var t=G(this).entries,n=S(e),r=[],i=0;i<t.length;i++)t[i].key===n&&$(r,t[i].value);return r},has:function(e){E(arguments.length,1);for(var t=G(this).entries,n=S(e),r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){E(arguments.length,1);for(var n,r=G(this),i=r.entries,o=!1,a=S(e),s=S(t),l=0;l<i.length;l++)(n=i[l]).key===a&&(o?Y(i,l--,1):(o=!0,n.value=s));o||$(i,{key:a,value:s}),r.updateURL()},sort:function(){var e=G(this);P(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=G(this).entries,r=v(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new ue(this,"keys")},values:function(){return new ue(this,"values")},entries:function(){return new ue(this,"entries")}},{enumerable:!0}),u(fe,T,fe.entries,{name:"entries"}),u(fe,"toString",(function(){return G(this).serialize()}),{enumerable:!0}),d(de,A),r({global:!0,constructor:!0,forced:!l},{URLSearchParams:de}),!l&&g(L)){var he=a(B.has),pe=a(B.set),ge=function(e){if(C(e)){var t,n=e.body;if(y(n)===A)return t=e.headers?new L(e.headers):new L,he(t,"content-type")||pe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),x(e,{body:I(0,S(n)),headers:I(0,t)})}return e};if(g(U)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return U(e,arguments.length>1?ge(arguments[1]):{})}}),g(O)){var me=function(e){return p(this,N),new O(e,arguments.length>1?ge(arguments[1]):{})};N.constructor=me,me.prototype=N,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:me})}}e.exports={URLSearchParams:de,getState:G}},58526:function(e,t,n){n(21477)},588:function(e,t,n){"use strict";n(59147);var r,i=n(67768),o=n(31196),a=n(81887),s=n(6840),l=n(5851),u=n(74932),c=n(17543),d=n(50695),f=n(14817),h=n(73013),p=n(52526),g=n(22422),m=n(43278),v=n(18424).codeAt,y=n(31649),b=n(86124),C=n(53370),S=n(34974),x=n(21477),I=n(49671),R=I.set,w=I.getterFor("URL"),E=x.URLSearchParams,Z=x.getState,P=s.URL,T=s.TypeError,A=s.parseInt,M=Math.floor,k=Math.pow,G=u("".charAt),F=u(/./.exec),_=u([].join),D=u(1..toString),U=u([].pop),O=u([].push),L=u("".replace),N=u([].shift),B=u("".split),V=u("".slice),H=u("".toLowerCase),z=u([].unshift),j="Invalid scheme",W="Invalid host",q="Invalid port",$=/[a-z]/i,K=/[\d+-.a-z]/i,X=/\d/,Y=/^0x/i,Q=/^[0-7]+$/,J=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,re=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,ie=/[\t\n\r]/g,oe=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)z(t,e%256),e=M(e/256);return _(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=D(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},ae={},se=p({},ae,{" ":1,'"':1,"<":1,">":1,"`":1}),le=p({},se,{"#":1,"?":1,"{":1,"}":1}),ue=p({},le,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ce=function(e,t){var n=v(e,0);return n>32&&n<127&&!h(t,e)?e:encodeURIComponent(e)},de={ftp:21,file:null,http:80,https:443,ws:80,wss:443},fe=function(e,t){var n;return 2==e.length&&F($,G(e,0))&&(":"==(n=G(e,1))||!t&&"|"==n)},he=function(e){var t;return e.length>1&&fe(V(e,0,2))&&(2==e.length||"/"===(t=G(e,2))||"\\"===t||"?"===t||"#"===t)},pe=function(e){return"."===e||"%2e"===H(e)},ge={},me={},ve={},ye={},be={},Ce={},Se={},xe={},Ie={},Re={},we={},Ee={},Ze={},Pe={},Te={},Ae={},Me={},ke={},Ge={},Fe={},_e={},De=function e(t,n,r){var i,o,a,s=b(t);if(n){if(o=this.parse(s))throw T(o);this.searchParams=null}else{if(void 0!==r&&(i=new e(r,!0)),o=this.parse(s,null,i))throw T(o);(a=Z(new E)).bindURL(this),this.searchParams=a}};De.prototype={type:"URL",parse:function(e,t,n){var i,o,a,s,l,u=this,c=t||ge,d=0,f="",p=!1,v=!1,y=!1;for(e=b(e),t||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,e=L(e,re,"")),e=L(e,ie,""),i=g(e);d<=i.length;){switch(o=i[d],c){case ge:if(!o||!F($,o)){if(t)return j;c=ve;continue}f+=H(o),c=me;break;case me:if(o&&(F(K,o)||"+"==o||"-"==o||"."==o))f+=H(o);else{if(":"!=o){if(t)return j;f="",c=ve,d=0;continue}if(t&&(u.isSpecial()!=h(de,f)||"file"==f&&(u.includesCredentials()||null!==u.port)||"file"==u.scheme&&!u.host))return;if(u.scheme=f,t)return void(u.isSpecial()&&de[u.scheme]==u.port&&(u.port=null));f="","file"==u.scheme?c=Pe:u.isSpecial()&&n&&n.scheme==u.scheme?c=ye:u.isSpecial()?c=xe:"/"==i[d+1]?(c=be,d++):(u.cannotBeABaseURL=!0,O(u.path,""),c=Ge)}break;case ve:if(!n||n.cannotBeABaseURL&&"#"!=o)return j;if(n.cannotBeABaseURL&&"#"==o){u.scheme=n.scheme,u.path=m(n.path),u.query=n.query,u.fragment="",u.cannotBeABaseURL=!0,c=_e;break}c="file"==n.scheme?Pe:Ce;continue;case ye:if("/"!=o||"/"!=i[d+1]){c=Ce;continue}c=Ie,d++;break;case be:if("/"==o){c=Re;break}c=ke;continue;case Ce:if(u.scheme=n.scheme,o==r)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=m(n.path),u.query=n.query;else if("/"==o||"\\"==o&&u.isSpecial())c=Se;else if("?"==o)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=m(n.path),u.query="",c=Fe;else{if("#"!=o){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=m(n.path),u.path.length--,c=ke;continue}u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=m(n.path),u.query=n.query,u.fragment="",c=_e}break;case Se:if(!u.isSpecial()||"/"!=o&&"\\"!=o){if("/"!=o){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,c=ke;continue}c=Re}else c=Ie;break;case xe:if(c=Ie,"/"!=o||"/"!=G(f,d+1))continue;d++;break;case Ie:if("/"!=o&&"\\"!=o){c=Re;continue}break;case Re:if("@"==o){p&&(f="%40"+f),p=!0,a=g(f);for(var C=0;C<a.length;C++){var S=a[C];if(":"!=S||y){var x=ce(S,ue);y?u.password+=x:u.username+=x}else y=!0}f=""}else if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&u.isSpecial()){if(p&&""==f)return"Invalid authority";d-=g(f).length+1,f="",c=we}else f+=o;break;case we:case Ee:if(t&&"file"==u.scheme){c=Ae;continue}if(":"!=o||v){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&u.isSpecial()){if(u.isSpecial()&&""==f)return W;if(t&&""==f&&(u.includesCredentials()||null!==u.port))return;if(s=u.parseHost(f))return s;if(f="",c=Me,t)return;continue}"["==o?v=!0:"]"==o&&(v=!1),f+=o}else{if(""==f)return W;if(s=u.parseHost(f))return s;if(f="",c=Ze,t==Ee)return}break;case Ze:if(!F(X,o)){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&u.isSpecial()||t){if(""!=f){var I=A(f,10);if(I>65535)return q;u.port=u.isSpecial()&&I===de[u.scheme]?null:I,f=""}if(t)return;c=Me;continue}return q}f+=o;break;case Pe:if(u.scheme="file","/"==o||"\\"==o)c=Te;else{if(!n||"file"!=n.scheme){c=ke;continue}if(o==r)u.host=n.host,u.path=m(n.path),u.query=n.query;else if("?"==o)u.host=n.host,u.path=m(n.path),u.query="",c=Fe;else{if("#"!=o){he(_(m(i,d),""))||(u.host=n.host,u.path=m(n.path),u.shortenPath()),c=ke;continue}u.host=n.host,u.path=m(n.path),u.query=n.query,u.fragment="",c=_e}}break;case Te:if("/"==o||"\\"==o){c=Ae;break}n&&"file"==n.scheme&&!he(_(m(i,d),""))&&(fe(n.path[0],!0)?O(u.path,n.path[0]):u.host=n.host),c=ke;continue;case Ae:if(o==r||"/"==o||"\\"==o||"?"==o||"#"==o){if(!t&&fe(f))c=ke;else if(""==f){if(u.host="",t)return;c=Me}else{if(s=u.parseHost(f))return s;if("localhost"==u.host&&(u.host=""),t)return;f="",c=Me}continue}f+=o;break;case Me:if(u.isSpecial()){if(c=ke,"/"!=o&&"\\"!=o)continue}else if(t||"?"!=o)if(t||"#"!=o){if(o!=r&&(c=ke,"/"!=o))continue}else u.fragment="",c=_e;else u.query="",c=Fe;break;case ke:if(o==r||"/"==o||"\\"==o&&u.isSpecial()||!t&&("?"==o||"#"==o)){if(".."===(l=H(l=f))||"%2e."===l||".%2e"===l||"%2e%2e"===l?(u.shortenPath(),"/"==o||"\\"==o&&u.isSpecial()||O(u.path,"")):pe(f)?"/"==o||"\\"==o&&u.isSpecial()||O(u.path,""):("file"==u.scheme&&!u.path.length&&fe(f)&&(u.host&&(u.host=""),f=G(f,0)+":"),O(u.path,f)),f="","file"==u.scheme&&(o==r||"?"==o||"#"==o))for(;u.path.length>1&&""===u.path[0];)N(u.path);"?"==o?(u.query="",c=Fe):"#"==o&&(u.fragment="",c=_e)}else f+=ce(o,le);break;case Ge:"?"==o?(u.query="",c=Fe):"#"==o?(u.fragment="",c=_e):o!=r&&(u.path[0]+=ce(o,ae));break;case Fe:t||"#"!=o?o!=r&&("'"==o&&u.isSpecial()?u.query+="%27":u.query+="#"==o?"%23":ce(o,ae)):(u.fragment="",c=_e);break;case _e:o!=r&&(u.fragment+=ce(o,se))}d++}},parseHost:function(e){var t,n,r;if("["==G(e,0)){if("]"!=G(e,e.length-1))return W;if(t=function(e){var t,n,r,i,o,a,s,l=[0,0,0,0,0,0,0,0],u=0,c=null,d=0,f=function(){return G(e,d)};if(":"==f()){if(":"!=G(e,1))return;d+=2,c=++u}for(;f();){if(8==u)return;if(":"!=f()){for(t=n=0;n<4&&F(ee,f());)t=16*t+A(f(),16),d++,n++;if("."==f()){if(0==n)return;if(d-=n,u>6)return;for(r=0;f();){if(i=null,r>0){if(!("."==f()&&r<4))return;d++}if(!F(X,f()))return;for(;F(X,f());){if(o=A(f(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;d++}l[u]=256*l[u]+i,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==f()){if(d++,!f())return}else if(f())return;l[u++]=t}else{if(null!==c)return;d++,c=++u}}if(null!==c)for(a=u-c,u=7;0!=u&&a>0;)s=l[u],l[u--]=l[c+a-1],l[c+--a]=s;else if(8!=u)return;return l}(V(e,1,-1)),!t)return W;this.host=t}else if(this.isSpecial()){if(e=y(e),F(te,e))return W;if(t=function(e){var t,n,r,i,o,a,s,l=B(e,".");if(l.length&&""==l[l.length-1]&&l.length--,(t=l.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=l[r]))return e;if(o=10,i.length>1&&"0"==G(i,0)&&(o=F(Y,i)?16:8,i=V(i,8==o?1:2)),""===i)a=0;else{if(!F(10==o?J:8==o?Q:ee,i))return e;a=A(i,o)}O(n,a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=k(256,5-t))return null}else if(a>255)return null;for(s=U(n),r=0;r<n.length;r++)s+=n[r]*k(256,3-r);return s}(e),null===t)return W;this.host=t}else{if(F(ne,e))return W;for(t="",n=g(e),r=0;r<n.length;r++)t+=ce(n[r],ae);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return h(de,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&fe(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,l=e.fragment,u=t+":";return null!==i?(u+="//",e.includesCredentials()&&(u+=n+(r?":"+r:"")+"@"),u+=oe(i),null!==o&&(u+=":"+o)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+_(a,"/"):"",null!==s&&(u+="?"+s),null!==l&&(u+="#"+l),u},setHref:function(e){var t=this.parse(e);if(t)throw T(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Ue(e.path[0]).origin}catch(n){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+oe(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",ge)},getUsername:function(){return this.username},setUsername:function(e){var t=g(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=ce(t[n],ue)}},getPassword:function(){return this.password},setPassword:function(e){var t=g(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=ce(t[n],ue)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?oe(e):oe(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,we)},getHostname:function(){var e=this.host;return null===e?"":oe(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Ee)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=b(e))?this.port=null:this.parse(e,Ze))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+_(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Me))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=b(e))?this.query=null:("?"==G(e,0)&&(e=V(e,1)),this.query="",this.parse(e,Fe)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=b(e))?("#"==G(e,0)&&(e=V(e,1)),this.fragment="",this.parse(e,_e)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Ue=function(e){var t=f(this,Oe),n=S(arguments.length,1)>1?arguments[1]:void 0,r=R(t,new De(e,!1,n));o||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},Oe=Ue.prototype,Le=function(e,t){return{get:function(){return w(this)[e]()},set:t&&function(e){return w(this)[t](e)},configurable:!0,enumerable:!0}};if(o&&(d(Oe,"href",Le("serialize","setHref")),d(Oe,"origin",Le("getOrigin")),d(Oe,"protocol",Le("getProtocol","setProtocol")),d(Oe,"username",Le("getUsername","setUsername")),d(Oe,"password",Le("getPassword","setPassword")),d(Oe,"host",Le("getHost","setHost")),d(Oe,"hostname",Le("getHostname","setHostname")),d(Oe,"port",Le("getPort","setPort")),d(Oe,"pathname",Le("getPathname","setPathname")),d(Oe,"search",Le("getSearch","setSearch")),d(Oe,"searchParams",Le("getSearchParams")),d(Oe,"hash",Le("getHash","setHash"))),c(Oe,"toJSON",(function(){return w(this).serialize()}),{enumerable:!0}),c(Oe,"toString",(function(){return w(this).serialize()}),{enumerable:!0}),P){var Ne=P.createObjectURL,Be=P.revokeObjectURL;Ne&&c(Ue,"createObjectURL",l(Ne,P)),Be&&c(Ue,"revokeObjectURL",l(Be,P))}C(Ue,"URL"),i({global:!0,constructor:!0,forced:!a,sham:!o},{URL:Ue})},9330:function(e,t,n){n(588)},93593:function(e,t,n){"use strict";var r=n(67768),i=n(98513);r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},62110:function(e,t,n){"use strict";var r=n(48309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var a=c(n);d&&(a=a.concat(d(n)));for(var s=l(t),g=l(n),m=0;m<a.length;++m){var v=a[m];if(!o[v]&&(!r||!r[v])&&(!g||!g[v])&&(!s||!s[v])){var y=f(n,v);try{u(t,v,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,C=n?Symbol.for("react.scope"):60119;function S(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case o:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case u:case f:case m:case g:case l:return e;default:return t}}case i:return t}}}function x(e){return S(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return x(e)||S(e)===c},t.isConcurrentMode=x,t.isContextConsumer=function(e){return S(e)===u},t.isContextProvider=function(e){return S(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return S(e)===f},t.isFragment=function(e){return S(e)===o},t.isLazy=function(e){return S(e)===m},t.isMemo=function(e){return S(e)===g},t.isPortal=function(e){return S(e)===i},t.isProfiler=function(e){return S(e)===s},t.isStrictMode=function(e){return S(e)===a},t.isSuspense=function(e){return S(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===C||e.$$typeof===v)},t.typeOf=S},48309:function(e,t,n){"use strict";e.exports=n(746)},1426:function(e){var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var s,l=[],u=!1,c=-1;function d(){u&&s&&(u=!1,s.length?l=s.concat(l):c=-1,l.length&&f())}function f(){if(!u){var e=a(d);u=!0;for(var t=l.length;t;){for(s=l,l=[];++c<t;)s&&s[c].run();c=-1,t=l.length}s=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||u||a(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},34463:function(e,t,n){"use strict";var r=n(72791),i=n(45296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var C=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),x=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),Z=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),k=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var G=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function _(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var D,U=Object.assign;function O(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var L=!1;function N(e,t){if(!e||L)return"";L=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{L=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?O(e):""}function B(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=N(e.type,!1);case 11:return e=N(e.type.render,!1);case 1:return e=N(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case x:return"Portal";case w:return"Profiler";case R:return"StrictMode";case T:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case Z:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case k:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function j(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=j(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=j(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){Y(e,t);var n=z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:z(n)}}function oe(e,t){var n=z(t.value),r=z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ve=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ce=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ie=null,Re=null;function we(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=Si(t),xe(e.stateNode,e.type,t))}}function Ee(e){Ie?Re?Re.push(e):Re=[e]:Ie=e}function Ze(){if(Ie){var e=Ie,t=Re;if(Re=Ie=null,we(e),t)for(e=0;e<t.length;e++)we(t[e])}}function Pe(e,t){return e(t)}function Te(){}var Ae=!1;function Me(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Pe(e,t,n)}finally{Ae=!1,(null!==Ie||null!==Re)&&(Te(),Ze())}}function ke(e,t){var n=e.stateNode;if(null===n)return null;var r=Si(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ge=!1;if(c)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){Ge=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(ce){Ge=!1}function _e(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var De=!1,Ue=null,Oe=!1,Le=null,Ne={onError:function(e){De=!0,Ue=e}};function Be(e,t,n,r,i,o,a,s,l){De=!1,Ue=null,_e.apply(Ne,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ze(e){if(Ve(e)!==e)throw Error(o(188))}function je(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return ze(i),e;if(a===r)return ze(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var qe=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,Qe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function Ct(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var St,xt,It,Rt,wt,Et=!1,Zt=[],Pt=null,Tt=null,At=null,Mt=new Map,kt=new Map,Gt=[],Ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _t(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kt.delete(t.pointerId)}}function Dt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=yi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void wt(e.priority,(function(){It(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ce=r,n.target.dispatchEvent(r),Ce=null,t.shift()}return!0}function Lt(e,t,n){Ot(e)&&n.delete(t)}function Nt(){Et=!1,null!==Pt&&Ot(Pt)&&(Pt=null),null!==Tt&&Ot(Tt)&&(Tt=null),null!==At&&Ot(At)&&(At=null),Mt.forEach(Lt),kt.forEach(Lt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Nt)))}function Vt(e){function t(t){return Bt(t,e)}if(0<Zt.length){Bt(Zt[0],e);for(var n=1;n<Zt.length;n++){var r=Zt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Pt&&Bt(Pt,e),null!==Tt&&Bt(Tt,e),null!==At&&Bt(At,e),Mt.forEach(t),kt.forEach(t),n=0;n<Gt.length;n++)(r=Gt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Gt.length&&null===(n=Gt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Gt.shift()}var Ht=C.ReactCurrentBatchConfig,zt=!0;function jt(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=1,qt(e,t,n,r)}finally{bt=i,Ht.transition=o}}function Wt(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=4,qt(e,t,n,r)}finally{bt=i,Ht.transition=o}}function qt(e,t,n,r){if(zt){var i=Kt(e,t,n,r);if(null===i)zr(e,t,r,$t,n),_t(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Pt=Dt(Pt,e,t,n,r,i),!0;case"dragenter":return Tt=Dt(Tt,e,t,n,r,i),!0;case"mouseover":return At=Dt(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Mt.set(o,Dt(Mt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,kt.set(o,Dt(kt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(_t(e,r),4&t&&-1<Ft.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&St(o),null===(o=Kt(e,t,n,r))&&zr(e,t,r,$t,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else zr(e,t,r,null,n)}}var $t=null;function Kt(e,t,n,r){if($t=null,null!==(e=yi(e=Se(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Qt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Qt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),dn=U({},un,{view:0,detail:0}),fn=on(dn),hn=U({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(hn),gn=on(U({},hn,{dataTransfer:0})),mn=on(U({},dn,{relatedTarget:0})),vn=on(U({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=U({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),Cn=on(U({},un,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function wn(){return Rn}var En=U({},dn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Zn=on(En),Pn=on(U({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(U({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wn})),An=on(U({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=U({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kn=on(Mn),Gn=[9,13,27,32],Fn=c&&"CompositionEvent"in window,_n=null;c&&"documentMode"in document&&(_n=document.documentMode);var Dn=c&&"TextEvent"in window&&!_n,Un=c&&(!Fn||_n&&8<_n&&11>=_n),On=String.fromCharCode(32),Ln=!1;function Nn(e,t){switch(e){case"keyup":return-1!==Gn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function jn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,qn=null;function $n(e){Or(e,0)}function Kn(e){if(q(Ci(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(c){var Qn;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Qn=Jn}else Qn=!1;Yn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),qn=Wn=null)}function nr(e){if("value"===e.propertyName&&Kn(qn)){var t=[];jn(t,qn,e,Se(e)),Me($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(qn)}function or(e,t){if("click"===e)return Kn(t)}function ar(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function Cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==$(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function Sr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionend:Sr("Transition","TransitionEnd")},Ir={},Rr={};function wr(e){if(Ir[e])return Ir[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Rr)return Ir[e]=n[t];return e}c&&(Rr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=wr("animationend"),Zr=wr("animationiteration"),Pr=wr("animationstart"),Tr=wr("transitionend"),Ar=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){Ar.set(e,t),l(t,[e])}for(var Gr=0;Gr<Mr.length;Gr++){var Fr=Mr[Gr];kr(Fr.toLowerCase(),"on"+(Fr[0].toUpperCase()+Fr.slice(1)))}kr(Er,"onAnimationEnd"),kr(Zr,"onAnimationIteration"),kr(Pr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(Tr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(_r));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,u){if(Be.apply(this,arguments),De){if(!De)throw Error(o(198));var c=Ue;De=!1,Ue=null,Oe||(Oe=!0,Le=c)}}(r,t,void 0,e),e.currentTarget=null}function Or(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Ur(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Ur(i,s,u),o=l}}}if(Oe)throw e=Le,Oe=!1,Le=null,e}function Lr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Nr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Nr(t,!1,e),Nr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Nr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Xt(t)){case 1:var i=jt;break;case 4:i=Wt;break;default:i=qt}n=i.bind(null,t,n,e),i=void 0,!Ge||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Me((function(){var r=o,i=Se(n),a=[];e:{var s=Ar.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Zn;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Er:case Zr:case Pr:l=vn;break;case Tr:l=An;break;case"scroll":l=fn;break;case"wheel":l=kn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pn}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var g=(h=p).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==f&&(null!=(g=ke(p,f))&&c.push(jr(p,g,h)))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Ce||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(d=Ve(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Pn,g="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:Ci(l),h=null==u?s:Ci(u),(s=new c(g,p+"leave",l,n,i)).target=d,s.relatedTarget=h,g=null,yi(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=h,c.relatedTarget=d,g=c),d=g,l&&u)e:{for(f=u,p=0,h=c=l;h;h=qr(h))p++;for(h=0,g=f;g;g=qr(g))h++;for(;0<p-h;)c=qr(c),p--;for(;0<h-p;)f=qr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=qr(c),f=qr(f)}c=null}else c=null;null!==l&&$r(a,s,l,c,!1),null!==u&&null!==d&&$r(a,d,u,c,!0)}if("select"===(l=(s=r?Ci(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Xn;else if(zn(s))if(Yn)m=ar;else{m=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?jn(a,m,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?Ci(r):window,e){case"focusin":(zn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,Cr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Cr(a,n,i)}var y;if(Fn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Nn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):(Qt="value"in(Yt=i)?Yt.value:Yt.textContent,Vn=!0)),0<(v=Wr(r,b)).length&&(b=new Cn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Ln=!0,On);case"textInput":return(e=t.data)===On&&Ln?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Fn&&Nn(e,t)?(e=en(),Jt=Qt=Yt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new Cn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Or(a,t)}))}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=ke(e,n))&&r.unshift(jr(e,o,i)),null!=(o=ke(e,t))&&r.push(jr(e,o,i))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=ke(n,o))&&a.unshift(jr(n,l,s)):i||null!=(l=ke(n,o))&&a.push(jr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Kr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Xr,"")}function Qr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,pi="__reactContainer$"+di,gi="__reactEvents$"+di,mi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ci(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Si(e){return e[hi]||null}var xi=[],Ii=-1;function Ri(e){return{current:e}}function wi(e){0>Ii||(e.current=xi[Ii],xi[Ii]=null,Ii--)}function Ei(e,t){Ii++,xi[Ii]=e.current,e.current=t}var Zi={},Pi=Ri(Zi),Ti=Ri(!1),Ai=Zi;function Mi(e,t){var n=e.type.contextTypes;if(!n)return Zi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ki(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Gi(){wi(Ti),wi(Pi)}function Fi(e,t,n){if(Pi.current!==Zi)throw Error(o(168));Ei(Pi,t),Ei(Ti,n)}function _i(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,H(e)||"Unknown",i));return U({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zi,Ai=Pi.current,Ei(Pi,e),Ei(Ti,Ti.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=_i(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,wi(Ti),wi(Pi),Ei(Pi,e)):wi(Ti),Ei(Ti,n)}var Oi=null,Li=!1,Ni=!1;function Bi(e){null===Oi?Oi=[e]:Oi.push(e)}function Vi(){if(!Ni&&null!==Oi){Ni=!0;var e=0,t=bt;try{var n=Oi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Oi=null,Li=!1}catch(i){throw null!==Oi&&(Oi=Oi.slice(e+1)),qe(Je,Vi),i}finally{bt=t,Ni=!1}}return null}var Hi=[],zi=0,ji=null,Wi=0,qi=[],$i=0,Ki=null,Xi=1,Yi="";function Qi(e,t){Hi[zi++]=Wi,Hi[zi++]=ji,ji=e,Wi=t}function Ji(e,t,n){qi[$i++]=Xi,qi[$i++]=Yi,qi[$i++]=Ki,Ki=e;var r=Xi;e=Yi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-at(t)+i|n<<i|r,Yi=o+e}else Xi=1<<o|n<<i|r,Yi=e}function eo(e){null!==e.return&&(Qi(e,1),Ji(e,1,0))}function to(e){for(;e===ji;)ji=Hi[--zi],Hi[zi]=null,Wi=Hi[--zi],Hi[zi]=null;for(;e===Ki;)Ki=qi[--$i],qi[$i]=null,Yi=qi[--$i],qi[$i]=null,Xi=qi[--$i],qi[$i]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Mu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:Xi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ui(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=ui(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ui(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ui(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=C.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Ri(null),bo=null,Co=null,So=null;function xo(){So=Co=bo=null}function Io(e){var t=yo.current;wi(yo),e._currentValue=t}function Ro(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wo(e,t){bo=e,So=Co=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Cs=!0),e.firstContext=null)}function Eo(e){var t=e._currentValue;if(So!==e)if(e={context:e,memoizedValue:t,next:null},null===Co){if(null===bo)throw Error(o(308));Co=e,bo.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var Zo=null;function Po(e){null===Zo?Zo=[e]:Zo.push(e)}function To(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Po(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ao(e,r)}function Ao(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function ko(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Go(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _o(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ao(e,n)}return null===(i=r.interleaved)?(t.next=t,Po(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ao(e,n)}function Do(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Oo(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,c=u=l=null,s=o;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(f=t,h=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=g.payload)?p.call(h,d,f):p)||void 0===f)break e;d=U({},d,f);break e;case 2:Mo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Dl|=a,e.lanes=a,e.memoizedState=d}}function Lo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var No=(new r.Component).refs;function Bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vo={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Fo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=_o(e,o,i))&&(nu(t,e,i,r),Do(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Fo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=_o(e,o,i))&&(nu(t,e,i,r),Do(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Fo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=_o(e,i,r))&&(nu(t,e,r,n),Do(t,e,r))}};function Ho(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function zo(e,t,n){var r=!1,i=Zi,o=t.contextType;return"object"===typeof o&&null!==o?o=Eo(o):(i=ki(t)?Ai:Pi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Mi(e,i):Zi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function jo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function Wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=No,ko(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Eo(o):(o=ki(t)?Ai:Pi.current,i.context=Mi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Bo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Vo.enqueueReplaceState(i,i.state,null),Oo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function qo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===No&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function $o(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ko(e){return(0,e._init)(e._payload)}function Xo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Gu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Uu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===I?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===k&&Ko(o)===t.type)?((r=i(t,n.props)).ref=qo(e,t,n),r.return=e,r):((r=Fu(n.type,n.key,n.props,null,e.mode,r)).ref=qo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ou(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=_u(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Fu(t.type,t.key,t.props,null,e.mode,n)).ref=qo(e,null,t),n.return=e,n;case x:return(t=Ou(t,e.mode,n)).return=e,t;case k:return f(e,(0,t._init)(t._payload),n)}if(te(t)||_(t))return(t=_u(t,e.mode,n,null)).return=e,t;$o(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?u(e,t,n,r):null;case x:return n.key===i?c(e,t,n,r):null;case k:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||_(n))return null!==i?null:d(e,t,n,r,null);$o(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||_(r))return d(t,e=e.get(n)||null,r,i,null);$o(t,r)}return null}function g(i,o,s,l){for(var u=null,c=null,d=o,g=o=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=h(i,d,s[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,g),null===c?u=v:c.sibling=v,c=v,d=m}if(g===s.length)return n(i,d),io&&Qi(i,g),u;if(null===d){for(;g<s.length;g++)null!==(d=f(i,s[g],l))&&(o=a(d,o,g),null===c?u=d:c.sibling=d,c=d);return io&&Qi(i,g),u}for(d=r(i,d);g<s.length;g++)null!==(m=p(d,i,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=a(m,o,g),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(i,e)})),io&&Qi(i,g),u}function m(i,s,l,u){var c=_(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,g=s,m=s=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=h(i,g,y.value,u);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),s=a(b,s,m),null===d?c=b:d.sibling=b,d=b,g=v}if(y.done)return n(i,g),io&&Qi(i,m),c;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=f(i,y.value,u))&&(s=a(y,s,m),null===d?c=y:d.sibling=y,d=y);return io&&Qi(i,m),c}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=p(g,i,m,y.value,u))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=a(y,s,m),null===d?c=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(i,e)})),io&&Qi(i,m),c}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===I&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case S:e:{for(var u=a.key,c=o;null!==c;){if(c.key===u){if((u=a.type)===I){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===k&&Ko(u)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=qo(r,c,a),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===I?((o=_u(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Fu(a.type,a.key,a.props,null,r.mode,l)).ref=qo(r,o,a),l.return=r,r=l)}return s(r);case x:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Ou(a,r.mode,l)).return=r,r=o}return s(r);case k:return e(r,o,(c=a._init)(a._payload),l)}if(te(a))return g(r,o,a,l);if(_(a))return m(r,o,a,l);$o(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Uu(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Yo=Xo(!0),Qo=Xo(!1),Jo={},ea=Ri(Jo),ta=Ri(Jo),na=Ri(Jo);function ra(e){if(e===Jo)throw Error(o(174));return e}function ia(e,t){switch(Ei(na,t),Ei(ta,e),Ei(ea,Jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}wi(ea),Ei(ea,t)}function oa(){wi(ea),wi(ta),wi(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=le(t,e.type);t!==n&&(Ei(ta,e),Ei(ea,n))}function sa(e){ta.current===e&&(wi(ea),wi(ta))}var la=Ri(0);function ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function da(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var fa=C.ReactCurrentDispatcher,ha=C.ReactCurrentBatchConfig,pa=0,ga=null,ma=null,va=null,ya=!1,ba=!1,Ca=0,Sa=0;function xa(){throw Error(o(321))}function Ia(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ra(e,t,n,r,i,a){if(pa=a,ga=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),ba){a=0;do{if(ba=!1,Ca=0,25<=a)throw Error(o(301));a+=1,va=ma=null,t.updateQueue=null,fa.current=us,e=n(r,i)}while(ba)}if(fa.current=as,t=null!==ma&&null!==ma.next,pa=0,va=ma=ga=null,ya=!1,t)throw Error(o(300));return e}function wa(){var e=0!==Ca;return Ca=0,e}function Ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===va?ga.memoizedState=va=e:va=va.next=e,va}function Za(){if(null===ma){var e=ga.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===va?ga.memoizedState:va.next;if(null!==t)va=t,ma=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===va?ga.memoizedState=va=e:va=va.next=e}return va}function Pa(e,t){return"function"===typeof t?t(e):t}function Ta(e){var t=Za(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,u=null,c=a;do{var d=c.lane;if((pa&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=r):u=u.next=f,ga.lanes|=d,Dl|=d}c=c.next}while(null!==c&&c!==a);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(Cs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ga.lanes|=a,Dl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aa(e){var t=Za(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(Cs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ma(){}function ka(e,t){var n=ga,r=Za(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,Cs=!0),r=r.queue,za(_a.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==va&&1&va.memoizedState.tag){if(n.flags|=2048,La(9,Fa.bind(null,n,r,i,t),void 0,null),null===Tl)throw Error(o(349));0!==(30&pa)||Ga(n,t,i)}return i}function Ga(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Fa(e,t,n,r){t.value=n,t.getSnapshot=r,Da(t)&&Ua(e)}function _a(e,t,n){return n((function(){Da(t)&&Ua(e)}))}function Da(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ua(e){var t=Ao(e,1);null!==t&&nu(t,e,1,-1)}function Oa(e){var t=Ea();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ga,e),[t.memoizedState,e]}function La(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Na(){return Za().memoizedState}function Ba(e,t,n,r){var i=Ea();ga.flags|=e,i.memoizedState=La(1|t,n,void 0,void 0===r?null:r)}function Va(e,t,n,r){var i=Za();r=void 0===r?null:r;var o=void 0;if(null!==ma){var a=ma.memoizedState;if(o=a.destroy,null!==r&&Ia(r,a.deps))return void(i.memoizedState=La(t,n,o,r))}ga.flags|=e,i.memoizedState=La(1|t,n,o,r)}function Ha(e,t){return Ba(8390656,8,e,t)}function za(e,t){return Va(2048,8,e,t)}function ja(e,t){return Va(4,2,e,t)}function Wa(e,t){return Va(4,4,e,t)}function qa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $a(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4,4,qa.bind(null,t,e),n)}function Ka(){}function Xa(e,t){var n=Za();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ia(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ya(e,t){var n=Za();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ia(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qa(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,Cs=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),ga.lanes|=n,Dl|=n,e.baseState=!0),t)}function Ja(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{bt=n,ha.transition=r}}function es(){return Za().memoizedState}function ts(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=To(e,t,n,r))){nu(n,e,r,eu()),os(n,t,r)}}function ns(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Po(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=To(e,t,i,r))&&(nu(n,e,r,i=eu()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===ga||null!==t&&t===ga}function is(e,t){ba=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:Eo,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},ss={readContext:Eo,useCallback:function(e,t){return Ea().memoizedState=[e,void 0===t?null:t],e},useContext:Eo,useEffect:Ha,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4194308,4,qa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ba(4,2,e,t)},useMemo:function(e,t){var n=Ea();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ea();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ga,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ea().memoizedState=e},useState:Oa,useDebugValue:Ka,useDeferredValue:function(e){return Ea().memoizedState=e},useTransition:function(){var e=Oa(!1),t=e[0];return e=Ja.bind(null,e[1]),Ea().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ga,i=Ea();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Tl)throw Error(o(349));0!==(30&pa)||Ga(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ha(_a.bind(null,r,a,e),[e]),r.flags|=2048,La(9,Fa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ea(),t=Tl.identifierPrefix;if(io){var n=Yi;t=":"+t+"R"+(n=(Xi&~(1<<32-at(Xi)-1)).toString(32)+n),0<(n=Ca++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Sa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Eo,useCallback:Xa,useContext:Eo,useEffect:za,useImperativeHandle:$a,useInsertionEffect:ja,useLayoutEffect:Wa,useMemo:Ya,useReducer:Ta,useRef:Na,useState:function(){return Ta(Pa)},useDebugValue:Ka,useDeferredValue:function(e){return Qa(Za(),ma.memoizedState,e)},useTransition:function(){return[Ta(Pa)[0],Za().memoizedState]},useMutableSource:Ma,useSyncExternalStore:ka,useId:es,unstable_isNewReconciler:!1},us={readContext:Eo,useCallback:Xa,useContext:Eo,useEffect:za,useImperativeHandle:$a,useInsertionEffect:ja,useLayoutEffect:Wa,useMemo:Ya,useReducer:Aa,useRef:Na,useState:function(){return Aa(Pa)},useDebugValue:Ka,useDeferredValue:function(e){var t=Za();return null===ma?t.memoizedState=e:Qa(t,ma.memoizedState,e)},useTransition:function(){return[Aa(Pa)[0],Za().memoizedState]},useMutableSource:Ma,useSyncExternalStore:ka,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Fo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zl||(zl=!0,jl=r),fs(0,t)},n}function gs(e,t,n){(n=Fo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=wu.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fo(-1,1)).tag=2,_o(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=C.ReactCurrentOwner,Cs=!1;function Ss(e,t,n,r){t.child=null===e?Qo(t,null,n,r):Yo(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var o=t.ref;return wo(t,i),r=Ra(e,t,n,r,o,i),n=wa(),null===e||Cs?(io&&n&&eo(t),t.flags|=1,Ss(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i))}function Is(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||ku(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Rs(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return zs(e,t,i)}return t.flags|=1,(e=Gu(o,r)).ref=t.ref,e.return=t,t.child=e}function Rs(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(Cs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,zs(e,t,i);0!==(131072&e.flags)&&(Cs=!0)}}return Zs(e,t,n,r,i)}function ws(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Gl,kl),kl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Gl,kl),kl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ei(Gl,kl),kl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ei(Gl,kl),kl|=r;return Ss(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Zs(e,t,n,r,i){var o=ki(n)?Ai:Pi.current;return o=Mi(t,o),wo(t,i),n=Ra(e,t,n,r,o,i),r=wa(),null===e||Cs?(io&&r&&eo(t),t.flags|=1,Ss(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i))}function Ps(e,t,n,r,i){if(ki(n)){var o=!0;Di(t)}else o=!1;if(wo(t,i),null===t.stateNode)Hs(e,t),zo(t,n,r),Wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=Eo(u):u=Mi(t,u=ki(n)?Ai:Pi.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&jo(t,a,r,u),Mo=!1;var f=t.memoizedState;a.state=f,Oo(t,r,a,i),l=t.memoizedState,s!==r||f!==l||Ti.current||Mo?("function"===typeof c&&(Bo(t,n,c,r),l=t.memoizedState),(s=Mo||Ho(t,n,s,r,f,l,u))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Go(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:vo(t.type,s),a.props=u,d=t.pendingProps,f=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Eo(l):l=Mi(t,l=ki(n)?Ai:Pi.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||f!==l)&&jo(t,a,r,l),Mo=!1,f=t.memoizedState,a.state=f,Oo(t,r,a,i);var p=t.memoizedState;s!==d||f!==p||Ti.current||Mo?("function"===typeof h&&(Bo(t,n,h,r),p=t.memoizedState),(u=Mo||Ho(t,n,u,r,f,p,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,o,i)}function Ts(e,t,n,r,i,o){Es(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Ui(t,n,!1),zs(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Yo(t,e.child,null,o),t.child=Yo(t,null,s,o)):Ss(e,t,s,o),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Fi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fi(0,t.context,!1),ia(e,t.containerInfo)}function Ms(e,t,n,r,i){return po(),go(i),t.flags|=256,Ss(e,t,n,r),t.child}var ks,Gs,Fs,_s={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Us(e,t,n){var r,i=t.pendingProps,a=la.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ei(la,1&a),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Du(l,i,0,null),e=_u(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=_s,e):Os(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Ls(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Du({mode:"visible",children:r.children},i,0,null),(a=_u(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Yo(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=_s,a);if(0===(1&t.mode))return Ls(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ls(e,t,s,r=ds(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),Cs||l){if(null!==(r=Tl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ao(e,i),nu(r,e,i,-1))}return gu(),Ls(e,t,s,r=ds(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Zu.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ui(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(qi[$i++]=Xi,qi[$i++]=Yi,qi[$i++]=Ki,Xi=e.id,Yi=e.overflow,Ki=t),(t=Os(t,r.children)).flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Gu(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Gu(r,s):(s=_u(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ds(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=_s,i}return e=(s=e.child).sibling,i=Gu(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Os(e,t){return(t=Du({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ls(e,t,n,r){return null!==r&&go(r),Yo(t,e.child,null,n),(e=Os(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ns(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ro(e.return,t,n)}function Bs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ss(e,t,r.children,n),0!==(2&(r=la.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ns(e,n,t);else if(19===e.tag)Ns(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(la,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,o);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Gu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function js(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return ki(t.type)&&Gi(),Ws(t),null;case 3:return r=t.stateNode,oa(),wi(Ti),wi(Pi),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(au(oo),oo=null))),Ws(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Gs(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ws(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[hi]=a,e=0!==(1&t.mode),n){case"dialog":Lr("cancel",r),Lr("close",r);break;case"iframe":case"object":case"embed":Lr("load",r);break;case"video":case"audio":for(i=0;i<_r.length;i++)Lr(_r[i],r);break;case"source":Lr("error",r);break;case"img":case"image":case"link":Lr("error",r),Lr("load",r);break;case"details":Lr("toggle",r);break;case"input":X(r,a),Lr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Lr("invalid",r);break;case"textarea":ie(r,a),Lr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Lr("scroll",r)}switch(n){case"input":W(r),J(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fi]=t,e[hi]=r,ks(e,t),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Lr("cancel",e),Lr("close",e),i=r;break;case"iframe":case"object":case"embed":Lr("load",e),i=r;break;case"video":case"audio":for(i=0;i<_r.length;i++)Lr(_r[i],e);i=r;break;case"source":Lr("error",e),i=r;break;case"img":case"image":case"link":Lr("error",e),Lr("load",e),i=r;break;case"details":Lr("toggle",e),i=r;break;case"input":X(e,r),i=K(e,r),Lr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),Lr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Lr("invalid",e)}for(a in ye(n,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?me(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Lr("scroll",e):null!=c&&b(e,a,c,l))}switch(n){case"input":W(e),J(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Fs(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Ws(t),null;case 13:if(wi(la),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),a=!1}else null!==oo&&(au(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&la.current)?0===Fl&&(Fl=3):gu())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return oa(),null===e&&Vr(t.stateNode.containerInfo),Ws(t),null;case 10:return Io(t.type._context),Ws(t),null;case 19:if(wi(la),null===(a=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)js(a,!1);else{if(0!==Fl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ua(e))){for(t.flags|=128,js(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>Vl&&(t.flags|=128,r=!0,js(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ua(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),js(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Ws(t),null}else 2*Ye()-a.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,js(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=la.current,Ei(la,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&kl)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function $s(e,t){switch(to(t),t.tag){case 1:return ki(t.type)&&Gi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),wi(Ti),wi(Pi),da(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(wi(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return wi(la),null;case 4:return oa(),null;case 10:return Io(t.type._context),null;case 22:case 23:return du(),null;default:return null}}ks=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Gs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=K(e,i),r=K(e,r),a=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Lr("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Fs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ks=!1,Xs=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Qs=null;function Js(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ru(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Ru(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[gi],delete t[mi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||Js(n,t);case 6:var r=cl,i=dl;cl=null,fl(e,t,n),dl=i,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=dl,cl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),cl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,t,a),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Xs&&(Js(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ru(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,fl(e,t,n),Xs=r):fl(e,t,n);break;default:fl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Pu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(o(160));hl(a,s,i),cl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Ru(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(m){Ru(e,e.return,m)}try{nl(5,e,e.return)}catch(m){Ru(e,e.return,m)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&Js(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&Js(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){Ru(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&Y(i,a),be(l,s);var c=be(l,a);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?me(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):b(i,d,f,c)}switch(l){case"input":Q(i,a);break;case"textarea":oe(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[hi]=a}catch(m){Ru(e,e.return,m)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Ru(e,e.return,m)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(m){Ru(e,e.return,m)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Ye())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(c=Xs)||d,gl(t,e),Xs=c):gl(t,e),vl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Qs=e,d=e.child;null!==d;){for(f=Qs=d;null!==Qs;){switch(p=(h=Qs).child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:Js(h,h.return);var g=h.stateNode;if("function"===typeof g.componentWillUnmount){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Ru(r,n,m)}}break;case 5:Js(h,h.return);break;case 22:if(null!==h.memoizedState){Sl(f);continue}}null!==p?(p.return=h,Qs=p):Sl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=f.stateNode,s=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ge("display",s))}catch(m){Ru(e,e.return,m)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Ru(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gl(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),ul(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(s){Ru(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Qs=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Qs;){var i=Qs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ks;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=Ks;var u=Xs;if(Ks=a,(Xs=l)&&!u)for(Qs=i;null!==Qs;)l=(a=Qs).child,22===a.tag&&null!==a.memoizedState?xl(i):null!==l?(l.return=a,Qs=l):xl(i);for(;null!==o;)Qs=o,bl(o,t,n),o=o.sibling;Qs=i,Ks=s,Xs=u}Cl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Qs=o):Cl(e)}}function Cl(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Lo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Lo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Vt(f)}}}break;default:throw Error(o(163))}Xs||512&t.flags&&il(t)}catch(h){Ru(t,t.return,h)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function Sl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function xl(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ru(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ru(t,i,l)}}var o=t.return;try{il(t)}catch(l){Ru(t,o,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Ru(t,a,l)}}}catch(l){Ru(t,t.return,l)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var Il,Rl=Math.ceil,wl=C.ReactCurrentDispatcher,El=C.ReactCurrentOwner,Zl=C.ReactCurrentBatchConfig,Pl=0,Tl=null,Al=null,Ml=0,kl=0,Gl=Ri(0),Fl=0,_l=null,Dl=0,Ul=0,Ol=0,Ll=null,Nl=null,Bl=0,Vl=1/0,Hl=null,zl=!1,jl=null,Wl=null,ql=!1,$l=null,Kl=0,Xl=0,Yl=null,Ql=-1,Jl=0;function eu(){return 0!==(6&Pl)?Ye():-1!==Ql?Ql:Ql=Ye()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Ml?Ml&-Ml:null!==mo.transition?(0===Jl&&(Jl=gt()),Jl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nu(e,t,n,r){if(50<Xl)throw Xl=0,Yl=null,Error(o(185));vt(e,n,r),0!==(2&Pl)&&e===Tl||(e===Tl&&(0===(2&Pl)&&(Ul|=n),4===Fl&&su(e,Ml)),ru(e,r),1===n&&0===Pl&&0===(1&t.mode)&&(Vl=Ye()+500,Li&&Vi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ht(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===Tl?Ml:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Li=!0,Bi(e)}(lu.bind(null,e)):Bi(lu.bind(null,e)),ai((function(){0===(6&Pl)&&Vi()})),n=null;else{switch(Ct(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Ql=-1,Jl=0,0!==(6&Pl))throw Error(o(327));var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=ft(e,e===Tl?Ml:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mu(e,r);else{t=r;var i=Pl;Pl|=2;var a=pu();for(Tl===e&&Ml===t||(Hl=null,Vl=Ye()+500,fu(e,t));;)try{yu();break}catch(l){hu(e,l)}xo(),wl.current=a,Pl=i,null!==Al?t=0:(Tl=null,Ml=0,t=Fl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ou(e,i))),1===t)throw n=_l,fu(e,0),su(e,r),ru(e,Ye()),n;if(6===t)su(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mu(e,r))&&(0!==(a=pt(e))&&(r=a,t=ou(e,a))),1===t))throw n=_l,fu(e,0),su(e,r),ru(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Su(e,Nl,Hl);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=Bl+500-Ye())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Su.bind(null,e,Nl,Hl),t);break}Su(e,Nl,Hl);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rl(r/1960))-r)){e.timeoutHandle=ri(Su.bind(null,e,Nl,Hl),r);break}Su(e,Nl,Hl);break;default:throw Error(o(329))}}}return ru(e,Ye()),e.callbackNode===n?iu.bind(null,e):null}function ou(e,t){var n=Ll;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=mu(e,t))&&(t=Nl,Nl=n,null!==t&&au(t)),e}function au(e){null===Nl?Nl=e:Nl.push.apply(Nl,e)}function su(e,t){for(t&=~Ol,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Pl))throw Error(o(327));xu();var t=ft(e,0);if(0===(1&t))return ru(e,Ye()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=_l,fu(e,0),su(e,t),ru(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Su(e,Nl,Hl),ru(e,Ye()),null}function uu(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(Vl=Ye()+500,Li&&Vi())}}function cu(e){null!==$l&&0===$l.tag&&0===(6&Pl)&&xu();var t=Pl;Pl|=1;var n=Zl.transition,r=bt;try{if(Zl.transition=null,bt=1,e)return e()}finally{bt=r,Zl.transition=n,0===(6&(Pl=t))&&Vi()}}function du(){kl=Gl.current,wi(Gl)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Gi();break;case 3:oa(),wi(Ti),wi(Pi),da();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:wi(la);break;case 10:Io(r.type._context);break;case 22:case 23:du()}n=n.return}if(Tl=e,Al=e=Gu(e.current,null),Ml=kl=t,Fl=0,_l=null,Ol=Ul=Dl=0,Nl=Ll=null,null!==Zo){for(t=0;t<Zo.length;t++)if(null!==(r=(n=Zo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Zo=null}return e}function hu(e,t){for(;;){var n=Al;try{if(xo(),fa.current=as,ya){for(var r=ga.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(pa=0,va=ma=ga=null,ba=!1,Ca=0,El.current=null,null===n||null===n.return){Fl=1,_l=t,Al=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=Ml,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&ms(a,c,t),u=c;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(u),t.updateQueue=m}else g.add(u);break e}if(0===(1&t)){ms(a,c,t),gu();break e}u=Error(o(426))}else if(io&&1&l.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ys(v,s,l,0,t),go(cs(u,l));break e}}a=u=cs(u,l),4!==Fl&&(Fl=2),null===Ll?Ll=[a]:Ll.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Uo(a,ps(0,u,t));break e;case 1:l=u;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Uo(a,gs(a,l,t));break e}}a=a.return}while(null!==a)}Cu(n)}catch(C){t=C,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pu(){var e=wl.current;return wl.current=as,null===e?as:e}function gu(){0!==Fl&&3!==Fl&&2!==Fl||(Fl=4),null===Tl||0===(268435455&Dl)&&0===(268435455&Ul)||su(Tl,Ml)}function mu(e,t){var n=Pl;Pl|=2;var r=pu();for(Tl===e&&Ml===t||(Hl=null,fu(e,t));;)try{vu();break}catch(i){hu(e,i)}if(xo(),Pl=n,wl.current=r,null!==Al)throw Error(o(261));return Tl=null,Ml=0,Fl}function vu(){for(;null!==Al;)bu(Al)}function yu(){for(;null!==Al&&!Ke();)bu(Al)}function bu(e){var t=Il(e.alternate,e,kl);e.memoizedProps=e.pendingProps,null===t?Cu(e):Al=t,El.current=null}function Cu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qs(n,t,kl)))return void(Al=n)}else{if(null!==(n=$s(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Fl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Fl&&(Fl=5)}function Su(e,t,n){var r=bt,i=Zl.transition;try{Zl.transition=null,bt=1,function(e,t,n,r){do{xu()}while(null!==$l);if(0!==(6&Pl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Tl&&(Al=Tl=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||ql||(ql=!0,Tu(tt,(function(){return xu(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Zl.transition,Zl.transition=null;var s=bt;bt=1;var l=Pl;Pl|=4,El.current=null,function(e,t){if(ei=zt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(S){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(l=s+i),f!==a||0!==r&&3!==f.nodeType||(u=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(l=s),h===a&&++d===r&&(u=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},zt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:vo(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var C=t.stateNode.containerInfo;1===C.nodeType?C.textContent="":9===C.nodeType&&C.documentElement&&C.removeChild(C.documentElement);break;default:throw Error(o(163))}}catch(S){Ru(t,t.return,S)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}g=tl,tl=!1}(e,n),ml(n,e),pr(ti),zt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Xe(),Pl=l,bt=s,Zl.transition=a}else e.current=n;if(ql&&(ql=!1,$l=e,Kl=i),0===(a=e.pendingLanes)&&(Wl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(zl)throw zl=!1,e=jl,jl=null,e;0!==(1&Kl)&&0!==e.tag&&xu(),0!==(1&(a=e.pendingLanes))?e===Yl?Xl++:(Xl=0,Yl=e):Xl=0,Vi()}(e,t,n,r)}finally{Zl.transition=i,bt=r}return null}function xu(){if(null!==$l){var e=Ct(Kl),t=Zl.transition,n=bt;try{if(Zl.transition=null,bt=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,Kl=0,0!==(6&Pl))throw Error(o(331));var i=Pl;for(Pl|=4,Qs=e.current;null!==Qs;){var a=Qs,s=a.child;if(0!==(16&Qs.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Qs=c;null!==Qs;){var d=Qs;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var f=d.child;if(null!==f)f.return=d,Qs=f;else for(;null!==Qs;){var h=(d=Qs).sibling,p=d.return;if(ol(d),d===c){Qs=null;break}if(null!==h){h.return=p,Qs=h;break}Qs=p}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Qs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(a=Qs).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Qs=y;break e}Qs=a.return}}var b=e.current;for(Qs=b;null!==Qs;){var C=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==C)C.return=s,Qs=C;else e:for(s=b;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(x){Ru(l,l.return,x)}if(l===s){Qs=null;break e}var S=l.sibling;if(null!==S){S.return=l.return,Qs=S;break e}Qs=l.return}}if(Pl=i,Vi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Zl.transition=t}}return!1}function Iu(e,t,n){e=_o(e,t=ps(0,t=cs(n,t),1),1),t=eu(),null!==e&&(vt(e,1,t),ru(e,t))}function Ru(e,t,n){if(3===e.tag)Iu(e,e,n);else for(;null!==t;){if(3===t.tag){Iu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=_o(t,e=gs(t,e=cs(n,e),1),1),e=eu(),null!==t&&(vt(t,1,e),ru(t,e));break}}t=t.return}}function wu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Ml&n)===n&&(4===Fl||3===Fl&&(130023424&Ml)===Ml&&500>Ye()-Bl?fu(e,0):Ol|=n),ru(e,t)}function Eu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Ao(e,t))&&(vt(e,t,n),ru(e,n))}function Zu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Eu(e,n)}function Pu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Eu(e,n)}function Tu(e,t){return qe(e,t)}function Au(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mu(e,t,n,r){return new Au(e,t,n,r)}function ku(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gu(e,t){var n=e.alternate;return null===n?((n=Mu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)ku(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case I:return _u(n.children,i,a,t);case R:s=8,i|=8;break;case w:return(e=Mu(12,n,t,2|i)).elementType=w,e.lanes=a,e;case T:return(e=Mu(13,n,t,i)).elementType=T,e.lanes=a,e;case A:return(e=Mu(19,n,t,i)).elementType=A,e.lanes=a,e;case G:return Du(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case Z:s=9;break e;case P:s=11;break e;case M:s=14;break e;case k:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Mu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function _u(e,t,n,r){return(e=Mu(7,e,r,t)).lanes=n,e}function Du(e,t,n,r){return(e=Mu(22,e,r,t)).elementType=G,e.lanes=n,e.stateNode={isHidden:!1},e}function Uu(e,t,n){return(e=Mu(6,e,null,t)).lanes=n,e}function Ou(e,t,n){return(t=Mu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nu(e,t,n,r,i,o,a,s,l){return e=new Lu(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Mu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ko(o),e}function Bu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Vu(e){if(!e)return Zi;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ki(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(ki(n))return _i(e,n,t)}return t}function Hu(e,t,n,r,i,o,a,s,l){return(e=Nu(n,r,!0,e,0,o,0,s,l)).context=Vu(null),n=e.current,(o=Fo(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,_o(n,o,i),e.current.lanes=i,vt(e,i,r),ru(e,r),e}function zu(e,t,n,r){var i=t.current,o=eu(),a=tu(i);return n=Vu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=_o(i,t,a))&&(nu(e,i,a,o),Do(e,i,a)),a}function ju(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qu(e,t){Wu(e,t),(e=e.alternate)&&Wu(e,t)}Il=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)Cs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Cs=!1,function(e,t,n){switch(t.tag){case 3:As(t),po();break;case 5:aa(t);break;case 1:ki(t.type)&&Di(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(la,1&la.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Us(e,t,n):(Ei(la,1&la.current),null!==(e=zs(e,t,n))?e.sibling:null);Ei(la,1&la.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(la,la.current),r)break;return null;case 22:case 23:return t.lanes=0,ws(e,t,n)}return zs(e,t,n)}(e,t,n);Cs=0!==(131072&e.flags)}else Cs=!1,io&&0!==(1048576&t.flags)&&Ji(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Mi(t,Pi.current);wo(t,n),i=Ra(null,t,r,e,i,n);var a=wa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ki(r)?(a=!0,Di(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ko(t),i.updater=Vo,t.stateNode=i,i._reactInternals=t,Wo(t,r,e,n),t=Ts(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),Ss(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return ku(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===M)return 14}return 2}(r),e=vo(r,e),i){case 0:t=Zs(null,t,r,e,n);break e;case 1:t=Ps(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Is(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Zs(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ps(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(As(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Go(e,t),Oo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ms(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=Ms(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=ui(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Qo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=zs(e,t,n);break e}Ss(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&uo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Es(e,t),Ss(e,t,s,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Us(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Yo(t,null,r,n):Ss(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return Ss(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ss(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ei(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ti.current){t=zs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=Fo(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Ro(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ro(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Ss(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,wo(t,n),r=r(i=Eo(i)),t.flags|=1,Ss(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),Is(e,t,r,i=vo(r.type,i),n);case 15:return Rs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),Hs(e,t),t.tag=1,ki(r)?(e=!0,Di(t)):e=!1,wo(t,n),zo(t,r,i),Wo(t,r,i,n),Ts(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return ws(e,t,n)}throw Error(o(156,t.tag))};var $u="function"===typeof reportError?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}function Xu(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=ju(a);s.call(e)}}zu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=ju(a);o.call(e)}}var a=Hu(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=a,e[pi]=a.current,Vr(8===e.nodeType?e.parentNode:e),cu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=ju(l);s.call(e)}}var l=Nu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[pi]=l.current,Vr(8===e.nodeType?e.parentNode:e),cu((function(){zu(t,l,n,r)})),l}(n,t,e,i,r);return ju(a)}Xu.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));zu(e,t,null,null)},Xu.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){zu(null,e,null,null)})),t[pi]=null}},Xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gt.length&&0!==t&&t<Gt[n].priority;n++);Gt.splice(n,0,e),0===n&&Ut(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Ye()),0===(6&Pl)&&(Vl=Ye()+500,Vi()))}break;case 13:cu((function(){var t=Ao(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),qu(e,1)}},xt=function(e){if(13===e.tag){var t=Ao(e,134217728);if(null!==t)nu(t,e,134217728,eu());qu(e,134217728)}},It=function(e){if(13===e.tag){var t=tu(e),n=Ao(e,t);if(null!==n)nu(n,e,t,eu());qu(e,t)}},Rt=function(){return bt},wt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Si(r);if(!i)throw Error(o(90));q(r),Q(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Pe=uu,Te=cu;var tc={usingClientEntryPoint:!1,Events:[bi,Ci,Si,Ee,Ze,uu]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=je(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),ot=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(o(200));return Bu(e,t,null,n)},t.createRoot=function(e,t){if(!Yu(e))throw Error(o(299));var n=!1,r="",i=$u;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Nu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Ku(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=je(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Qu(t))throw Error(o(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=$u;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hu(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xu(t)},t.render=function(e,t,n){if(!Qu(t))throw Error(o(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qu(e))throw Error(o(40));return!!e._reactRootContainer&&(cu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(54164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},54164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(34463)},98459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case f:case h:return e;default:switch(e=e&&e.$$typeof){case c:case u:case d:case g:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},36900:function(e,t,n){"use strict";n(98459)},66374:function(e,t,n){"use strict";var r=n(72791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},59117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var C=b.prototype=new y;C.constructor=b,g(C,v.prototype),C.isPureReactComponent=!0;var S=Array.isArray,x=Object.prototype.hasOwnProperty,I={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,i)&&!R.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:I.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var Z=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+P(l,0):o,S(a)?(i="",null!=e&&(i=e.replace(Z,"$&/")+"/"),T(a,t,i,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(Z,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",S(e))for(var u=0;u<e.length;u++){var c=o+P(s=e[u],u);l+=T(s,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=T(s=s.value,t,i,c=o+P(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var k={current:null},G={transition:null},F={ReactCurrentDispatcher:k,ReactCurrentBatchConfig:G,ReactCurrentOwner:I};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=I.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)x.call(t,u)&&!R.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=w,t.createFactory=function(e){var t=w.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=G.transition;G.transition={};try{e()}finally{G.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return k.current.useCallback(e,t)},t.useContext=function(e){return k.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return k.current.useDeferredValue(e)},t.useEffect=function(e,t){return k.current.useEffect(e,t)},t.useId=function(){return k.current.useId()},t.useImperativeHandle=function(e,t,n){return k.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.current.useMemo(e,t)},t.useReducer=function(e,t,n){return k.current.useReducer(e,t,n)},t.useRef=function(e){return k.current.useRef(e)},t.useState=function(e){return k.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.current.useTransition()},t.version="18.2.0"},72791:function(e,t,n){"use strict";e.exports=n(59117)},80184:function(e,t,n){"use strict";e.exports=n(66374)},36813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function C(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function S(e){if(m=!1,C(e),!g)if(null!==r(u))g=!0,G(x);else{var t=r(c);null!==t&&F(S,t.startTime-e)}}function x(e,n){g=!1,m&&(m=!1,y(E),E=-1),p=!0;var o=h;try{for(C(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!T());){var a=f.callback;if("function"===typeof a){f.callback=null,h=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(u)&&i(u),C(n)}else i(u);f=r(u)}if(null!==f)var l=!0;else{var d=r(c);null!==d&&F(S,d.startTime-n),l=!1}return l}finally{f=null,h=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,R=!1,w=null,E=-1,Z=5,P=-1;function T(){return!(t.unstable_now()-P<Z)}function A(){if(null!==w){var e=t.unstable_now();P=e;var n=!0;try{n=w(!0,e)}finally{n?I():(R=!1,w=null)}}else R=!1}if("function"===typeof b)I=function(){b(A)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,k=M.port2;M.port1.onmessage=A,I=function(){k.postMessage(null)}}else I=function(){v(A,0)};function G(e){w=e,R||(R=!0,I())}function F(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,G(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(m?(y(E),E=-1):m=!0,F(S,o-a))):(e.sortIndex=s,n(u,e),g||p||(g=!0,G(x))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},45296:function(e,t,n){"use strict";e.exports=n(36813)},51561:function(e,t,n){"use strict";var r=n(72791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return s((function(){i.value=n,i.getSnapshot=t,u(i)&&c({inst:i})}),[e,n,t]),a((function(){return u(i)&&c({inst:i}),e((function(){u(i)&&c({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},47595:function(e,t,n){"use strict";var r=n(72791),i=n(37248);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=u((function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,s=n)}var a,s,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,i]);var h=a(e,d[0],d[1]);return l((function(){f.hasValue=!0,f.value=h}),[h]),c(h),h}},37248:function(e,t,n){"use strict";e.exports=n(51561)},30327:function(e,t,n){"use strict";e.exports=n(47595)}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="/dashboard/";var __webpack_exports__={};!function(){"use strict";var e,t=__webpack_require__(72791),n=__webpack_require__(1250);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var s=function(e){return e};var l="beforeunload",u="popstate";function c(e){e.preventDefault(),e.returnValue=""}function d(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function f(){return Math.random().toString(36).substr(2,8)}function h(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function p(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var g=(0,t.createContext)(null);var m=(0,t.createContext)(null);var v=(0,t.createContext)({outlet:null,matches:[]});function y(e,t){if(!e)throw new Error(t)}function b(e,t,n){void 0===n&&(n="/");var r=Z(("string"===typeof t?p(t):t).pathname||"/",n);if(null==r)return null;var i=C(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=R(i[a],r);return o}function C(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||y(!1),o.relativePath=o.relativePath.slice(r.length));var a=P([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(!0===e.index&&y(!1),C(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:I(a,e.index),routesMeta:s})})),t}var S=/^:\w+$/,x=function(e){return"*"===e};function I(e,t){var n=e.split("/"),r=n.length;return n.some(x)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!x(e)})).reduce((function(e,t){return e+(S.test(t)?3:""===t?1:10)}),r)}function R(e,t){for(var n=e.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],l=a===n.length-1,u="/"===i?t:t.slice(i.length)||"/",c=w({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);var d=s.route;o.push({params:r,pathname:P([i,c.pathname]),pathnameBase:T(P([i,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(i=P([i,c.pathnameBase]))}return o}function w(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=o(n,2),i=r[0],a=r[1],s=t.match(i);if(!s)return null;var l=s[0],u=l.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=l.slice(0,l.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{}),pathname:l,pathnameBase:u,pattern:e}}function E(e,t,n){var r,i="string"===typeof e?p(e):e,o=""===e||""===i.pathname?"/":i.pathname;if(null==o)r=n;else{var a=t.length-1;if(o.startsWith("..")){for(var s=o.split("/");".."===s[0];)s.shift(),a-=1;i.pathname=s.join("/")}r=a>=0?t[a]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?p(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,a=n.hash,s=void 0===a?"":a,l=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:l,search:A(o),hash:M(s)}}(i,r);return o&&"/"!==o&&o.endsWith("/")&&!l.pathname.endsWith("/")&&(l.pathname+="/"),l}function Z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var P=function(e){return e.join("/").replace(/\/\/+/g,"/")},T=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},A=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},M=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function k(e){G()||y(!1);var n=(0,t.useContext)(g),r=n.basename,i=n.navigator,o=D(e),a=o.hash,s=o.pathname,l=o.search,u=s;if("/"!==r){var c=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?p(e).pathname:e.pathname}(e),d=null!=c&&c.endsWith("/");u="/"===s?r+(d?"/":""):P([r,s])}return i.createHref({pathname:u,search:l,hash:a})}function G(){return null!=(0,t.useContext)(m)}function F(){return G()||y(!1),(0,t.useContext)(m).location}function _(){G()||y(!1);var e=(0,t.useContext)(g),n=e.basename,r=e.navigator,i=(0,t.useContext)(v).matches,o=F().pathname,a=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);return(0,t.useEffect)((function(){s.current=!0})),(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=E(e,JSON.parse(a),o);"/"!==n&&(i.pathname=P([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,a,o])}function D(e){var n=(0,t.useContext)(v).matches,r=F().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return E(e,JSON.parse(i),r)}),[e,i,r])}function U(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,o){return(0,t.createElement)(v.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,o+1))}})}),null)}function O(e){y(!1)}function L(n){var r=n.basename,i=void 0===r?"/":r,o=n.children,a=void 0===o?null:o,s=n.location,l=n.navigationType,u=void 0===l?e.Pop:l,c=n.navigator,d=n.static,f=void 0!==d&&d;G()&&y(!1);var h=T(i),v=(0,t.useMemo)((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof s&&(s=p(s));var b=s,C=b.pathname,S=void 0===C?"/":C,x=b.search,I=void 0===x?"":x,R=b.hash,w=void 0===R?"":R,E=b.state,P=void 0===E?null:E,A=b.key,M=void 0===A?"default":A,k=(0,t.useMemo)((function(){var e=Z(S,h);return null==e?null:{pathname:e,search:I,hash:w,state:P,key:M}}),[h,S,I,w,P,M]);return null==k?null:(0,t.createElement)(g.Provider,{value:v},(0,t.createElement)(m.Provider,{children:a,value:{location:k,navigationType:u}}))}function N(e){var n=e.children,r=e.location;return function(e,n){G()||y(!1);var r,i=(0,t.useContext)(v).matches,o=i[i.length-1],a=o?o.params:{},s=(o&&o.pathname,o?o.pathnameBase:"/"),l=(o&&o.route,F());if(n){var u,c="string"===typeof n?p(n):n;"/"===s||(null==(u=c.pathname)?void 0:u.startsWith(s))||y(!1),r=c}else r=l;var d=r.pathname||"/",f=b(e,{pathname:"/"===s?d:d.slice(s.length)||"/"});return U(f&&f.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:P([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:P([s,e.pathnameBase])})})),i)}(B(n),r)}function B(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==O&&y(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=B(e.props.children)),n.push(r)}else n.push.apply(n,B(e.props.children))})),n}function V(){return V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}function H(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var z=["onClick","reloadDocument","replace","state","target","to"],j=["aria-current","caseSensitive","className","end","style","to","children"];function W(n){var r=n.basename,i=n.children,g=n.window,m=(0,t.useRef)();null==m.current&&(m.current=function(t){void 0===t&&(t={});var n=t.window,r=void 0===n?document.defaultView:n,i=r.history;function o(){var e=r.location,t=e.pathname,n=e.search,o=e.hash,a=i.state||{};return[a.idx,s({pathname:t,search:n,hash:o,state:a.usr||null,key:a.key||"default"})]}var g=null;r.addEventListener(u,(function(){if(g)S.call(g),g=null;else{var t=e.Pop,n=o(),r=n[0],i=n[1];if(S.length){if(null!=r){var a=y-r;a&&(g={action:t,location:i,retry:function(){Z(-1*a)}},Z(a))}}else E(t)}}));var m=e.Pop,v=o(),y=v[0],b=v[1],C=d(),S=d();function x(e){return"string"===typeof e?e:h(e)}function I(e,t){return void 0===t&&(t=null),s(a({pathname:b.pathname,hash:"",search:""},"string"===typeof e?p(e):e,{state:t,key:f()}))}function R(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function w(e,t,n){return!S.length||(S.call({action:e,location:t,retry:n}),!1)}function E(e){m=e;var t=o();y=t[0],b=t[1],C.call({action:m,location:b})}function Z(e){i.go(e)}null==y&&(y=0,i.replaceState(a({},i.state,{idx:y}),""));var P={get action(){return m},get location(){return b},createHref:x,push:function t(n,o){var a=e.Push,s=I(n,o);if(w(a,s,(function(){t(n,o)}))){var l=R(s,y+1),u=l[0],c=l[1];try{i.pushState(u,"",c)}catch(d){r.location.assign(c)}E(a)}},replace:function t(n,r){var o=e.Replace,a=I(n,r);if(w(o,a,(function(){t(n,r)}))){var s=R(a,y),l=s[0],u=s[1];i.replaceState(l,"",u),E(o)}},go:Z,back:function(){Z(-1)},forward:function(){Z(1)},listen:function(e){return C.push(e)},block:function(e){var t=S.push(e);return 1===S.length&&r.addEventListener(l,c),function(){t(),S.length||r.removeEventListener(l,c)}}};return P}({window:g}));var v=m.current,y=o((0,t.useState)({action:v.action,location:v.location}),2),b=y[0],C=y[1];return(0,t.useLayoutEffect)((function(){return v.listen(C)}),[v]),(0,t.createElement)(L,{basename:r,children:i,location:b.location,navigationType:b.action,navigator:v})}var q=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,o=e.replace,a=void 0!==o&&o,s=e.state,l=e.target,u=e.to,c=H(e,z),d=k(u),f=function(e,n){var r=void 0===n?{}:n,i=r.target,o=r.replace,a=r.state,s=_(),l=F(),u=D(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!o||h(l)===h(u);s(e,{replace:n,state:a})}}),[l,s,u,o,a,i,e])}(u,{replace:a,state:s,target:l});return(0,t.createElement)("a",V({},c,{href:d,onClick:function(e){r&&r(e),e.defaultPrevented||i||f(e)},ref:n,target:l}))}));var $=(0,t.forwardRef)((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,o=e.caseSensitive,a=void 0!==o&&o,s=e.className,l=void 0===s?"":s,u=e.end,c=void 0!==u&&u,d=e.style,f=e.to,h=e.children,p=H(e,j),g=F(),m=D(f),v=g.pathname,y=m.pathname;a||(v=v.toLowerCase(),y=y.toLowerCase());var b,C=v===y||!c&&v.startsWith(y)&&"/"===v.charAt(y.length),S=C?i:void 0;b="function"===typeof l?l({isActive:C}):[l,C?"active":null].filter(Boolean).join(" ");var x="function"===typeof d?d({isActive:C}):d;return(0,t.createElement)(q,V({},p,{"aria-current":S,className:b,ref:n,style:x,to:f}),"function"===typeof h?h({isActive:C}):h)}));var K=__webpack_require__(37248),X=__webpack_require__(30327),Y=__webpack_require__(54164);var Q=function(e){e()},J=function(){return Q},ee=t.createContext(null);function te(){return(0,t.useContext)(ee)}var ne=function(){throw new Error("uSES not initialized!")},re=ne,ie=function(e,t){return e===t};function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,n=e===ee?te:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ie;var i=n(),o=i.store,a=i.subscription,s=i.getServerState,l=re(a.addNestedSub,o.getState,s||o.getState,e,r);return(0,t.useDebugValue)(l),l}}var ae=oe();__webpack_require__(62110),__webpack_require__(36900);var se={notify:function(){},get:function(){return[]}};function le(e,t){var n,r=se;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=J(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=se)},getListeners:function(){return r}};return a}var ue=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var ce=function(e){var n=e.store,r=e.context,i=e.children,o=e.serverState,a=(0,t.useMemo)((function(){var e=le(n);return{store:n,subscription:e,getServerState:o?function(){return o}:void 0}}),[n,o]),s=(0,t.useMemo)((function(){return n.getState()}),[n]);ue((function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,s]);var l=r||ee;return t.createElement(l.Provider,{value:a},i)};var de;function fe(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function he(e){return!!e&&!!e[nt]}function pe(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===rt}(e)||Array.isArray(e)||!!e[tt]||!!e.constructor[tt]||Se(e)||xe(e))}function ge(e,t,n){void 0===n&&(n=!1),0===me(e)?(n?Object.keys:it)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function me(e){var t=e[nt];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Se(e)?2:xe(e)?3:0}function ve(e,t){return 2===me(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ye(e,t){return 2===me(e)?e.get(t):e[t]}function be(e,t,n){var r=me(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function Ce(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function Se(e){return Ye&&e instanceof Map}function xe(e){return Qe&&e instanceof Set}function Ie(e){return e.o||e.t}function Re(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ot(e);delete t[nt];for(var n=it(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function we(e,t){return void 0===t&&(t=!1),Ze(e)||he(e)||!pe(e)||(me(e)>1&&(e.set=e.add=e.clear=e.delete=Ee),Object.freeze(e),t&&ge(e,(function(e,t){return we(t,!0)}),!0)),e}function Ee(){fe(2)}function Ze(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Pe(e){var t=at[e];return t||fe(18,e),t}function Te(e,t){at[e]||(at[e]=t)}function Ae(){return Ke}function Me(e,t){t&&(Pe("Patches"),e.u=[],e.s=[],e.v=t)}function ke(e){Ge(e),e.p.forEach(_e),e.p=null}function Ge(e){e===Ke&&(Ke=e.l)}function Fe(e){return Ke={p:[],l:Ke,h:e,m:!0,_:0}}function _e(e){var t=e[nt];0===t.i||1===t.i?t.j():t.O=!0}function De(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||Pe("ES5").S(t,e,r),r?(n[nt].P&&(ke(t),fe(4)),pe(e)&&(e=Ue(t,e),t.l||Le(t,e)),t.u&&Pe("Patches").M(n[nt].t,e,t.u,t.s)):e=Ue(t,n,[]),ke(t),t.u&&t.v(t.u,t.s),e!==et?e:void 0}function Ue(e,t,n){if(Ze(t))return t;var r=t[nt];if(!r)return ge(t,(function(i,o){return Oe(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Le(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=Re(r.k):r.o;ge(3===r.i?new Set(i):i,(function(t,o){return Oe(e,r,i,t,o,n)})),Le(e,i,!1),n&&e.u&&Pe("Patches").R(r,n,e.u,e.s)}return r.o}function Oe(e,t,n,r,i,o){if(he(i)){var a=Ue(e,i,o&&t&&3!==t.i&&!ve(t.D,r)?o.concat(r):void 0);if(be(n,r,a),!he(a))return;e.m=!1}if(pe(i)&&!Ze(i)){if(!e.h.F&&e._<1)return;Ue(e,i),t&&t.A.l||Le(e,i)}}function Le(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&we(t,n)}function Ne(e,t){var n=e[nt];return(n?Ie(n):e)[t]}function Be(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Ve(e){e.P||(e.P=!0,e.l&&Ve(e.l))}function He(e){e.o||(e.o=Re(e.t))}function ze(e,t,n){var r=Se(t)?Pe("MapSet").N(t,n):xe(t)?Pe("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Ae(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=st;n&&(i=[r],o=lt);var a=Proxy.revocable(i,o),s=a.revoke,l=a.proxy;return r.k=l,r.j=s,l}(t,n):Pe("ES5").J(t,n);return(n?n.A:Ae()).p.push(r),r}function je(e){return he(e)||fe(22,e),function e(t){if(!pe(t))return t;var n,r=t[nt],i=me(t);if(r){if(!r.P&&(r.i<4||!Pe("ES5").K(r)))return r.t;r.I=!0,n=We(t,i),r.I=!1}else n=We(t,i);return ge(n,(function(t,i){r&&ye(r.t,t)===i||be(n,t,e(i))})),3===i?new Set(n):n}(e)}function We(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Re(e)}function qe(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[nt];return st.get(t,e)},set:function(t){var n=this[nt];st.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][nt];if(!i.P)switch(i.i){case 5:r(i)&&Ve(i);break;case 4:n(i)&&Ve(i)}}}function n(e){for(var t=e.t,n=e.k,r=it(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==nt){var a=t[o];if(void 0===a&&!ve(t,o))return!0;var s=n[o],l=s&&s[nt];if(l?l.t!==a:!Ce(s,a))return!0}}var u=!!t[nt];return r.length!==it(t).length+(u?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};Te("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=ot(n);delete o[nt];for(var a=it(o),s=0;s<a.length;s++){var l=a[s];o[l]=e(l,t||!!o[l].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:Ae(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,nt,{value:o,writable:!0}),i},S:function(e,n,i){i?he(n)&&n[nt].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[nt];if(n){var i=n.t,o=n.k,a=n.D,s=n.i;if(4===s)ge(o,(function(t){t!==nt&&(void 0!==i[t]||ve(i,t)?a[t]||e(o[t]):(a[t]=!0,Ve(n)))})),ge(i,(function(e){void 0!==o[e]||ve(o,e)||(a[e]=!1,Ve(n))}));else if(5===s){if(r(n)&&(Ve(n),a.length=!0),o.length<i.length)for(var l=o.length;l<i.length;l++)a[l]=!1;else for(var u=i.length;u<o.length;u++)a[u]=!0;for(var c=Math.min(o.length,i.length),d=0;d<c;d++)o.hasOwnProperty(d)||(a[d]=!0),void 0===a[d]&&e(o[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){re=e}(X.useSyncExternalStoreWithSelector),function(e){e}(K.useSyncExternalStore),de=Y.unstable_batchedUpdates,Q=de;var $e,Ke,Xe="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Ye="undefined"!=typeof Map,Qe="undefined"!=typeof Set,Je="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,et=Xe?Symbol.for("immer-nothing"):(($e={})["immer-nothing"]=!0,$e),tt=Xe?Symbol.for("immer-draftable"):"__$immer_draftable",nt=Xe?Symbol.for("immer-state"):"__$immer_state",rt=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),it="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ot=Object.getOwnPropertyDescriptors||function(e){var t={};return it(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},at={},st={get:function(e,t){if(t===nt)return e;var n=Ie(e);if(!ve(n,t))return function(e,t,n){var r,i=Be(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!pe(r)?r:r===Ne(e.t,t)?(He(e),e.o[t]=ze(e.A.h,r,e)):r},has:function(e,t){return t in Ie(e)},ownKeys:function(e){return Reflect.ownKeys(Ie(e))},set:function(e,t,n){var r=Be(Ie(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Ne(Ie(e),t),o=null==i?void 0:i[nt];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(Ce(n,i)&&(void 0!==n||ve(e.t,t)))return!0;He(e),Ve(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==Ne(e.t,t)||t in e.t?(e.D[t]=!1,He(e),Ve(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Ie(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){fe(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){fe(12)}},lt={};ge(st,(function(e,t){lt[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),lt.deleteProperty=function(e,t){return lt.set.call(this,e,t,void 0)},lt.set=function(e,t,n){return st.set.call(this,e[0],t,n,e[0])};var ut=function(){function e(e){var t=this;this.g=Je,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&fe(6),void 0!==r&&"function"!=typeof r&&fe(7),pe(e)){var s=Fe(t),l=ze(t,e,void 0),u=!0;try{a=n(l),u=!1}finally{u?ke(s):Ge(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return Me(s,r),De(e,s)}),(function(e){throw ke(s),e})):(Me(s,r),De(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===et&&(a=void 0),t.F&&we(a,!0),r){var c=[],d=[];Pe("Patches").M(e,a,c,d),r(c,d)}return a}fe(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){pe(e)||fe(8),he(e)&&(e=je(e));var t=Fe(this),n=ze(this,e,void 0);return n[nt].C=!0,Ge(t),n},t.finishDraft=function(e,t){var n=(e&&e[nt]).A;return Me(n,t),De(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!Je&&fe(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=Pe("Patches").$;return he(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),ct=new ut,dt=ct.produce,ft=(ct.produceWithPatches.bind(ct),ct.setAutoFreeze.bind(ct),ct.setUseProxies.bind(ct),ct.applyPatches.bind(ct),ct.createDraft.bind(ct),ct.finishDraft.bind(ct),dt);function ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){ht(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var vt="function"===typeof Symbol&&Symbol.observable||"@@observable",yt=function(){return Math.random().toString(36).substring(7).split("").join(".")},bt={INIT:"@@redux/INIT"+yt(),REPLACE:"@@redux/REPLACE"+yt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+yt()}};function Ct(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function St(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(mt(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(mt(1));return n(St)(e,t)}if("function"!==typeof e)throw new Error(mt(2));var i=e,o=t,a=[],s=a,l=!1;function u(){s===a&&(s=a.slice())}function c(){if(l)throw new Error(mt(3));return o}function d(e){if("function"!==typeof e)throw new Error(mt(4));if(l)throw new Error(mt(5));var t=!0;return u(),s.push(e),function(){if(t){if(l)throw new Error(mt(6));t=!1,u();var n=s.indexOf(e);s.splice(n,1),a=null}}}function f(e){if(!Ct(e))throw new Error(mt(7));if("undefined"===typeof e.type)throw new Error(mt(8));if(l)throw new Error(mt(9));try{l=!0,o=i(o,e)}finally{l=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}function h(e){if("function"!==typeof e)throw new Error(mt(10));i=e,f({type:bt.REPLACE})}function p(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(mt(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[vt]=function(){return this},e}return f({type:bt.INIT}),(r={dispatch:f,subscribe:d,getState:c,replaceReducer:h})[vt]=p,r}function xt(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:bt.INIT}))throw new Error(mt(12));if("undefined"===typeof n(void 0,{type:bt.PROBE_UNKNOWN_ACTION()}))throw new Error(mt(13))}))}(n)}catch(s){o=s}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var l=a[s],u=n[l],c=e[l],d=u(c,t);if("undefined"===typeof d){t&&t.type;throw new Error(mt(14))}i[l]=d,r=r||d!==c}return(r=r||a.length!==Object.keys(e).length)?i:e}}function It(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Rt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(mt(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=It.apply(void 0,o)(n.dispatch),gt(gt({},n),{},{dispatch:r})}}}function wt(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Et=wt();Et.withExtraArgument=wt;var Zt=Et,Pt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tt=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},At=Object.defineProperty,Mt=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),kt=Object.prototype.hasOwnProperty,Gt=Object.prototype.propertyIsEnumerable,Ft=function(e,t,n){return t in e?At(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},_t=function(e,t){for(var n in t||(t={}))kt.call(t,n)&&Ft(e,n,t[n]);if(Mt)for(var r=0,i=Mt(t);r<i.length;r++){n=i[r];Gt.call(t,n)&&Ft(e,n,t[n])}return e},Dt="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?It:It.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Ut(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var Ot=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Pt(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Tt([void 0],e[0].concat(this)))):new(t.bind.apply(t,Tt([void 0],e.concat(this))))},t}(Array);function Lt(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Ot);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Zt.withExtraArgument(n.extraArgument)):r.push(Zt));0;return r}(e)}}function Nt(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return _t(_t({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Bt(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}Object.assign;var Vt="listenerMiddleware";Nt(Vt+"/add"),Nt(Vt+"/removeAll"),Nt(Vt+"/remove");qe();var Ht=__webpack_require__.p+"static/media/tasksIcon.fb0f53cd799576a205536cd685adcc39.svg",zt={navBarElems:[{id:1,name:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",path:"/",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABISURBVHgB7ZMxDgAgCAOp4R0u/v9JLn4E4+CoMJBO3MLSNE1oMZeZfBgdONfTNUmijHw0Krzfe8FPROsRokJaIo1uzaMmQjTaC3kTo4XKNaoAAAAASUVORK5CYII="},{id:2,name:"\u041f\u043e\u0441\u0442\u0430\u0432\u043a\u0438",path:"/supplys",icon:Ht},{id:3,name:"\u0417\u0430\u0434\u0430\u0447\u0438",path:"/tasks",icon:Ht},{id:4,name:"\u0420\u0435\u0433\u0438\u043e\u043d\u044b",path:"/regions",icon:Ht}]},jt=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:ft(e.initialState,(function(){})),i=e.reducers||{},o=Object.keys(i),a={},s={},l={};function u(){var t="function"===typeof e.extraReducers?Bt(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,o=t[1],a=void 0===o?[]:o,l=t[2],u=void 0===l?void 0:l,c=_t(_t({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,o="function"===typeof t?Bt(t):[t,n,r],a=o[0],s=o[1],l=o[2];if(function(e){return"function"===typeof e}(e))i=function(){return ft(e(),(function(){}))};else{var u=ft(e,(function(){}));i=function(){return u}}function c(e,t){void 0===e&&(e=i());var n=Tt([a[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[l]),n.reduce((function(e,n){if(n){var r;if(he(e))return"undefined"===typeof(r=n(e,t))?e:r;if(pe(e))return ft(e,(function(e){return n(e,t)}));if("undefined"===typeof(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return c.getInitialState=i,c}(r,c,a,u)}return o.forEach((function(e){var n,r,o=i[e],u=t+"/"+e;"reducer"in o?(n=o.reducer,r=o.prepare):n=o,a[e]=n,s[u]=n,l[e]=r?Nt(u,r):Nt(u)})),{name:t,reducer:function(e,t){return n||(n=u()),n(e,t)},actions:l,caseReducers:a,getInitialState:function(){return n||(n=u()),n.getInitialState()}}}({name:"navBar",initialState:zt,reducers:{setNavBar:function(e){e.navBarElems=zt.navBarElems,console.log(e.navBarElems)},hideNavBar:function(e){e.navBarElems=[],console.log(e.navBarElems)}}}),Wt=jt.actions,qt=(Wt.setNavBar,Wt.hideNavBar,function(e){var t,n=Lt(),r=e||{},i=r.reducer,o=void 0===i?void 0:i,a=r.middleware,s=void 0===a?n():a,l=r.devTools,u=void 0===l||l,c=r.preloadedState,d=void 0===c?void 0:c,f=r.enhancers,h=void 0===f?void 0:f;if("function"===typeof o)t=o;else{if(!Ut(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=xt(o)}var p=s;"function"===typeof p&&(p=p(n));var g=Rt.apply(void 0,p),m=It;u&&(m=Dt(_t({trace:!1},"object"===typeof u&&u)));var v=[g];return Array.isArray(h)?v=Tt([g],h):"function"===typeof h&&(v=h(v)),St(t,d,m.apply(void 0,v))}({reducer:xt({navBar:jt.reducer})})),$t="NavBar_item__FY+4z",Kt="NavBar_image__Rs3ir",Xt=__webpack_require__(80184),Yt=function(e){var t=e.navElems.map((function(e){return(0,Xt.jsxs)($,{className:$t,to:e.path,children:[(0,Xt.jsx)("img",{className:Kt,src:e.icon,alt:"icon"}),e.name]},e.id)}));return(0,Xt.jsx)("nav",{children:t})},Qt="NavBarContainer_wrap__Pb9an",Jt=function(){var e=ae((function(e){return e.navBar.navBarElems}));return(0,Xt.jsx)("div",{className:Qt,children:(0,Xt.jsx)(Yt,{navElems:e})})};function en(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var tn="Chart_wrap__KnSnK",nn="Chart_image__l19+i",rn=["children"],on=function(e){var t=e.children,n=en(e,rn);return(0,Xt.jsxs)("div",{className:tn,children:[(0,Xt.jsx)("div",{className:nn,children:(0,Xt.jsx)("img",{src:n.image,alt:"\u0433\u0440\u0430\u0444\u0438\u043a"})}),t]})},an="HomePage_wrap__cLyfp",sn="HomePage_row_1__aSzNk",ln="HomePage_row_2__hiz0r",un="HomePage_row_3__Hut+W",cn="SupplysBoard_wrap__hHX4T",dn="SupplysBoard_supplysTable__a2qKQ",fn=function(e){return(0,Xt.jsx)("div",{className:cn,children:(0,Xt.jsx)($,{to:"/supplys",children:(0,Xt.jsxs)("table",{className:dn,children:[(0,Xt.jsx)("thead",{children:(0,Xt.jsx)("tr",{children:(0,Xt.jsx)("th",{colSpan:"2",children:"\u041f\u043b\u0430\u043d \u043f\u043e\u0441\u0442\u0430\u0432\u043e\u043a \u043a\u0440\u043e\u0432\u0438"})})}),(0,Xt.jsxs)("tbody",{children:[(0,Xt.jsxs)("tr",{children:[(0,Xt.jsx)("td",{children:"\u041a\u0440\u043e\u0432\u044c 1"}),(0,Xt.jsx)("td",{children:"100 \u043b"})]}),(0,Xt.jsxs)("tr",{children:[(0,Xt.jsx)("td",{children:"\u041a\u0440\u043e\u0432\u044c 2"}),(0,Xt.jsx)("td",{children:"200 \u043b"})]}),(0,Xt.jsxs)("tr",{children:[(0,Xt.jsx)("td",{children:"\u041a\u0440\u043e\u0432\u044c 3"}),(0,Xt.jsx)("td",{children:"250 \u043b"})]})]})]})})})},hn="Card_wrap__DlIVr",pn=function(e){var t=e.children;return(0,Xt.jsx)("div",{className:hn,children:t})},gn="Task_wrap__BBL8f",mn="Task_text__STe2r",vn=function(e){var t=e.children,n=e.path,r=e.image;return(0,Xt.jsx)("div",{className:gn,children:n?(0,Xt.jsxs)($,{to:n,children:[(0,Xt.jsx)("img",{src:r,alt:"image"}),(0,Xt.jsx)("p",{className:mn,children:t})]}):(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsx)("img",{src:r,alt:"image"}),(0,Xt.jsx)("p",{className:mn,children:t})]})})},yn="PieChart_wrap__eLlRt",bn="PieChart_text__0g03m",Cn="PieChart_pieImage__jPsEp",Sn=function(e){var t=e.children,n=e.path,r=e.image;return(0,Xt.jsx)("div",{className:yn,children:n?(0,Xt.jsxs)($,{to:n,children:[(0,Xt.jsx)("img",{className:Cn,src:r,alt:"image"}),(0,Xt.jsx)("p",{className:bn,children:t})]}):(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsx)("img",{className:Cn,src:r,alt:"image"}),(0,Xt.jsx)("p",{className:bn,children:t})]})})},xn=function(){return(0,Xt.jsxs)("div",{className:an,children:[(0,Xt.jsxs)("section",{className:sn,children:[(0,Xt.jsx)(pn,{children:"5600 000 \u20bd"}),(0,Xt.jsx)(pn,{children:"19 000 000 \u20bd"}),(0,Xt.jsx)(pn,{children:"876 000 000 000 \u20bd"})]}),(0,Xt.jsxs)("section",{className:ln,children:[(0,Xt.jsxs)(vn,{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGbSURBVHgB7VRLUsJAEO1OAgulkK1AleEEYhEkO/AE4gmAG3AD4AZ6AuQG3ICwQwqq4solcWHWuHaYtptfIaULIEtf1Uy6p7tfemZqHsAfyOcrKTgC5m+LjlNqGoYapNOXwzAMg91YoXBbzWSyb+l09jMMP0b7tdau47qurZSy2bwXX2uj7DjOXgmW14bEfKWswPdHwTYqUz7v2pZFXTYrcBw8pbAhxChkpkkDRLABaM7BV0S8IgKb1wIiet/r8EJ62OTyuOa1FOcHiwXeGUzWEjIefiJxlptMxhVOHkrpYqE74u8OrfWTxIiwJ75lGTfs+sLBXE0DkaqSYJr44HnefGUbbS7pJJPn/f29af3Vl1gsho/ij0a8TTQby94Rasg3SuJMJi8IJ2DDs73lQqE0gwiwJVxdSoSEloU5OAFK0ewHoRwunAA+w+XXgIjxTxgBoTxqMViKKnAkRCNXFvn89Nw2Gy0hJtKdeNz04ACIfhKZ3ZXAYAPXf3hmpwYngGWuN52O61tBKBbdOnfIA204AKxWAc99Fpel+nwDu+qndmWRtfAAAAAASUVORK5CYII=",path:"/tasks",children:["\u0437\u0430\u0434\u0430\u0447\u0438 ",(0,Xt.jsx)("br",{})," (\u043d\u0430\u0436\u043c\u0438 \u043d\u0430 \u043c\u0435\u043d\u044f)"]}),(0,Xt.jsx)(Sn,{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANIAAADTCAYAAAD0xU3nAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABUiSURBVHgB7Z1djBvXdcfPHe6uFduyKLQBiiSyZpMCSdsA4qIt4CYyxG1fmgqBVkGB9k2U+iC0fZD0UEBxCohbpI6KPkj7UqB98HLfChTorpoq7UNhcRslCFq4ovpS+8HdoeMIDizDlD8k7XI5N+cMZyjuil9DznDunDk/gCKX5CZekn/+z/2f+6FAmCr25XW72ZrLWzkoKKXyoFt5sKyj9JjSyqZrDVCz9PaKc/W00/27W1tbBcuyzmitC97zlfIed123jlcNvDjB9fz8vAPC1FAgRI59cT3fnJ2zfbEcwxfZxrvxw6/tMP87WkH5nVdPLtPter1+AQV0HcJRw0sD/xtqvtjo5xqKrAFCpIiQIuDzf3GzkJtRRbSUY+gqxbCCGURLu4s/PP9VEsMdiA4SlIPC3MTrKgqrBsJEiJDG4AuXv1+0VK6AL94pFE8Ba7E8xIaqbp7/dbpRhPggh6qhsG6ACGssREgjQKVa68DckrLgBL5gS/EK5ykam+d/g66n+f/poANWsRwMhCWl4BBESH0IxGMpdSZ+1xmML6Qk2fDdakNE1RsR0j6obMup3JWkxdONAULqhkS1hoLaAKGDCAmxX7lZcHG8gy/GRVPE041hQgoIyr9lidozLqSO+4AugsEYKqRuqr5LVSCjZE5INPZxn527gDF1KcqYOk5SIKQAitSXsyiozAipIyBDy7dBpEhIAVT2VbDsW8tK2cdeSGkWUEAKhRSQGUGxFRIHAQWkWEgBVPKtoJjCTnFKDRYw5MjlmyX9mWfuKA3ltIuICTY60zXHcbaQEjCElSOlJYULCwNH2g851CKncm8GGOCVcZ+ZvaJAXfQWIQimQw61Va/XK1z6UKkv7bCZekE/O7fVFpGQJtCVSiioWxzKvdQ6kn3532yt9Cq+GUUQ0gy50yq604k0u1MqHclzIcu9w20slGXS7k6pciQaC2EaRy60BAJHUutOqXEkSuQo0sbvLhERc7rcqQgpIRVCwlLuSk5Zt9IyN06IBHKnW+hOVyAFGF3a+aXcugQK2QXf+zI2cgt4fcnkUs9YR/JSuXYpVwQh6yz5pZ4NhmKkkI58+1+W/FTOBkFoQ6XeHRSTkWNk44RE4yELcusyR07oQR7FtG7iuMkoIZGINE00FYQB0LjJNDEZI6QXX7m5KiISRsUX0yoYQuKpXZDMgSRzQkio3+QneotJbxOWqCO1RTR3S5I5YQIKfqKX6Jg6MSE9EREUQBAmI3ExJSIkEZEQA4mKaepCEhEJMZKYmKYuJBGREDOemGDKTFVIFHGDiEiIn8K0o/GpCYmarUpDCQRhClA0jmK6BlNiKkKSGQtCEqCYLk5rBkTsQvImoIqIhITwZ0CcgZiJVUi0FMJSOWOmcQjZhA6xphPhIUZiE5K/y88tmcUtGIA3azzOWDw2IdFWWbKeSDAIWs+0DjERi5AoXJD5c4KBFOMKHyIXkoQLgslQ+BDH7kSRCskLF2Bmatm9IIwD7Z0X9f4PkQoJx0XXZFwkpABvI0qIkMiERNsIy+aNQooooitFdvBCJELyom6QcZGQLtCVrkRV4kUiJC/qln6RkD7yUZV4EwvJL+mKIMRFw78I8RBJiTeRkLySTssBX3GCrYQNjGzXQIiNKEq8iYTkWu4VSeliREHDgp1lvEWngYsrxQeVeBO1bcYWEjVeZX1RjKCIFMCic/W0Q5vH05ZTeK8DQlwsTdKoHVtI0niNAUWuo+/iF9Syergz77x6shY8hGKqkZjwsoKXuyAOFTmTBA8KxuDI5ZslS4EsjxgXFIx2YRNvOdg2qOVgpwqPoeFcPx1KHP5sZtu/0DIB2q/gBF5Lgjom/vEx10P+WnghdZZHyNhodHzhWEpVQW9vULkGMeKvvaHLkggrNA0U03zYnVvDb1lsuWewZ2SDMBjlvSE3LK0r8Gi3Vg/pNpNAZSBe0aVCP/tHoZCoToGIahj0+lASXQ7zS6Ecqe1G7hYIg9hUoDbg0XbFmaJ4RsEvBUlQtJTABqEfoV0plCNR3I0DYaE3m0q7ZefqN6tgKP4Ho0IXP6GiQ49j388ghYR2pZEdSdyoL8YLaBB+I7IsgnqKUK40cvzdbr4KXZCAFuvfO1lMq4gI6lHhpSR9qqcIXGkkRnIkcaMuqFGq1bLzvT8IHZGmAZp3hu50AWQMRYzsSqM5EiV1ArGp3J0FriIiqIfiN35lfl8IVxrJkY5++wdbme4bMXehfvjulPUZLCO50lBHolkMGW++OtxdqB++O81DtsdO5EqlYU8aKiSr3XPIKGpDPUIRxTwTwWT8CbMLeHMDMorfyB78nEEP2pe/X9TKmvpZMyagNay8c/WkrLXqAku9ssroF6t/4HO13+MDHcm1rEyGDCiiZRHR0+AHqYwfqGXIJgM39unrSFmNvH0RlUHoS0adaWDo0NeRWuAWIWOIiEYjo840MHToKyQrY1NGREThyKKYBoUOPUu7rJV1IqLxyVqZh18eh3uVd70dSbUGDqx4oTZEROPjO1OWZkH0DKF6Cklnp6xz1KPtsyBMCn24HMgA/orjp+/ff0dmyjqa9uNmu9kaJbQcAz9kdyADK3B7lXdPOVJW0jrlwiURUXT4MyCyEj6U9t/xlJCykNZhuFBxrp6sgBAp/u477KcS9Urv9gjJLq/nM7CPt+PvXirEALoSjTmN2qsiBgr7D3beI6TWdq4IzKHNF6Wkiw8aO9DecMAbElGh+449QlJaFYEzWt+Vki5+UEwVvKoCb/a0iPYKybJOAGMUNDPUH0sW7sHD/hi8IyRvfKT32hUn2gGDlHTTgpYcMG/U7hkndYTEfXwkAUMilIE3xeBGR0icx0fiRsng95Y4u1IxuPFESCp3DJgibpQoFWAKjpM6mnkSNijNdXy0KW6UHP7y7CrwpKMZT0j2KzcLXE8lx75RBYREYZzg5e/du3eUbnhCaumWDTxxpG+UPL4rsZztsL29TVs9t4WEQQPLsg5DhioIRsA4dLDpn7aQLJ5Bg9WCFRBMgeVkVsuynpR2THdSdZy/fXKYsZAsXMs7dNoiXbeFxHBGg5R15sG0vPNCOotWxAJDLFfdAME0OJZ3XnKHjrRrA0d2tqsgmAbLUhuTu8NWS2mO/aOaaQchC50zbDmKqWBxjL61djdBMBIcJ3F8b/IUNrBzJAssSevMheN7Y6OQFDsh7YLrgGAq7ISEvaRDllLthhInZh7viiOZiwPMcF13frTDmNNFQ4IGc/EDB1bvj1LqEAnJBl7cBcF0HOBFnqMjCebjADMsYNZH0hoyd8pg2sAI/AHwAh2J3YI+l9ubxBFuY1iWpZ0EDebD7j2SMZIgRIAISRAiQIQkCBHAUUjsT4wTzMOiIyCBFdYhEEzHBmZg/K0k5RKmCk2pAV447Eo7pfieqMEIhkt3lGbXHAPBdGxghNa6zrG0s+2L6yIms7GBGZbWbh2YoZ6bk8DBULa2tjiW3g2WfaTdVmsRBFOxgR8UNmgHmKGA517mTCgCPxqWBssBdkgvyVS6D+diBDqSajHsI/Eb9zGCY7XgWDk9y26jEJfvCXGpBoOGIvBsTzQs5+o3HGAEHbz87tVvVkEwkSIwZH5+vuandsoBHtTk4GVzwfHRKeCHV9HNeDcV/qDTG0vuPngfdj78eePRu29VtesuHXiptPH4JxUHBGPAss4GhuOjYP8JT0jabdWVSk9LSe82YeeDn6GA7nvX9DOSVwAX8VsPrBm4Nnf8XPmj26+JO5lDEXjyxJEwAq8pMBt3+yHs3P8ZND+4B010oGFo0OUXjp8DEZMZ4BfcBeBJlf7xhJSzoIaDdOPwSrb79zzXISGFhcT0/PHS5ie3K1UQEsOfFsS1Se7QP+0x0tyOA9tzkDR9SrZJWQKJwxPFsqwL2sRv6gigxI6uOxXd0Vdu3kniLNmwJdsYNHIzer5RrcgCxgSgkAHLOq6bdtZs216gGzPBPZh2bWLgMBUhTVqyhSS/uwsX8boMwtRBNzrD1Y26D017IqQYA4eYSraRUaAu5Iul6+JK04XcCD9sJeBLZ1ZQR0g5sKqaJtdExBRKtjCIKyWA70Y28KUa3NhjQjhO+nCSvcCnXLKFRcZKU8QfG90CnuuPCAfHR/PBDzPdjyjXXdHKugIjknTJFpK82/L+tksgxA660RXOboRfEtU9P+9/wrD0rvVpA5qN900p2UKDvaVF6SvFC/OkzgO/JM5i9F0Jfn5qXlD91ZMLODi/1JnIqqBBJdvDt+9C479+AA/+5z/g4f/fTaWICAvUNRBixS/puFPt/mFgUPf88VIRX5TVNE9o7YXS+tJHP6pcByFy6vU6lXRl4E2nfxTQd6bqwZdLS+hMt7iJiNBKXXvuayXZ1yFi/Li7DMzp7h8FDJjyzbsEspRax96S7H8XESiifEZKOqKy/46eQqKSjqMT7UGB3WpaMl6KCEzp6LW0gT9OML+um2yfj6R06YXj50aO+4Xe0F4MzGcwdNgfewf0FJJ2s3MOKy21OPj1s2dAmIQlyAiu6671ur+nkD79caWGpY8DWUHBdQkfxofpXnW9oLKu2uuBvqUdWvUaZIe8ZalbIqaxyUQFM0gTfYU0MwNZ67PkKck78FLJBiEU+AG7C9mg0u+BgQ3Zg8fPUpxZhGzRcF296JW3wlNQy8DdtS5ob+m4zmNTzvnSkV/a3Lj655TasW0nUO8Iy7piv8cHp3ZKr0D28Mo8akiDsAd6TVq7aosCGvxo0etTpOTz7Xfvr/7Va/8KzKkMenDoWj50pQ8ho6fgKVCypZfPC8f/BF3IHVjuf/nor8Dqd87AwWcPADP2LJnoxdA+En77ZNGVPLwtvV4+dy3LMyDob6fXYJiIiLfq78HZv16Djx8+Bk5gKrkx7DlDheSHDpldDIe18cVWU93JYgiBIrJbLXWHXoNRf4fE9Iff+Xu4d5/PRwZ7R0PNZKiQvBWlSt+ALKPAnp1RWy98vTTyByrtUCmH46E740wVu/d+w3MmDmJCN6pgyOAMfR6MgLecAjIzIXEg+ILVdnb1aa57i3sutKtWIYK09nOfzXtjps/9cnorY3Tj+ciERGQ0Cu8LBRE7u+4aF0E9ibWjXQaRZjGRGx09evTsSM+FERFX6oEGB7+ylj/+caUCKaVLQFS2xvJpJzGtXPwj+AqmemliVDciQm1lJ67UhxQKahoC6oYi8dfQmdIipjBu5D0fQiCuNAQSFKhqs+Uum1ryTVtA3ZCYvnt+CX73N78MphPGjYjQm6uKK41MFVy9lpuDjaT30iPxtFqwBFrRcpEiJMx3z5+CUy+bOz84rBt5vwMh8VMd1lstRQ829Fz3RtOF6rScivpeuRwsWe3jJulTa9Ro/8++VYQ//dYJMJGwbkSMtd03lnjXaT9tEMJD5Z9SNVfToQVQw4Z3bVLHIsdp7mC/R0HRAusYWDoVWwWYKKZx3Mj7PRgDr1Rou5JsHhINJKQavh0NTQsqtftA9VlYqUkgyjqkXMgrpQv4/Hya99cwTEwOutFiWDcixj6A4jns8mPZIJuHCBNjipj2754ahhyMSfOntZ8ceHGBptKnqzkgGMd//59DDW747V+zIUFoGXnoki5gol2EXNCyIb0QCX/3z1X4y39IbkonlXQwAWM7ErHzTs2Ze7FwGL9NXgJBmBCaOf5W/edw/NivwjOzMzAtUEQr6Eb/CBMw8b52mDqVM7XjkBArr7/x5rTXNDl4mXh/kokciXjs1B6jK91FVyqBIETABw8+gdv/+7bnTHGvtkU3utRvi60wTCwkQko8IWpITK+/8Rb83m99JTYx+SXdVYiAyLYslhJPiJqYFwg6EOGZwpE4EiElnhAHNFaKw5nQjRbQjd6DiIhMSASVeLNHCtiVV78PghARUYsJRbSMIhq6oUkYxp7ZMAiZIS7EQURrmjZs2z4NERPLsS65GX1axktC1JAzncMx05v1sSsymksXyySCSEu7ABovzX6hsIkl3h/jj+x2CxSSY6e5C//0+hvw+c/mQzuTPy5yIAZiERLR/GntPRwvbct4SYgDGjOFEZPfL/p3iInYhETQxFZM8hQmeUUQhIghMY0y2dUPFyLpF/UjViERmORVnzm6QPsmy9lDQuQMmzlOZxqhiGLf2DN2IRHPfrFQBdcr8WTJhRA5JKbtZrP2O1/9Ek3QCxabNlBEfzMNERGxxN+98PeRvsX+tHQhKRof3149vLW1RULKxxUq9GNqQiJETEKcuK5eSOqAuFj6SP1oVCtOLqcXpcckxIGykttDZKpCIjpiyvBRMUI8aDe5z9TUhUSQmOicVhAxCRFBp4Qkee5vIkIi6I/OzegFKfOEidHg0FE7kCBTDRt6IQGEMBEoomZLLya913riQiJETMJYGCIiIrHSrhtJ84Sw0JjIFBERRgiJ8MW04G04LwgD0RvWjDkiIowo7fbz/PFSWYG6AoKwDw165ZPbFeMOxZ7KXLuw0ERXWbIu7MfV+tKnP6qUwUCMdKSA575WKlg5tS4hRMbBUAFFdDrJPtEwjBkj9cLrNbVnQVRByCqbFCqYLCLCaEfqRsZN2QPHQ8s4HipDCkiNkAjvMGilVqXUYw6WclrpsyiiKqQEI8OGftC+ec9+sXBDaziM3wGy4pYjSq/lZuD0R/9ZeRNSRKocqZuDL5dKQKWeuBMXGiiisx//sJLKPmKqHKkbdKeauBMTtK7kZuEb6EJGBwqDSK0jdYPutIR/yjVxp5SRwrFQP1gIKUCSvdTQoBkKMzNwvVGtsFiTxkpIRHsmOZRBqzMgmAeWcc0WLJs0Ty4K2AkpwBPUrqrgzeTPnReITXShMocyrhdshRRAvScLx09aNqhMCtYCCmAvpACvmQuqDOJQ0yITAgrIjJAC2rMjoCRjqNjIlIACMiekgK5Q4hRAcvuhMYFSuDXtQsX0yaVxkVkhBfiCKsosibHYdLXemJ2FCpcYe1wyL6RuOmUfqBMiqr547oPXG1kr3wYhQupDe7YELEnp59HAL5YbWukKNlFrWXefXoiQRqAjqmw5Vcd5RDzDESGFhJa/46tWtJQicXGK0kkod2nMg+VtTcq2cIiQJoTGVVpDwaLjPZUnrLSUgVSubbqgqyQccZ3JECFFjJ8CFkhcSityLxvvPgbJUkfRVHGM45Bomk2ocZvrljQipClBJSGd34MfZBtFZqPIbF9kBF0fgvBuRg7yANru4tC1LxbvtghmeoiQDOTASyV70OMiDvP4BVyLzY7R3wXSAAAAAElFTkSuQmCC",children:"Dados 10 000 000 $"})]}),(0,Xt.jsxs)("section",{className:un,children:[(0,Xt.jsx)(fn,{}),(0,Xt.jsx)(on,{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAdAAAACICAYAAABX97ouAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAzxSURBVHgB7d3PbxxnHcfxz3rTNqKVuuGEuOSJuHGJI3HP5IYQIg5/AFlTFYlTmiuXbK5c7FyoaAXeXDhiB6pKSEjeXBGqHXEApEqZXFAPoLjqD6VNneX56nlGO57srrdTx55n/H5JX+3MPrPNZDrZ736feZ4ZCQAAHIllHxs+tn3c8NGrtNt7m3EbV2lzpc/2BQDAKeF8PFZIfpZIN2MUbvnY8ZH5eCtu2yt99qGPQfzsTlz+On/2ogEAQKOs+BiV1p1Ckiw81sEEtq5JkrSEulFq6+lggj3MyEe+QDyOfxYAAI1RJD0X1627dhSXi6qyzBLuVlzejOtlO/FzR6mvg4kaAIBjd6ayvudjqNAVmysk1GuxzZY/nrJ9r9S+N6cdAIDWWKqsr8S44uOSj9sK1V6RBF/XfCRLAMCpMC2B3lHotrXqcT2+Oh+7en4Aj3XPPozLD2a05wIAoGWqCTT3cbG07jTpmrWwJFoM4LH37Rrpvbi+pYPTXm5oMvAHAIBWs+RnidCqyu34Wh7x6kptNthoUPn8ILbvxFeno9cXg4gAACesM+P9YuRsrucHBplMs6tLp5CIZ332m+r7uOxjVcAp8btXr2509MypIcbjpb03Pr93TcApdmbG+7uabzSnLReAI7U0HmfjTsepITqdcS7glFsSAAD42kigAADUQAIFAKAGEigAADWQQAEAqIEECgBADSRQAABqIIECAFADCRQAgBpIoAAA1EACBQCgBhIoAAA1kEABAKhh1tNYVhQeaWZPZdmqtGWaPM7M2sqPLLPHmPU1ea7oYU91AQAgSdMq0DVNHqK9FqNgidUeZm1JM1N4cHav1G4P2r4Y2zd18GHcAAC0RrUCzXxc0eSB2us6WIFaMrWH6BaVpSXMftzOXh9p8qBr22YztgEA0CrVCtQqzKFCAu0rVJdZbCuSarlb9m6p/aoOJtuRQiW6LAAAWqaaQM8rJEKrGjOFCrPohrVk+qiyfa5JF24vrs9qBwCgNapduJbszmlSNTqF65xDvXgP45+3iKEAADhB1QrUKsxhaT2PsRxfz1e2t4S7V/qsm9N+mAs+OgvEqgAAOGHVBGrXN6+W1l2MXJPu2KzUXr7uaZ+9XvlsT0xlAQC0ULUL1659WhK0qSqP4vIdTa5trsY2Gzxk01WcJhVh+bNWddqApJsCAKCFps0DveTjnkIStOQ4KLVZtXkltt2Ly9M+W0xn2RIAAC00605E8xJfrvlzO0maAIDW4164AADUQAIFAKAGEigAADWQQAEAqIEECgBADSRQAABqIIECAFADCRQAgBrOCACAE/TOqyvL3fGzFTXIfuerrV989v7ce7mTQAEAJ+ol7S+PO51bapCuurkOeRhKKxLou2dXsm732bYaZDzW7Tc+/9NAAIBW4hooAAA1kEABAKiBBAoAQA0kUAAAaiCBAgBQw7wE2vORxdfq+30fs+bsZLHdCQCAlpqXQNd82NSQ10vvWdLc8bFcWi6z7QcKyXNbs5MsAABJmzUPtO/jko+88r4l1Zs+tuL6dtx2GF/PKSRXM/KxUdoWAIDWmFaBWhet3RGiWj0ux7ZyQrzr43JcvqqQSAuj+HpeAAC0zLQEasnTEmNeed+S54PKe7bNhVL77px2AABao9qF6xQqz5NIeg+1+MCjoQAAOEHVBGrXNO8ojKQ1VlVa121HoZqsdsda+15cfqTnE2C5/TCLJu2+Jt3GAACciGoX7n2FhNmPYVYVEmOuydSWgl33LK6JWvft9VKb0/RuXQAAkletQPuVdetWvaFQXZrbCiNrrUq9qJBMV2PbMG5r7Q/i8m0BANBCh92JyKasfFxaX1dImMWAokulNuuqvaJQxfbidkMBANBChz0PdNoczpEmU1SqcpE0AQCnAPfCBQCgBhIoAAA1kEABAKiBBAoAQA0kUAAAajhsFC4AnDpvn/2hO6MzTg1y5uynu6t7o0Xv7IZjQAIFgIpXui8PdPDOaidu/8m3nRa/NSqOAV24AADUQAIFAKAGEigAADVwDRQAWuKdV3+03FV3WQ2y9NInW20d/EQCBYCW6I7PrHQ6uqUm+eq1XLPvn540unABAKiBBAoAQA0kUAAAaiCBAgBQw6wEaqO4Vny4KW09H30f2YzPZnM+CwBAK0wbhbvm45KPPC7f8bEe2yyxbvq47+Oij10fq6XPbvi4oHC7KWu/FrdBy/z+1Z+M1Sjj+z//7M+ZAOCYVBNoplA9XojrzseOJgnUkudtH8O4vh2339KkKr1Q+m9ZQr0kAABaptqFmytUjdM4he7bYem9ez6uxuXLCtVqYRQ/c14AALTMtARa7nK1pxHcjcvOx4PK9rZtuVrdndMOAEBrzLsTkd3Noq/j64K17mC3wHZWBW8JAIATNCuBWuXZ93FFk+fP2Wu1O7ZXWrZ2N6f9MKsLbmfXXC8KqOHdsz/O1DBvPnlvJADJmZZAbaTtQCF55qX3rTu2F9uLrlq7/jmMy/cr6y5uP9Ji8gW344GyqK3bXdpWs+TiMgeQpOo1UKfQlWrXPTOFKtSiqCRtBO5mfG8tbjOKbUOF5LoW24v/DgAArVOtQC1RFiNp3ZTtbTqLVYCZwi/ncpW6F9ffiu03xbVKAEBLVRPorg6/8cFQB6eylOUKCRQA9PbZFaeG+eWTrVzAEeB5oABemFe64w1pnKlZOgKOADeTBwCgBhIoAAA1kEABAKiBBAoAQA0kUAAAaiCBAgBQAwkUAIAaSKAAANRAAgUAoAYSKAAANZBAAQCogQQKAEAN3Ez+BG30VnrPnu6vqEGe7Y/zN5+8NxIAYC4S6El6ol6n29lQgyx1l4aaPCQdADADXbgAANTwIhKo85H56AkAgJY66gR6y8eOj7fi67IAAGiho7wGaoNh+j4u+NiL62s+rggAgJY5ygo083FHIXmaLYUK9LwAAGiZo0ygF33sVt6z9QsCAKBlmjSNxaZzuAW2K7bZLt749Zf3ez99+ftqkr/v/+e6f7k8b5tfffHX3s9euagm+df+fzOVju0s/97/n5rko2ef2oFMbr8/GX9hg+0O3e8P9j9y3+q8pKZYdL/vP82Xv7P0mhrm0P1+/+mHy99bOqcm+c0Xfxsets0fnv7D/aD7XTXJH7/8p13K25u3zW+//MBd7jo1yV+++vCGf7leebvv41Gx0tHR2fRxz8ew9J4NJLqpxeYVZjp5WYyB0mJd5X2FwVspsS9h++F0TemxL+EUr+/b8b7tI1da7Ev4rp7v5Wo6+zeZK1zSSkmq+92Pr0O9GCO9IHbAyzcFcD4eKy19Hfw7pCJTmjc/cD4eKk1jpcmOd4rjEuwHS6b0DDX5Uk/JUGnu90DHWAAdZRfuUJMpLLnClJY7AgCghY5yEJH1cVuXVtGdaN0tA6XF/g4PlB7b79S6tgr3laZU99vO74+VHtvvPaUnV3rd5SYX+w0AAAAAABqLe/ger1SPtxNwOL5PjhfH+4TYnB8boWgjh21KTkr/I2zfbb8HSkdxvPP4msp9k21emB3rXGG/G/U81wU4hf1OZbS5DUocVyKVUcQ29eZxDDveKXyn2LlRPd6pnCv2vX2sx5vHmQV9hX+ol3zY7GmbKLumNBTzKFMaROQUjveVuLyqNP6ROh/rCueJLdv+p/LFWLiltNixtXmrnVI8UvPZcT5XCvt7pDBP2+4cVz7WQ6UxYK6vMMisON42UC61efHJsl8u/dK6neypzGHN4utQ6VSgTs/PMUthXqWdF9VK2c6TVCoiq5atwhgoraoitSrf2HF2pXVbTqWXpeCUzjxt+2FbTph9pTmnP0k2fzWrvJfahPOh0ps2VOgrrRtBWCJ1Cr0UO0pH8aU+UDpfLnYDBUuitu92rPtqPjs/bH+LyxS236lV/sbOkb7SkCkc66y0/MJ/eDXpXrgnqTjhq6w7I4XuopQ5hS+alG7nlyn82rUfWLeVBvsCt7nZudJSPOFppHDcLZnmavYPruIH1qUYtm77bd2K60qDUzjeq0pDrnCerMfXlOfGJ2faw79T6pozQ6VXgTqlNYCoyml670XTOB38gThQut1b62p+EnIKlyRc6T2rhraUjpSqT2M9FdUu3EMfGvBNMYgosLuclMt9p/ALhurzxXEKJ7hVcKn8UnQ6mCxzhXMnU7P1NflSt7ildLrN+5X1orposlzP76ctpzLYzCmc00OlwylU+YWh0rx3cpIyhYrTKqGiu2WgtAyVzj4XXeZ2DdGVoukyhfMkK61XB4ukYKC0roFawrdzJlM6x3ugySMa7XvF9ruvNKRWfRo7T4rvk15cTqniT55VoFYJ5UpzMM5A6Zz0dqxHUyKFX+jFvueaXJdLTV/pDPF3Cj8Oc6V3vK2rufhOSeV427/BFBOP7fdQk+O9Lm6qAAAAAAAAAAAAAAAAAAAAAAAAAAAAcGr9Hxi6nR2KJjmYAAAAAElFTkSuQmCC"})]})]})},In=function(e){return(0,Xt.jsx)("div",{children:(0,Xt.jsx)(xn,{})})};function Rn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function En(e,t){return En=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},En(e,t)}function Zn(e){return Zn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zn(e)}function Pn(e){return Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pn(e)}function Tn(e,t){if(t&&("object"===Pn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function An(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zn(e);if(t){var i=Zn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Tn(this,n)}}var Mn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kn=function(e){function n(n){var r=e.call(this,n)||this;return r.ref=t.createRef(),r.getInputEl=r.getInputEl.bind(r),r.setValue=r.setValue.bind(r),r.getValue=r.getValue.bind(r),r.validate=r.validate.bind(r),r.getErrors=r.getErrors.bind(r),r.handleChange=r.handleChange.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r.isSpaceCharacter=!1,r.state={value:r.props.defaultValue},r}return Mn(n,e),n.prototype.setValue=function(e){this.setState({value:e})},n.prototype.getValue=function(){return this.state.value},n.prototype.validate=function(){return""!==this.state.value},n.prototype.getErrors=function(){var e=[];return this.validate()||e.push("Please enter a value"),e},n.prototype.getInputEl=function(){return this.ref.current},n.prototype.handleKeyDown=function(e){"Space"===e.code?(this.setState({value:this.getValue()+" "}),this.isSpaceCharacter=!0):this.isSpaceCharacter=!1},n.prototype.handleChange=function(e){this.isSpaceCharacter||this.setState({value:e.currentTarget.value})},n.prototype.render=function(){return t.createElement("input",{type:"text",style:{width:"100%",height:"100%"},ref:this.ref,value:this.state.value,onChange:this.handleChange,onBlur:this.props.onFocusLeave,onKeyDown:this.handleKeyDown})},n}(t.Component),Gn=kn,Fn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_n=function(){return _n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_n.apply(this,arguments)},Dn={padding:12},Un=function(e){function n(n){var r=e.call(this,n)||this;return r.state=_n({sorter:{sorterFn:r.sorterFn.bind(r)},summaries:{none:!0,sum:!0,min:!0,max:!0,average:!0,variance:!0,variancep:!0,stddev:!0,stddevp:!0,count:!1},renderer:t.createElement(Ln,{style:n.style,className:n.className}),editor:t.createElement(Gn,null)},r.props),r}return Fn(n,e),n.prototype.sorterFn=function(e,t){return e[this.state.field].localeCompare(t[this.state.field],void 0,{numeric:!0,sensitivity:"base"})},n.prototype.getColumnConfig=function(){return this.state},n.prototype.render=function(){var e;return t.createElement(t.Fragment,null,null===(e=this.props)||void 0===e?void 0:e.children)},n}(t.Component),On=Un,Ln=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Fn(n,e),n.prototype.render=function(){var e=this.props,n=e.data,r=e.style,i=e.className;return void 0!==n&&null!==n||(n=""),t.createElement(t.Fragment,null,t.createElement("div",{style:_n(_n({},Dn),r),className:i},String(n)))},n}(t.Component),Nn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bn=function(){return Bn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Bn.apply(this,arguments)},Vn=(function(e){function n(n){var r=e.call(this,n)||this;return r.state=Bn(Bn({},r.props),{sorter:{sorterFn:r.sorterFn.bind(r)},renderer:t.createElement(Vn,{style:n.style}),editor:t.createElement(Gn,null)}),r}Nn(n,e),n.prototype.sorterFn=function(e,t){return e[this.state.field].localeCompare(t[this.state.field],void 0,{numeric:!0,sensitivity:"base"})},n.prototype.getColumnConfig=function(){return this.state},n.prototype.render=function(){var e;return t.createElement(t.Fragment,null,null===(e=this.props)||void 0===e?void 0:e.children)}}(t.Component),function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Nn(n,e),n.prototype.render=function(){var e=this.props,n=e.data,r=e.style;return void 0!==n&&null!==n||(n=""),t.createElement("div",{style:Bn(Bn({},Dn),r)},n)},n}(t.Component)),Hn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zn=function(){return zn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zn.apply(this,arguments)},jn=function(e){function n(n){var r=e.call(this,n)||this;return r.ref=t.createRef(),r.getInputEl=r.getInputEl.bind(r),r.setValue=r.setValue.bind(r),r.getValue=r.getValue.bind(r),r.validate=r.validate.bind(r),r.getErrors=r.getErrors.bind(r),r.handleChange=r.handleChange.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r.state={value:r.props.defaultValue},r}return Hn(n,e),n.prototype.setValue=function(e){this.setState(zn(zn({},this.state),{value:Boolean(e)}))},n.prototype.getValue=function(){return this.state.value},n.prototype.validate=function(){return""!==this.state.value},n.prototype.getErrors=function(){var e=[];return this.validate()||e.push("Please enter a value"),e},n.prototype.getInputEl=function(){return this.ref.current},n.prototype.handleKeyDown=function(e){"Enter"==e.key&&e.currentTarget.blur()},n.prototype.render=function(){var e=this.state.value,n=this.props.onFocusLeave;return t.createElement("select",{style:{width:"100%",height:"100%"},ref:this.ref,value:e,onChange:this.handleChange,onBlur:n},t.createElement("option",{value:"false"},"False"),t.createElement("option",{value:"true"},"True"))},n.prototype.handleChange=function(e){this.setState(zn(zn({},this.state),{value:e.currentTarget.value}))},n}(t.Component),Wn=jn,qn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$n=function(){return $n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$n.apply(this,arguments)},Kn=(function(e){function n(n){var r=e.call(this,n)||this;return r.state=$n($n({},r.props),{sorter:{sorterFn:r.sorterFn.bind(r)},renderer:t.createElement(Kn,{style:n.style}),editor:t.createElement(Wn,null),validator:r.validateBoolean}),r}qn(n,e),n.prototype.sorterFn=function(e,t){var n=e[this.state.field].toString(),r=t[this.state.field].toString();return n.localeCompare(r,void 0,{numeric:!0,sensitivity:"base"})},n.prototype.validateBoolean=function(e){if("true"!==(e=String(e))&&"false"!==e)return e+" is invalid boolean value"},n.prototype.getColumnConfig=function(){return this.state},n.prototype.render=function(){var e;return t.createElement(t.Fragment,null,null===(e=this.props)||void 0===e?void 0:e.children)}}(t.Component),function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return qn(n,e),n.prototype.render=function(){var e=this.props,n=e.data,r=e.style;return void 0!==n&&null!==n||(n=""),t.createElement("div",{style:$n($n({},Dn),r)},n.toString())},n}(t.Component)),Xn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yn=function(){return Yn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Yn.apply(this,arguments)},Qn=function(e){function n(n){var r=e.call(this,n)||this;return r.ref=t.createRef(),r.getInputEl=r.getInputEl.bind(r),r.setValue=r.setValue.bind(r),r.getValue=r.getValue.bind(r),r.validate=r.validate.bind(r),r.getErrors=r.getErrors.bind(r),r.handleChange=r.handleChange.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r.state={value:r.props.defaultValue},r}return Xn(n,e),n.prototype.setValue=function(e){this.setState(Yn(Yn({},this.state),{value:e}))},n.prototype.getValue=function(){return this.state.value},n.prototype.validate=function(){return""!==this.state.value},n.prototype.getErrors=function(){var e=[];return this.validate()||e.push("Please enter a value"),e},n.prototype.getInputEl=function(){return this.ref.current},n.prototype.handleKeyDown=function(e){"Enter"==e.key&&e.currentTarget.blur()},n.prototype.render=function(){var e=this.state.value,n=this.props.onFocusLeave;return t.createElement("div",{style:{padding:"10px"}},t.createElement("input",{type:"checkbox",checked:e,ref:this.ref,onChange:this.handleChange,onBlur:n}))},n.prototype.handleChange=function(e){this.setState(Yn(Yn({},this.state),{value:e.target.checked}))},n}(t.Component),Jn=Qn,er=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tr=function(){return tr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},tr.apply(this,arguments)},nr=(function(e){function n(n){var r=e.call(this,n)||this;return r.state=tr(tr({},r.props),{sorter:{sorterFn:r.sorterFn.bind(r)},renderer:t.createElement(nr,{columnConfig:r.props}),editor:t.createElement(Jn,null),validator:r.validateCheckbox}),r}er(n,e),n.prototype.sorterFn=function(e,t){var n=e[this.state.field].toString(),r=t[this.state.field].toString();return n.localeCompare(r,void 0,{numeric:!0,sensitivity:"base"})},n.prototype.validateCheckbox=function(e){if("true"!==(e=String(e))&&"false"!==e)return e+" is invalid checkbox value"},n.prototype.getColumnConfig=function(){return this.state},n.prototype.render=function(){var e;return t.createElement(t.Fragment,null,null===(e=this.props)||void 0===e?void 0:e.children)}}(t.Component),function(e){function n(t){var n=e.call(this,t)||this;return n.handleChange=n.handleChange.bind(n),n.state={value:n.props.data},n}return er(n,e),n.prototype.handleChange=function(e){var t=this.props.toggleValue,n=e.target.checked,r=this.props.columnConfig.editable;(void 0===r||r)&&this.setState({value:n},(function(){t&&t(n)}))},n.prototype.render=function(){var e=this.props.data,n=this.props.style,r=t.createElement("span",{className:"grui-custom-checkbox"},t.createElement("input",{type:"checkbox",checked:e,onChange:this.handleChange}),t.createElement("label",null));return t.createElement("div",{style:tr(tr({},Dn),n)},r)},n}(t.Component)),rr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ir=function(){return ir=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ir.apply(this,arguments)},or=function(e){function n(n){var r=e.call(this,n)||this;return r.ref=t.createRef(),r.getInputEl=r.getInputEl.bind(r),r.setValue=r.setValue.bind(r),r.getValue=r.getValue.bind(r),r.validate=r.validate.bind(r),r.getErrors=r.getErrors.bind(r),r.handleChange=r.handleChange.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r.state={value:r.props.defaultValue},r}return rr(n,e),n.prototype.setValue=function(e){this.setState(ir(ir({},this.state),{value:e}))},n.prototype.getValue=function(){return this.state.value},n.prototype.validate=function(){return""!==this.state.value},n.prototype.getErrors=function(){var e=[];return this.validate()||e.push("Please enter a value"),e},n.prototype.getInputEl=function(){return this.ref.current},n.prototype.handleKeyDown=function(e){"Enter"===e.key&&e.currentTarget.blur()},n.prototype.render=function(){var e=this.state.value,n=this.props.onFocusLeave;return t.createElement("div",{style:{width:"22px",border:"1px solid gray",margin:"10px"}},t.createElement("input",{type:"color",style:{width:"20px"},ref:this.ref,value:e,onChange:this.handleChange,onBlur:n}))},n.prototype.handleChange=function(e){this.setState(ir(ir({},this.state),{value:e.currentTarget.value}))},n}(t.Component),ar=or,sr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lr=function(){return lr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},lr.apply(this,arguments)},ur=(function(e){function n(n){var r=e.call(this,n)||this;return r.state=lr(lr({},r.props),{sorter:{sorterFn:r.sorterFn.bind(r)},renderer:t.createElement(ur,{style:n.style}),editor:t.createElement(ar,null)}),r}sr(n,e),n.prototype.sorterFn=function(e,t){return e[this.state.field].localeCompare(t[this.state.field],void 0,{numeric:!0,sensitivity:"base"})},n.prototype.getColumnConfig=function(){return this.state},n.prototype.render=function(){var e;return t.createElement(t.Fragment,null,null===(e=this.props)||void 0===e?void 0:e.children)}}(t.Component),function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return sr(n,e),n.prototype.render=function(){var e=this.props,n=e.data,r=e.style;return t.createElement("div",{style:lr(lr({},Dn),r)},t.createElement("div",{style:{backgroundColor:n,width:"20px",height:"20px",border:"1px solid gray"}},"\xa0"))},n}(t.Component)),cr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dr=function(){return dr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},dr.apply(this,arguments)},fr=function(e){function n(n){var r=e.call(this,n)||this;return r.ref=t.createRef(),r.getInputEl=r.getInputEl.bind(r),r.setValue=r.setValue.bind(r),r.getValue=r.getValue.bind(r),r.validate=r.validate.bind(r),r.getErrors=r.getErrors.bind(r),r.handleChange=r.handleChange.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r.state={value:r.props.defaultValue},r}return cr(n,e),n.prototype.setValue=function(e){this.setState(dr(dr({},this.state),{value:e}))},n.prototype.getValue=function(){return this.state.value},n.prototype.validate=function(){return""!==this.state.value},n.prototype.getErrors=function(){var e=[];return this.validate()||e.push("Please enter a value"),e},n.prototype.getInputEl=function(){return this.ref.current},n.prototype.handleKeyDown=function(e){"Enter"==e.key&&e.currentTarget.blur()},n.prototype.render=function(){var e=this.state.value,n=this.props.onFocusLeave,r="";return e&&(r=e.split("/").reverse().join("-")),t.createElement("input",{type:"date",style:{width:"100%",height:"100%"},ref:this.ref,value:r,onChange:this.handleChange,onBlur:n})},n.prototype.handleChange=function(e){this.setState(dr(dr({},this.state),{value:e.currentTarget.value}))},n}(t.Component),hr=fr,pr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gr=function(){return gr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},gr.apply(this,arguments)},mr=(function(e){function n(n){var r=e.call(this,n)||this,i=r.props,o=i.renderer,a=i.rendererProps,s=i.editor,l=i.editorProps,u=i.validator,c=o,d=s,f=u;return c||(c=t.createElement(mr,gr({},a))),d||(s=t.createElement(hr,gr({},l))),u||(f=r.validateDate),r.state=gr(gr({},r.props),{sorter:{sorterFn:r.sorterFn.bind(r)},renderer:c,editor:s,validator:f,summaries:{none:!0,min:!0,max:!0,count:!1}}),r}pr(n,e),n.prototype.sorterFn=function(e,t){return e[this.state.field].localeCompare(t[this.state.field],void 0,{numeric:!0,sensitivity:"base"})},n.prototype.validateDate=function(e){var t=new Date(e);return e instanceof Date||("Invalid Date"===t.toString()?e+" is invalid date":void 0)},n.prototype.getColumnConfig=function(){return this.state},n.prototype.render=function(){var e;return t.createElement(t.Fragment,null,null===(e=this.props)||void 0===e?void 0:e.children)}}(t.Component),function(e){function n(t){var n=e.call(this,t)||this,r=n.props,i=r.dateTimeFormatOptions,o=r.dateTimeFormatLocales;o||(o="en-US");var a=gr({},i);return n.formatter=new Intl.DateTimeFormat(o,a),n}return pr(n,e),n.prototype.render=function(){var e=this.props,n=e.data,r=e.style,i=new Date(n),o="";try{o=this.formatter.format(i)}catch(a){}return t.createElement("div",{style:gr(gr({},Dn),r)},o)},n}(t.Component)),vr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yr=function(){return yr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},yr.apply(this,arguments)},br=function(e){function n(n){var r=e.call(this,n)||this;return r.ref=t.createRef(),r.getInputEl=r.getInputEl.bind(r),r.setValue=r.setValue.bind(r),r.getValue=r.getValue.bind(r),r.validate=r.validate.bind(r),r.getErrors=r.getErrors.bind(r),r.handleChange=r.handleChange.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r.state={value:r.props.defaultValue},r}return vr(n,e),n.prototype.setValue=function(e){this.setState(yr(yr({},this.state),{value:e}))},n.prototype.getValue=function(){return this.state.value},n.prototype.validate=function(){return""!==this.state.value},n.prototype.getErrors=function(){var e=[];return this.validate()||e.push("Please enter a value"),e},n.prototype.getInputEl=function(){return this.ref.current},n.prototype.handleKeyDown=function(e){"Enter"==e.key&&e.currentTarget.blur()},n.prototype.render=function(){var e=this.state.value,n=this.props.onFocusLeave;return t.createElement("input",{type:"number",style:{width:"100%",height:"100%"},ref:this.ref,value:e,onChange:this.handleChange,onBlur:n})},n.prototype.handleChange=function(e){this.setState(yr(yr({},this.state),{value:e.currentTarget.value}))},n}(t.Component),Cr=br,Sr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xr=function(){return xr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},xr.apply(this,arguments)},Ir=(function(e){function n(n){var r=e.call(this,n)||this,i=r.props,o=i.renderer,a=i.rendererProps,s=i.editor,l=i.editorProps,u=i.validator,c=o,d=s,f=u;return c||(c=t.createElement(Ir,xr({},a))),d||(s=t.createElement(Cr,xr({},l))),u||(f=r.validateDecimal),r.state=xr(xr({},r.props),{sorter:{sorterFn:r.sorterFn.bind(r)},renderer:c,editor:s,validator:f}),r}Sr(n,e),n.prototype.sorterFn=function(e,t){var n=e[this.state.field].toString(),r=t[this.state.field].toString();return n.localeCompare(r,void 0,{numeric:!0,sensitivity:"base"})},n.prototype.validateDecimal=function(e){return!isNaN(+e)&&2===e.toString().split(".").length},n.prototype.getColumnConfig=function(){return this.state},n.prototype.render=function(){var e;return t.createElement(t.Fragment,null,null===(e=this.props)||void 0===e?void 0:e.children)}}(t.Component),function(e){function n(t){var n=e.call(this,t)||this,r=n.props,i=r.numberFormatOptions,o=r.numberFormatLocales;o||(o="en-US");var a=xr({},i);return n.formatter=new Intl.NumberFormat(o,a),n}return Sr(n,e),n.prototype.render=function(){var e=this.props,n=e.data,r=e.style;return void 0!==n&&null!==n||(n=""),t.createElement("div",{style:xr(xr({},Dn),r)},this.formatter.format(n))},n}(t.Component)),Rr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wr=function(){return wr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wr.apply(this,arguments)},Er=(function(e){function n(n){var r=e.call(this,n)||this;return r.state=wr(wr({},r.props),{sorter:{sorterFn:r.sorterFn.bind(r)},renderer:t.createElement(Er,{style:n.style}),editor:t.createElement(Gn,null),validator:r.validateEmail}),r}Rr(n,e),n.prototype.sorterFn=function(e,t){return e[this.state.field].localeCompare(t[this.state.field],void 0,{numeric:!0,sensitivity:"base"})},n.prototype.validateEmail=function(e){if(!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e))return e+" is invalid email format."},n.prototype.getColumnConfig=function(){return this.state},n.prototype.render=function(){var e;return t.createElement(t.Fragment,null,null===(e=this.props)||void 0===e?void 0:e.children)}}(t.Component),function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Rr(n,e),n.prototype.render=function(){var e=this.props,n=e.data,r=e.style;return void 0!==n&&null!==n||(n=""),t.createElement("div",{style:wr(wr({},Dn),r)},n)},n}(t.Component)),Zr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pr=function(){return Pr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pr.apply(this,arguments)},Tr=(function(e){function n(n){var r=e.call(this,n)||this,i=r.props,o=i.renderer,a=i.rendererProps,s=i.editor,l=i.editorProps,u=i.validator,c=o,d=s,f=u;return c||(c=t.createElement(Tr,Pr({},a))),d||(s=t.createElement(Cr,Pr({},l))),u||(f=r.validateFloat),r.state=Pr(Pr({},r.props),{sorter:{sorterFn:r.sorterFn.bind(r)},renderer:c,editor:s,validator:f}),r}Zr(n,e),n.prototype.sorterFn=function(e,t){var n=e[this.state.field].toString(),r=t[this.state.field].toString();return n.localeCompare(r,void 0,{numeric:!0,sensitivity:"base"})},n.prototype.validateFloat=function(e){return e=+e,!isNaN(e)&&e%1!==0},n.prototype.getColumnConfig=function(){return this.state},n.prototype.render=function(){var e;return t.createElement(t.Fragment,null,null===(e=this.props)||void 0===e?void 0:e.children)}}(t.Component),function(e){function n(t){var n=e.call(this,t)||this,r=n.props,i=r.numberFormatOptions,o=r.numberFormatLocales;o||(o="en-US");var a=Pr({},i);return n.formatter=new Intl.NumberFormat(o,a),n}return Zr(n,e),n.prototype.render=function(){var e=this.props,n=e.data,r=e.style;return void 0!==n&&null!==n||(n=""),t.createElement("div",{style:Pr(Pr({},Dn),r)},this.formatter.format(n))},n}(t.Component)),Ar=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mr=function(){return Mr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Mr.apply(this,arguments)},kr=(function(e){function n(n){var r=e.call(this,n)||this,i=r.props,o=i.renderer,a=i.rendererProps,s=i.editor,l=i.editorProps,u=i.validator,c=o,d=s,f=u;return c||(c=t.createElement(kr,Mr({},a))),d||(s=t.createElement(Cr,Mr({},l))),u||(f=r.validateInteger),r.state=Mr(Mr({},r.props),{sorter:{sorterFn:r.sorterFn.bind(r)},renderer:c,editor:s,validator:f}),r}Ar(n,e),n.prototype.sorterFn=function(e,t){var n=e[this.state.field].toString(),r=t[this.state.field].toString();return n.localeCompare(r,void 0,{numeric:!0,sensitivity:"base"})},n.prototype.validateInteger=function(e){return e=+e,!isNaN(e)&&e===parseInt(e,10)},n.prototype.getColumnConfig=function(){return this.state},n.prototype.render=function(){var e;return t.createElement(t.Fragment,null,null===(e=this.props)||void 0===e?void 0:e.children)}}(t.Component),function(e){function n(t){var n=e.call(this,t)||this,r=n.props,i=r.numberFormatOptions,o=r.numberFormatLocales;o||(o="en-US");var a=Mr({},i);return n.formatter=new Intl.NumberFormat(o,a),n}return Ar(n,e),n.prototype.render=function(){var e=this.props,n=e.data,r=e.style;return void 0!==n&&null!==n||(n=""),t.createElement("div",{style:Mr(Mr({},Dn),r)},this.formatter.format(n))},n}(t.Component)),Gr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fr=function(){return Fr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Fr.apply(this,arguments)},_r=(function(e){function n(n){var r=e.call(this,n)||this,i=r.props,o=i.renderer,a=i.rendererProps,s=i.editor,l=i.editorProps,u=i.validator,c=o,d=s,f=u;return c||(c=t.createElement(_r,Fr({},a))),d||(s=t.createElement(Cr,Fr({},l))),u||(f=r.validateMoney),r.state=Fr(Fr({},r.props),{sorter:{sorterFn:r.sorterFn.bind(r)},renderer:c,editor:s,validator:f}),r}Gr(n,e),n.prototype.sorterFn=function(e,t){var n=e[this.state.field].toString(),r=t[this.state.field].toString();return n.localeCompare(r,void 0,{numeric:!0,sensitivity:"base"})},n.prototype.validateMoney=function(e){return!isNaN(+e)},n.prototype.getColumnConfig=function(){return this.state},n.prototype.render=function(){var e;return t.createElement(t.Fragment,null,null===(e=this.props)||void 0===e?void 0:e.children)}}(t.Component),function(e){function n(t){var n,r=e.call(this,t)||this,i=r.props,o=i.numberFormatOptions,a=i.numberFormatLocales;return a||(a="en-US"),n={style:"currency",currency:"USD"},o&&(n=Fr({},o)),r.formatter=new Intl.NumberFormat(a,n),r}return Gr(n,e),n.prototype.render=function(){var e,n=this.props,r=n.data,i=n.style;return void 0===r||null===r?e=r="":r.length>=17?(r=Math.trunc(r),e=this.formatter.format(BigInt(r))):e=this.formatter.format(r),t.createElement("div",{style:Fr(Fr({},Dn),i)},e)},n}(t.Component)),Dr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ur=function(){return Ur=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ur.apply(this,arguments)},Or=(function(e){function n(n){var r=e.call(this,n)||this,i=r.props,o=i.renderer,a=i.rendererProps,s=i.editor,l=i.editorProps,u=i.validator,c=o,d=s,f=u;return c||(c=t.createElement(Or,Ur({},a))),d||(s=t.createElement(Cr,Ur({},l))),u||(f=r.validateNumber),r.state=Ur(Ur({},r.props),{sorter:{sorterFn:r.sorterFn.bind(r)},renderer:c,editor:s,validator:f}),r}Dr(n,e),n.prototype.sorterFn=function(e,t){var n=e[this.state.field].toString(),r=t[this.state.field].toString();return n.localeCompare(r,void 0,{numeric:!0,sensitivity:"base"})},n.prototype.validateNumber=function(e){return!isNaN(+e)},n.prototype.getColumnConfig=function(){return this.state},n.prototype.render=function(){var e;return t.createElement(t.Fragment,null,null===(e=this.props)||void 0===e?void 0:e.children)}}(t.Component),function(e){function n(t){var n=e.call(this,t)||this,r=n.props,i=r.numberFormatOptions,o=r.numberFormatLocales;o||(o="en-US");var a=Ur({},i);return n.formatter=new Intl.NumberFormat(o,a),n}return Dr(n,e),n.prototype.render=function(){var e=this.props,n=e.data,r=e.style;return void 0!==n&&null!==n||(n=""),t.createElement("div",{style:Ur(Ur({},Dn),r)},this.formatter.format(n))},n}(t.Component)),Lr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nr=function(){return Nr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Nr.apply(this,arguments)},Br=(function(e){function n(n){var r=e.call(this,n)||this,i=r.props,o=i.renderer,a=i.rendererProps,s=i.editor,l=i.editorProps,u=i.validator,c=o,d=s,f=u;return c||(c=t.createElement(Br,Nr({},a))),d||(s=t.createElement(Cr,Nr({},l))),u||(f=r.validatePercentage),r.state=Nr(Nr({},r.props),{sorter:{sorterFn:r.sorterFn.bind(r)},renderer:c,editor:s,validator:f}),r}Lr(n,e),n.prototype.sorterFn=function(e,t){var n=e[this.state.field].toString(),r=t[this.state.field].toString();return n.localeCompare(r,void 0,{numeric:!0,sensitivity:"base"})},n.prototype.validatePercentage=function(e){return!isNaN(+e)},n.prototype.getColumnConfig=function(){return this.state},n.prototype.render=function(){var e;return t.createElement(t.Fragment,null,null===(e=this.props)||void 0===e?void 0:e.children)}}(t.Component),function(e){function n(t){var n,r=e.call(this,t)||this,i=r.props,o=i.numberFormatOptions,a=i.numberFormatLocales;return a||(a="en-US"),n={style:"percent",minimumFractionDigits:1,maximumFractionDigits:1},o&&(n=Nr({},o)),r.formatter=new Intl.NumberFormat(a,n),r}return Lr(n,e),n.prototype.render=function(){var e=this.props,n=e.data,r=e.style;return void 0!==n&&null!==n||(n=""),t.createElement("div",{style:Nr(Nr({},Dn),r)},this.formatter.format(n))},n}(t.Component)),Vr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hr=function(e){function n(n){var r=e.call(this,n)||this;return r.ref=t.createRef(),r.isNumericInput=function(e){var t=e.keyCode;return t>=48&&t<=57||t>=96&&t<=105},r.formatToPhone=function(e){var t=e.target,n=e.target.value.replace(/\D/g,"").substring(0,10),r=n.substring(0,3),i=n.substring(3,6),o=n.substring(6,10);n.length>6?t.value="(".concat(r,") ").concat(i,"-").concat(o):n.length>3?t.value="(".concat(r,") ").concat(i):n.length>0&&(t.value="(".concat(r))},r.getInputEl=r.getInputEl.bind(r),r.setValue=r.setValue.bind(r),r.getValue=r.getValue.bind(r),r.validate=r.validate.bind(r),r.getErrors=r.getErrors.bind(r),r.handleChange=r.handleChange.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r.state={value:r.props.defaultValue},r}return Vr(n,e),n.prototype.setValue=function(e){this.setState({value:e})},n.prototype.getValue=function(){return this.state.value},n.prototype.validate=function(){return""!==this.state.value},n.prototype.getErrors=function(){var e=[];return this.validate()||e.push("Please enter a value"),e},n.prototype.getInputEl=function(){return this.ref.current},n.prototype.handleKeyDown=function(e){this.isNumericInput(e)||e.preventDefault()},n.prototype.handleChange=function(e){this.setState({value:e.currentTarget.value})},n.prototype.render=function(){return t.createElement("input",{style:{width:"100%",height:"100%"},ref:this.ref,value:this.state.value,onChange:this.handleChange,onBlur:this.props.onFocusLeave,onKeyUp:this.formatToPhone,maxLength:14})},n}(t.Component),zr=Hr,jr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wr=function(){return Wr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Wr.apply(this,arguments)},qr=(function(e){function n(n){var r=e.call(this,n)||this;return r.state=Wr(Wr({},r.props),{sorter:{sorterFn:r.sorterFn.bind(r)},renderer:t.createElement(qr,{style:n.style}),editor:t.createElement(zr,null),validator:r.validatePhone}),r}jr(n,e),n.prototype.sorterFn=function(e,t){return e[this.state.field].localeCompare(t[this.state.field],void 0,{numeric:!0,sensitivity:"base"})},n.prototype.validatePhone=function(e){if(!/^(\+\d{1,2}\s)?\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{4}$/.test(e))return e+" is invalid phone format"},n.prototype.getColumnConfig=function(){return this.state},n.prototype.render=function(){var e;return t.createElement(t.Fragment,null,null===(e=this.props)||void 0===e?void 0:e.children)}}(t.Component),function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return jr(n,e),n.prototype.render=function(){var e=this.props,n=e.data,r=e.style;return void 0!==n&&null!==n||(n=""),t.createElement("div",{style:Wr(Wr({},Dn),r)},n)},n}(t.Component)),$r=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kr=function(){return Kr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Kr.apply(this,arguments)},Xr=(function(e){function n(n){var r=e.call(this,n)||this;return r.state=Kr(Kr({},r.props),{xtype:"treecolumn",sorter:{sorterFn:r.sorterFn.bind(r)},renderer:t.createElement(Xr,{style:n.style})}),r}$r(n,e),n.prototype.sorterFn=function(e,t){return e[this.state.field].localeCompare(t[this.state.field],void 0,{numeric:!0,sensitivity:"base"})},n.prototype.getColumnConfig=function(){return this.state},n.prototype.render=function(){var e;return t.createElement(t.Fragment,null,null===(e=this.props)||void 0===e?void 0:e.children)}}(t.Component),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $r(t,e),t.prototype.render=function(){return null},t}(t.Component)),Yr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qr=(function(e){function n(t){var n=e.call(this,t)||this;return n.handleClick=function(e){var t=n.props.gotoPage;n.setState({currentPage:e},(function(){t&&t(e)}))},n.handleFirstpage=function(){var e=n.props.gotoFirst;n.setState({currentPage:1},(function(){e&&e()})),n.setState({maxPageNumberLimit:5}),n.setState({minPageNumberLimit:0})},n.handlePrevbtn=function(e){var t=n.props.gotoPrev,r=n.state,i=r.currentPage,o=r.pageNumberLimit,a=r.maxPageNumberLimit,s=r.minPageNumberLimit;n.setState({currentPage:i-1},(function(){t&&t()})),(i-1)%o===0&&(n.setState({maxPageNumberLimit:a-o}),n.setState({minPageNumberLimit:s-o}))},n.handleNextbtn=function(e){var t=n.props.gotoNext,r=n.state,i=r.currentPage,o=r.pageNumberLimit,a=r.maxPageNumberLimit,s=r.minPageNumberLimit;n.setState({currentPage:i+1},(function(){t&&t()})),i+1>a&&(n.setState({maxPageNumberLimit:a+o}),n.setState({minPageNumberLimit:s+o}))},n.handleLastpage=function(){var e=n.props.gotoPage;n.setState({currentPage:2e3},(function(){e&&e(2e3)})),n.setState({maxPageNumberLimit:2e3}),n.setState({minPageNumberLimit:1995})},n.state={currentPage:1,itemsPerPage:5,pageNumberLimit:5,maxPageNumberLimit:5,minPageNumberLimit:0},n}Yr(n,e),n.prototype.render=function(){for(var e=this,n=this.state,r=n.currentPage,i=n.maxPageNumberLimit,o=n.minPageNumberLimit,a=[],s=1;s<=2e3;s++)a.push(s);var l=a.map((function(n){return n<i+1&&n>o?t.createElement("li",{key:n,id:n.toString(),onClick:function(){return e.handleClick(n)},className:r===n?"active":void 0},n):null})),u=null;a.length>i&&(u=t.createElement("span",{style:{marginTop:"15px"}},"\u2026"));var c=null;return a.length>i&&(c=t.createElement("span",{style:{marginTop:"15px"}},"\u2026")),t.createElement(t.Fragment,null,t.createElement("ul",{className:"grui-pageNumbers"},t.createElement("li",null,t.createElement("button",{className:"grui-toolbar-first-page",disabled:r===a[0],onClick:this.handleFirstpage})),t.createElement("li",null,t.createElement("button",{className:"grui-toolbar-chevron-left",disabled:r===a[0],onClick:this.handlePrevbtn})),r!==a[0]?c:null,l,r!==a[a.length-1]?u:null,t.createElement("li",null,t.createElement("button",{className:"grui-toolbar-chevron-right",disabled:r===a[a.length-1],onClick:this.handleNextbtn})),t.createElement("li",null,t.createElement("button",{className:"grui-toolbar-last-page",disabled:r===a[a.length-1],onClick:this.handleLastpage}))))}}(t.Component),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Jr=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Qr(n,e),n.prototype.render=function(){var e=this.props,n=e.value,r=e.count;return t.createElement("div",null,t.createElement("span",null,n),t.createElement("span",null," (",r,")"))},n}(t.Component),ei=(__webpack_require__(18116),__webpack_require__(4772),__webpack_require__(21204),__webpack_require__(55940),__webpack_require__(55741),__webpack_require__(85625),__webpack_require__(22372),__webpack_require__(20729),__webpack_require__(94458),__webpack_require__(50025),__webpack_require__(7281),__webpack_require__(64567),__webpack_require__(23640),__webpack_require__(94209),__webpack_require__(4778),__webpack_require__(80195),__webpack_require__(59668),__webpack_require__(33858),__webpack_require__(55269),__webpack_require__(41285),__webpack_require__(98624),__webpack_require__(75470),__webpack_require__(89104),__webpack_require__(68225),__webpack_require__(35036),__webpack_require__(18887),__webpack_require__(67750),__webpack_require__(32463),__webpack_require__(159),__webpack_require__(2603),__webpack_require__(77405),__webpack_require__(49258),__webpack_require__(78493),__webpack_require__(63410),__webpack_require__(45327),__webpack_require__(59743),__webpack_require__(42330),__webpack_require__(87726),__webpack_require__(53366),__webpack_require__(12948),__webpack_require__(45742),__webpack_require__(43041),__webpack_require__(8589),__webpack_require__(98127),__webpack_require__(97832),__webpack_require__(59837),__webpack_require__(88636),__webpack_require__(53886),__webpack_require__(33141),__webpack_require__(1006),__webpack_require__(85316),__webpack_require__(24992),__webpack_require__(20016),__webpack_require__(69460),__webpack_require__(11807),__webpack_require__(2195),__webpack_require__(84873),__webpack_require__(98177),__webpack_require__(30974),__webpack_require__(47389),__webpack_require__(44105),__webpack_require__(72195),__webpack_require__(4780),__webpack_require__(23498),__webpack_require__(42720),__webpack_require__(254),__webpack_require__(83265),__webpack_require__(26048),__webpack_require__(56410),__webpack_require__(33612),__webpack_require__(51796),__webpack_require__(99238),__webpack_require__(55531),__webpack_require__(50691),__webpack_require__(87264),__webpack_require__(58894),__webpack_require__(45397),__webpack_require__(64790),__webpack_require__(39762),__webpack_require__(80340),__webpack_require__(41635),__webpack_require__(65084),__webpack_require__(10827),__webpack_require__(28627),__webpack_require__(47067),__webpack_require__(98988),__webpack_require__(38283),__webpack_require__(65202),__webpack_require__(45620),__webpack_require__(74093),__webpack_require__(69765),__webpack_require__(67675),__webpack_require__(6998),__webpack_require__(45947),__webpack_require__(44584),__webpack_require__(72636),__webpack_require__(70578),__webpack_require__(81916),__webpack_require__(1506),__webpack_require__(39155),__webpack_require__(40154),__webpack_require__(28191),__webpack_require__(69579),__webpack_require__(38358),__webpack_require__(69005),__webpack_require__(98767),__webpack_require__(95979),__webpack_require__(20447),__webpack_require__(40186),__webpack_require__(84208),__webpack_require__(36669),__webpack_require__(89118),__webpack_require__(23898),__webpack_require__(67530),__webpack_require__(54121),__webpack_require__(59147),__webpack_require__(86245),__webpack_require__(31743),__webpack_require__(88905),__webpack_require__(17987),__webpack_require__(80445),__webpack_require__(54178),__webpack_require__(9994),__webpack_require__(52872),__webpack_require__(50288),__webpack_require__(32934),__webpack_require__(69104),__webpack_require__(27222),__webpack_require__(69943),__webpack_require__(42172),__webpack_require__(91905),__webpack_require__(7181),__webpack_require__(63557),__webpack_require__(73966),__webpack_require__(66053),__webpack_require__(39636),__webpack_require__(78190),__webpack_require__(55790),__webpack_require__(56678),__webpack_require__(74847),__webpack_require__(48884),__webpack_require__(67582),__webpack_require__(15669),__webpack_require__(40014),__webpack_require__(56340),__webpack_require__(45927),__webpack_require__(78850),__webpack_require__(697),__webpack_require__(53517),__webpack_require__(68591),__webpack_require__(44516),__webpack_require__(92981),__webpack_require__(51937),__webpack_require__(5977),__webpack_require__(71283),__webpack_require__(86332),__webpack_require__(32040),__webpack_require__(20718),__webpack_require__(54777),__webpack_require__(31447),__webpack_require__(44319),__webpack_require__(87952),__webpack_require__(43116),__webpack_require__(98047),__webpack_require__(45286),__webpack_require__(86035),__webpack_require__(83438),__webpack_require__(37564),__webpack_require__(15501),__webpack_require__(4116),__webpack_require__(51325),__webpack_require__(32e3),__webpack_require__(39699),__webpack_require__(34075),__webpack_require__(31274),__webpack_require__(23232),__webpack_require__(7862),__webpack_require__(94357),__webpack_require__(68458),__webpack_require__(88902),__webpack_require__(84358),__webpack_require__(95509),__webpack_require__(3570),__webpack_require__(39865),__webpack_require__(1563),__webpack_require__(27078),__webpack_require__(77247),__webpack_require__(86430),__webpack_require__(67568),__webpack_require__(96375),__webpack_require__(46072),__webpack_require__(90120),__webpack_require__(55153),__webpack_require__(70511),__webpack_require__(79510),__webpack_require__(51889),__webpack_require__(65714),__webpack_require__(11480),__webpack_require__(1522),__webpack_require__(37374),__webpack_require__(17601),__webpack_require__(86705),__webpack_require__(54676),__webpack_require__(26514),__webpack_require__(23973),__webpack_require__(66675),__webpack_require__(15281),__webpack_require__(39047),__webpack_require__(18136),__webpack_require__(97354),__webpack_require__(49556),__webpack_require__(49473),__webpack_require__(93958),__webpack_require__(34160),__webpack_require__(57321),__webpack_require__(65119),__webpack_require__(25860),__webpack_require__(39286),__webpack_require__(38777),__webpack_require__(80741),__webpack_require__(13636),__webpack_require__(64850),__webpack_require__(41861),__webpack_require__(63399),__webpack_require__(15624),__webpack_require__(22246),__webpack_require__(68699),__webpack_require__(83747),__webpack_require__(70500),__webpack_require__(6140),__webpack_require__(1932),__webpack_require__(95132),__webpack_require__(96423),__webpack_require__(67958),__webpack_require__(21225),__webpack_require__(96089),__webpack_require__(30213),__webpack_require__(71030),__webpack_require__(7018),__webpack_require__(47204),__webpack_require__(13392),__webpack_require__(1693),__webpack_require__(75476),__webpack_require__(56049),__webpack_require__(91320),__webpack_require__(22583),__webpack_require__(81740),__webpack_require__(93449),__webpack_require__(94205),__webpack_require__(9330),__webpack_require__(93593),__webpack_require__(58526),__webpack_require__(83085));ei.Z.Boot=ei.Z.Boot||function(e){function t(e,n,r){if(r&&t(e,r),e&&n&&"object"==typeof n)for(var i in n)e[i]=n[i];return e}function n(){var e,t,n,r,i=!1,o=Array.prototype.shift.call(arguments);for("boolean"==typeof arguments[arguments.length-1]&&(i=Array.prototype.pop.call(arguments)),n=arguments.length,e=0;e<n;e++)if("object"==typeof(r=arguments[e]))for(t in r)o[i?t.toLowerCase():t]=r[t]}var r=document,i=[],o={disableCaching:!(/[?&](?:cache|disableCacheBuster)\b/i.test(location.search)||!/http[s]?\:/i.test(location.href)||/(^|[ ;])ext-cache=1/.test(r.cookie)),disableCachingParam:"_dc",loadDelay:!1,preserveScripts:!0,charset:"UTF-8"},a=/\.css(?:\?|$)/i,s=r.createElement("a"),l="undefined"!=typeof window,u={browser:l,node:!l&&!0,phantom:window&&(window._phantom||window.callPhantom)||/PhantomJS/.test(window.navigator.userAgent)},c=ei.Z.platformTags={},d="function"==typeof Object.keys?function(e){return e?Object.keys(e):[]}:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n},f={loading:0,loaded:0,apply:t,env:u,config:o,assetConfig:{},scripts:{},currentFile:null,suspendedQueue:[],currentRequest:null,syncMode:!1,debug:function(e){},useElements:!0,listeners:[],Request:h,Entry:p,allowMultipleBrowsers:!1,browserNames:{ie:"IE",firefox:"Firefox",safari:"Safari",chrome:"Chrome",opera:"Opera",dolfin:"Dolfin",edge:"Edge",webosbrowser:"webOSBrowser",chromeMobile:"ChromeMobile",chromeiOS:"ChromeiOS",silk:"Silk",other:"Other"},osNames:{ios:"iOS",android:"Android",windowsPhone:"WindowsPhone",webos:"webOS",blackberry:"BlackBerry",rimTablet:"RIMTablet",mac:"MacOS",win:"Windows",tizen:"Tizen",linux:"Linux",bada:"Bada",chromeOS:"ChromeOS",other:"Other"},browserPrefixes:{ie:"MSIE ",edge:"Edge/",firefox:"Firefox/",chrome:"Chrome/",safari:"Version/",opera:"OPR/",dolfin:"Dolfin/",webosbrowser:"wOSBrowser/",chromeMobile:"CrMo/",chromeiOS:"CriOS/",silk:"Silk/"},browserPriority:["edge","opera","dolfin","webosbrowser","silk","chromeiOS","chromeMobile","ie","firefox","safari","chrome"],osPrefixes:{tizen:"(Tizen )",ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",windowsPhone:"Windows Phone ",blackberry:"(?:BlackBerry|BB)(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/",chromeOS:"CrOS "},fallbackOSPrefixes:{windows:"win",mac:"mac",linux:"linux"},devicePrefixes:{iPhone:"iPhone",iPod:"iPod",iPad:"iPad"},maxIEVersion:12,detectPlatformTags:function(){var e=this,t=navigator.userAgent,r=/Mobile(\/|\s)/.test(t),i=document.createElement("div"),o=function(){for(var n,r,i,o,a,s,l={},u=e.browserPriority.length,c=0;c<u;c++)i=e.browserPriority[c],s?a=0:(o=e.browserPrefixes[i],(a=(o=t.match(new RegExp("("+o+")([\\w\\._]+)")))&&1<o.length?parseInt(o[2]):0)&&(s=!0)),l[i]=a;for(a=l.ie||!1,n=Math.max(a,e.maxIEVersion),c=8;c<=n;++c)l[(r="ie"+c)+"m"]=a?a<=c:0,l[r]=a?a===c:0,l[r+"p"]=a?c<=a:0;return l}(),a=function(){for(var n,r,i,o,a={},s=d(e.osPrefixes),l=s.length,u=0,c=0;u<l;u++)r=s[u],n=e.osPrefixes[r],(o=!(o=(i=t.match(new RegExp("("+n+")([^\\s;]+)")))?i[1]:null)||"HTC_"!==o&&"Silk/"!==o?i&&1<i.length?parseFloat(i[i.length-1]):0:2.3)&&c++,a[r]=o;for(l=(s=d(e.fallbackOSPrefixes)).length,u=0;u<l;u++)r=s[u],0===c?(n=e.fallbackOSPrefixes[r],i=t.toLowerCase().match(new RegExp(n)),a[r]=!!i||0):a[r]=0;return a}(),s=function(){for(var n,r,i={},o=d(e.devicePrefixes),a=o.length,s=0;s<a;s++)n=o[s],r=e.devicePrefixes[n],r=t.match(new RegExp(r)),i[n]=!!r||0;return i}(),l=f.loadPlatformsParam();n(c,o,a,s,l,!0),c.phone=!!(c.iphone||c.ipod||!c.silk&&c.android&&(c.android<3||r)||c.blackberry&&r||c.windowsphone),c.tablet=!(c.phone||!(c.ipad||c.android||c.silk||c.rimtablet||c.ie10&&/; Touch/.test(t))),c.touch=function(e,t){return void 0===t&&(t=window),t="on"+e.toLowerCase(),(e=t in i)||i.setAttribute&&i.removeAttribute&&(i.setAttribute(t,""),e="function"==typeof i[t],void 0!==i[t]&&(i[t]=void 0),i.removeAttribute(t)),e}("touchend")||navigator.maxTouchPoints||navigator.msMaxTouchPoints,c.desktop=!c.phone&&!c.tablet,c.cordova=c.phonegap=!!(window.PhoneGap||window.Cordova||window.cordova),c.webview=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)(?!.*FBAN)/i.test(t),c.androidstock=c.android<=4.3&&(c.safari||c.silk),n(c,l,!0)},loadPlatformsParam:function(){for(var e,t,n,r,i,o=window.location.search.substr(1).split("&"),a={},s={},l=0;l<o.length;l++)a[(e=o[l].split("="))[0]]=e[1];if(a.platformTags)for(t=(e=a.platformTags.split(",")).length,l=0;l<t;l++)r=(n=e[l].split(":"))[0],i=!0,1<n.length&&("false"!==(i=n[1])&&"0"!==i||(i=!1)),s[r]=i;return s},filterPlatform:function(e,t){e=i.concat(e||i),t=i.concat(t||i);for(var n,r=e.length,o=t.length,a=!r&&o,s=0;s<r&&!a;s++)n=e[s],a=!!c[n];for(s=0;s<o&&a;s++)n=t[s],a=!c[n];return a},init:function(){var e,t,n,i,o,a,s=r.getElementsByTagName("script"),l=s[0],u=s.length,c=/\/ext(\-[a-z\-]+)?\.js$/;f.hasReadyState="readyState"in l,f.hasAsync="async"in l,f.hasDefer="defer"in l,f.hasOnLoad="onload"in l;for(o=0;o<u;o++)(e=(l=s[o]).src)&&(t=l.readyState||null,!n&&c.test(e)&&(n=e),f.scripts[i=f.canonicalUrl(e)]||new p({key:i,url:e,done:null===t||"loaded"===t||"complete"===t}));n=n||(l=s[s.length-1]).src,f.baseUrl=n.substring(0,n.lastIndexOf("/")+1),a=window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),f.origin=a,f.detectPlatformTags(),ei.Z.filterPlatform=f.filterPlatform},canonicalUrl:function(e){s.href=e;var t,n,r;e=s.href;return 0<(r=(r=o.disableCachingParam)?e.indexOf(r+"="):-1)&&("?"===(t=e.charAt(r-1))||"&"===t)&&((n=(n=e.indexOf("&",r))<0?"":e.substring(n))&&"?"===t&&(++r,n=n.substring(1)),e=e.substring(0,r-1)+n),e},getConfig:function(e){return e?f.config[e]:f.config},setConfig:function(e,t){if("string"==typeof e)f.config[e]=t;else for(var n in e)f.setConfig(n,e[n]);return f},getHead:function(){return f.docHead||(f.docHead=r.head||r.getElementsByTagName("head")[0])},create:function(e,t,n){return(n=n||{}).url=e,n.key=t,f.scripts[t]=new p(n)},getEntry:function(e,t,n){var r=n?e:f.canonicalUrl(e),i=f.scripts[r];return i||(i=f.create(e,r,t),n&&(i.canonicalPath=!0)),i},registerContent:function(e,t,n){return f.getEntry(e,{content:n,loaded:!0,css:"css"===t})},processRequest:function(e,t){e.loadEntries(t)},load:function(e){return(e=new h(e)).sync||f.syncMode?f.loadSync(e):(f.currentRequest?(e.getEntries(),f.suspendedQueue.push(e)):(f.currentRequest=e,f.processRequest(e,!1)),f)},loadSync:function(e){return e=new h(e),f.syncMode++,f.processRequest(e,!0),f.syncMode--,f},loadBasePrefix:function(e){return(e=new h(e)).prependBaseUrl=!0,f.load(e)},loadSyncBasePrefix:function(e){return(e=new h(e)).prependBaseUrl=!0,f.loadSync(e)},requestComplete:function(e){var t;if(f.currentRequest===e)for(f.currentRequest=null;0<f.suspendedQueue.length;)if(!(t=f.suspendedQueue.shift()).done){f.load(t);break}f.currentRequest||0!=f.suspendedQueue.length||f.fireListeners()},isLoading:function(){return!f.currentRequest&&0==f.suspendedQueue.length},fireListeners:function(){for(var e;f.isLoading()&&(e=f.listeners.shift());)e()},onBootReady:function(e){f.isLoading()?f.listeners.push(e):e()},getPathsFromIndexes:function(e,t){if(!("length"in e)){var n,r=[];for(n in e)isNaN(+n)||(r[+n]=e[n]);e=r}return h.prototype.getPathsFromIndexes(e,t)},createLoadOrderMap:function(e){return h.prototype.createLoadOrderMap(e)},fetch:function(t,n,r,i){function o(){u&&4==u.readyState&&(s=1223===u.status?204:0!==u.status||"file:"!==(self.location||{}).protocol&&"ionp:"!==(self.location||{}).protocol?u.status:200,l=u.responseText,a={content:l,status:s,exception:c},n&&n.call(r,a),u.onreadystatechange=e,u=null)}i=void 0===i?!!n:i;var a,s,l,u=new XMLHttpRequest,c=!1;i&&(u.onreadystatechange=o);try{u.open("GET",t,i),u.send(null)}catch(t){return c=t,o(),a}return i||o(),a},notifyAll:function(e){e.notifyRequests()}};function h(e){if(e.$isRequest)return e;var n=(n=(e=e.url?e:{url:e}).url).charAt?[n]:n,r=e.charset||f.config.charset;t(this,e),delete this.url,this.urls=n,this.charset=r}function p(e){if(e.$isEntry)return e;var n,r=e.charset||f.config.charset,i=(i=ei.Z.manifest)&&i.loader,o=void 0!==e.cache?e.cache:i&&i.cache;f.config.disableCaching&&(!1===(o=void 0===o?!f.config.disableCaching:o)?n=+new Date:!0!==o&&(n=o),n=n&&(i&&i.cacheParam||f.config.disableCachingParam)+"="+n),t(this,e),this.charset=r,this.buster=n,this.requests=[]}return p.prototype={$isEntry:!0,done:!(h.prototype={$isRequest:!0,createLoadOrderMap:function(e){for(var t,n=e.length,r={},i=0;i<n;i++)r[(t=e[i]).path]=t;return r},getLoadIndexes:function(e,t,n,r,i){var o,a,s,l,u,c=[],d=[e],h=e.idx;if(t[h])return c;for(t[h]=c[h]=!0;e=d.shift();)if(o=e.canonicalPath?f.getEntry(e.path,null,!0):f.getEntry(this.prepareUrl(e.path)),!i||!o.done)for(l=0,u=(a=r&&e.uses&&e.uses.length?e.requires.concat(e.uses):e.requires).length;l<u;l++)t[s=a[l]]||(t[s]=c[s]=!0,d.push(n[s]));return c},getPathsFromIndexes:function(e,t){for(var n=[],r=0,i=e.length;r<i;r++)e[r]&&n.push(t[r].path);return n},expandUrl:function(e,t,n,r,i,o){return t&&(n=n[e])&&(n=this.getLoadIndexes(n,r,t,i,o)).length?this.getPathsFromIndexes(n,t):[e]},expandUrls:function(e,t){var n,r,i,o,a,s,l,u=this.loadOrder,c=[],d={},f=[];for("string"==typeof e&&(e=[e]),u&&(n=(n=this.loadOrderMap)||(this.loadOrderMap=this.createLoadOrderMap(u))),i=0,o=e.length;i<o;i++)for(a=0,s=(r=this.expandUrl(e[i],u,n,f,t,!1)).length;a<s;a++)d[l=r[a]]||(d[l]=!0,c.push(l));return 0===c.length?e:c},expandLoadOrder:function(){var e,t=this,n=t.urls;return t.expanded?e=n:(e=this.expandUrls(n,!0),t.expanded=!0),t.urls=e,n.length!=e.length&&(t.sequential=!0),t},getUrls:function(){return this.expandLoadOrder(),this.urls},prepareUrl:function(e){return this.prependBaseUrl?f.baseUrl+e:e},getEntries:function(){var e,t,n,r,i,o=this,a=o.entries;if(!a){for(a=[],r=o.getUrls(),o.loadOrder&&(e=o.loadOrderMap),n=0;n<r.length;n++)i=o.prepareUrl(r[n]),e&&(t=e[i]),(i=f.getEntry(i,{buster:o.buster,charset:o.charset},t&&t.canonicalPath)).requests.push(o),a.push(i);o.entries=a}return a},loadEntries:function(e){var t,n,r=this,i=r.getEntries(),o=i.length,a=r.loadStart||0;for(void 0!==e&&(r.sync=e),r.loaded=r.loaded||0,r.loading=r.loading||o,n=a;n<o;n++)if(!(t=i[n]).loaded&&!i[n].load(r.sync)){r.loadStart=n,t.onDone((function(){r.loadEntries(e)}));break}r.processLoadedEntries()},processLoadedEntries:function(){var e,t,n=this,r=n.getEntries(),i=r.length,o=n.startIndex||0;if(!n.done){for(e=o;e<i;e++){if(!(t=r[e]).loaded)return void(n.startIndex=e);t.evaluated||t.evaluate(),t.error&&(n.error=!0)}n.notify()}},notify:function(){var e,t,n,r=this;r.done||(t=r.error,e=r[t?"failure":"success"],t="delay"in r?r.delay:t?1:f.config.chainDelay,n=r.scope||r,r.done=!0,e&&(0===t||0<t?setTimeout((function(){e.call(n,r)}),t):e.call(n,r)),r.fireListeners(),f.requestComplete(r))},onDone:function(e){var t=this.listeners||(this.listeners=[]);this.done?e(this):t.push(e)},fireListeners:function(){var e,t=this.listeners;if(t)for(;e=t.shift();)e(this)}}),evaluated:!1,loaded:!1,isCrossDomain:function(){return void 0===this.crossDomain&&(this.crossDomain=0!==this.getLoadUrl().indexOf(f.origin)),this.crossDomain},isCss:function(){var e,t=this;return void 0===t.css&&(t.url?(e=f.assetConfig[t.url],t.css=e?"css"===e.type:a.test(t.url)):t.css=!1),this.css},getElement:function(e){var t=this,n=t.el;return n||(t.isCss()?(n=r.createElement(e=e||"link"),"link"==e?(n.rel="stylesheet",t.prop="href"):t.prop="textContent",n.type="text/css"):((n=r.createElement(e=e||"script")).type="text/javascript",t.prop="src",t.charset&&(n.charset=t.charset),f.hasAsync&&(n.async=!1)),t.el=n),n},getLoadUrl:function(){var e=this,t=e.canonicalPath?e.url:f.canonicalUrl(e.url);return e.loadUrl||(e.loadUrl=e.buster?t+(-1===t.indexOf("?")?"?":"&")+e.buster:t),e.loadUrl},fetch:function(e){var t=this.getLoadUrl(),n=!!e.async;e=e.complete;f.fetch(t,e,this,n)},onContentLoaded:function(e){var t=this,n=e.status,r=e.content,i=(e=e.exception,this.getLoadUrl());t.loaded=!0,!e&&0!==n||u.phantom?200<=n&&n<300||304===n||u.phantom||0===n&&0<r.length?t.content=r:(t.error="Failed loading synchronously via XHR: '"+i+"'. Please verify that the file exists. XHR status code: "+n||0,t.evaluated=!0):(t.error="Failed loading synchronously via XHR: '"+i+"'. It's likely that the file is either being loaded from a different domain or from the local file system where cross origin requests are not allowed for security reasons. Try asynchronous loading instead."||0,t.evaluated=!0)},createLoadElement:function(e){var t=this,n=t.getElement();t.preserve=!0,n.onerror=function(){t.error=!0,e&&(e(),e=null)},n.onload=function(){e(),e=this.onload=this.onerror=null}},onLoadElementReady:function(){f.getHead().appendChild(this.getElement()),this.evaluated=!0},inject:function(e,t){var n,i,o,a=this,s=f.getHead(),l=a.url,u=a.key;return a.isCss()?(a.preserve=!0,o=u.substring(0,u.lastIndexOf("/")+1),(n=r.createElement("base")).href=o,s.firstChild?s.insertBefore(n,s.firstChild):s.appendChild(n),n.href=n.href,l&&(e+="\n/*# sourceURL="+u+" */"),i="styleSheet"in(o=a.getElement("style")),s.appendChild(n),i?(s.appendChild(o),o.styleSheet.cssText=e):(o.textContent=e,s.appendChild(o)),s.removeChild(n)):(l&&(e+="\n//# sourceURL="+u),ei.Z.globalEval(e)),a},loadCrossDomain:function(){var t=this;return t.createLoadElement((function(){t.el.onerror=t.el.onload=e,t.el=null,t.loaded=t.evaluated=t.done=!0,t.notifyRequests()})),t.evaluateLoadElement(),!1},loadElement:function(){var t=this;return t.createLoadElement((function(){t.el.onerror=t.el.onload=e,t.el=null,t.loaded=t.evaluated=t.done=!0,t.notifyRequests()})),t.evaluateLoadElement(),!0},loadSync:function(){var e=this;e.fetch({async:!1,complete:function(t){e.onContentLoaded(t)}}),e.evaluate(),e.notifyRequests()},load:function(e){var t=this;if(!t.loaded){if(t.loading)return!1;if(t.loading=!0,e)t.loadSync();else{if(f.isIE10||t.isCrossDomain())return t.loadCrossDomain();if(!t.isCss()&&f.hasReadyState)t.createLoadElement((function(){t.loaded=!0,t.notifyRequests()}));else{if(!(!f.useElements||t.isCss()&&u.phantom))return t.loadElement();t.fetch({async:!e,complete:function(e){t.onContentLoaded(e),t.notifyRequests()}})}}}return!0},evaluateContent:function(){this.inject(this.content),this.content=null},evaluateLoadElement:function(){f.getHead().appendChild(this.getElement())},evaluate:function(){var e=this;e.evaluated||e.evaluating||(e.evaluating=!0,void 0!==e.content?e.evaluateContent():e.error||e.evaluateLoadElement(),e.evaluated=e.done=!0,e.cleanup())},cleanup:function(){var t,n=this.el;if(n){if(!this.preserve)for(t in this.el=null,n.parentNode.removeChild(n),n)try{t!==this.prop&&(n[t]=null),delete n[t]}catch(t){}n.onload=n.onerror=n.onreadystatechange=e}},notifyRequests:function(){for(var e=this.requests,t=e.length,n=0;n<t;n++)e[n].processLoadedEntries();this.done&&this.fireListeners()},onDone:function(e){var t=this.listeners||(this.listeners=[]);this.done?e(this):t.push(e)},fireListeners:function(){var e,t=this.listeners;if(t&&0<t.length)for(;e=t.shift();)e(this)}},ei.Z.disableCacheBuster=function(e,t){var n=new Date;n.setTime(n.getTime()+24*(e?3650:-1)*60*60*1e3),n=n.toGMTString(),r.cookie="ext-cache=1; expires="+n+"; path="+(t||"/")},f.init(),f}((function(){})),ei.Z.globalEval=ei.Z.globalEval||function(e){eval.call(window,e)},ei.Z.setResourcePath=function(e,t){var n=ei.Z.manifest||(ei.Z.manifest={}),r=n.resources||(n.resources={});n&&("string"!=typeof e?ei.Z.apply(r,e):r[e]=t,n.resources=r)},ei.Z.getResourcePath=function(e,t,n){"string"!=typeof e&&(t=e.pool,n=e.packageName,e=e.path);var r,i=[];return(t=null==(t=(r=(r=ei.Z.manifest)&&r.resources)[t])&&null==(t=r.path)?"resources":t)&&i.push(t),n&&i.push(n),i.push(e),i.join("/")},function(){function e(){}function t(e){return e}var n,r,i,o,a,s,l=window,u=Object.prototype.toString,c=["valueOf","toLocaleString","toString","constructor"],d=ei.Z.fireIdle=function(){},f=function e(){var t=e.caller.caller;return t.$owner.prototype[t.$name].apply(this,arguments)},h=ei.Z.manifest||{},p=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/,g=/^\\?\/Date\(([-+])?(\d+)(?:[+-]\d{4})?\)\\?\/$/;for(a in ei.Z.global=l,ei.Z.$nextIid=0,ei.Z.now=Date.now||(Date.now=function(){return+new Date}),ei.Z.ticks=l.performance&&l.performance.now?function(){return performance.now()}:ei.Z.now,ei.Z._startTime=ei.Z.ticks(),d.$nullFn=t.$nullFn=d.$emptyFn=t.$identityFn=e.$nullFn=!0,e.$privacy="framework",d.$noClearOnDestroy=t.$noClearOnDestroy=!0,e.$noClearOnDestroy=!0,ei.Z.suspendLayouts=ei.Z.resumeLayouts=d,{toString:1})c=null;function m(e,t,n){var r,i;for(r in n)n.hasOwnProperty(r)&&("function"==typeof(i=n[r])&&(i.$name=r,i.$owner=t,i.$previous=e.hasOwnProperty(r)?e[r]:f),e[r]=i)}ei.Z.enumerables=c,ei.Z.apply=function(e,t,n){var r,i,o;if(e&&(n&&ei.Z.apply(e,n),t&&"object"==typeof t)){for(r in t)e[r]=t[r];if(c)for(i=c.length;i--;)o=c[i],t.hasOwnProperty(o)&&(e[o]=t[o])}return e},ei.Z.buildSettings=ei.Z.apply({baseCSSPrefix:"grui-"},ei.Z.buildSettings||{}),ei.Z.apply(ei.Z,{idSeed:0,idPrefix:"grui-",isRobot:!1,isSecure:/^https/i.test(window.location.protocol),enableGarbageCollector:!1,enableListenerCollection:!0,name:ei.Z.sandboxName||"GRUI",privateFn:e,emptyFn:d,identityFn:t,frameStartTime:ei.Z.now(),manifest:h,enableAria:!0,startsWithHashRe:/^#/,validIdRe:/^[a-z_][a-z0-9\-_]*$/i,BLANK_IMAGE_URL:"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",makeIdSelector:function(e){return"#"+e},id:function(e,t){return e&&e.id?e.id:(t=(t||ei.Z.idPrefix)+ ++ei.Z.idSeed,e&&(e.id=t),t)},returnId:function(e){return e.getId()},returnTrue:function(){return!0},emptyString:new String,emptyArray:Object.freeze?Object.freeze([]):[],baseCSSPrefix:ei.Z.buildSettings.baseCSSPrefix,$eventNameMap:{},$vendorEventRe:/^(DOMMouse|Moz.+|MS.+|webkit.+)/,canonicalEventName:function(e){return ei.Z.$eventNameMap[e]||(ei.Z.$eventNameMap[e]=ei.Z.$vendorEventRe.test(e)?e:e.toLowerCase())},applyIf:function(e,t){if(e&&t&&"object"==typeof t)for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e},destroy:function(){for(var e,t=arguments.length,n=0;n<t;n++)(e=arguments[n])&&(ei.Z.isArray(e)?this.destroy.apply(this,e):ei.Z.isFunction(e.destroy)&&!e.destroyed&&e.destroy());return null},destroyMembers:function(e){for(var t,n,r=1,i=arguments,o=i.length;r<o;r++)null!=(t=e[n=i[r]])&&(e[n]=ei.Z.destroy(t))},override:function(e,t){var n,r;return e.$isClass?e.override(t):"function"==typeof e?ei.Z.apply(e.prototype,t):(n=e.self)&&n.$isClass?((r=t.privates)&&(delete(t=ei.Z.apply({},t)).privates,m(e,n,r)),m(e,n,t)):ei.Z.apply(e,t),e},valueFrom:function(e,t,n){return ei.Z.isEmpty(e,n)?t:e},isEmpty:function(e,t){return null==e||!t&&""===e||ei.Z.isArray(e)&&0===e.length},isArray:"isArray"in Array?Array.isArray:function(e){return"[object Array]"===u.call(e)},isDate:function(e){return"[object Date]"===u.call(e)},isMSDate:function(e){return!!ei.Z.isString(e)&&g.test(e)},isObject:"[object Object]"===u.call(null)?function(e){return null!=e&&"[object Object]"===u.call(e)&&void 0===e.ownerDocument}:function(e){return"[object Object]"===u.call(e)},isSimpleObject:function(e){return e instanceof Object&&e.constructor===Object},isPrimitive:function(e){return"string"==(e=typeof e)||"number"==e||"boolean"==e},isFunction:"undefined"!=typeof document&&"function"==typeof document.getElementsByTagName("body")?function(e){return!!e&&"[object Function]"===u.call(e)}:function(e){return!!e&&"function"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},isString:function(e){return"string"==typeof e},isBoolean:function(e){return"boolean"==typeof e},isElement:function(e){return!!e&&1===e.nodeType},isTextNode:function(e){return!!e&&"#text"===e.nodeName},isDefined:function(e){return void 0!==e},isIterable:function(e){return!(!e||"number"!=typeof e.length||"string"==typeof e||ei.Z.isFunction(e))&&(e.propertyIsEnumerable?!(!e.hasOwnProperty("length")||e.propertyIsEnumerable("length"))||p.test(u.call(e)):!!e.item)},isDebugEnabled:d,clone:function(e,t){if(null==e)return e;if(!1!==t&&e.nodeType&&e.cloneNode)return e.cloneNode(!0);var n,r,i,o,a,s=u.call(e);if("[object Date]"===s)return new Date(e.getTime());if("[object Array]"===s)for(n=e.length,o=[];n--;)o[n]=ei.Z.clone(e[n],t);else if("[object Object]"===s&&e.constructor===Object){for(a in o={},e)o[a]=ei.Z.clone(e[a],t);if(c)for(r=c.length;r--;)i=c[r],e.hasOwnProperty(i)&&(o[i]=e[i])}return o||e},getUniqueGlobalNamespace:function(){var e,t=this.uniqueGlobalNamespace;if(void 0===t){for(e=0;t="ExtBox"+ ++e,void 0!==l[t];);l[t]=ei.Z,this.uniqueGlobalNamespace=t}return t},functionFactoryCache:{},cacheableFunctionFactory:function(){var e,t,n=Array.prototype.slice.call(arguments),r=this.functionFactoryCache;return ei.Z.isSandboxed&&0<(t=n.length)&&(n[--t]="var GRUI=window."+ei.Z.name+";"+n[t]),(e=r[t=n.join("")])||(e=Function.prototype.constructor.apply(Function.prototype,n),r[t]=e),e},functionFactory:function(){var e,t=Array.prototype.slice.call(arguments);return ei.Z.isSandboxed&&0<(e=t.length)&&(t[--e]="var GRUI=window."+ei.Z.name+";"+t[e]),Function.prototype.constructor.apply(Function.prototype,t)},Logger:{log:function(e,t){e&&l.console&&(e="["+(t=t&&t in l.console?t:"log").toUpperCase()+"] "+e,l.console[t](e))},verbose:function(e){this.log(e,"verbose")},info:function(e){this.log(e,"info")},warn:function(e){this.log(e,"warn")},error:function(e){throw new Error(e)},deprecate:function(e){this.log(e,"warn")}},ariaWarn:function(e,t){ei.Z.enableAria&&!ei.Z.slicer&&(ei.Z.ariaWarn.first||(ei.Z.ariaWarn.first=!0,ei.Z.log.warn("WAI-ARIA compatibility warnings can be suppressed by adding the following to application startup code:"),ei.Z.log.warn("    GRUI.ariaWarn = GRUI.emptyFn;")),ei.Z.log.warn({msg:t,dump:e}))},getElementById:function(e){return document.getElementById(e)},splitAndUnescape:(s={},function(e,t){if(!e)return[];if(!t)return[e];for(var n,r=s[t]||(s[t]=new RegExp("\\\\"+t,"g")),i=[],o=e.split(t);void 0!==(n=o.shift());){for(;"\\"===n.charAt(n.length-1)&&0<o.length;)n=n+t+o.shift();n=n.replace(r,t),i.push(n)}return i}),doElevate:function(){var e=r,t=n,a=o;r=n=o=null,i=t?e.apply(a,t):e.call(a),ei.Z.fireIdle()},elevate:function(e,t,a){var s;return a&&!a.length&&(a=null),ei.Z._suppressIdle=!1,ei.Z.elevateFunction?(r=e,o=t,n=a,ei.Z.elevateFunction(ei.Z.doElevate),s=i,i=null):(s=a?e.apply(t,a):e.call(t),ei.Z.fireIdle()),s},getExpando:function(e,t){return(e=e.$expandos)&&e[t]||null},setExpando:function(e,t,n){var r=e.$expandos;return void 0!==n?(r||(e.$expandos={}))[t]=n:r&&delete r[t],n}}),ei.Z.returnTrue.$nullFn=ei.Z.returnId.$nullFn=!0}(),function(){function e(){var e=(n=this).sourceClass,t=n.sourceMethod,n=n.msg;return t&&(n?t=t+"(): "+n:t+="()"),(t=e?t?e+"."+t:e:t)||n||""}ei.Z.Error=function(t){var n=new Error;return ei.Z.isString(t)&&(t={msg:t}),ei.Z.apply(n,t),n.message=n.message||n.msg,n.toString=e,n},ei.Z.apply(ei.Z.Error,{ignore:!1,raise:function(e){console.log("TODO err=",e)},handle:function(){return this.ignore}})}(),ei.Z.deprecated=function(e){return ei.Z.emptyFn},ei.Z.raise=function(){ei.Z.Error.raise.apply(ei.Z.Error,arguments)},ei.Z.Array=function(){var e=Array.prototype,t=e.slice,n=function(){var e,t=[],n=20;if(!t.splice)return!1;for(;n--;)t.push("A");return t.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F"),e=t.length,t.splice(13,0,"XXX"),e+1===t.length}(),r="indexOf"in e,i=!0;try{"undefined"!=typeof document&&t.call(document.getElementsByTagName("body"))}catch(n){i=!1}function o(e,t,n,r){var i=r?r.length:0,o=e.length,s=a(e,t);if(s===o)i&&e.push.apply(e,r);else{var l,u=s+(t=Math.min(n,o-s)),c=u+i-t,d=o-u;n=o-t;if(c<u)for(l=0;l<d;++l)e[c+l]=e[u+l];else if(u<c)for(l=d;l--;)e[c+l]=e[u+l];if(i&&s===n)e.length=n,e.push.apply(e,r);else for(e.length=n+i,l=0;l<i;++l)e[s+l]=r[l]}return e}var a=function(e,t){return t<0?Math.max(0,e.length+t):Math.min(e.length,t)},s=n?function(e,t,n){return e.splice(t,n),e}:function(e,t,n){return o(e,t,n)},l=n?function(e,t,n,r){return r&&r.length?0!==t||n?t<e.length?e.splice.apply(e,[t,n].concat(r)):e.push.apply(e,r):e.unshift.apply(e,r):e.splice(t,n),e}:o,u=(n=n?function(e){return e.splice.apply(e,t.call(arguments,1))}:function(e,n,r){var i,s=arguments.length,l=a(e,n);return s<3&&(r=e.length-l),i=e.slice(n,a(e,l+r)),s<4?o(e,l,r):o(e,l,r,t.call(arguments,3)),i},{binarySearch:function(e,t,n,r,i){var o,a,s=e.length;for(n instanceof Function?(i=n,n=0,r=s):r instanceof Function?(i=r,r=s):(void 0===n&&(n=0),void 0===r&&(r=s),i=i||u.lexicalCompare),--r;n<=r;)0<=(a=i(t,e[o=n+r>>1]))?n=1+o:a<0&&(r=o-1);return n},defaultCompare:function(e,t){return e<t?-1:t<e?1:0},lexicalCompare:function(e,t){return(e=String(e))<(t=String(t))?-1:t<e?1:0},each:function(e,t,n,r){var i,o=(e=u.from(e)).length;if(!0!==r){for(i=0;i<o;i++)if(!1===t.call(n||e[i],e[i],i,e))return i}else for(i=o-1;-1<i;i--)if(!1===t.call(n||e[i],e[i],i,e))return i;return!0},findInsertionIndex:function(e,t,n,r){var i,o=t.length;return n=n||u.lexicalCompare,0<=r&&r<o&&(i=0<r?n(e,t[r-1]):0,o=r<o?n(e,t[r]):0,0<=i&&o<1)?r:u.binarySearch(t,e,n)},forEach:"forEach"in e?function(e,t,n){e.forEach(t,n)}:function(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)},indexOf:r?function(t,n,r){return t?e.indexOf.call(t,n,r):-1}:function(e,t,n){for(var r=e?e.length:0,i=n<0?Math.max(0,r+n):n||0;i<r;i++)if(e[i]===t)return i;return-1},contains:r?function(t,n){return-1!==e.indexOf.call(t,n)}:function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return!0;return!1},toArray:function(e,n,r){var o,a=[];if(!e||!e.length)return a;if("string"==typeof e&&(e=e.split("")),i)return t.call(e,n||0,r||e.length);for(r=r?r<0?e.length+r:r:e.length,o=n=n||0;o<r;o++)a.push(e[o]);return a},pluck:function(e,t){for(var n,r=[],i=0,o=e.length;i<o;i++)n=e[i],r.push(n[t]);return r},map:"map"in e?function(e,t,n){return e.map(t,n)}:function(e,t,n){for(var r=e.length,i=new Array(r),o=0;o<r;o++)i[o]=t.call(n,e[o],o,e);return i},every:"every"in e?function(e,t,n){return e.every(t,n)}:function(e,t,n){for(var r=0,i=e.length;r<i;++r)if(!t.call(n,e[r],r,e))return!1;return!0},some:"some"in e?function(e,t,n){return e.some(t,n)}:function(e,t,n){for(var r=0,i=e.length;r<i;++r)if(t.call(n,e[r],r,e))return!0;return!1},equals:function(e,t){var n,r=e.length,i=t.length;if(e===t)return!0;if(r!==i)return!1;for(n=0;n<r;++n)if(e[n]!==t[n])return!1;return!0},clean:function(e){for(var t,n=[],r=0,i=e.length;r<i;r++)t=e[r],ei.Z.isEmpty(t)||n.push(t);return n},unique:function(e){for(var t,n=[],r=0,i=e.length;r<i;r++)t=e[r],-1===u.indexOf(n,t)&&n.push(t);return n},filter:"filter"in e?function(e,t,n){return e.filter(t,n)}:function(e,t,n){for(var r=[],i=0,o=e.length;i<o;i++)t.call(n,e[i],i,e)&&r.push(e[i]);return r},findBy:function(e,t,n){for(var r=0,i=e.length;r<i;r++)if(t.call(n||e,e[r],r))return e[r];return null},from:function(e,n){return null==e?[]:ei.Z.isArray(e)?n?t.call(e):e:(n=typeof e,!e||void 0===e.length||"string"==n||"function"==n&&e.apply?[e]:u.toArray(e))},remove:function(e,t){return-1!==(t=u.indexOf(e,t))&&s(e,t,1),e},removeAt:function(e,t,n){var r=e.length;return 0<=t&&t<r&&(n=n||1,n=Math.min(n,r-t),s(e,t,n)),e},include:function(e,t){u.contains(e,t)||e.push(t)},clone:function(e){return t.call(e)},merge:function(){for(var e=t.call(arguments),n=[],r=0,i=e.length;r<i;r++)n=n.concat(e[r]);return u.unique(n)},intersect:function(){var e,n,r,i,o,a,l,c,d,f,h,p,g=[],m=t.call(arguments);if(!m.length)return g;for(e=m.length,f=o=0;f<e;f++)a=m[f],(!i||a.length<i.length)&&(i=a,o=f);for(i=u.unique(i),s(m,o,1),l=i.length,e=m.length,f=0;f<l;f++){for(c=i[f],h=d=0;h<e;h++)for(r=(n=m[h]).length,p=0;p<r;p++)if(c===n[p]){d++;break}d===e&&g.push(c)}return g},difference:function(e,n){for(var r,i=t.call(e),o=i.length,a=0,l=n.length;a<l;a++)for(r=0;r<o;r++)i[r]===n[a]&&(s(i,r,1),r--,o--);return i},reduce:Array.prototype.reduce?function(e,t,n){return 3===arguments.length?Array.prototype.reduce.call(e,t,n):Array.prototype.reduce.call(e,t)}:function(e,t,n){var r=0,i=(e=Object(e)).length>>>0,o=n;if(arguments.length<3)for(;;){if(r in e){o=e[r++];break}if(++r>=i)throw new TypeError("Reduce of empty array with no initial value")}for(;r<i;++r)r in e&&(o=t(o,e[r],r,e));return o},slice:[1,2].slice(1,void 0).length?function(e,n,r){return t.call(e,n,r)}:function(e,n,r){return void 0===n?t.call(e):void 0===r?t.call(e,n):t.call(e,n,r)},sort:function(e,t){for(var n=e,r=t||u.lexicalCompare,i=n.length,o=new Array(i),a=0;a<i;a++)o[a]=a;for(o.sort((function(e,t){return r(n[e],n[t])||e-t})),a=0;a<i;a++)o[a]=n[o[a]];for(a=0;a<i;a++)n[a]=o[a];return n},flatten:function(e){var t=[];return function e(n){for(var r,i=0,o=n.length;i<o;i++)r=n[i],ei.Z.isArray(r)?e(r):t.push(r);return t}(e)},min:function(e,t){for(var n,r=e[0],i=0,o=e.length;i<o;i++)n=e[i],t?1===t(r,n)&&(r=n):n<r&&(r=n);return r},max:function(e,t){for(var n,r=e[0],i=0,o=e.length;i<o;i++)n=e[i],t?-1===t(r,n)&&(r=n):r<n&&(r=n);return r},mean:function(e){return 0<e.length?u.sum(e)/e.length:void 0},sum:function(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n];return t},toMap:function(e,t,n){var r,i;if(!e)return null;if(r={},i=e.length,"string"==typeof e)r[e]=1;else if(t)if("string"==typeof t)for(;i--;)r[e[i][t]]=i+1;else for(;i--;)r[t.call(n,e[i])]=i+1;else for(;i--;)r[e[i]]=i+1;return r},toValueMap:function(e,t,n,r){var i,o,a,s,l,u,c={},d=e.length;if(t)for(o=1===(r=(s="string"!=typeof t)?r:n),i=2===r;d--;)u=e[d],l=s?t.call(n,u):u[t],o?l in c?c[l].push(u):c[l]=[u]:i&&l in c?(a=c[l])instanceof Array?a.push(u):c[l]=[a,u]:c[l]=u;else for(;d--;)c[u=e[d]]=u;return c},erase:s,insert:function(e,t,n){return l(e,t,0,n)},move:function(e,t,n){if(n!==t){for(var r=e[t],i=t<n?1:-1,o=t;o!==n;o+=i)e[o]=e[o+i];e[n]=r}},replace:l,splice:n,push:function(e){var t,n,r=arguments,i=r.length;for(void 0===e?e=[]:ei.Z.isArray(e)||(e=[e]),t=1;t<i;t++)n=r[t],Array.prototype.push[ei.Z.isIterable(n)?"apply":"call"](e,n);return e},numericSortFn:function(e,t){return e-t}});return ei.Z.each=u.each,u.union=u.merge,ei.Z.min=u.min,ei.Z.max=u.max,ei.Z.sum=u.sum,ei.Z.mean=u.mean,ei.Z.flatten=u.flatten,ei.Z.clean=u.clean,ei.Z.unique=u.unique,ei.Z.pluck=u.pluck,ei.Z.toArray=function(){return u.toArray.apply(u,arguments)},u}(),ei.Z.String=function(){function e(e,t){return r[t]}function t(e,t){return t in i?i[t]:String.fromCharCode(parseInt(t.substr(2),10))}function n(e,t){return null!=e&&null!=t&&t.length<=e.length}var r,i,o,a,s,l=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,u=/('|\\)/g,c=/([-.*+?\^${}()|\[\]\/\\])/g,d=/^\s+|\s+$/g,f=/\s+/,h=/(^[^a-z]*|[^\w])/gi,p=String.fromCharCode;return s={fromCodePoint:String.fromCodePoint||function(){for(var e,t="",n=[],r=-1,i=arguments.length;++r<i;)e=Number(arguments[r]),(!isFinite(e)||e<0||1114111<e||Math.floor(e)!==e)&&ei.Z.raise("Invalid code point: "+e),e<=65535?n.push(e):n.push(55296+((e-=65536)>>10),e%1024+56320),r+1===i&&(t+=p(n),n.length=0);return t},insert:function(e,t,n){var r;return e?(t&&(r=e.length,0===(n=(n=n||0===n?n:r)<0?r<=(n*=-1)?0:r-n:n)?e=t+e:n>=e.length?e+=t:e=e.substr(0,n)+t+e.substr(n)),e):t},startsWith:function(e,t,r){var i=n(e,t);return i&&(r&&(e=e.toLowerCase(),t=t.toLowerCase()),i=0===e.lastIndexOf(t,0)),i},endsWith:function(e,t,r){var i=n(e,t);return i&&(r&&(e=e.toLowerCase(),t=t.toLowerCase()),i=-1!==e.indexOf(t,e.length-t.length)),i},createVarName:function(e){return e.replace(h,"")},htmlEncode:function(t){return t&&String(t).replace(o,e)},htmlDecode:function(e){return e&&String(e).replace(a,t)},hasHtmlCharacters:function(e){return o.test(e)},addCharacterEntities:function(e){var t,n,s=[],l=[];for(t in e)n=e[t],i[t]=n,r[n]=t,s.push(n),l.push(t);o=new RegExp("("+s.join("|")+")","g"),a=new RegExp("("+l.join("|")+"|&#[0-9]{1,5};)","g")},resetCharacterEntities:function(){r={},i={},this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(e,t){return ei.Z.isEmpty(t)?e:e+(-1===e.indexOf("?")?"?":"&")+t},trim:function(e){return(e=e&&e.replace(l,""))||""},capitalize:function(e){return(e=e&&e.charAt(0).toUpperCase()+e.substr(1))||""},uncapitalize:function(e){return(e=e&&e.charAt(0).toLowerCase()+e.substr(1))||""},ellipsis:function(e,t,n){var r;return e&&e.length>t?n&&(n=e.substr(0,t-2),-1!==(r=Math.max(n.lastIndexOf(" "),n.lastIndexOf("."),n.lastIndexOf("!"),n.lastIndexOf("?")))&&t-15<=r)?n.substr(0,r)+"...":e.substr(0,t-3)+"...":e},escapeRegex:function(e){return e.replace(c,"\\$1")},createRegex:function(e,t,n,r){var i=e;return null==e||e.exec||(i=s.escapeRegex(String(e)),!1!==t&&(i="^"+i),!1!==n&&(i+="$"),i=new RegExp(i,!1!==r?"i":"")),i},escape:function(e){return e.replace(u,"\\$1")},toggle:function(e,t,n){return e===t?n:t},leftPad:function(e,t,n){var r=String(e);for(n=n||" ";r.length<t;)r=n+r;return r},repeat:function(e,t,n){for(var r=[],i=t=t<1?0:t;i--;)r.push(e);return r.join(n||"")},splitWords:function(e){return e&&"string"==typeof e?e.replace(d,"").split(f):e||[]}}}(),ei.Z.String.resetCharacterEntities(),ei.Z.htmlEncode=ei.Z.String.htmlEncode,ei.Z.htmlDecode=ei.Z.String.htmlDecode,ei.Z.urlAppend=ei.Z.String.urlAppend,ei.Z.Date=function(){var e,t,n=Date,r=/(\\.)/g,i=/([gGhHisucUOPZ]|MS)/,o=/([djzmnYycU]|MS)/,a=/\\/gi,s=/\{(\d+)\}/g,l=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),u=/^(?:(\d{1,4})|(\w{3,}))[/\-.\\\s](?:(\d{1,2})|(\w{3,}))[/\-.\\\s](\d{1,4})$/,c=ei.Z.String.leftPad,d={d:!0,j:!0},f={F:!0,m:!0,M:!0,n:!0},h={o:!0,Y:!0,y:!0},p=["var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,","def = me.defaults,","from = GRUI.Number.from,","results = String(input).match(me.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = me.clearTime(new Date);","y = from(y, from(def.y, dt.getFullYear()));","m = from(m, from(def.m - 1, dt.getMonth()));","dayMatched = d !== undefined;","d = from(d, from(def.d, dt.getDate()));","if (!dayMatched) {","dt.setDate(1);","dt.setMonth(m);","dt.setFullYear(y);","daysInMonth = me.getDaysInMonth(dt);","if (d > daysInMonth) {","d = daysInMonth;","}","}","h  = from(h, from(def.h, dt.getHours()));","i  = from(i, from(def.i, dt.getMinutes()));","s  = from(s, from(def.s, dt.getSeconds()));","ms = from(ms, from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);","}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","if (W) {","year = y || (new Date()).getFullYear();","jan4 = new Date(year, 0, 4, 0, 0, 0);","d = jan4.getDay();","week1monday = new Date(jan4.getTime() - ((d === 0 ? 6 : d - 1) * 86400000));","v = GRUI.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000 + 43200000)));","} else {","v = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","}","}","}","}","if(v){","if(zz != null){","v = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return (v != null) ? v : null;"].join("\n");function g(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(s,(function(e,n){return t[n]}))}return(e={now:n.now,toString:function(e){return(e=e||new n).getFullYear()+"-"+c(e.getMonth()+1,2,"0")+"-"+c(e.getDate(),2,"0")+"T"+c(e.getHours(),2,"0")+":"+c(e.getMinutes(),2,"0")+":"+c(e.getSeconds(),2,"0")},getElapsed:function(t,n){return Math.abs(t-(n||e.now()))},useStrict:!1,formatCodeToRegex:function(t,n){var r=e.parseCodes[t];return r&&(r="function"==typeof r?r():r,e.parseCodes[t]=r),r?ei.Z.applyIf({c:r.c&&g(r.c,n||"{0}")},r):{g:0,c:null,s:ei.Z.String.escapeRegex(t)}},parseFunctions:{MS:function(e,t){return(e=(e||"").match(l))?new n(+((e[1]||"")+e[2])):null},time:function(e,t){return(e=parseInt(e,10))||0===e?new n(e):null},timestamp:function(e,t){return(e=parseInt(e,10))||0===e?new n(1e3*e):null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"},time:function(){return this.getTime().toString()},timestamp:function(){return e.format(this,"U")}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",DAYS_IN_WEEK:7,MONTHS_IN_YEAR:12,MAX_DAYS_IN_MONTH:31,SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6,defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",defaultTimeFormat:"h:i A",firstDayOfWeek:0,weekendDays:[0,6],getShortMonthName:function(t){return e.monthNames[t].substring(0,3)},getShortDayName:function(t){return e.dayNames[t].substring(0,3)},getMonthNumber:function(t){return e.monthNumbers[t.substring(0,1).toUpperCase()+t.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(e){return i.test(e.replace(r,""))},formatContainsDateInfo:function(e){return o.test(e.replace(r,""))},isMonthFormat:function(e){return!!f[e]},isYearFormat:function(e){return!!h[e]},unescapeFormat:function(e){return e.replace(a,"")},formatCodes:{d:"GRUI.String.leftPad(m.getDate(), 2, '0')",D:"GRUI.Date.getShortDayName(m.getDay())",j:"m.getDate()",l:"GRUI.Date.dayNames[m.getDay()]",N:"(m.getDay() ? m.getDay() : 7)",S:"GRUI.Date.getSuffix(m)",w:"m.getDay()",z:"GRUI.Date.getDayOfYear(m)",W:"GRUI.String.leftPad(GRUI.Date.getWeekOfYear(m), 2, '0')",F:"GRUI.Date.monthNames[m.getMonth()]",m:"GRUI.String.leftPad(m.getMonth() + 1, 2, '0')",M:"GRUI.Date.getShortMonthName(m.getMonth())",n:"(m.getMonth() + 1)",t:"GRUI.Date.getDaysInMonth(m)",L:"(GRUI.Date.isLeapYear(m) ? 1 : 0)",o:"(m.getFullYear() + (GRUI.Date.getWeekOfYear(m) == 1 && m.getMonth() > 0 ? +1 : (GRUI.Date.getWeekOfYear(m) >= 52 && m.getMonth() < 11 ? -1 : 0)))",Y:"GRUI.String.leftPad(m.getFullYear(), 4, '0')",y:"('' + m.getFullYear()).substring(2, 4)",a:"(m.getHours() < 12 ? 'am' : 'pm')",A:"(m.getHours() < 12 ? 'AM' : 'PM')",g:"((m.getHours() % 12) ? m.getHours() % 12 : 12)",G:"m.getHours()",h:"GRUI.String.leftPad((m.getHours() % 12) ? m.getHours() % 12 : 12, 2, '0')",H:"GRUI.String.leftPad(m.getHours(), 2, '0')",i:"GRUI.String.leftPad(m.getMinutes(), 2, '0')",s:"GRUI.String.leftPad(m.getSeconds(), 2, '0')",u:"GRUI.String.leftPad(m.getMilliseconds(), 3, '0')",O:"GRUI.Date.getGMTOffset(m)",P:"GRUI.Date.getGMTOffset(m, true)",T:"GRUI.Date.getTimezone(m)",Z:"(m.getTimezoneOffset() * -60)",c:function(){for(var t,n="Y-m-dTH:i:sP",r=[],i=n.length,o=0;o<i;++o)t=n.charAt(o),r.push("T"===t?"'T'":e.getFormatCode(t));return r.join(" + ")},C:function(){return"m.toISOString()"},U:"Math.round(m.getTime() / 1000)"},isValid:function(t,r,i,o,a,s,l){return t===(t=e.add(new n(t<100?100:t,r-1,i,o=o||0,a=a||0,s=s||0,l=l||0),e.YEAR,t<100?t-100:0)).getFullYear()&&r===t.getMonth()+1&&i===t.getDate()&&o===t.getHours()&&a===t.getMinutes()&&s===t.getSeconds()&&l===t.getMilliseconds()},parse:function(t,n,r){var i;return n?(null==(i=e.parseFunctions)[n]&&e.createParser(n),i[n].call(e,t,ei.Z.isDefined(r)?r:e.useStrict,ei.Z)):e.flexParse(t)},parseDate:function(t,n,r){return e.parse(t,n,r)},getFormatCode:function(t){var n=e.formatCodes[t];return n&&(n="function"==typeof n?n():n,e.formatCodes[t]=n),n||"'"+ei.Z.String.escape(t)+"'"},createFormat:function(t){for(var n,r=[],i=!1,o=0;o<t.length;++o)n=t.charAt(o),i||"\\"!==n?i?(i=!1,r.push("'"+ei.Z.String.escape(n)+"'")):"\n"===n?r.push("'\\n'"):r.push(e.getFormatCode(n)):i=!0;e.formatFunctions[t]=new Function("GRUI","var m = this; return "+r.join("+"))},createParser:function(t){for(var n,r=e.parseRegexes.length,i=1,o=[],a=[],s=!1,l=0,u=t.length,c=[];l<u;++l)n=t.charAt(l),s||"\\"!==n?s?(s=!1,a.push(ei.Z.String.escape(n))):(i+=(n=e.formatCodeToRegex(n,i)).g,a.push(n.s),n.g&&n.c&&(n.calcAtEnd?c:o).push(n.c)):s=!0;o=o.concat(c),e.parseRegexes[r]=new RegExp("^"+a.join("")+"$","i"),e.parseFunctions[t]=ei.Z.functionFactory("input","strict","GRUI",g(p,r,o.join("")))},parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var t=[],n=0;n<7;n++)t.push(e.getShortDayName(n));return{g:0,c:null,s:"(?:"+t.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+e.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:1,c:"W = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},F:function(){return{g:1,c:"m = parseInt(me.getMonthNumber(results[{0}]), 10);\n",s:"("+e.monthNames.join("|")+")"}},M:function(){for(var t=[],n=0;n<12;n++)t.push(e.getShortMonthName(n));return ei.Z.applyIf({s:"("+t.join("|")+")"},e.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:!0},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:!0},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[1-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + GRUI.String.leftPad(hr, 2, '0') + GRUI.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + GRUI.String.leftPad(hr, 2, '0') + GRUI.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,5}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){for(var t=[],n=[e.formatCodeToRegex("Y",1),e.formatCodeToRegex("m",2),e.formatCodeToRegex("d",3),e.formatCodeToRegex("H",4),e.formatCodeToRegex("i",5),e.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if (results[8]) {","if (results[8] == 'Z') {","zz = 0;","}","else if (results[8].indexOf(':') > -1) {",e.formatCodeToRegex("P",8).c,"}","else {",e.formatCodeToRegex("O",8).c,"}","}"].join("\n")}],r=0,i=n.length;r<i;++r)t.push(n[r].c);return{g:1,c:t.join(""),s:[n[0].s,"(?:","-",n[1].s,"(?:","-",n[2].s,"(?:","(?:T| )?",n[3].s,":",n[4].s,"(?::",n[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},compare:function(e,t,n){return"string"==typeof e&&(e=ei.Z.Date.parse(e)),"string"==typeof t&&(t=ei.Z.Date.parse(t)),e=ei.Z.Date.format(e,"C"),t=ei.Z.Date.format(t,"C"),n||(e=e.substr(0,10),t=t.substr(0,10)),e<t?-1:t<e?1:0},dateFormat:function(t,n){return e.format(t,n)},isEqual:function(e,t){return e&&t?+e==+t:!(e||t)},format:function(t,n){var r=e.formatFunctions;return ei.Z.isDate(t)?(null==r[n]&&e.createFormat(n),r[n].call(t,ei.Z)+""):""},getTimezone:function(e){return e.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(e,t){return(0<(e=e.getTimezoneOffset())?"-":"+")+ei.Z.String.leftPad(Math.floor(Math.abs(e)/60),2,"0")+(t?":":"")+ei.Z.String.leftPad(Math.abs(e%60),2,"0")},getDayOfYear:function(t){var n=0,r=e.clone(t),i=t.getMonth(),o=0;for(r.setDate(1),r.setMonth(0);o<i;r.setMonth(++o))n+=e.getDaysInMonth(r);return n+t.getDate()-1},getWeekOfYear:function(e){e=n.UTC(e.getFullYear(),e.getMonth(),e.getDate()+3)/864e5,e=Math.floor(e/7);var t=new n(6048e5*e).getUTCFullYear();return e-Math.floor(n.UTC(t,0,7)/6048e5)+1},isLeapYear:function(e){return!(0!=(3&(e=e.getFullYear()))||!(e%100||e%400==0&&e))},getFirstDayOfMonth:function(e){return(e=(e.getDay()-(e.getDate()-1))%7)<0?7+e:e},getLastDayOfMonth:function(t){return e.getLastDateOfMonth(t).getDay()},getFirstDateOfMonth:function(e){return new n(e.getFullYear(),e.getMonth(),1)},getLastDateOfMonth:function(t){return new n(t.getFullYear(),t.getMonth(),e.getDaysInMonth(t))},getDaysInMonth:(t=[31,28,31,30,31,30,31,31,30,31,30,31],function(n){var r=n.getMonth();return 1===r&&e.isLeapYear(n)?29:t[r]}),getSuffix:function(e){switch(e.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(e){return new n(e.getTime())},isDST:function(e){return new n(e.getFullYear(),0,1).getTimezoneOffset()!==e.getTimezoneOffset()},clearTime:function(t,n){var r,i,o;if(isNaN(t.getTime()))return t;if(n)return e.clearTime(e.clone(t));if(r=t.getDate(),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.getDate()!==r){for(o=e.add(t,e.HOUR,i=1);o.getDate()!==r;o=e.add(t,e.HOUR,++i));t.setDate(r),t.setHours(o.getHours())}return t},add:function(t,n,r,i){var o,a,s=e.clone(t),l=0;if(!n||0===r)return s;if(a=r-parseInt(r,10),r=parseInt(r,10))switch(n.toLowerCase()){case e.MILLI:i?s.setMilliseconds(s.getMilliseconds()+r):s.setTime(s.getTime()+r);break;case e.SECOND:i?s.setSeconds(s.getSeconds()+r):s.setTime(s.getTime()+1e3*r);break;case e.MINUTE:i?s.setMinutes(s.getMinutes()+r):s.setTime(s.getTime()+60*r*1e3);break;case e.HOUR:i?s.setHours(s.getHours()+r):s.setTime(s.getTime()+60*r*60*1e3);break;case e.DAY:!1===i?s.setTime(s.getTime()+24*r*60*60*1e3):s.setDate(s.getDate()+r);break;case e.MONTH:28<(o=t.getDate())&&(o=Math.min(o,e.getLastDateOfMonth(e.add(e.getFirstDateOfMonth(t),e.MONTH,r)).getDate())),s.setDate(o),s.setMonth(t.getMonth()+r);break;case e.YEAR:28<(o=t.getDate())&&(o=Math.min(o,e.getLastDateOfMonth(e.add(e.getFirstDateOfMonth(t),e.YEAR,r)).getDate())),s.setDate(o),s.setFullYear(t.getFullYear()+r)}if(a){switch(n.toLowerCase()){case e.MILLI:l=1;break;case e.SECOND:l=1e3;break;case e.MINUTE:l=6e4;break;case e.HOUR:l=36e5;break;case e.DAY:l=864e5;break;case e.MONTH:l=864e5*(o=e.getDaysInMonth(s));break;case e.YEAR:l=864e5*(o=e.isLeapYear(s)?366:365)}l&&s.setTime(s.getTime()+l*a)}return s},subtract:function(t,n,r,i){return e.add(t,n,-r,i)},between:function(e,t,n){return e=e.getTime(),t.getTime()<=e&&e<=n.getTime()},isWeekend:function(e){return-1<ei.Z.Array.indexOf(this.weekendDays,e.getDay())},utcToLocal:function(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())},localToUtc:function(t){return e.utc(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())},utc:function(e,t,n,r,i,o,a){return new Date(Date.UTC(e,t,n,r||0,i||0,o||0,a||0))},compat:function(){for(var t,r,i,o=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],a=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],s=o.length,l=a.length,u=0;u<s;u++)n[r=o[u]]=e[r];for(t=0;t<l;t++)n.prototype[i=a[t]]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),e[i].apply(e,t)}},diff:function(t,n,r){var i,o=+n-t;switch(r){case e.MILLI:return o;case e.SECOND:return Math.floor(o/1e3);case e.MINUTE:return Math.floor(o/6e4);case e.HOUR:return Math.floor(o/36e5);case e.DAY:return Math.floor(o/864e5);case"w":return Math.floor(o/6048e5);case e.MONTH:return i=12*n.getFullYear()+n.getMonth()-(12*t.getFullYear()+t.getMonth()),e.add(t,r,i)>n?i-1:i;case e.YEAR:return i=n.getFullYear()-t.getFullYear(),e.add(t,r,i)>n?i-1:i}},align:function(t,r,i){var o=new n(+t);switch(r.toLowerCase()){case e.MILLI:return o;case e.SECOND:return o.setUTCSeconds(o.getUTCSeconds()-o.getUTCSeconds()%i),o.setUTCMilliseconds(0),o;case e.MINUTE:return o.setUTCMinutes(o.getUTCMinutes()-o.getUTCMinutes()%i),o.setUTCSeconds(0),o.setUTCMilliseconds(0),o;case e.HOUR:return o.setUTCHours(o.getUTCHours()-o.getUTCHours()%i),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMilliseconds(0),o;case e.DAY:return 7!==i&&14!==i||o.setUTCDate(o.getUTCDate()-o.getUTCDay()+1),o.setUTCHours(0),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMilliseconds(0),o;case e.MONTH:return o.setUTCMonth(o.getUTCMonth()-(o.getUTCMonth()-1)%i,1),o.setUTCHours(0),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMilliseconds(0),o;case e.YEAR:return o.setUTCFullYear(o.getUTCFullYear()-o.getUTCFullYear()%i,1,1),o.setUTCHours(0),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMilliseconds(0),t}},flexParse:function(t,n){var r,i,o,a=u.exec(t);if(!a)return ei.Z.Date.parse(t,"C");if(n=n||ei.Z.Date.defaultFormat,a[2]||a[4]){if(a[2]&&a[4])return null;a[2]?(i=e.monthNumbers[ei.Z.String.capitalize(a[2].substr(0,3))],r=parseInt(a[3])):(r=parseInt(a[1]),i=e.monthNumbers[ei.Z.String.capitalize(a[4].substr(0,3))]),o=parseInt(a[5])}else t=n[0],!h[t]&&(d[t]||12<a[1]&&a[3]<13)?(r=parseInt(a[1]),i=parseInt(a[3])-1,o=parseInt(a[5])):!h[t]&&(f[t]||12<a[3]&&a[1]<13)?(i=parseInt(a[1])-1,r=parseInt(a[3]),o=parseInt(a[5])):(o=parseInt(a[1]),i=parseInt(a[3])-1,r=parseInt(a[5]));return isNaN(i)||i<0||11<i?null:(o<e.y2kYear&&(o+=2e3),n=new Date(o,i,1,0,0,0),r<1||r>ei.Z.Date.getDaysInMonth(n)?null:(n.setDate(r),n))}}).parseCodes.C=e.parseCodes.c,e}(),ei.Z.Function=function(){function e(){var e,t,r,a=i.length;for(n=null,t=0;t<a;t++)e=(r=i[t])[3],s[e]&&(delete s[e],r[0].apply(r[1]||c,r[2]||o));i=i.slice(a)}function t(){ei.Z.elevate(e)}var n,r=0,i=[],o=[],a=0,s={},l=Array.prototype.slice,u=window,c=ei.Z.global,d=!ei.Z.disableImmediate&&!(!c.setImmediate||!c.clearImmediate),f=u.requestAnimationFrame||u.webkitRequestAnimationFrame||u.mozRequestAnimationFrame||u.oRequestAnimationFrame||function(e){var t=ei.Z.now(),n=Math.max(0,16-(t-r)),i=u.setTimeout((function(){e(t+n)}),n);return r=t+n,i},h={flexSetter:function(e){return function(t,n){var r,i;if(null!==t)if("string"!=typeof t){for(r in t)t.hasOwnProperty(r)&&e.call(this,r,t[r]);if(ei.Z.enumerables)for(i=ei.Z.enumerables.length;i--;)r=ei.Z.enumerables[i],t.hasOwnProperty(r)&&e.call(this,r,t[r])}else e.call(this,t,n);return this}},bind:function(e,t,n,r){if(arguments.length<=2)return e.bind(t);var i=e;return function(){var e=n||arguments;return!0===r?e=(e=l.call(arguments,0)).concat(n):"number"==typeof r&&(e=l.call(arguments,0),ei.Z.Array.insert(e,r,n)),i.apply(t||c,e)}},bindCallback:function(e,t,n,r,i){return function(){var o=l.call(arguments);return ei.Z.callback(e,t,n?n.concat(o):o,r,i)}},pass:function(e,t,n){return ei.Z.isArray(t)||(t=ei.Z.isIterable(t)?ei.Z.Array.clone(t):void 0!==t?[t]:[]),function(){var r=t.slice();return r.push.apply(r,arguments),e.apply(n||this,r)}},alias:function(e,t){return function(){return e[t].apply(e,arguments)}},clone:function(e){var t,n=function(){return e.apply(this,arguments)};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},createInterceptor:function(e,t,n,r){return ei.Z.isFunction(t)?(r=ei.Z.isDefined(r)?r:null,function(){var i=arguments;return!1!==t.apply(n||this||c,i)?e.apply(this||c,i):r}):e},createDelayed:function(e,t,n,r,i){var o=e;return(n||r)&&(o=ei.Z.Function.bind(e,n,r,i)),function(){var e=this,n=l.call(arguments);setTimeout((function(){ei.Z.elevate(o,e,n)}),t)}},defer:function(e,t,n,r,i){var o=0,a=n||r||i?ei.Z.Function.bind(e,n,r,i):e;return 0<t?o=setTimeout((function(){ei.Z.elevate(a)}),t):a(),o},interval:function(e,t,n,r,i){var o=ei.Z.Function.bind(e,n,r,i);return setInterval((function(){ei.Z.elevate(o)}),t)},createSequence:function(e,t,n){return t?function(){var r=e.apply(this,arguments);return t.apply(n||this,arguments),r}:e},createBuffered:function(e,t,n,r){var i;return function o(){var a=r||l.call(arguments,0),s=n||this;i&&ei.Z.undefer(i),o.timer=i=setTimeout((function(){ei.Z.elevate(e,s,a)}),t)}},createAnimationFrame:function(e,t,n,r){var i,o;return r=r||3,i=function(){var a=n||l.call(arguments,0);t=t||this,3===r&&o&&h.cancelAnimationFrame(o),(1&r||!o)&&(o=i.timerId=h.requestAnimationFrame((function(){o=i.timerId=null,e.apply(t,a)})))}},requestAnimationFrame:function(e,r,o){var u=++a,c=l.call(arguments,0);return c[3]=u,s[u]=1,i.push(c),n=n||f(t),u},cancelAnimationFrame:function(e){delete s[e]},createThrottled:function(e,t,n){function r(){e.apply(n,o),s=ei.Z.now(),o=a=null}var i,o,a,s=0;return function(){n=n||this,i=ei.Z.now()-s,o=ei.Z.Array.slice(arguments),t<=i?(ei.Z.undefer(a),r()):a=a||ei.Z.defer(r,t-i)}},createBarrier:function(e,t,n){return function(){--e||t.apply(n,arguments)}},interceptBefore:function(e,t,n,r){var i=e[t]||ei.Z.emptyFn;return e[t]=function(){var e=n.apply(r||this,arguments);return i.apply(this,arguments),e}},interceptAfter:function(e,t,n,r){var i=e[t]||ei.Z.emptyFn;return e[t]=function(){return i.apply(this,arguments),n.apply(r||this,arguments)}},interceptAfterOnce:function(e,t,n,r){var i=e[t],o=function(){var a;return i&&i.apply(this,arguments),a=n.apply(r||this,arguments),e[t]=i,e=t=n=r=i=o=null,a};return e[t]=o},makeCallback:function(e,t){return function(){return t[e].apply(t,arguments)}},memoize:function(e,t,n){var r={},i=n&&ei.Z.isFunction(n);return function(o){var a=i?n.apply(t,arguments):o;return a in r||(r[a]=e.apply(t,arguments)),r[a]}},toCode:function(e){return e?e.toString():""}};return ei.Z.asap=d?function(e,t,n){var r=e;return null==t&&null==n||(r=h.bind(e,t,n)),setImmediate((function(){ei.Z.elevate(r)}))}:function(e,t,n){var r=e;return null==t&&null==n||(r=h.bind(e,t,n)),setTimeout((function(){ei.Z.elevate(r)}),0,!0)},ei.Z.unasap=d?function(e){return e&&clearImmediate(e),null}:function(e){return ei.Z.undefer(e)},ei.Z.asapCancel=function(e){return ei.Z.unasap(e)},ei.Z.defer=h.defer,ei.Z.undefer=function(e){return e&&clearTimeout(e),null},ei.Z.interval=h.interval,ei.Z.uninterval=function(e){return e&&clearInterval(e),null},ei.Z.pass=h.pass,ei.Z.bind=h.bind,ei.Z.raf=function(){return h.requestAnimationFrame.apply(h,arguments)},ei.Z.unraf=function(e){h.cancelAnimationFrame(e)},h}(),ei.Z.Number=new function(){var e=this,t="1"!==.9.toFixed(),n=Math,r={count:!1,inclusive:!1,wrap:!0};ei.Z.apply(e,{MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,MAX_32BIT_INTEGER:n.pow(2,31)-1,floatRe:/^[-+]?(?:\d+|\d*\.\d*)(?:[Ee][+-]?\d+)?$/,intRe:/^[-+]?\d+(?:[Ee]\+?\d+)?$/,Clip:{DEFAULT:r,COUNT:ei.Z.applyIf({count:!0},r),INCLUSIVE:ei.Z.applyIf({inclusive:!0},r),NOWRAP:ei.Z.applyIf({wrap:!1},r)},parseFloat:function(t){return null!==(t=void 0===t?null:t)&&"number"!=typeof t&&(t=String(t),t=e.floatRe.test(t)?+t:null,isNaN(t)&&(t=null)),t},parseInt:function(t){return"number"==typeof(t=void 0===t?null:t)?t=Math.floor(t):null!==t&&(t=String(t),t=e.intRe.test(t)?+t:null),t},binarySearch:function(e,t,n,r){var i,o;for(void 0===n&&(n=0),void 0===r&&(r=e.length),--r;n<=r;){if(t===(o=e[i=n+r>>>1]))return i;o<t?n=1+i:r=i-1}return n},bisectTuples:function(e,t,n,r,i){var o,a;for(void 0===r&&(r=0),void 0===i&&(i=e.length),--i;r<=i;){if(t===(a=e[o=r+i>>>1][n]))return o;a<t?r=1+o:i=o-1}return r},clipIndices:function(e,t,n){var i,o,a,s=0,l=(n=n||r).wrap;for(t=t||[],a=0;a<2;++a)i=o,o=null==(o=t[a])?s:a&&n.count?e<(o+=i)?e:o:(l&&(o=o<0?e+o:o),a&&n.inclusive&&++o,o<0?0:e<o?e:o),s=e;return t[0]=i,t[1]=o<i?i:o,t},constrain:function(e,t,n){var r=parseFloat(e);return null===n&&(n=e),r<(t=null===t?e:t)?t:n<r?n:r},snap:function(t,n,r,i){var o;return void 0===t||t<r?r||0:(n&&0!=(o=t%n)&&(t-=o,n<=2*o?t+=n:2*o<-n&&(t-=n)),e.constrain(t,r,i))},snapInRange:function(t,n,r,i){var o;return r=r||0,void 0===t||t<r?r:(n&&(o=(t-r)%n)&&(t-=o,n<=(o*=2)&&(t+=n)),void 0!==i&&t>(i=e.snapInRange(i,n,r))?i:t)},roundToNearest:function(e,t){return(t=t||1)*n.round(e/t)},roundToPrecision:function(e,t){return t=n.pow(10,t||1),n.round(e*t)/t},truncateToPrecision:function(e,t){return t=n.pow(10,t||1),parseInt(e*t,10)/t},sign:n.sign||function(e){return 0===(e=+e)||isNaN(e)?e:0<e?1:-1},log10:n.log10||function(e){return n.log(e)*n.LOG10E},isEqual:function(e,t,r){return n.abs(e-t)<r},isFinite:Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},isInteger:Number.isInteger||function(e){return~~(e+0)===e},toFixed:t?function(e,t){var r=n.pow(10,t=t||0);return(n.round(e*r)/r).toFixed(t)}:function(e,t){return e.toFixed(t)},from:function(e,t){return isFinite(e)&&(e=parseFloat(e)),isNaN(e)?t:e},randomInt:function(e,t){return n.floor(n.random()*(t-e+1)+e)},correctFloat:function(e){return parseFloat(e.toPrecision(14))}}),ei.Z.num=function(){return e.from.apply(this,arguments)}},function(){function e(){}var t,n=/^\?/,r=/(\[):?([^\]]*)\]/g,i=/^([^\[]+)/,o=/\+/g;function a(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n]!==t[n])return!1;return!0}t=ei.Z.Object={chain:Object.create||function(t){return e.prototype=t,t=new e,e.prototype=null,t},clear:function(e){for(var t in e)delete e[t];return e},freeze:Object.freeze?function(e,n){if(e&&"object"==typeof e&&!Object.isFrozen(e)&&(Object.freeze(e),n))for(var r in e)t.freeze(e[r],n);return e}:ei.Z.identityFn,toQueryObjects:function(e,n,r){var i,o,a=t.toQueryObjects,s=[];if(ei.Z.isArray(n))for(i=0,o=n.length;i<o;i++)r?s=s.concat(a(e+"["+i+"]",n[i],!0)):s.push({name:e,value:n[i]});else if(ei.Z.isObject(n))for(i in n)n.hasOwnProperty(i)&&(r?s=s.concat(a(e+"["+i+"]",n[i],!0)):s.push({name:e,value:n[i]}));else s.push({name:e,value:n});return s},toQueryString:function(e,n){var r,i,o,a,s,l=[],u=[];for(r in e)e.hasOwnProperty(r)&&(l=l.concat(t.toQueryObjects(r,e[r],n)));for(i=0,o=l.length;i<o;i++)s=(a=l[i]).value,ei.Z.isEmpty(s)?s="":ei.Z.isDate(s)&&(s=ei.Z.Date.toString(s)),u.push(encodeURIComponent(a.name)+"="+encodeURIComponent(String(s)));return u.join("&")},fromQueryString:function(e,t){for(var a,s,l,u,c,d,f,h,p,g,m=e.replace(n,"").split("&"),v={},y=0,b=m.length;y<b;y++)if(0<(u=m[y]).length)if(s=(s=(u=u.split("="))[0]).replace(o,"%20"),s=decodeURIComponent(s),l=void 0!==(l=u[1])?(l=l.replace(o,"%20"),decodeURIComponent(l)):"",t)if(f=s.match(r),s=s.match(i)[0],h=[],null===f)v[s]=l;else{for(c=0,d=f.length;c<d;c++)p=2===(p=f[c]).length?"":p.substring(1,p.length-1),h.push(p);for(h.unshift(s),a=v,c=0,d=h.length;c<d;c++)p=h[c],c===d-1?ei.Z.isArray(a)&&""===p?a.push(l):a[p]=l:(void 0!==a[p]&&"string"!=typeof a[p]||(g=h[c+1],a[p]=ei.Z.isNumeric(g)||""===g?[]:{}),a=a[p])}else v.hasOwnProperty(s)?(ei.Z.isArray(v[s])||(v[s]=[v[s]]),v[s].push(l)):v[s]=l;return v},each:function(e,t,n){var r,i,o=ei.Z.enumerables;if(e){for(i in n=n||e,e)if(e.hasOwnProperty(i)&&!1===t.call(n,i,e[i],e))return;if(o)for(r=o.length;r--;)if(e.hasOwnProperty(i=o[r])&&!1===t.call(n,i,e[i],e))return}},eachValue:function(e,t,n){var r,i,o=ei.Z.enumerables;for(i in n=n||e,e)if(e.hasOwnProperty(i)&&!1===t.call(n,e[i]))return;if(o)for(r=o.length;r--;)if(e.hasOwnProperty(i=o[r])&&!1===t.call(n,e[i]))return},merge:function(e){for(var n,r,i,o,a=1,s=arguments,l=s.length,u=t.merge,c=ei.Z.clone;a<l;a++)for(r in n=s[a])(i=n[r])&&i.constructor===Object?(o=e[r])&&o.constructor===Object?u(o,i):e[r]=c(i):e[r]=i;return e},mergeIf:function(e){for(var t,n,r,i=1,o=arguments.length,a=ei.Z.clone;i<o;i++)for(n in t=arguments[i])n in e||((r=t[n])&&r.constructor===Object?e[n]=a(r):e[n]=r);return e},getAllKeys:function(e){var t,n=[];for(t in e)n.push(t);return n},getKey:function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t)return n;return null},getValues:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(e[t]);return n},getKeys:"function"==typeof Object.keys?function(e){return e?Object.keys(e):[]}:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n},getSize:function(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n},isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},equals:function(e,t){return e===t||(e&&t?a(e,t)&&a(t,e):!e&&!t&&e===t)},fork:function(e){var n,r,i;if(e&&e.constructor===Object)for(r in n=t.chain(e),e)(i=e[r])&&(i.constructor===Object?n[r]=t.fork(i):i instanceof Array&&(n[r]=ei.Z.Array.clone(i)));else n=e;return n},defineProperty:"defineProperty"in Object?Object.defineProperty:function(e,t,n){Object.prototype.__defineGetter__&&(n.get&&e.__defineGetter__(t,n.get),n.set&&e.__defineSetter__(t,n.set))},classify:function(e){var n,r,i=e,o=[],a={},s=function(){for(var e,t=0,n=o.length;t<n;t++)this[e=o[t]]=new a[e]};for(n in e)e.hasOwnProperty(n)&&(r=e[n])&&r.constructor===Object&&(o.push(n),a[n]=t.classify(r));return s.prototype=i,s}},ei.Z.merge=ei.Z.Object.merge,ei.Z.mergeIf=ei.Z.Object.mergeIf}(),ei.Z.apply(ei.Z,{_namedScopes:{this:{isThis:1},controller:{isController:1},owner:{isOwner:1},up:{isUp:1},self:{isSelf:1},"self.controller":{isSelf:1,isController:1}},scrollbar:{_size:null,size:function(e){var t,n,r=ei.Z.scrollbar,i=r._size;return!e&&i||(e=document.body,(t=document.createElement("div")).style.width=t.style.height="100px",t.style.overflow="scroll",t.style.position="absolute",e.appendChild(t),r._size=i={width:r=t.offsetWidth-t.clientWidth,height:n=t.offsetHeight-t.clientHeight},i.reservedWidth=r?"calc(100% - "+r+"px)":"",i.reservedHeight=n?"calc(100% - "+n+"px)":"",e.removeChild(t)),i},height:function(e){return ei.Z.scrollbar.size(e).height},width:function(e){return ei.Z.scrollbar.size(e).width}},escapeId:function(){function e(e,t){return"\\"+t}function t(e,t){return"\\00"+t.charCodeAt(0).toString(16)+" "}var n=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,r=/([\W]{1})/g,i=/^(\d)/g;return function(o){return n.test(o)?o:o.replace(r,e).replace(i,t)}}(),lookUpFn:function(e,t){for(var n,r=e.up();r&&!r[t];r=r.up())if((n=r.controller)&&n[t]){r=n;break}return r},callback:function(e,t,n,r,i,o){var a,s;if(e)return a=t in ei.Z._namedScopes,e.charAt?("."===e[2]?t=ei.Z.lookUpFn(i,e=e.substr(3)):i&&(a&&a.isUp?t=ei.Z.lookUpFn(i,e):t&&!a||(t=i.resolveListenerScope(a?t:o))),e=t[e]):t=a?o||i:t||i,e&&ei.Z.isFunction(e)&&(t=t||ei.Z.global,r?ei.Z.defer(e,r,t,n):s=n?e.apply(t,n):e.call(t)),s},coerce:function(e,t){var n="string"==typeof e;if(ei.Z.typeOf(e)!==(t=ei.Z.typeOf(t)))switch(t){case"string":return String(e);case"number":return Number(e);case"boolean":return!(n&&(!e||"false"===e||"0"===e))&&Boolean(e);case"null":return n&&(!e||"null"===e)&&null;case"undefined":return n&&(!e||"undefined"===e)&&void 0;case"date":return n&&isNaN(e)?ei.Z.Date.parse(e,ei.Z.Date.defaultFormat):Date(Number(e))}return e},copyTo:function(e,t,n,r){for(var i,o=0,a=(n="string"==typeof n?n.split(ei.Z.propertyNameSplitRe):n)?n.length:0;o<a;o++)i=n[o],(r||t.hasOwnProperty(i))&&(e[i]=t[i]);return e},copy:function(e,t,n,r){for(var i,o=0,a=(n="string"==typeof n?n.split(ei.Z.propertyNameSplitRe):n)?n.length:0;o<a;o++)i=n[o],(t.hasOwnProperty(i)||r&&i in t)&&(e[i]=t[i]);return e},propertyNameSplitRe:/[,;\s]+/,copyToIf:function(e,t,n){for(var r,i=0,o=(n="string"==typeof n?n.split(ei.Z.propertyNameSplitRe):n)?n.length:0;i<o;i++)void 0===e[r=n[i]]&&(e[r]=t[r]);return e},copyIf:function(e,t,n){for(var r,i=0,o=(n="string"==typeof n?n.split(ei.Z.propertyNameSplitRe):n)?n.length:0;i<o;i++)!((r=n[i])in e)&&r in t&&(e[r]=t[r]);return e},extend:function(){function e(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}var t=Object.prototype.constructor;return function(n,r,i){function o(){}ei.Z.isObject(r)&&(i=r,r=n,n=i.constructor!==t?i.constructor:function(){r.apply(this,arguments)});var a,s=r.prototype;return o.prototype=s,(((a=n.prototype=new o).constructor=n).superclass=s).constructor===t&&(s.constructor=r),n.override=function(e){ei.Z.override(n,e)},a.override=e,a.proto=a,n.override(i),n.extend=function(e){return ei.Z.extend(n,e)},n}}(),isOnline:function(){return ei.Z.global.navigator.onLine},iterate:function(e,t,n){ei.Z.isEmpty(e)||(void 0===n&&(n=e),ei.Z.isIterable(e)?ei.Z.Array.each.call(ei.Z.Array,e,t,n):ei.Z.Object.each.call(ei.Z.Object,e,t,n))},_resourcePoolRe:/^[<]([^<>@:]*)(?:[@]([^<>@:]+))?[>](.+)$/,resolveResource:function(e){var t=e;return e&&"<"===e.charAt(0)&&(e=ei.Z._resourcePoolRe.exec(e))?ei.Z.getResourcePath(e[3],e[1],e[2]):t},urlEncode:function(){var e=ei.Z.Array.from(arguments),t="";return ei.Z.isString(e[1])&&(t=e[1]+"&",e[1]=!1),t+ei.Z.Object.toQueryString.apply(ei.Z.Object,e)},urlDecode:function(){return ei.Z.Object.fromQueryString.apply(ei.Z.Object,arguments)},getScrollbarSize:function(e){return ei.Z.scrollbar.size(e)},typeOf:function(){var e=/\S/,t=Object.prototype.toString,n={number:1,string:1,boolean:1,undefined:1},r={"[object Array]":"array","[object Date]":"date","[object Boolean]":"boolean","[object Number]":"number","[object RegExp]":"regexp"};return function(i){if(null===i)return"null";var o,a,s=typeof i;return n[s]?s:(o=r[a=t.call(i)])?o:"function"==s?"function":"object"==s?void 0!==i.nodeType?3===i.nodeType?e.test(i.nodeValue)?"textnode":"whitespace":"element":"object":a}}(),factory:function(e,t,n,r){var i,o=ei.Z.ClassManager;if(!e||e.isInstance)return n&&n!==e&&n.destroy(),e;if(r){if("string"==typeof e)return o.instantiateByAlias(r+"."+e);if(ei.Z.isObject(e)&&"type"in e)return o.instantiateByAlias(r+"."+e.type,e)}return!0===e?n||ei.Z.create(t):("xtype"in e?i=o.instantiateByAlias("widget."+e.xtype,e):"xclass"in e&&(i=ei.Z.create(e.xclass,e)),i?(n&&n.destroy(),i):n?n.setConfig(e):ei.Z.create(t,e))},convertKeyedItems:function(e,t,n){if(e&&!e.isInstance&&ei.Z.isObject(e)){var r,i,o,a=e;if(e=[],a.xtype||a.xclass||a.itemId||a.id)e.push(a);else for(i in a)(r=a[i])&&(!0===r?r={}:"function"==typeof r?(o=r,(r={})[n]=o):"string"==typeof r?(o=r,(r={})[t||"xtype"]=o):r=ei.Z.apply({},r),r.itemId=i,e.push(r))}return e},sortByWeight:function(e){e&&ei.Z.Array.sort(e,ei.Z.weightSortFn)},weightSortFn:function(e,t){return(e.weight||0)-(t.weight||0)},concat:function(e,t){var n=null==t,r=ei.Z.emptyArray;return null==e?n?e:r.concat(t):n?r.concat(e):r.concat(e,t)},log:function(){function e(){}return e.info=e.warn=e.error=ei.Z.emptyFn,e}()}),function(){var e,t=[""],n=/([^\d.])/,r=/[^\d]/g,i=/[-+]/g,o=/\s/g,a=/_/g,s={classic:1,modern:1};ei.Z.Version=e=function(t,o){var s,l,u,c,d,f=this,h=f.padModes;t.isVersion&&(t=t.version),f.version=d=String(t).toLowerCase().replace(a,".").replace(i,""),l=(l=d.charAt(0))in h?(d=d.substring(1),h[l]):o?h[o]:0,f.pad=l,h=d.search(n),f.shortVersion=d,-1!==h&&(f.release=c=d.substr(h,t.length),f.shortVersion=d.substr(0,h),c=e.releaseValueMap[c]||c),f.releaseValue=c||l,f.shortVersion=f.shortVersion.replace(r,""),f.parts=u=d.split(".");for(s=u.length;s--;)u[s]=parseInt(u[s],10);return l===1/0&&u.push(l),f.major=u[0]||l,f.minor=u[1]||l,f.patch=u[2]||l,f.build=u[3]||l,f},e.prototype={isVersion:!0,padModes:{"~":NaN,"^":1/0},release:"",compareTo:function(t){for(var n,r,i=this,o=i.pad,a=i.parts,s=a.length,l=(t=t.isVersion?t:new e(t)).pad,u=t.parts,c=u.length,d=Math.max(s,c),f=0;f<d;f++){if((n=f<s?a[f]:o)<(r=f<c?u[f]:l))return-1;if(r<n)return 1}return(n=i.releaseValue)<(r=t.releaseValue)?-1:r<n?1:0},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major},getMinor:function(){return this.minor},getPatch:function(){return this.patch},getBuild:function(){return this.build},getRelease:function(){return this.release},getReleaseValue:function(){return this.releaseValue},isGreaterThan:function(e){return 0<this.compareTo(e)},isGreaterThanOrEqual:function(e){return 0<=this.compareTo(e)},isLessThan:function(e){return this.compareTo(e)<0},isLessThanOrEqual:function(e){return this.compareTo(e)<=0},equals:function(e){return 0===this.compareTo(e)},match:function(e){return e=String(e),this.version.substr(0,e.length)===e},toArray:function(){var e=this;return[e.getMajor(),e.getMinor(),e.getPatch(),e.getBuild(),e.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(e){return 0<this.compareTo(e)},lt:function(e){return this.compareTo(e)<0},gtEq:function(e){return 0<=this.compareTo(e)},ltEq:function(e){return this.compareTo(e)<=0}},ei.Z.apply(e,{aliases:{from:{extjs:"ext",core:"core",touch:"modern"},to:{ext:["extjs"],core:["core"],modern:["touch"]}},releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(e){return e?isNaN(e)?this.releaseValueMap[e]||e:parseInt(e,10):0},compare:function(t,n){return(t.isVersion?t:new e(t)).compareTo(n)},set:function(t,n,r){var i,o=e.aliases.to[n],a=r.isVersion?r:new e(r);if(t[n]=a,o)for(i=o.length;0<i--;)t[o[i]]=a;return a}}),ei.Z.apply(ei.Z,{compatVersions:{},versions:{},lastRegisteredVersion:null,getCompatVersion:function(t){var n=ei.Z.compatVersions;return(n=t?n[e.aliases.from[t]||t]:n.ext||n.touch||n.core)||ei.Z.getVersion(t)},setCompatVersion:function(t,n){e.set(ei.Z.compatVersions,t,n)},setVersion:function(t,n){return t in s&&(ei.Z.toolkit=t),ei.Z.lastRegisteredVersion=e.set(ei.Z.versions,t,n),this},getVersion:function(t){var n=ei.Z.versions;return t?n[e.aliases.from[t]||t]:n.ext||n.touch||n.core},checkVersion:function(n,r){var i,a,s,l,u,c,d,f,h=ei.Z.isArray(n),p=e.aliases.from,g=h?n:t,m=g.length,v=ei.Z.versions,y=v.ext||v.touch;for(h||(t[0]=n),i=0;i<m;++i){if(ei.Z.isString(c=g[i])){if((a=(c=0<=c.indexOf(" ")?c.replace(o,""):c).indexOf("@"))<0)d=c,f=y;else{if(!(f=v[p[u=c.substring(0,a)]||u])){if(r)return!1;continue}d=c.substring(a+1)}(a=d.indexOf("-"))<0?"+"===d.charAt(a=d.length-1)?(s=d.substring(0,a),l=null):s=l=d:(s=0<a?d.substring(0,a):null,l=d.substring(a+1)),u=!0,(u=s?(s=new e(s,"~")).ltEq(f):u)&&l&&(u=(l=new e(l,"~")).gtEq(f))}else u=ei.Z.checkVersion(c.and||c.or,!c.or),c.not&&(u=!u);if(u){if(!r)return!0}else if(r)return!1}return!!r},deprecate:function(t,n,r,i){e.compare(ei.Z.getVersion(t),n)<1&&r.call(i)}})}(),function(e){var t,n,r=e&&e.packages||{},i=e&&e.compatibility;for(t in r)(n=r[t])&&n.version&&ei.Z.setVersion(t,n.version);if(i)if(ei.Z.isString(i))ei.Z.setCompatVersion("core",i);else for(t in i)ei.Z.setCompatVersion(t,i[t]);r.ext||r.touch||(ei.Z.setVersion("ext","7.4.0.42"),ei.Z.setVersion("core","7.4.0.42"))}(ei.Z.manifest),ei.Z.Config=function(e){var t=this,n=e.charAt(0).toUpperCase()+e.substr(1);t.name=e,t.names={internal:"_"+e,initializing:"is"+n+"Initializing",apply:"apply"+n,update:"update"+n,get:"get"+n,set:"set"+n,initGet:"initGet"+n,changeEvent:e.toLowerCase()+"change"},t.root=t},ei.Z.Config.map={},ei.Z.Config.get=function(e){var t=ei.Z.Config.map;return t[e]||(t[e]=new ei.Z.Config(e))},ei.Z.Config.prototype={self:ei.Z.Config,isConfig:!0,combine:function(e,t,n,r){return this.merge?e=this.merge(r?ei.Z.clone(e):e,t,n):e&&e.constructor===Object&&t&&t.constructor===Object?e=ei.Z.merge({},t,e):r&&e&&(e=ei.Z.clone(e)),e},equals:function(e,t){return e===t},getGetter:function(){return this.getter||(this.root.getter=this.makeGetter())},getInitGetter:function(){return this.initGetter||(this.root.initGetter=this.makeInitGetter())},getSetter:function(){return this.setter||(this.root.setter=this.makeSetter())},getEventedSetter:function(){return this.eventedSetter||(this.root.eventedSetter=this.makeEventedSetter())},getInternalName:function(e){return e.$configPrefixed?this.names.internal:this.name},mergeNew:function(e,t,n,r){var i,o;if(t)if(e)for(o in i=ei.Z.Object.chain(t),e)r&&o in i||(i[o]=e[o]);else i=t;else i=e;return i},mergeSets:function(e,t,n){var r,i,o=t?ei.Z.Object.chain(t):{};if(e instanceof Array)for(r=e.length;r--;)i=e[r],n&&i in o||(o[i]=!0);else if(e)if(e.constructor===Object)for(r in e)i=e[r],n&&r in o||(o[r]=i);else n&&e in o||(o[e]=!0);return o},makeGetter:function(){var e=this.name,t=this.names.internal;return function(){return this[this.$configPrefixed?t:e]}},makeInitGetter:function(){var e=this.name,t=this.names,n=t.set,r=t.get,i=t.initializing;return function(){var t=this;return t[i]=!0,delete t[r],t[n](t.config[e]),delete t[i],t[r].apply(t,arguments)}},makeSetter:function(){var e=this.name,t=(o=this.names).internal,n=o.get,r=o.apply,i=o.update,o=function(o){var a=this,s=a.$configPrefixed?t:e,l=a[s];return delete a[n],a[r]&&void 0===(o=a[r](o,l))||o!==(l=a[s])&&(a[s]=o,a[i]&&a[i](o,l),(o=a.$configWatch)&&!a.isConfiguring&&o.fire(e,[a,e,a[s],l])),a};return o.$isDefault=!0,o},makeEventedSetter:function(){function e(e,n,r,i){e[i]=n,e[o]&&e[o](n,r),(i=e.$configWatch)&&i.fire(t,[e,t,n,r])}var t=this.name,n=(s=this.names).internal,r=s.get,i=s.apply,o=s.update,a=s.changeEvent,s=function(s){var l=this,u=l.$configPrefixed?n:t,c=l[u];return delete l[r],l[i]&&void 0===(s=l[i](s,c))||s!==(c=l[u])&&(l.isConfiguring?(l[u]=s,l[o]&&l[o](s,c)):l.fireEventedAction(a,[l,s,c],e,l,[l,s,c,u])),l};return s.$isDefault=!0,s}},function(){var e=ei.Z.Config,t=e.map,n=ei.Z.Object;ei.Z.Configurator=function(e){var t=this,r=e.prototype,i=e.superclass?e.superclass.self.$config:null;t.cls=e,(t.superCfg=i)?(t.configs=n.chain(i.configs),t.cachedConfigs=n.chain(i.cachedConfigs),t.initMap=n.chain(i.initMap),t.values=n.chain(i.values),t.needsFork=i.needsFork):(t.configs={},t.cachedConfigs={},t.initMap={},t.values={}),r.config=r.defaultConfig=t.values,e.$config=t},ei.Z.Configurator.prototype={self:ei.Z.Configurator,needsFork:!1,initList:null,add:function(t,n){var r,i,o,a,s,l,u,c,d=this,f=d.cls,h=d.configs,p=d.cachedConfigs,g=d.initMap,m=f.prototype,v=n&&n.$config.configs,y=d.values;for(s in t){if(i=!1,(r=(u=(c=t[s])&&c.constructor===Object)&&"$value"in c?c:null)&&(i=!!r.cached,u=(c=r.$value)&&c.constructor===Object),l=r&&r.merge,o=h[s]){if(n){if(!(l=o.merge))continue;r=null}else l=l||o.merge;a=y[s],l?c=l.call(o,c,a,f,n):u&&a&&a.constructor===Object&&(c=ei.Z.merge({},a,c))}else v?(o=v[s],r=null):o=e.get(s),((h[s]=o).cached||i)&&(p[s]=!0),m[u=(l=o.names).get]||(m[u]=o.getter||o.getGetter()),m[u=l.set]||(m[u]=r&&r.evented?o.eventedSetter||o.getEventedSetter():o.setter||o.getSetter());r&&(o.owner!==f&&(h[s]=o=ei.Z.Object.chain(o),o.owner=f),ei.Z.apply(o,r),delete o.$value),!d.needsFork&&c&&(c.constructor===Object||c instanceof Array)&&(d.needsFork=!0),null!==c?g[s]=!0:(m.$configPrefixed?m[h[s].names.internal]=null:m[h[s].name]=null,s in g&&(g[s]=!1)),y[s]=c}},configure:function(e,t){var r,i,o,a,s,l,u,c,d,f,h,p,g=this,m=g.configs,v=g.initMap,y=g.initListMap,b=g.initList,C=g.cls.prototype,S=g.values,x=0,I=!b;S=g.needsFork?n.fork(S):n.chain(S);if(e.isConfiguring=!0,I)for(c in g.initList=b=[],g.initListMap=y={},e.isFirstInstance=!0,v)f=(i=m[c]).cached,v[c]?(u=i.names,d=S[c],!C[u.set].$isDefault||C[u.apply]||C[u.update]||"object"==typeof d?(f?(r=r||[]).push(i):(b.push(i),y[c]=!0),e[u.get]=i.initGetter||i.getInitGetter()):C[i.getInternalName(C)]=d):f&&(C[i.getInternalName(C)]=void 0);if(l=r&&r.length){for(a=0;a<l;++a)e[s=r[a].getInternalName(C)]=null;for(a=0;a<l;++a)o=(u=(i=r[a]).names).get,e.hasOwnProperty(o)&&(e[u.set](S[i.name]),delete e[o]);for(a=0;a<l;++a)C[s=r[a].getInternalName(C)]=e[s],delete e[s]}for(t&&t.platformConfig&&(t=g.resolvePlatformConfig(e,t)),I&&e.afterCachedConfig&&!e.afterCachedConfig.$nullFn&&e.afterCachedConfig(t),e.config=S,a=0,l=b.length;a<l;++a)e[(i=b[a]).names.get]=i.initGetter||i.getInitGetter();if(!(p=e.self.$configTransforms)){for(c in e.self.$configTransforms=p=[],l=e.$configTransforms)p.push([c,l[c]]);if(1<(l=p.length))for(p.sort(g.transformSorter),a=0;a<l;++a)p[a]=p[a][0];else l&&(p[0]=p[0][0])}for(a=0;a<p.length;++a)e[c=p[a]]&&(t=e[c](t,g));if(t)for(c in t)d=t[c],(i=m[c])?(i.lazy||++x,y[c]||(e[i.names.get]=i.initGetter||i.getInitGetter()),h=S[c],i.merge?d=i.merge(d,h,e):d&&d.constructor===Object&&(d=h&&h.constructor===Object?ei.Z.merge(S[c],d):ei.Z.clone(d,!1))):e[c]=d,S[c]=d;if(!e.beforeInitConfig||e.beforeInitConfig.$nullFn||!1!==e.beforeInitConfig(t)){if(t)for(c in t){if(!x)break;(i=m[c])&&!i.lazy&&(--x,o=(u=i.names).get,e.hasOwnProperty(o)&&(e[u.set](S[c]),delete e[u.get]))}for(a=0,l=b.length;a<l;++a)o=(u=(i=b[a]).names).get,!i.lazy&&e.hasOwnProperty(o)&&(e[u.set](S[i.name]),delete e[o]);delete e.isConfiguring}},getCurrentConfig:function(e){var n,r={};for(n in e.defaultConfig)r[n]=e[t[n].names.get]();return r},hoistConfigs:function(e,t,n){for(var r,i,o=e.config,a=this.configs,s=this.initListMap,l=!1,u=0;u<n.length;++u)i=n[u],t&&i in t&&(r=a[i],o[i]=r.combine(t[i],o[i],e),s[i]||(e[r.names.get]=r.initGetter||r.getInitGetter())),null!=o[i]&&(l=!0);return l},merge:function(e,t,n,r){var i,o,a,s,l=this.configs;for(i in r&&(t=ei.Z.clone(t,!1)),n)o=n[i],(s=l[i])&&(a=t[i],s.merge?o=s.merge(o,a,e):o&&o.constructor===Object&&(o=a&&a.constructor===Object?ei.Z.merge(a,o):ei.Z.clone(o,!1))),t[i]=o;return t},reconfigure:function(e,n,r){var i,o,a,s,l,u,c,d=e.config,f=[],h=e.$configStrict&&!(r&&!1===r.strict),p=this.configs,g=r&&r.defaults;for(l in n)if(i=p[l],!g||!e.hasOwnProperty(i&&e.$configPrefixed?i.names.internal:l)){if(d[l]=n[l],i)e[i.names.get]=i.initGetter||i.getInitGetter();else if(c=e.self.prototype[l],h&&"function"==typeof c&&!c.$nullFn)continue;f.push(l)}for(a=0,s=f.length;a<s;a++)(i=p[l=f[a]])?(o=(u=i.names).get,e.hasOwnProperty(o)&&(e[u.set](n[l]),delete e[o])):e[(u=(i=t[l]||ei.Z.Config.get(l)).names).set]?e[u.set](n[l]):e[l]=n[l]},resolvePlatformConfig:function(e,t){var n,r,i,o=t&&t.platformConfig,a=t;if(o&&(r=ei.Z.getPlatformConfigKeys(o)).length)for(a=ei.Z.merge({},a),n=0,i=r.length;n<i;++n)this.merge(e,a,o[r[n]]);return a},transformSorter:function(e,t){return e[1]-t[1]}}}(),ei.Z.Base=function(e){function t(e,n){return e.hasOwnProperty(n)||(e[n]=ei.Z.Object.chain(t(e.superclass,n))),e[n]}function n(){}var r,i,o=[],a=[],s=ei.Z.Version,l=/^\d/,u={},c={},d=n.prototype;for(r in ei.Z.Reaper=i={delay:100,queue:[],timer:null,add:function(e){i.timer||(i.timer=ei.Z.defer(i.tick,i.delay)),i.queue.push(e)},flush:function(){i.timer&&(ei.Z.undefer(i.timer),i.timer=null);var e,t,n=i.queue,r=n.length;for(i.queue=[],e=0;e<r;++e)(t=n[e])&&t.$reap&&t.$reap()},tick:function(){i.timer=null,i.flush()}},ei.Z.apply(n,{$className:"GRUI.Base",$isClass:!0,create:function(){return ei.Z.create.apply(ei.Z,[this].concat(Array.prototype.slice.call(arguments,0)))},addConfigTransform:function(e,n){t(this.prototype,"$configTransforms")[e]=n},addDeprecations:function(e){var t,n,r,i,o,a,u,c,d,f,h,p,g=this,m=[],v=ei.Z.getCompatVersion(e.name);for(n in e)l.test(n)&&((p=new ei.Z.Version(n)).deprecations=e[n],m.push(p));for(m.sort(s.compare),r=m.length;r--&&(t=(p=m[r]).deprecations,i=g.prototype,h=t.statics,o=v&&v.lt(p));)for(;t;){if(c=t.methods)for(d in c)u=null,(f=c[d])&&(ei.Z.isString(f)?o&&(u=function(e){return function(){return this[e].apply(this,arguments)}}(f)):((f.message||f.fn)&&(f=f.fn),a=i.hasOwnProperty(d)&&i[d],o&&f&&(f.$owner=g,f.$name=d,a&&(f.$previous=a),u=f))),u&&(i[d]=u);t=h,h=null,i=g}},extend:function(e){var t,n=this,r=e.prototype,i=n.prototype=ei.Z.Object.chain(r);if((i.self=n).superclass=i.superclass=r,!e.$isClass)for(t in d)t in i&&(i[t]=d[t]);if(r=r.$inheritableStatics)for(t in r)n.hasOwnProperty(t)||(n[t]=e[t]);e.$onExtended&&(n.$onExtended=e.$onExtended.slice()),n.getConfigurator()},$onExtended:[],triggerExtended:function(){var e,t,n=this.$onExtended,r=n.length;if(0<r)for(e=0;e<r;e++)(t=n[e]).fn.apply(t.scope||this,arguments)},onExtended:function(e,t){return this.$onExtended.push({fn:e,scope:t}),this},addStatics:function(e){return this.addMembers(e,!0),this},addInheritableStatics:function(e){var t,n,r,i=this,o=i.prototype,a=i.$inheritableStatics;for(t in a||(a=ei.Z.apply({},o.$inheritableStatics),i.$inheritableStatics=o.$inheritableStatics=a),e)e.hasOwnProperty(t)&&(n=e[t],"function"!=typeof(r=i[t])||r.$isClass||r.$nullFn||(n.$previous=r),i[t]=n,a[t]=!0);return i},addMembers:function(e,t,n){var r,i,o,a,s,l,u=this,c=ei.Z.Function.clone,d=t?u:u.prototype,f=!t&&d.defaultConfig,h=ei.Z.enumerables,p=e.privates;for(s in p&&(delete e.privates,t||(l=p.statics,delete p.statics),u.addMembers(p,t,void 0),l&&u.addMembers(l,!0,void 0)),e)if(e.hasOwnProperty(s)){if("function"!=typeof(a=e[s])||a.$isClass||a.$nullFn){if(f&&s in f&&!d.config.hasOwnProperty(s)){(r=r||{})[s]=a;continue}}else a.$owner&&(a=c(a)),d.hasOwnProperty(s)&&(a.$previous=d[s]),a.$owner=u,a.$name=s;d[s]=a}if(r&&u.addConfig(r),h)for(i=0,o=h.length;i<o;++i)e.hasOwnProperty(s=h[i])&&((a=e[s])&&!a.$nullFn&&((a=a.$owner?c(a):a).$owner=u,a.$name=s,d.hasOwnProperty(s)&&(a.$previous=d[s])),d[s]=a);return this},addMember:function(e,t,n){return u[e]=t,this.addMembers(u,!1,n),delete u[e],this},hookMember:function(e,t){var n=this.prototype[e];return this.addMember(e,t,n&&n.$privacy)},borrow:function(e,t){for(var n,r=e.prototype,i={},o=0,a=(t=ei.Z.Array.from(t)).length;o<a;o++)i[n=t[o]]=r[n];return this.addMembers(i)},override:function(e){var t=this,n=e.statics,r=e.inheritableStatics,i=e.config,o=e.mixins,a=e.cachedConfig;return(n||r||i)&&(e=ei.Z.apply({},e)),n&&(t.addMembers(n,!0),delete e.statics),r&&(t.addInheritableStatics(r),delete e.inheritableStatics),e.platformConfig&&t.addPlatformConfig(e),i&&(t.addConfig(i),delete e.config),a&&(t.addCachedConfig(a),delete e.cachedConfig),delete e.mixins,t.addMembers(e),o&&t.mixin(o),t},addPlatformConfig:function(e){var t,n,r,i,o,a,s,l,u,c=this.prototype,d=e.platformConfig;for(delete c.platformConfig,n=(i=this.getConfigurator()).configs,l=0,u=(o=ei.Z.getPlatformConfigKeys(d)).length;l<u;++l){for(a in t=null,r=d[o[l]])s=r[a],a in n?(t=t||{})[a]=s:c[a]=s;t&&i.add(t)}},callParent:function(e){var t;return(t=this.callParent.caller)&&(t.$previous||(t=t.$owner?t:t.caller)&&t.$owner.superclass.self[t.$name]).apply(this,e||o)},callSuper:function(e){var t;return(t=this.callSuper.caller)&&((t=t.$owner?t:t.caller)&&t.$owner.superclass.self[t.$name]).apply(this,e||o)},mixin:function(e,t){var n,r,i,o,a,s,l,u,c,d,f,h=this;if("string"==typeof e){for(i in n=t.prototype,r=h.prototype,n.onClassMixedIn&&n.onClassMixedIn.call(t,h),r.hasOwnProperty("mixins")||(r.mixins="mixins"in r?ei.Z.Object.chain(r.mixins):{}),n)u=n[i],"mixins"===i?ei.Z.applyIf(r.mixins,u):"mixinId"!==i&&"config"!==i&&"$inheritableStatics"!==i&&void 0===r[i]&&(r[i]=u);if(o=n.$inheritableStatics){for(f in d={},o)h.hasOwnProperty(f)||(d[f]=t[f]);h.addInheritableStatics(d)}return"config"in n&&h.addConfig(n.config,t),(r.mixins[e]=n).afterClassMixedIn&&n.afterClassMixedIn.call(t,h),h}if((c=e)instanceof Array)for(a=0,s=c.length;a<s;a++)n=c[a],h.mixin(n.prototype.mixinId||n.$className,n);else for(l in c)h.mixin(l,c[l])},addConfig:function(e,t){(this.$config||this.getConfigurator()).add(e,t)},addCachedConfig:function(e,t){var n,r={};for(n in e)r[n]={cached:!0,$value:e[n]};this.addConfig(r,t)},getConfigurator:function(){return this.$config||new ei.Z.Configurator(this)},getName:function(){return ei.Z.getClassName(this)},createAlias:e((function(e,t){c[e]=function(){return this[t].apply(this,arguments)},this.override(c),delete c[e]}))}),n)n.hasOwnProperty(r)&&a.push(r);return n.$staticMembers=a,n.getConfigurator(),n.addMembers({$className:"GRUI.Base",$configTransforms:{},isInstance:!0,$configPrefixed:!0,$configStrict:!0,isConfiguring:!1,isFirstInstance:!1,destroyed:!1,clearPropertiesOnDestroy:!0,clearPrototypeOnDestroy:!1,statics:function(){return this.self},callParent:function(e){var t;return((t=this.callParent.caller)&&(t.$previous||(t=t.$owner?t:t.caller)&&t.$owner.superclass[t.$name])).apply(this,e||o)},callParentSuperMethod:function(e){var t;return(t=this.callParentSuperMethod.caller)&&(t.$previous||(t=t.$owner?t:t.caller)&&t.$owner.superclass[t.$name])},callParent2:function(e,t,n,r,i,o,a){t=(t=ei.Z.__findSuperClass(e,t))&&t[r],e=(e=ei.Z.__findSuperClass(e,n))&&e[r],a&&(e=e.$previous);n=null,a=null;var s=null;i&&(n=i.$previous,a=i.$owner),a&&(s=a.superclass[i.$name]),a=n||s;return"destroy"==r&&(a=this.callParent2.$owner.prototype[r]),i=null,n=null,s=null,e&&(i=e.$previous,n=e.$owner),n&&(s=n.superclass[e.$name]),(t||i||s||a).apply(this,o)},callSuper:function(e){var t;return((t=this.callSuper.caller)&&(t=t.$owner?t:t.caller)&&t.$owner.superclass[t.$name]).apply(this,e||o)},self:n,constructor:function(){return this},initConfig:function(e){var t=this,n=t.self.getConfigurator();return t.initConfig=ei.Z.emptyFn,t.initialConfig=e||{},n.configure(t,e),t},beforeInitConfig:ei.Z.emptyFn,getConfig:function(e,t,n){var r,i,o=this;return n=e?(r=o.self.$config.configs[e])?(i=o.$configPrefixed?r.names.internal:e,n?o.hasOwnProperty(i)?o[i]:null:t?o.hasOwnProperty(i)?o[i]:o.config[e]:o[r.names.get]()):o[e]:o.getCurrentConfig()},destroyMembers:function(){for(var e,t,n=this,r=n.self.$config.configs,i=arguments.length,o=0;o<i;o++)e=(t=r[e=arguments[o]])&&n.$configPrefixed?t.names.internal:e,(t=n.hasOwnProperty(e)&&n[e])&&(ei.Z.destroy(t),n[e]=null)},freezeConfig:function(e){var t=this;e=ei.Z.Config.get(e).names;t[e.get](),t[e.set]=function(e){return t}},setConfig:function(e,t,n){var r,i,o,a=this;if(e)if(r=a.self.getConfigurator(),"string"==typeof e){if(!(i=r.configs[e])){if(a.$configStrict&&"function"==typeof(o=a.self.prototype[e])&&!o.$nullFn)return a;i=ei.Z.Config.map[e]||ei.Z.Config.get(e)}a[i.names.set]?a[i.names.set](t):a[e]=t}else r.reconfigure(a,e,n||t);return a},getConfigWatcher:function(){return this.$configWatch||(this.$configWatch=new ei.Z.mixin.Watchable)},watchConfig:function(e,t,n){var r=this.getConfigWatcher();return r.on.apply(r,arguments)},$configWatch:null,getCurrentConfig:function(){return this.self.getConfigurator().getCurrentConfig(this)},hasConfig:function(e){return e in this.defaultConfig},getInitialConfig:function(e){var t=this.config;return e?t[e]:t},$links:null,link:function(e,t){return(this.$links||(this.$links={}))[e]=!0,this[e]=t},unlink:function(e){for(var t,n,r=0,i=e.length;r<i;r++)(n=this[t=e[r]])&&(n.isInstance&&!n.destroyed?n.destroy():n.parentNode&&"nodeType"in n&&n.parentNode.removeChild(n)),this[t]=null;return this},$reap:function(){for(var e,t,n,r=this,i=r.$noClearOnDestroy,o=ei.Z.Object.getKeys(r),a=0,s=o.length;a<s;a++)!(t=r[e=o[a]])||i&&i[e]||"object"!=(n=typeof t)&&("function"!=n||t.$noClearOnDestroy)||(r[e]=null);r.$nulled=!0},destroy:function(){var e=this,t=e.$links,n=e.clearPropertiesOnDestroy;t&&(e.$links=null,e.unlink(ei.Z.Object.getKeys(t))),e.destroy=ei.Z.emptyFn,(e.isDestroyed=e.destroyed=!0)===n?e.isObservable||e.$reap():n&&i.add(e)}}),d.callOverridden=d.callParent,n}(ei.Z.Function.flexSetter),function(e,t){(ei.Z.util||(ei.Z.util={})).LRU=e=function(e){var t=this;e&&ei.Z.apply(t,e),t.head=e={key:null,value:null},t.map={},e.next=e.prev=e},e.prototype=t={count:0,add:function(e,t){var n=this,r=n.map,i=r[e];return i&&(n.unlink(i),--n.count),r[e]=i={key:e,value:t},n.link(i),++n.count,i},clear:function(e,t){var n=this,r=n.head,i=r.next;if(r.next=r.prev=r,n.count=0,e&&!e.$nullFn)for(;i!==r;i=i.next)e.call(t||n,i.key,i.value)},each:function(e,t){var n,r;for(t=t||this,r=(n=this.head).next;r!==n&&!e.call(t,r.key,r.value);r=r.next);},prune:function(e,t){var n,r=this,i=r.head.prev;return r.count&&(n=i.value,r.unlink(i),--r.count,e&&e.call(t||r,i.key,n)),n},remove:function(e){var t,n=this,r=n.map,i=r[e];return i&&(n.unlink(i),t=i.value,delete r[e],--n.count),t},touch:function(e){var t=this,n=t.head;(e=t.map[e])&&e.prev!==n&&(t.unlink(e),t.link(e))},trim:function(e,t,n){for(;this.count>e;)this.prune(t,n)},link:function(e){var t=this.head,n=t.next;e.next=n,(e.prev=t).next=e,n.prev=e},unlink:function(e){var t=e.next;((e=e.prev).next=t).prev=e}},t.destroy=function(){this.clear.apply(this,arguments)}}(),function(e,t,n){ei.Z.util.Cache=n=function(t){e.call(this,t)},t.prototype=e.prototype,n.prototype=ei.Z.apply(new t,{maxSize:100,clear:function(){e.prototype.clear.call(this,this.evict)},get:function(e){var t,n=this,r=n.map[e];return r?(t=r.value,n.touch(e)):(t=n.miss.apply(n,arguments),n.add(e,t),n.trim(n.maxSize,n.evict)),t},evict:ei.Z.emptyFn})}(ei.Z.util.LRU,(function(){})),function(){function e(e,t){return e.length-t.length||(e<t?-1:t<e?1:0)}var t,n=ei.Z.Base,r=n.$staticMembers;function i(e){return function(){return this.constructor.apply(this,arguments)||null}}ei.Z.Class=t=function(e,n,r){return"function"!=typeof e&&(r=n,n=e,e=null),e=t.create(e,n=n||{}),t.process(e,n,r),e},ei.Z.apply(t,{makeCtor:i,onBeforeCreated:function(e,t,n){e.addMembers(t),n.onCreated.call(e,e)},create:function(e,t){var i,o=r.length;for(e=e||function(){return this.constructor.apply(this,arguments)||null};o--;)e[i=r[o]]=n[i];return e},process:function(e,n,r){var i,o,a,s,l,u,c,d=n.preprocessors||t.defaultPreprocessors,f=this.preprocessors,h={onBeforeCreated:this.onBeforeCreated},p=[];for(delete n.preprocessors,e._classHooks=h,a=0,s=d.length;a<s;a++)if("string"==typeof(i=d[a])){if(!0===(o=(i=f[i]).properties))p.push(i.fn);else if(o)for(l=0,u=o.length;l<u;l++)if(c=o[l],n.hasOwnProperty(c)){p.push(i.fn);break}}else p.push(i);h.onCreated=r||ei.Z.emptyFn,h.preprocessors=p,this.doProcess(e,n,h)},doProcess:function(e,t,n){for(var r=this,i=n.preprocessors,o=i.shift(),a=r.doProcess;o;o=i.shift())if(!1===o.call(r,e,t,n,a))return;n.onBeforeCreated.apply(r,arguments)},preprocessors:{},registerPreprocessor:function(e,t,n,r,i){return r=r||"last",this.preprocessors[e]={name:e,properties:(n=n||[e])||!1,fn:t},this.setDefaultPreprocessorPosition(e,r,i),this},getPreprocessor:function(e){return this.preprocessors[e]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(e){return this.defaultPreprocessors=ei.Z.Array.from(e),this},setDefaultPreprocessorPosition:function(e,t,n){var r=this.defaultPreprocessors;if("string"==typeof t){if("first"===t)return r.unshift(e),this;if("last"===t)return r.push(e),this;t="after"===t?1:-1}return-1!==(n=ei.Z.Array.indexOf(r,n))&&ei.Z.Array.splice(r,Math.max(0,n+t),0,e),this}}),t.registerPreprocessor("extend",(function(e,t,n){var r,i,o=ei.Z.Base,a=o.prototype,s=t.extend;if(delete t.extend,r=(s=s&&s!==Object?s:o).prototype,!s.$isClass)for(i in a)r[i]||(r[i]=a[i]);e.extend(s),e.triggerExtended.apply(e,arguments),t.onClassExtended&&(e.onExtended(t.onClassExtended,e),delete t.onClassExtended)}),!0),t.registerPreprocessor("privates",(function(e,t){var n=t.privates,r=n.statics,i=n.privacy||!0;delete t.privates,delete n.statics,e.addMembers(n,!1,i),r&&e.addMembers(r,!0,i)})),t.registerPreprocessor("statics",(function(e,t){e.addStatics(t.statics),delete t.statics})),t.registerPreprocessor("inheritableStatics",(function(e,t){e.addInheritableStatics(t.inheritableStatics),delete t.inheritableStatics})),ei.Z.createRuleFn=function(e){return new Function("$c","with($c) { try { return ("+e+"); } catch(e) { return false;}}")},ei.Z.expressionCache=new ei.Z.util.Cache({miss:ei.Z.createRuleFn}),ei.Z.ruleKeySortFn=e,ei.Z.getPlatformConfigKeys=function(t){var n,r=[];for(n in t)ei.Z.expressionCache.get(n)(ei.Z.platformTags)&&r.push(n);return r.sort(e),r},t.registerPreprocessor("config",(function(e,t){t.hasOwnProperty("$configPrefixed")&&(e.prototype.$configPrefixed=t.$configPrefixed),e.addConfig(t.config),delete t.config})),t.registerPreprocessor("cachedConfig",(function(e,t){t.hasOwnProperty("$configPrefixed")&&(e.prototype.$configPrefixed=t.$configPrefixed),e.addCachedConfig(t.cachedConfig),delete t.cachedConfig})),t.registerPreprocessor("mixins",(function(e,t,n){var r=t.mixins,i=n.onCreated;delete t.mixins,n.onCreated=function(){return n.onCreated=i,e.mixin(r),n.onCreated.apply(this,arguments)}})),ei.Z.extend=function(e,n,r){var i,o;if(2===arguments.length&&ei.Z.isObject(n)&&(r=n,n=e,e=null),n)return r.extend=n,r.preprocessors=["extend","statics","inheritableStatics","mixins","config"],e?(i=new t(e,r)).prototype.constructor=e:i=new t(r),i.prototype.override=function(e){for(o in e)e.hasOwnProperty(o)&&(this[o]=e[o])},i;throw new Error("[GRUI.extend] Attempting to extend from a class which has not been loaded on the page.")}}(),ei.Z.Inventory=function(){var e=this;e.names=[],e.paths={},e.alternateToName={},e.aliasToName={},e.nameToAliases={},e.nameToAlternates={},e.nameToPrefix={}},ei.Z.Inventory.prototype={_array1:[0],prefixes:null,dotRe:/\./g,wildcardRe:/\*/g,addAlias:function(e,t,n){return this.addMapping(e,t,this.aliasToName,this.nameToAliases,n)},addAlternate:function(e,t){return this.addMapping(e,t,this.alternateToName,this.nameToAlternates)},addMapping:function(e,t,n,r,i){var o,a,s,l,u,c,d=e=e.$className||e,f=this._array1;for(s in ei.Z.isString(e)&&((d={})[e]=t),d)for(a=d[s],ei.Z.isString(a)&&(f[0]=a,a=f),u=a.length,c=r[s]||(r[s]=[]),l=0;l<u;++l)(o=a[l])&&n[o]!==s&&(n[o]=s,c.push(o))},getAliasesByName:function(e){return this.nameToAliases[e]||null},getAlternatesByName:function(e){return this.nameToAlternates[e]||null},getNameByAlias:function(e){return this.aliasToName[e]||""},getNameByAlternate:function(e){return this.alternateToName[e]||""},getNamesByExpression:function(e,t,n){for(var r,i,o,a,s,l,u=this,c=u.aliasToName,d=u.alternateToName,f=u.nameToAliases,h=u.nameToAlternates,p=n?t:{},g=[],m=ei.Z.isString(e)?[e]:e,v=m.length,y=u.wildcardRe,b=0;b<v;++b)if((r=m[b]).indexOf("*")<0)(s=(s=c[r])||(s=d[r])?s:r)in p||t&&s in t||(p[s]=1,g.push(s));else for(s in l=new RegExp("^"+r.replace(y,"(.*?)")+"$"),f)if(!(s in p||t&&s in t)){if(!(o=l.test(s))){for(a=(i=f[s]).length;!o&&0<a--;)o=l.test(i[a]);if((i=h[s])&&!o)for(a=i.length;!o&&0<a--;)o=l.test(i[a])}o&&(p[s]=1,g.push(s))}return g},getPath:function(e){var t,n=this,r=n.paths,i="";return e in r?i=r[e]:((t=n.nameToPrefix[e]||(n.nameToPrefix[e]=n.getPrefix(e)))&&(e=e.substring(t.length+1),(i=r[t])&&(i+="/")),i+=e.replace(n.dotRe,"/")+".js"),i},getPrefix:function(e){if(e in this.paths)return e;if(e in this.nameToPrefix)return this.nameToPrefix[e];for(var t,n,r,i,o=this.getPrefixes(),a=e.length;0<a--;)if((t=o[a])&&"."===e.charAt(a))for(r=0,i=t.length;r<i;r++)if((n=t[r])===e.substring(0,a))return n;return""},getPrefixes:function(){var e,t,n,r,i,o=this.prefixes;if(!o)for(e=this.names.slice(0),this.prefixes=o=[],r=0,i=e.length;r<i;r++)(o[n=(t=e[r]).length]||(o[n]=[])).push(t);return o},removeName:function(e){var t,n,r=this,i=r.aliasToName,o=r.alternateToName,a=r.nameToAliases,s=r.nameToAlternates,l=a[e],u=s[e];if(delete a[e],delete s[e],delete r.nameToPrefix[e],l)for(t=l.length;t--;)e===i[n=l[t]]&&delete i[n];if(u)for(t=u.length;t--;)e===o[n=u[t]]&&delete o[n]},resolveName:function(e){var t;return(t=e in this.nameToAliases||(t=this.aliasToName[e])?t:this.alternateToName[e])||e},select:function(e,t){var n,r=this,i={},o={excludes:i,exclude:function(){return r.getNamesByExpression(arguments[0],i,!0),this}};for(n in e)o[n]=r.selectMethod(i,e[n],t||e);return o},selectMethod:function(e,t,n){var r=this;return function(i){var o=ei.Z.Array.slice(arguments,1);return o.unshift(r.getNamesByExpression(i,e)),t.apply(n,o)}},setPath:ei.Z.Function.flexSetter((function(e,t){var n=this;return n.paths[e]=t,n.names.push(e),n.prefixes=null,n.nameToPrefix={},n}))},ei.Z.ClassManager=function(e,t,n,r,i){var o=ei.Z.Class.makeCtor,a=[],s={GRUI:{name:"GRUI",value:ei.Z}},l=ei.Z.apply(new ei.Z.Inventory,{classes:{},classState:{},existCache:{},instantiators:[],isCreated:function(e){return!(!l.classes[e]&&!l.existCache[e])||!!l.lookupName(e,!1)&&(l.triggerCreated(e),!0)},createdListeners:[],nameCreatedListeners:{},existsListeners:[],nameExistsListeners:{},overrideMap:{},triggerCreated:function(e,t){l.existCache[e]=t||1,l.classState[e]+=40,l.notify(e,l.createdListeners,l.nameCreatedListeners)},onCreated:function(e,t,n){l.addListener(e,t,n,l.createdListeners,l.nameCreatedListeners)},notify:function(e,t,n){for(var r,i,o,a,s=l.getAlternatesByName(e),u=[e],c=0,d=t.length;c<d;c++)(o=t[c]).fn.call(o.scope,e);for(;u;){for(c=0,d=u.length;c<d;c++)if(t=n[a=u[c]]){for(r=0,i=t.length;r<i;r++)(o=t[r]).fn.call(o.scope,a);delete n[a]}u=s,s=null}},addListener:function(e,t,n,r,i){var o;if(ei.Z.isArray(n))for(e=ei.Z.Function.createBarrier(n.length,e,t),o=0;o<n.length;o++)this.addListener(e,null,n[o],r,i);else{var a={fn:e,scope:t};n?this.isCreated(n)?e.call(t,n):(i[n]||(i[n]=[]),i[n].push(a)):r.push(a)}},$namespaceCache:s,addRootNamespaces:function(e){for(var t in e)s[t]={name:t,value:e[t]}},clearNamespaceCache:function(){for(var e in a.length=0,s)s[e].value||delete s[e]},getNamespaceEntry:function(e){var t,n;return"string"!=typeof e?e:((t=s[e])||(t=(n=e.lastIndexOf("."))<0?{name:e}:{name:e.substring(n+1),parent:l.getNamespaceEntry(e.substring(0,n))},s[e]=t),t)},lookupName:function(e,t){e=l.getNamespaceEntry(e);for(var n,r=ei.Z.global,i=0,o=e;o;o=o.parent)a[i++]=o;for(;r&&0<i--;)n=r,!(r=(o=a[i]).value||r[o.name])&&t&&(n[o.name]=r={});return r},setNamespace:function(e,t){e=l.getNamespaceEntry(e);var n=ei.Z.global;return(n=e.parent?l.lookupName(e.parent,!0):n)[e.name]=t},setXType:function(e,t){var n=e.$className,r=(e=(n?e:l.get(n=e)).prototype).xtypes,i=e.xtypesChain,o=e.xtypesMap;e.hasOwnProperty("xtypes")||(e.xtypes=r=[],e.xtypesChain=i=i?i.slice(0):[],e.xtypesMap=o=ei.Z.apply({},o)),l.addAlias(n,"widget."+t,!0),r.push(t),i.push(t),o[t]=!0},set:function(e,t){var n=l.getName(t);return l.classes[e]=l.setNamespace(e,t),n&&n!==e&&l.addAlternate(n,e),l},get:function(e){return l.classes[e]||l.lookupName(e,!1)},addNameAliasMappings:function(e){l.addAlias(e)},addNameAlternateMappings:function(e){l.addAlternate(e)},getByAlias:function(e){return l.get(l.getNameByAlias(e))},getByConfig:function(e,t){var n=e.xclass||((n=e.xtype)?t="widget.":n=e.type,l.getNameByAlias(t+n));return l.get(n)},getName:function(e){return e&&e.$className||""},getClass:function(e){return e&&e.self||null},create:function(t,n,r){var i=o(t);return(n="function"==typeof n?n(i):n).$className=t,new e(i,n,(function(){var e,i,o,a,s,u,c,d=n.postprocessors||l.defaultPostprocessors,f=l.postprocessors,h=[];for(delete n.postprocessors,i=0,o=d.length;i<o;i++)if("string"==typeof(e=d[i])){if(!0===(u=(e=f[e]).properties))h.push(e.fn);else if(u)for(a=0,s=u.length;a<s;a++)if(c=u[a],n.hasOwnProperty(c)){h.push(e.fn);break}}else h.push(e);n.postprocessors=h,n.createdFn=r,l.processCreate(t,this,n)}))},processCreate:function(e,t,n){var r=this,i=n.postprocessors.shift(),o=n.createdFn;if(!i)return e&&r.set(e,t),delete t._classHooks,o&&o.call(t,t),void(e&&r.triggerCreated(e));!1!==i.call(r,e,t,n,r.processCreate)&&r.processCreate(e,t,n)},createOverride:function(e,t,n){var r,i,o=this,a=t.override,s=t.requires,u=t.uses,c=t.mixins,d=1,f=function l(){var d,f,h,p,g;if(!i){if(f=s?s.slice(0):[],c)if(r=c instanceof Array)for(h=0,g=c.length;h<g;++h)ei.Z.isString(d=c[h])&&f.push(d);else for(p in c)ei.Z.isString(d=c[p])&&f.push(d);if(i=!0,f.length)return void ei.Z.require(f,l)}if(r)for(h=0,g=c.length;h<g;++h)ei.Z.isString(d=c[h])&&(c[h]=ei.Z.ClassManager.get(d));else if(c)for(p in c)ei.Z.isString(d=c[p])&&(c[p]=ei.Z.ClassManager.get(d));d=a.$isClass?a:o.get(a),delete t.override,delete t.compatibility,delete t.requires,delete t.uses,ei.Z.override(d,t),ei.Z.Loader.history.push(e),u&&ei.Z.Loader.addUsedClasses(u),n&&n.call(d,d)};return e&&(l.overrideMap[e]=!0),"compatibility"in t&&((d=t.compatibility)?"number"==typeof d?d=!0:"boolean"!=typeof d&&(d=ei.Z.checkVersion(d)):d=!1),d&&(a.$isClass?f():o.onCreated(f,o,a)),o.triggerCreated(e,2),o},instantiateByAlias:function(){var e=arguments[0],t=n.call(arguments);e=this.getNameByAlias(e);return t[0]=e,ei.Z.create.apply(ei.Z,t)},instantiate:function(){return ei.Z.create.apply(ei.Z,arguments)},dynInstantiate:function(e,t){return(t=r(t,!0)).unshift(e),ei.Z.create.apply(ei.Z,t)},getInstantiator:function(e){var t,n,r=this.instantiators,i=r[e];if(!i){for(n=e,t=[],n=0;n<e;n++)t.push("a["+n+"]");i=r[e]=new Function("c","a","return new c("+t.join(",")+")")}return i},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(e,t,n,r,i){return r=r||"last",this.postprocessors[e]={name:e,properties:(n=n||[e])||!1,fn:t},this.setDefaultPostprocessorPosition(e,r,i),this},setDefaultPostprocessors:function(e){return this.defaultPostprocessors=r(e),this},setDefaultPostprocessorPosition:function(e,t,n){var r=this.defaultPostprocessors;if("string"==typeof t){if("first"===t)return r.unshift(e),this;if("last"===t)return r.push(e),this;t="after"===t?1:-1}return-1!==(n=ei.Z.Array.indexOf(r,n))&&ei.Z.Array.splice(r,Math.max(0,n+t),0,e),this}});if(l.registerPostprocessor("platformConfig",(function(e,t,n){t.addPlatformConfig(n)})),l.registerPostprocessor("alias",(function(e,n,r){for(var i=ei.Z.Array.from(r.alias),o=0,a=i.length;o<a;o++)t=i[o],this.addAlias(n,t)}),["xtype","alias"]),l.registerPostprocessor("singleton",(function(e,t,n,r){return!n.singleton||(r.call(this,e,new t,n),!1)})),l.registerPostprocessor("alternateClassName",(function(e,t,n){for(var r,i=n.alternateClassName,o=0,a=(i=i instanceof Array?i:[i]).length;o<a;o++)r=i[o],this.set(r,t)})),l.registerPostprocessor("debugHooks",(function(e,t,n){delete(t.isInstance?t.self:t).prototype.debugHooks})),l.registerPostprocessor("deprecated",(function(e,t,n){(t=t.isInstance?t.self:t).addDeprecations(n.deprecated),delete t.prototype.deprecated})),ei.Z.apply(ei.Z,{create:function(){var e=arguments[0],t=typeof e,r=n.call(arguments,1);return(t="function"==t?e:("string"!=t&&0===r.length&&(r=[e],(e=e.xclass)||(e=(e=r[0].xtype)&&"widget."+e)),e=l.resolveName(e),l.get(e)))||(ei.Z.syncRequire(e),t=l.get(e)),l.getInstantiator(r.length)(t,r)},widget:function(e,t){var n,r,i,o=e;return"string"!=typeof e?(o=(t=e).xtype,r=t.xclass):t=t||{},t.isComponent?t:(i=(r=r||l.getNameByAlias(n="widget."+o))?l.get(r):i)?new i(t):ei.Z.create(r||n,t)},createByAlias:t(l,"instantiateByAlias"),define:function(e,t,n){return t.override?(l.classState[e]=20,l.createOverride.apply(l,arguments)):(l.classState[e]=10,l.create.apply(l,arguments))},undefine:function(e){delete l.classes[e],delete l.existCache[e],delete l.classState[e],l.removeName(e),ei.Z.Factory.clearCaches();var t=(e=l.getNamespaceEntry(e)).parent?l.lookupName(e.parent,!1):ei.Z.global;if(t){e=e.name;try{delete t[e]}catch(u){t[e]=void 0}}},getClassName:t(l,"getName"),getDisplayName:function(e){if(e){if(e.displayName)return e.displayName;if(e.$name&&e.$class)return ei.Z.getClassName(e.$class)+"#"+e.$name;if(e.$className)return e.$className}return"Anonymous"},getClass:t(l,"getClass"),namespace:function(){for(var e=i,t=arguments.length;0<t--;)e=l.lookupName(arguments[t],!0);return e}}),ei.Z.addRootNamespaces=l.addRootNamespaces,ei.Z.createWidget=ei.Z.widget,ei.Z.ns=ei.Z.namespace,e.registerPreprocessor("className",(function(e,t){"$className"in t&&(e.$className=t.$className)}),!0,"first"),e.registerPreprocessor("alias",(function(e,t){for(var n,i,o=e.prototype,a=r(t.xtype),s=r(t.alias),l="widget.",u=l.length,c=Array.prototype.slice.call(o.xtypesChain||[]),d=ei.Z.merge({},o.xtypesMap||{}),f=0,h=s.length;f<h;f++)(n=s[f]).substring(0,u)===l&&(i=n.substring(u),ei.Z.Array.include(a,i));for(e.xtype=t.xtype=a[0],t.xtypes=a,f=0,h=a.length;f<h;f++)i=a[f],d[i]||(d[i]=!0,c.push(i));for(t.xtypesChain=c,t.xtypesMap=d,ei.Z.Function.interceptAfterOnce(e,"onClassCreated",(function(){var e,t,n=this.prototype.mixins;for(e in n)if(n.hasOwnProperty(e)&&(t=n[e],a=t.xtypes))for(f=0,h=a.length;f<h;f++)i=a[f],d[i]||(d[i]=!0,c.push(i))})),f=0,h=a.length;f<h;f++)i=a[f],ei.Z.Array.include(s,l+i);t.alias=s}),["xtype","alias"]),ei.Z.manifest){var u,c,d,f,h=ei.Z.manifest,p=h.classes,g=h.paths,m={},v={};if(g){if(h.bootRelative)for(d in f=ei.Z.Boot.baseUrl,g)g.hasOwnProperty(d)&&(g[d]=f+g[d]);l.setPath(g)}if(p)for(u in p)v[u]=[],m[u]=[],(c=p[u]).alias&&(m[u]=c.alias),c.alternates&&(v[u]=c.alternates);l.addAlias(m),l.addAlternate(v)}return l}(ei.Z.Class,ei.Z.Function.alias,Array.prototype.slice,ei.Z.Array.from,ei.Z.global),ei.Z.define("GRUI.mixin.Watchable",{on:function(e,t,n){return this._watchUpdate(!1,"_watchAdd",e,t,n)},fire:function(e,t){var n,r,i,o=this.watching,a=o&&o[e];if(a){for(++a.$firing,n=0;n<a.length;++n)if(i=a[n][0],!1===(r=(r=a[n][1]).charAt?t?i[r].apply(i,t):i[r]():t?r.apply(i,t):r.call(i)))return r;--a.$firing}},fireEvent:function(){var e=ei.Z.Array.slice(arguments),t=e.shift();return this.fire(t,e)},un:function(e,t,n){return this._watchUpdate(!0,"_watchRemove",e,t,n)},privates:{watching:null,$watchOptions:{destroyable:1,scope:1},_watchAdd:function(e,t,n,r,i){var o,a,s=e[t],l=[r,n];if(s){for(o=s.length;0<o--;)if(n===(a=s[o])[1]&&(r?a[0]===r:!a[0]))return;s.$firing&&(e[t]=s=s.slice(),s.$firing=0)}else e[t]=s=[],s.$firing=0;s.push(l),i&&(l.push(t),i.items.push(l))},_watchRemove:function(e,t,n,r){var i,o=e[t];if(o)for(o.$firing&&(e[t]=o=o.slice(),o.$firing=0),i=o.length;0<i--;)o[i][0]===r&&o[i][1]===n&&o.splice(i,1)},_watchUpdate:function(e,t,n,r,i){var o,a=this,s=n,l=a.watching;if(!l){if(e)return;a.watching=l={}}if("string"==typeof n)a[t](l,n,r,i);else for(n in o=s.destroyable?{owner:a,items:[],destroy:a._watcherDestroyer}:null,i=s.scope,s)a.$watchOptions[n]||a[t](l,n,s[n],i,o);return o},_watcherDestroyer:function(){for(var e,t=this.owner,n=t.watching,r=this.items,i=0;i<r.length;++i)e=r[i],t._watchRemove(n,e[2],e[1],e[0])}}}),(ei.Z.env||(ei.Z.env={})).Browser=function(e,t){var n,r,i=this,o=ei.Z.Boot.browserPrefixes,a=ei.Z.Boot.browserNames,s=i.enginePrefixes,l=i.engineNames,u=e.match(new RegExp("((?:"+ei.Z.Object.getValues(o).join(")|(?:")+"))([\\w\\._]+)")),c=e.match(new RegExp("((?:"+ei.Z.Object.getValues(s).join(")|(?:")+"))([\\w\\._]+)")),d=a.other,f=l.other,h="",p="",g="",m=!1,v=/(Edge\/)([\w.]+)/,y="";for(n in i.userAgent=e,this.is=function(e){return!!this.is[e]},/Edge\//.test(e)&&(u=e.match(v),c=e.match(v)),u&&("Safari"===(d=a[ei.Z.Object.getKey(o,u[1])])&&/^Opera/.test(e)&&(d="Opera"),h=new ei.Z.Version(u[2])),c&&(f=l[ei.Z.Object.getKey(s,c[1])],p=new ei.Z.Version(c[2])),"Trident"===f&&"IE"!==d&&(d="IE",(v=e.match(/.*rv:(\d+.\d+)/))&&v.length&&(v=v[1],h=new ei.Z.Version(v))),d&&h&&ei.Z.setVersion(d,h),e.match(/FB/)&&"Other"===d?(d=a.safari,f=l.webkit):e.match(/Android.*Chrome/g)?d="ChromeMobile":(u=e.match(/OPR\/(\d+.\d+)/))&&(d="Opera",h=new ei.Z.Version(u[1])),ei.Z.apply(this,{engineName:f,engineVersion:p,name:d,version:h}),this.setFlag(d,!0,t),h&&(g=h.getMajor()||"",i.is.Opera&&parseInt(g,10)<=12&&(ei.Z.isOpera12m=!0),ei.Z.chromeVersion=ei.Z.isChrome?g:0,ei.Z.firefoxVersion=ei.Z.isFirefox?g:0,ei.Z.ieVersion=ei.Z.isIE?g:0,ei.Z.operaVersion=ei.Z.isOpera?g:0,ei.Z.safariVersion=ei.Z.isSafari?g:0,ei.Z.webKitVersion=ei.Z.isWebKit?g:0,this.setFlag(d+g,!0,t),this.setFlag(d+h.getShortVersion())),a)a.hasOwnProperty(n)&&(r=a[n],this.setFlag(r,d===r));for(n in this.setFlag(r),p&&(this.setFlag(f+(p.getMajor()||"")),this.setFlag(f+p.getShortVersion())),l)l.hasOwnProperty(n)&&(r=l[n],this.setFlag(r,f===r,t));this.setFlag("Standalone",!!navigator.standalone);try{y=window.top.ripple}catch(e){}this.setFlag("Ripple",!!document.getElementById("tinyhippos-injected")&&!ei.Z.isEmpty(y)),this.setFlag("WebWorks",!!window.blackberry),void 0===window.PhoneGap&&void 0===window.Cordova&&void 0===window.cordova||(m=!0,this.setFlag("PhoneGap"),this.setFlag("Cordova")),/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)(?!.*FBAN)/i.test(e)&&(m=!0),this.setFlag("WebView",m),this.isStrict=ei.Z.isStrict="CSS1Compat"===document.compatMode,this.isSecure=ei.Z.isSecure,this.identity=d+g+(this.isStrict?"Strict":"Quirks")},ei.Z.env.Browser.prototype={constructor:ei.Z.env.Browser,engineNames:{edge:"Edge",webkit:"WebKit",gecko:"Gecko",presto:"Presto",trident:"Trident",other:"Other"},enginePrefixes:{edge:"Edge/",webkit:"AppleWebKit/",gecko:"Gecko/",presto:"Presto/",trident:"Trident/"},styleDashPrefixes:{WebKit:"-webkit-",Gecko:"-moz-",Trident:"-ms-",Presto:"-o-",Other:""},stylePrefixes:{WebKit:"Webkit",Gecko:"Moz",Trident:"ms",Presto:"O",Other:""},propertyPrefixes:{WebKit:"webkit",Gecko:"moz",Trident:"ms",Presto:"o",Other:""},name:null,version:null,engineName:null,engineVersion:null,setFlag:function(e,t,n){return this.is[e]=t=void 0===t||t,this.is[e.toLowerCase()]=t,n&&(ei.Z["is"+e]=t),this},getStyleDashPrefix:function(){return this.styleDashPrefixes[this.engineName]},getStylePrefix:function(){return this.stylePrefixes[this.engineName]},getVendorProperyName:function(e){var t=this.propertyPrefixes[this.engineName];return 0<t.length?t+ei.Z.String.capitalize(e):e}},function(e){ei.Z.browser=new ei.Z.env.Browser(e,!0),ei.Z.userAgent=e.toLowerCase(),ei.Z.SSL_SECURE_URL=ei.Z.isSecure&&ei.Z.isIE?"javascript:''":"about:blank"}(ei.Z.global.navigator.userAgent),ei.Z.env.OS=function(e,t,n){var r,i,o,a,s,l=ei.Z.Boot.osNames,u=ei.Z.Boot.osPrefixes,c="",d=this.is;for(i in n=n||ei.Z.browser,u)if(u.hasOwnProperty(i)&&(o=u[i],o=e.match(new RegExp("(?:"+o+")([^\\s;]+)")))){r=l[i],c=(s=o[1])&&"HTC_"===s||s&&"Silk/"===s?new ei.Z.Version("2.3"):new ei.Z.Version(o[o.length-1]);break}for(i in r||(r=l[(e.toLowerCase().match(/mac|win|linux/)||["other"])[0]],c=new ei.Z.Version("")),this.name=r,this.version=c,(e.match(/ipad/i)||!e.match(/iphone/i)&&e.match(/Mac/)&&2<navigator.maxTouchPoints)&&(r="iOS",t="iPad"),t&&this.setFlag(t.replace(/ simulator$/i,"")),this.setFlag(r),c&&(this.setFlag(r+(c.getMajor()||"")),this.setFlag(r+c.getShortVersion())),l)l.hasOwnProperty(i)&&(a=l[i],d.hasOwnProperty(r)||this.setFlag(a,r===a));"iOS"===this.name&&568===window.screen.height&&this.setFlag("iPhone5"),(n.is.Safari||n.is.Silk)&&((this.is.Android2||this.is.Android3||501===n.version.shortVersion)&&n.setFlag("AndroidStock"),this.is.Android4&&(n.setFlag("AndroidStock"),n.setFlag("AndroidStock4")))},ei.Z.env.OS.prototype={constructor:ei.Z.env.OS,is:function(e){return!!this[e]},name:null,version:null,setFlag:function(e,t){return void 0===t&&(t=!0),this.flags&&(this.flags[e]=t),this.is[e]=t,this.is[e.toLowerCase()]=t,this}},function(){var e,t,n=ei.Z.global.navigator,r=n.userAgent,i=ei.Z.env.OS,o=ei.Z.is||(ei.Z.is={}),a=(o=(i.prototype.flags=o,ei.Z.os=n=new i(r,n.platform),e=n.name,ei.Z["is"+e]=!0,ei.Z.isMac=o.Mac=o.MacOS,ei.Z.isApple=ei.Z.isMac||ei.Z.isiOS,window.location.search.match(/deviceType=(Tablet|Phone)/)),window.deviceType);o&&o[1]?t=o[1]:"iPhone"===a?t="Phone":"iPad"===a?t="Tablet":n.is.Android||n.is.iOS||n.is.WindowsPhone||!/Windows|Linux|MacOS|ChromeOS/.test(e)?t=n.is.iPad||n.is.RIMTablet||n.is.Android3||ei.Z.browser.is.Silk||n.is.Android&&-1===r.search(/mobile/i)?"Tablet":"Phone":(t="Desktop",ei.Z.browser.is.WebView=!!ei.Z.browser.is.Ripple),"Tablet"===t&&"MacOS"===e&&(ei.Z.isiOS=!0,ei.Z.isiPadOS=!0),n.setFlag(t,!0),n.deviceType=t,delete i.prototype.flags}(),ei.Z.feature={has:function(e){return!!this.has[e]},testElements:{},getTestElement:function(e,t){if(void 0===e)e="div";else if("string"!=typeof e)return e;return t?document.createElement(e):(this.testElements[e]||(this.testElements[e]=document.createElement(e)),this.testElements[e])},isStyleSupported:function(e,t){t=this.getTestElement(t).style;var n=ei.Z.String.capitalize(e);return void 0!==t[e]||void 0!==t[ei.Z.browser.getStylePrefix(e)+n]},isStyleSupportedWithoutPrefix:function(e,t){return void 0!==this.getTestElement(t).style[e]},isEventSupported:function(e,t){void 0===t&&(t=window);t=this.getTestElement(t);var n=(e="on"+e.toLowerCase())in t;return n||t.setAttribute&&t.removeAttribute&&(t.setAttribute(e,""),n="function"==typeof t[e],void 0!==t[e]&&(t[e]=void 0),t.removeAttribute(e)),n},getStyle:function(e,t){var n=e.ownerDocument.defaultView;return((n?n.getComputedStyle(e,null):e.currentStyle)||e.style)[t]},getSupportedPropertyName:function(e,t){var n=ei.Z.browser.getVendorProperyName(t);return n in e?n:t in e?t:null},detect:function(e){var t,n,r,i,o,a=this,s=document,l=a.toRun||a.tests,u=l.length,c=s.createElement("div"),d=[],f=ei.Z.supports,h=a.has;for(c.innerHTML='<div style="height:30px;width:50px;"><div style="height:20px;width:20px;"></div></div><div style="width: 200px; height: 200px; position: relative; padding: 5px;"><div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div></div><div style="position: absolute; left: 10%; top: 10%;"></div><div style="float:left; background-color:transparent;"></div>',e&&s.body.appendChild(c),i=a.preDetected[ei.Z.browser.identity]||[];u--;){if(r=l[u],o=i[u],t=r.name,n=r.names,void 0===o){if(!e&&r.ready){d.push(r);continue}o=r.fn.call(a,s,c)}if(t)f[t]=h[t]=o;else if(n)for(;n.length;)f[t=n.pop()]=h[t]=o}e&&s.body.removeChild(c),a.toRun=d},report:function(){for(var e=[],t=this.tests.length,n=0;n<t;++n)e.push(this.has[this.tests[n].name]?1:0);ei.Z.log(ei.Z.browser.identity+": ["+e.join(",")+"]")},preDetected:{},tests:[{name:"CloneNodeCopiesExpando",fn:function(){var e=document.createElement("div");return e.expandoProp={},e.cloneNode().expandoProp===e.expandoProp}},{name:"CSSPointerEvents",fn:function(e){return"pointerEvents"in e.documentElement.style}},{name:"CSS3BoxShadow",fn:function(e){return"boxShadow"in e.documentElement.style||"WebkitBoxShadow"in e.documentElement.style||"MozBoxShadow"in e.documentElement.style}},{name:"CSS3NegationSelector",fn:function(e){try{e.querySelectorAll("foo:not(bar)")}catch(e){return!1}return!0}},{name:"ClassList",fn:function(e){return!!e.documentElement.classList}},{name:"Canvas",fn:function(){var e=this.getTestElement("canvas");return!!(e&&e.getContext&&e.getContext("2d"))}},{name:"Svg",fn:function(e){return!(!e.createElementNS||!e.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)}},{name:"Vml",fn:function(){var e,t=this.getTestElement();return t.innerHTML="\x3c!--[if vml]><br><![endif]--\x3e",e=1===t.childNodes.length,t.innerHTML="",e}},{name:"Touch",fn:function(){var e=navigator.msMaxTouchPoints||navigator.maxTouchPoints;return ei.Z.browser.is.Chrome&&ei.Z.browser.version.isLessThanOrEqual(39)?ei.Z.supports.TouchEvents&&1!==e||1<e:ei.Z.supports.TouchEvents||0<e}},{name:"PointerEvents",fn:function(){var e=window.PointerEvent,t=window.navigator;return!(!e||!t.pointerEnabled&&ei.Z.isIE)&&!ei.Z.supports.TouchEvents}},{name:"MSPointerEvents",fn:function(){return ei.Z.isIE10}},{name:"TouchEvents",fn:function(){return this.isEventSupported("touchend")}},{name:"TouchAction",ready:!0,fn:function(e,t){if(!window.getComputedStyle)return 0;for(var n,r=["pan-x","pan-y","pinch-zoom","double-tap-zoom"],i=[1,2,4,8],o=r.length,a=0,s=0;s<o;s++)t.style.touchAction=n=r[s],getComputedStyle(t).touchAction===n&&(a|=i[s]);return a}},{name:"Orientation",fn:function(){return"orientation"in window&&this.isEventSupported("orientationchange")}},{name:"OrientationChange",fn:function(){return this.isEventSupported("orientationchange")}},{name:"DeviceMotion",fn:function(){return this.isEventSupported("devicemotion")}},{names:["Geolocation","GeoLocation"],fn:function(){return"geolocation"in window.navigator}},{name:"SqlDatabase",fn:function(){return"openDatabase"in window}},{name:"WebSockets",fn:function(){return"WebSocket"in window}},{name:"Range",fn:function(){return!!document.createRange}},{name:"CreateContextualFragment",fn:function(){var e=!!document.createRange&&document.createRange();return e&&!!e.createContextualFragment}},{name:"History",fn:function(){return"history"in window&&"pushState"in window.history}},{name:"Css3dTransforms",fn:function(){return this.has("CssTransforms")&&this.isStyleSupported("perspective")}},{name:"CssTransforms",fn:function(){return this.isStyleSupported("transform")}},{name:"CssTransformNoPrefix",fn:function(){return this.isStyleSupportedWithoutPrefix("transform")}},{name:"CssAnimations",fn:function(){return this.isStyleSupported("animationName")}},{names:["CssTransitions","Transitions"],fn:function(){return this.isStyleSupported("transitionProperty")}},{names:["Audio","AudioTag"],fn:function(){return!!this.getTestElement("audio").canPlayType}},{name:"Video",fn:function(){return!!this.getTestElement("video").canPlayType}},{name:"LocalStorage",fn:function(){try{if("localStorage"in window&&null!==window.localStorage)return localStorage.setItem("sencha-localstorage-test","test success"),localStorage.removeItem("sencha-localstorage-test"),!0}catch(e){}return!1}},{name:"XmlQuerySelector",fn:function(){var e,t='<?xml version="1.0" encoding="UTF-8" standalone="yes" ?><root></root>';return window.ActiveXObject?((e=new ActiveXObject("Microsoft.xmlDOM")).async=!1,e.loadXML(t)):window.DOMParser&&(e=(new DOMParser).parseFromString(t,"text/xml")),!!e&&!!e.lastChild.querySelector}},{name:"XHR2",fn:function(){return window.ProgressEvent&&window.FormData&&window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}},{name:"XHRUploadProgress",fn:function(){var e;return!(!window.XMLHttpRequest||ei.Z.browser.is.AndroidStock)&&(e=new XMLHttpRequest)&&"upload"in e&&"onprogress"in e.upload}},{name:"NumericInputPlaceHolder",fn:function(){return!(ei.Z.browser.is.AndroidStock4&&ei.Z.os.version.getMinor()<2)}},{name:"matchesSelector",fn:function(){var e=document.documentElement,t="matches",n="webkitMatchesSelector",r="msMatchesSelector",i="mozMatchesSelector";return e[t]?t:e[n]?n:e[r]?r:e[i]?i:null}},{name:"RightMargin",ready:!0,fn:function(e,t){return!((e=e.defaultView)&&"0px"!==e.getComputedStyle(t.firstChild.firstChild,null).marginRight)}},{name:"DisplayChangeInputSelectionBug",fn:function(){var e=ei.Z.webKitVersion;return 0<e&&e<533}},{name:"DisplayChangeTextAreaSelectionBug",fn:function(){var e=ei.Z.webKitVersion;return 0<e&&e<534.24}},{name:"TransparentColor",ready:!0,fn:function(e,t,n){return!((n=e.defaultView)&&"transparent"!==n.getComputedStyle(t.lastChild,null).backgroundColor)}},{name:"ComputedStyle",ready:!0,fn:function(e,t,n){return!(!(n=e.defaultView)||!n.getComputedStyle)}},{name:"Float",fn:function(e){return"cssFloat"in e.documentElement.style}},{name:"CSS3BorderRadius",ready:!0,fn:function(e){for(var t=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],n=!1,r=0;r<t.length;r++)void 0!==e.documentElement.style[t[r]]&&(n=!0);return n&&!ei.Z.isIE9}},{name:"CSS3LinearGradient",fn:function(e,t){var n="background-image:",r=[n+"-webkit-gradient(linear, left top, right bottom, from(black), to(white))",n+(r="linear-gradient(left top, black, white)"),n+"-moz-linear-gradient(left top, black, white)",n+"-ms-linear-gradient(left top, black, white)",n+"-o-linear-gradient(left top, black, white)"];return t.style.cssText=r.join(";"),-1!==(""+t.style.backgroundImage).indexOf("gradient")&&!ei.Z.isIE9}},{name:"MouseEnterLeave",fn:function(e){return"onmouseenter"in e.documentElement&&"onmouseleave"in e.documentElement}},{name:"MouseWheel",fn:function(e){return"onmousewheel"in e.documentElement}},{name:"Opacity",fn:function(e,t){return!ei.Z.isIE8&&(t.firstChild.style.cssText="opacity:0.73","0.73"==t.firstChild.style.opacity)}},{name:"Placeholder",fn:function(e){return"placeholder"in e.createElement("input")}},{name:"Direct2DBug",fn:function(e){return ei.Z.isString(e.documentElement.style.msTransformOrigin)&&ei.Z.isIE9m}},{name:"BoundingClientRect",fn:function(e){return"getBoundingClientRect"in e.documentElement}},{name:"RotatedBoundingClientRect",ready:!0,fn:function(e){var t=e.body,n=!1,r=(e=e.createElement("div")).style;return e.getBoundingClientRect&&(r.position="absolute",r.top="0",r.WebkitTransform=r.MozTransform=r.msTransform=r.OTransform=r.transform="rotate(90deg)",r.width="100px",r.height="30px",t.appendChild(e),n=100!==e.getBoundingClientRect().height,t.removeChild(e)),n}},{name:"ChildContentClearedWhenSettingInnerHTML",ready:!0,fn:function(){var e,t=this.getTestElement();return t.innerHTML="<div>a</div>",e=t.firstChild,t.innerHTML="<div>b</div>","a"!==e.innerHTML}},{name:"IncludePaddingInWidthCalculation",ready:!0,fn:function(e,t){return 210===t.childNodes[1].firstChild.offsetWidth}},{name:"IncludePaddingInHeightCalculation",ready:!0,fn:function(e,t){return 210===t.childNodes[1].firstChild.offsetHeight}},{name:"TextAreaMaxLength",fn:function(e){return"maxlength"in e.createElement("textarea")}},{name:"GetPositionPercentage",ready:!0,fn:function(e,t){return"10%"===ei.Z.feature.getStyle(t.childNodes[2],"left")}},{name:"PercentageHeightOverflowBug",ready:!0,fn:function(e){var t,n,r=!1;return ei.Z.getScrollbarSize().height&&((t=(n=this.getTestElement("div",!0)).style).height="50px",t.width="50px",t.overflow="auto",t.position="absolute",n.innerHTML=['<div style="display:table;height:100%;">','<div style="width:51px;"></div>',"</div>"].join(""),e.body.appendChild(n),50===n.firstChild.offsetHeight&&(r=!0),e.body.removeChild(n)),r}},{name:"xOriginBug",ready:!0,fn:function(e,t){t.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"><div id="b2" style="position:relative;width:100%;height:20px;"></div><div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div></div>';t=document.getElementById("b1").getBoundingClientRect();var n=document.getElementById("b2").getBoundingClientRect(),r=document.getElementById("b3").getBoundingClientRect();return n.left!==t.left&&r.right!==t.right}},{name:"ScrollWidthInlinePaddingBug",ready:!0,fn:function(e){var t=!1,n=e.createElement("div"),r=n.style;return r.height="50px",r.width="50px",r.padding="10px",r.overflow="hidden",r.position="absolute",n.innerHTML='<span style="display:inline-block;zoom:1;height:60px;width:60px;"></span>',e.body.appendChild(n),70===n.scrollWidth&&(t=!0),e.body.removeChild(n),t}},{name:"rtlVertScrollbarOnRight",ready:!0,fn:function(e,t){t.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:scroll"><div style="width:20px;height:200px;"></div></div>';var n=(t=t.firstChild).firstChild;return n.offsetLeft+n.offsetWidth!==t.offsetLeft+t.offsetWidth}},{name:"rtlVertScrollbarOverflowBug",ready:!0,fn:function(e,t){t.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:auto"><div style="width:95px;height:200px;"></div></div>';var n=t.firstChild,r=(t=t.style).position;return t.position="absolute",n.offsetHeight,t.position=r,n.clientHeight===n.offsetHeight}},{identity:"defineProperty",fn:function(){return!ei.Z.isIE8m||(ei.Z.Object.defineProperty=ei.Z.emptyFn,!1)}},{identify:"nativeXhr",fn:function(){return"undefined"!=typeof XMLHttpRequest||!(XMLHttpRequest=function(){try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(e){return null}})}},{name:"SpecialKeyDownRepeat",fn:function(){return ei.Z.isWebKit?525<=parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10):!(!(ei.Z.isGecko||ei.Z.isIE||ei.Z.isEdge)||ei.Z.isOpera&&ei.Z.operaVersion<12)}},{name:"EmulatedMouseOver",fn:function(){return ei.Z.os.is.iOS}},{name:"Hashchange",fn:function(){var e=document.documentMode;return"onhashchange"in window&&(void 0===e||7<e)}},{name:"FixedTableWidthBug",ready:!0,fn:function(){if(ei.Z.isIE8)return!1;var e=document.createElement("div"),t=document.createElement("div");return e.setAttribute("style","display:table;table-layout:fixed;"),t.setAttribute("style","display:table-cell;min-width:50px;"),e.appendChild(t),document.body.appendChild(e),e.offsetWidth,e.style.width="25px",t=e.offsetWidth,document.body.removeChild(e),50===t}},{name:"FocusinFocusoutEvents",fn:function(){return!(ei.Z.isGecko&&ei.Z.firefoxVersion<52)}},{name:"AsyncFocusEvents",fn:function(){return ei.Z.asyncFocus=!!ei.Z.isIE}},{name:"accessibility",ready:!0,fn:function(e){var t,n,r,i=e.body;function o(e){var t,n=[],r=0;-1!==e.indexOf("rgb(")?n=e.replace("rgb(","").replace(")","").split(", "):-1!==e.indexOf("#")&&(t=7===e.length?/^#(\S\S)(\S\S)(\S\S)$/:/^#(\S)(\S)(\S)$/,(e=e.match(t))&&(n=["0x"+e[1],"0x"+e[2],"0x"+e[3]]));for(var i=0;i<n.length;i++)r+=parseInt(n[i]);return r}return t=e.createElement("div"),e=e.createElement("img"),n=t.style,ei.Z.apply(n,{width:"2px",position:"absolute",clip:"rect(1px,1px,1px,1px)",borderWidth:"1px",borderStyle:"solid",borderTopTolor:"#f00",borderRightColor:"#ff0",backgroundColor:"#fff",backgroundImage:"url("+ei.Z.BLANK_IMAGE_URL+")"}),e.alt="",e.src=ei.Z.BLANK_IMAGE_URL,t.appendChild(e),i.appendChild(t),r=(n=t.currentStyle||t.style).backgroundImage,r={Images:1===e.offsetWidth&&"uninitialized"!==e.readyState,BackgroundImages:!(null!==r&&("none"===r||"url(invalid-url:)"===r)),BorderColors:n.borderTopColor!==n.borderRightColor,LightOnDark:0<o(n.color)-o(n.backgroundColor)},ei.Z.supports.HighContrastMode=!r.BackgroundImages,i.removeChild(t),t=e=null,r}},{name:"ViewportUnits",ready:!0,fn:function(e){if(ei.Z.isIE8)return!1;e=e.body;var t,n=document.createElement("div"),r=n.currentStyle||n.style;return e.appendChild(n),ei.Z.apply(r,{width:"50vw"}),r=parseInt(window.innerWidth/2,10),t=parseInt((window.getComputedStyle?getComputedStyle(n,null):n.currentStyle).width,10),e.removeChild(n),n=null,r===t}},{name:"CSSVariables",ready:!1,fn:function(){return!!window.getComputedStyle&&window.CSS&&window.CSS.supports&&window.CSS.supports("--test-var",0)}},{name:"Selectors2",ready:!1,fn:function(e){try{return!!e.querySelectorAll(":scope")}catch(e){return!1}}},{name:"CSSScrollSnap",ready:!1,fn:function(e){return"scrollSnapType"in(e=e.documentElement.style)||"webkitScrollSnapType"in e||"msScrollSnapType"in e}},{name:"TranslateYCausesHorizontalScroll",ready:!0,fn:function(e,t){return t.innerHTML='<div style="position: relative; overflow: auto; height: 200px; width: 200px;"><div><div style="transform: translateY(260px); width: 50px;">a</div></div></div>',t.firstChild.scrollWidth>t.firstChild.clientWidth}},{name:"FlexBoxBasisBug",ready:!0,fn:function(){return!!(ei.Z.isIE11||ei.Z.os.is.iOS&&ei.Z.os.version.major<=10||ei.Z.isSafari&&ei.Z.browser.version.isLessThan(11)||ei.Z.os.is.Android&&ei.Z.os.version.isLessThan(6))}},{name:"PercentageSizeFlexBug",ready:!0,fn:function(e,t){if(ei.Z.isIE9m)return!1;var n=t.style;return n.display="flex",n.flexDirection="column",n.height=n.width="100px",t.innerHTML='<div style="flex: 1 1;"><div style="height:50%"></div></div>',50!==t.firstChild.firstChild.offsetHeight}},{name:"CannotScrollExactHeight",fn:function(){return ei.Z.isIE10p}},{name:"WebKitInputTableBoxModelBug",ready:!0,fn:function(e,t){var n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("input"),o=n.style,a=r.style,s=i.style;e=e.body;return i.type="text",o.display="table",o.height="100px",a.display="table-cell",s.border="0",s.padding="10px",s.boxSizing="border-box",s.height="100%",r.appendChild(i),n.appendChild(r),e.appendChild(n),o=80===i.offsetHeight,e.removeChild(n),o}},{name:"PassiveEventListener",fn:function(e,t){var n,r=!1;try{n=Object.defineProperty({},"passive",{get:function(){r=!0}}),window.addEventListener("e",null,n),window.removeEventListener("e",null,n)}catch(e){}return r}},{name:"CSSMinContent",ready:!0,fn:function(e,t){return t.innerHTML='<div style="height:4px;width:4px;min-height:-webkit-min-content;min-height:-moz-min-content;min-height:min-content"><div style="height:8px;width:8px"></div></div>',8===t.firstChild.offsetHeight}},{name:"ComputedSizeIncludesPadding",ready:!0,fn:function(e,t){var n,r=!1,i=document.body;return window.getComputedStyle&&((n=document.createElement("div")).style.cssText="width:10px;padding:2px;-webkit-box-sizing:border-box;box-sizing:border-box;",i.appendChild(n),r="10px"===window.getComputedStyle(n,null).width,i.removeChild(n)),r}},{name:"inputEventData",ready:!1,fn:function(){return!(!window.InputEvent||!("data"in new InputEvent("input")))}},0]},ei.Z.feature.tests.pop(),ei.Z.supports={},ei.Z.feature.detect(),ei.Z.env.Ready={blocks:0<(location.search||"").indexOf("ext-pauseReadyFire")?1:0,bound:0,delay:1,firing:!1,generation:0,listeners:[],nextId:0,sortGeneration:0,state:0,timer:null,bind:function(){var e=ei.Z.env.Ready,t=document;e.bound||("complete"===t.readyState?e.onReadyEvent({type:t.readyState||"body"}):(e.bound=1,ei.Z.browser.is.PhoneGap&&!ei.Z.os.is.Desktop&&(e.bound=2,t.addEventListener("deviceready",e.onReadyEvent,!1)),t.addEventListener("DOMContentLoaded",e.onReadyEvent,!1),window.addEventListener("load",e.onReadyEvent,!1)))},block:function(){++this.blocks,ei.Z.isReady=!1},fireReady:function(){var e=ei.Z.env.Ready;e.state||(ei.Z._readyTime=ei.Z.ticks(),ei.Z.isDomReady=!0,e.state=1,ei.Z.feature.detect(!0),e.delay?navigator.standalone?e.timer=ei.Z.defer((function(){e.timer=null,e.handleReadySoon()}),1):e.handleReadySoon():e.handleReady())},handleReady:function(){var e=this;1===e.state&&(e.state=2,ei.Z._beforeReadyTime=ei.Z.ticks(),e.invokeAll(),ei.Z._afterReadyTime=ei.Z.ticks())},handleReadySoon:function(e){var t=this;t.timer||(t.timer=ei.Z.defer((function(){t.timer=null,t.handleReady()}),e||t.delay))},invoke:function(e){var t=e.delay;t?ei.Z.defer(e.fn,t,e.scope):ei.Z.elevateFunction?ei.Z.elevateFunction(e.fn,e.scope):e.fn.call(e.scope)},invokeAll:function(){ei.Z.elevateFunction?ei.Z.elevateFunction(this.doInvokeAll,this):this.doInvokeAll()},doInvokeAll:function(){var e,t=this,n=t.listeners;for(t.blocks||(ei.Z.isReady=!0),t.firing=!0;n.length;){if(t.sortGeneration!==t.generation&&(t.sortGeneration=t.generation,n.sort(t.sortFn)),e=n.pop(),t.blocks&&!e.dom){n.push(e);break}t.invoke(e)}t.firing=!1},makeListener:function(e,t,n){return e={fn:e,id:++this.nextId,scope:t,dom:!1,priority:0},n&&ei.Z.apply(e,n),e.phase=e.dom?0:1,e},on:function(e,t,n){var r=ei.Z.env.Ready;e=r.makeListener(e,t,n);2!==r.state||r.firing||!e.dom&&r.blocks?(r.listeners.push(e),++r.generation,r.bound||r.bind()):r.invoke(e)},onReadyEvent:function(e){var t=ei.Z.env.Ready;ei.Z.elevateFunction?ei.Z.elevateFunction(t.doReadyEvent,t,arguments):t.doReadyEvent(e)},doReadyEvent:function(e){var t=this;0<t.bound&&(t.unbind(),t.bound=-1),t.state||t.fireReady()},sortFn:function(e,t){return-(e.phase-t.phase||t.priority-e.priority||e.id-t.id)},unblock:function(){var e=this;!e.blocks||--e.blocks||2!==e.state||e.firing||e.invokeAll()},unbind:function(){var e=this,t=document;1<e.bound&&t.removeEventListener("deviceready",e.onReadyEvent,!1),t.removeEventListener("DOMContentLoaded",e.onReadyEvent,!1),window.removeEventListener("load",e.onReadyEvent,!1)}},function(){var e=ei.Z.env.Ready;ei.Z.onDocumentReady=function(t,n,r){var i={dom:!0};r&&ei.Z.apply(i,r),e.on(t,n,i)},ei.Z.onReady=function(t,n,r){e.on(t,n,r)},ei.Z.onInternalReady=function(t,n,r){e.on(t,n,ei.Z.apply({priority:1e3},r))},e.bind()}(),ei.Z.Loader=new function(){var e=this,t=ei.Z.ClassManager,n=ei.Z.Boot,r=ei.Z.Class,i=ei.Z.env.Ready,o=ei.Z.Function.alias,a=["extend","mixins","requires"],s={},l=[],u=[],c=[],d={},f={enabled:!0,scriptChainDelay:!1,disableCaching:!0,disableCachingParam:"_dc",paths:t.paths,preserveScripts:!0,scriptCharset:void 0},h={disableCaching:!0,disableCachingParam:!0,preserveScripts:!0,scriptChainDelay:"loadDelay"};ei.Z.apply(e,{isInHistory:s,isLoading:!1,history:l,config:f,readyListeners:u,optionalRequires:c,requiresMap:d,hasFileLoadError:!1,scriptsLoading:0,classesLoading:{},missingCount:0,missingQueue:{},syncModeEnabled:!1,init:function(){var n,r,o,a,s,l=(l=(l=document.getElementsByTagName("script"))[l.length-1].src).substring(0,l.lastIndexOf("/")+1),u=ei.Z._classPathMetadata,c=ei.Z.Microloader,d=ei.Z.manifest;if(t.getPath("GRUI")||t.setPath("GRUI",l+"src"),u&&(ei.Z._classPathMetadata=null,e.addClassPathMappings(u)),d&&(n=d.loadOrder,r=ei.Z.Boot.baseUrl,n&&d.bootRelative))for(o=n.length,a=0;a<o;a++)(s=n[a]).path=r+s.path,s.canonicalPath=!0;c&&(i.block(),c.onMicroloaderReady((function(){i.unblock()})))},setConfig:ei.Z.Function.flexSetter((function(t,r){var i=h[t];return"paths"===t?e.setPath(r):(f[t]=r,i&&n.setConfig(!0===i?t:i,r)),e})),getConfig:function(e){return e?f[e]:f},setPath:function(){return t.setPath.apply(t,arguments),e},addClassPathMappings:function(n){return t.setPath(n),e},addBaseUrlClassPathMappings:function(e){for(var t in e)e[t]=n.baseUrl+e[t];ei.Z.Loader.addClassPathMappings(e)},getPath:function(e){return t.getPath(e)},require:function(n,r,i,o){return o?e.exclude(o).require(n,r,i):(o=t.getNamesByExpression(n),e.load(o,r,i))},syncRequire:function(){var t,n=e.syncModeEnabled;return e.syncModeEnabled=!0,t=e.require.apply(e,arguments),e.syncModeEnabled=n,t},exclude:function(n){var r=t.select({require:function(t,n,r){return e.load(t,n,r)},syncRequire:function(t,n,r){var i=e.syncModeEnabled;return e.syncModeEnabled=!0,t=e.load(t,n,r),e.syncModeEnabled=i,t}});return r.exclude(n),r},load:function(n,r,i){r=r&&(r=r.length?e.makeLoadCallback(n,r):r).bind(i||ei.Z.global);for(var o,a,s=t.classState,l=[],u=[],c={},d=n.length,h=0;h<d;++h)o=t.resolveName(n[h]),t.isCreated(o)||(l.push(o),s[o]||(c[o]=e.getPath(o),u.push(c[o])));return(a=l.length)?(e.missingCount+=a,t.onCreated((function(){r&&ei.Z.callback(r,i,arguments),e.checkReady()}),e,l),f.enabled||ei.Z.raise("GRUI.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+(1<l.length?"es":"")+": "+l.join(", ")),u.length?e.loadScripts({url:u,_classNames:l,_urlByClass:c}):e.checkReady()):(r&&r.call(i),e.checkReady()),e.syncModeEnabled&&1===d?t.get(n[0]):e},makeLoadCallback:function(e,n){return function(){for(var r=[],i=e.length;0<i--;)r[i]=t.get(e[i]);return n.apply(this,r)}},onLoadFailure:function(t){var n,r,i,o=t.entries||[],a=this.onError;if(e.hasFileLoadError=!0,--e.scriptsLoading,a){for(i=0;i<o.length;i++)if((r=o[i]).error){n=new Error("Failed to load: "+r.url);break}n=n||new Error("Failed to load"),a.call(this.userScope,this,n,t)}e.checkReady()},onLoadSuccess:function(){var n,r,i,o=this,a=o.onLoad,s=o._classNames,l=o._urlByClass,u=t.classState,c=e.missingQueue;for(--e.scriptsLoading,a&&a.call(o.userScope,o),r=0,i=s.length;r<i;r++)u[n=s[r]]||(c[n]=l[n]);e.checkReady()},onReady:function(t,n,r,o){r?i.on(t,n,o):(r=i.makeListener(t,n,o),e.isLoading?u.push(r):i.invoke(r))},addUsedClasses:function(t){var n,r,i;if(t)for(r=0,i=(t="string"==typeof t?[t]:t).length;r<i;r++)"string"!=typeof(n=t[r])||ei.Z.Array.contains(c,n)||c.push(n);return e},triggerReady:function(){var t,n=c;if(e.isLoading&&n.length)c=[],e.require(n);else{for(e.isLoading=!1,u.sort(i.sortFn);u.length&&!e.isLoading;)t=u.pop(),i.invoke(t);i.unblock()}},historyPush:function(n){return!n||s[n]||t.overrideMap[n]||(s[n]=!0,l.push(n)),e},loadScripts:function(t){var r=ei.Z.manifest,i=r&&r.loadOrder,o=r&&r.loadOrderMap;++e.scriptsLoading,i&&!o&&(r.loadOrderMap=o=n.createLoadOrderMap(i)),e.checkReady(),(r=ei.Z.apply({loadOrder:i,loadOrderMap:o,charset:f.scriptCharset,success:e.onLoadSuccess,failure:e.onLoadFailure,sync:e.syncModeEnabled,_classNames:[]},t)).userScope=r.scope,r.scope=r,n.load(r)},loadScriptsSync:function(t){var n=e.syncModeEnabled;e.syncModeEnabled=!0,e.loadScripts({url:t}),e.syncModeEnabled=n},loadScriptsSyncBasePrefix:function(t){var n=e.syncModeEnabled;e.syncModeEnabled=!0,e.loadScripts({url:t,prependBaseUrl:!0}),e.syncModeEnabled=n},loadScript:function(t){var n=(o=!(t instanceof Array)&&!("string"==typeof t))?t.url:t,r=o&&t.onError,i=o&&t.onLoad,o=o&&t.scope;e.loadScripts({url:n,scope:o,onLoad:i,onError:r,_classNames:[]})},checkMissingQueue:function(){var n,r=e.missingQueue,i={},o=0;for(n in r)t.classState[n]||t.isCreated(n)||(i[n]=r[n],o++);e.missingCount=o,e.missingQueue=i},checkReady:function(){var t,n=e.isLoading;e.checkMissingQueue(),(t=e.missingCount+e.scriptsLoading)&&!n?(i.block(),e.isLoading=!!t):!t&&n&&e.triggerReady()}}),ei.Z.require=o(e,"require"),ei.Z.syncRequire=o(e,"syncRequire"),ei.Z.exclude=o(e,"exclude"),r.registerPreprocessor("loader",(function(n,r,i,o){for(var s,l,u,c,f,h=this,p=[],g=t.getName(n),m=0,v=a.length;m<v;m++)if(c=a[m],r.hasOwnProperty(c))if("string"==typeof(f=r[c]))p.push(f);else if(f instanceof Array)for(s=0,l=f.length;s<l;s++)"string"==typeof(u=f[s])&&p.push(u);else if("function"!=typeof f)for(s in f)f.hasOwnProperty(s)&&"string"==typeof(u=f[s])&&p.push(u);if(0!==p.length)return g&&(d[g]=p),(g?e.exclude(g):e).require(p,(function(){for(var e,s,l,d=0,p=a.length;d<p;d++)if(c=a[d],r.hasOwnProperty(c))if("string"==typeof(f=r[c]))r[c]=t.get(f);else if(f instanceof Array)for(e=0,s=f.length;e<s;e++)"string"==typeof(u=f[e])&&(r[c][e]=t.get(u));else if("function"!=typeof f)for(l in f)f.hasOwnProperty(l)&&"string"==typeof(u=f[l])&&(r[c][l]=t.get(u));o.call(h,n,r,i)})),!1}),!0,"after","className"),t.registerPostprocessor("uses",(function(n,r,i){i.uses&&(i=t.getNamesByExpression(i.uses),e.addUsedClasses(i))})),t.onCreated(e.historyPush),e.init()},ei.Z._endTime=ei.Z.ticks(),ei.Z._beforereadyhandler&&ei.Z._beforereadyhandler(),ei.Z.define("GRUI.Mixin",(function(e){return{statics:{addHook:function(e,t,n,r){function i(){var t=arguments,n=o?e:r[e],i=this.callParent2(this,"null","null","addHook",this.addHook,arguments);return n.apply(this,t),i}var o=ei.Z.isFunction(e),a=t.hasOwnProperty(n)&&t[n];o&&(e.$previous=ei.Z.emptyFn),i.$name=n,i.$owner=t.self,a?(i.$previous=a.$previous,a.$previous=i):t[n]=i}},onClassExtended:function(t,n){var r,i,o,a,s,l=n.mixinConfig,u=n.xhooks,c=(t=t.superclass,n.onClassMixedIn),d=n.afterClassMixedIn;u&&(delete n.xhooks,(l||(n.mixinConfig=l={})).on=u),l&&((t=t.mixinConfig)&&(n.mixinConfig=l=ei.Z.merge({},t,l)),n.mixinId=l.id,r=l.after,i=l.before,o=l.configs,a=l.extended,u=l.on,s=l.mixed),(r||i||u||a)&&(n.onClassMixedIn=function(t){var n,o=this.prototype,s=t.prototype;if(i&&ei.Z.Object.each(i,(function(e,n){t.hookMember(e,(function(){if(!1!==o[n].apply(this,arguments)){var r=t.prototype[e].$previous,i=t.prototype[e].$owner&&t.prototype[e].$owner.superclass[e],a=r||i;return a.apply(this,arguments)}}))})),r&&ei.Z.Object.each(r,(function(e,n){t.hookMember(e,(function(){var r=t.prototype[e].$previous,i=t.prototype[e].$owner&&t.prototype[e].$owner.superclass[e],a=r||i;return r=(a=a.$previous?a.$previous:a).apply(this,arguments),o[n].apply(this,arguments),r}))})),u)for(n in u)e.addHook(u[n],s,n,o);a&&t.onExtended((function(){var e=ei.Z.Array.slice(arguments,0);return e.unshift(t),a.apply(this,e)}),this),c&&c.apply(this,arguments)}),(o||s)&&(n.afterClassMixedIn=function(e){if(o){var t,n,r,i=e.prototype,a=this.$config.configs;for(n in i)(t=a[n])&&t.isConfig&&i.hasOwnProperty(n)&&((r=r||{})[n]=i[n],delete i[n]);r&&e.$config.add(r)}d&&d.apply(this,arguments),s&&s.apply(this,arguments)})}}})),ei.Z.util=ei.Z.util||{},ei.Z.util.DelayedTask=function(e,t,n,r,i){function o(){s.id=null,t&&t.destroyed||(n?e.apply(t,n):e.call(t)),!1===i&&(ei.Z._suppressIdle=!0)}var a,s=this;r="boolean"!=typeof r||r,s.id=null,s.delay=function(i,l,u,c){return r&&s.cancel(),"number"==typeof i&&(a=i),e=l||e,t=u||t,n=c||n,s.delayTime=a,s.id||(s.id=-1===a?ei.Z.raf(o):ei.Z.defer(o,a||1)),s.id},s.cancel=function(){s.id&&(-1===s.delayTime?ei.Z.unraf(s.id):ei.Z.undefer(s.id),s.id=null)},s.flush=function(){var e;s.id&&(s.cancel(),e=i,i=!0,o(),i=e)},s.stop=function(n,r){!n||n!==e||r&&r!==t||s.cancel()}},ei.Z.define("GRUI.util.Event",(function(){var e=Array.prototype.slice,t=ei.Z.Array.insert,n=ei.Z.Array.toArray,r={};return{requires:"GRUI.util.DelayedTask",isEvent:!0,suspended:0,noOptions:{},constructor:function(e,t){this.name=t,this.observable=e,this.listeners=[]},addListener:function(e,n,r,i,o){var a,s,l,u,c,d,f,h,p=this,g=!1,m=p.observable,v=p.name;if(-1===p.findListener(e,n)){if(i=p.createListener(e,n,r,i,o),p.firing&&(p.listeners=p.listeners.slice(0)),f=d=(a=p.listeners).length,s=r&&r.priority,c=void 0!==(u=p._highestNegativePriorityIndex),s)if(!(l=s<0)||c){for(h=l?u:0;h<d;h++)if((a[h].o&&a[h].o.priority||0)<s){f=h;break}}else p._highestNegativePriorityIndex=f;else c&&(f=u);!l&&f<=u&&p._highestNegativePriorityIndex++,f===d?a[d]=i:t(a,f,[i]),m.isElement&&m._getPublisher(v,!1===r.translate).subscribe(m,v,!1!==r.delegated,r.capture),o&&(o.managedListeners||(o.managedListeners=[])).push({item:p.observable,ename:r&&r.managedName||p.name,fn:e,scope:n,options:r}),g=!0}return g},createListener:function(e,t,n,r,i){var o=this,a=ei.Z._namedScopes,s=(r={fn:e,scope:t,ev:o,caller:r,manager:i,namedScope:s=a[t],defaultScope:s?t||o.observable:void 0,lateBound:"string"==typeof e},i=e,!1);return r.lateBound&&"."===e[2]&&(r.defaultScope=null,r.namedScope=a[r.scope=t="up"],r.fn=i=e.substr(3)),n&&((r.o=n).single&&(i=o.createSingle(i,r,n,t),s=!0),n.target&&(i=o.createTargeted(i,r,n,t,s),s=!0),n.onFrame&&(i=o.createAnimFrame(i,r,n,t,s),s=!0),n.delay&&(i=o.createDelayed(i,r,n,t,s),s=!0),n.buffer&&(i=o.createBuffered(i,r,n,t,s),s=!0),o.observable.isElement&&(a=n.type)&&(r.type=a)),r.fireFn=i,r.wrapped=s,r},findListener:function(e,t){for(var n,r=this.listeners,i=r.length;i--;)if((n=r[i])&&n.fn===e&&n.scope==t)return i;return-1},removeListener:function(e,t,n){var r,i,o,a,s,l=this,u=!1,c=l.observable,d=l.name;if(-1!==(n=null!=n?n:l.findListener(e,t))){if(r=l.listeners[n],l.firing&&(l.listeners=l.listeners.slice(0)),l.listeners.splice(n,1),l._highestNegativePriorityIndex&&(n<l._highestNegativePriorityIndex?l._highestNegativePriorityIndex--:n===l._highestNegativePriorityIndex&&n===l.listeners.length&&delete l._highestNegativePriorityIndex),r){if(n=r.o,r.task&&(r.task.cancel(),delete r.task),s=r.tasks&&r.tasks.length){for(;s--;)r.tasks[s].cancel();delete r.tasks}if(r.fireFn.hasOwnProperty("timerId")&&(r.fireFn.timerId=ei.Z.undefer(r.fireFn.timerId)),(i=r.manager)&&(o=i.managedListeners))for(s=o.length;s--;)(a=o[s]).item===l.observable&&a.ename===d&&a.fn===e&&a.scope===t&&o.splice(s,1);c.isElement&&c._getPublisher(d,!1===n.translate).unsubscribe(c,d,!1!==n.delegated,n.capture)}u=!0}return u},clearListeners:function(){for(var e,t=this.listeners,n=t.length;n--;)e=t[n],this.removeListener(e.fn,e.scope)},suspend:function(){++this.suspended},resume:function(){this.suspended&&--this.suspended},isSuspended:function(){return 0<this.suspended},fireDelegated:function(e,t){return this.firingObservable=e,this.fire.apply(this,t)},fire:function(){var t,n,r,i,o,a,s,l,u,c,d,f=this,h=ei.Z.ComponentQuery,p=f.listeners,g=p.length,m=f.observable,v=m.isElement,y=m.isComponent,b=f.firingObservable;if(!f.suspended&&0<g)for(f.firing=!0,i=(r=arguments.length?e.call(arguments,0):[]).length,v&&(u=r[0]),n=0;n<g;n++)if(d=p[n]){if(t=d.o,v&&(a&&u.setCurrentTarget(a),(l=d.type)&&(s=u,u=r[0]=s.chain({type:l,isGesture:!1})),ei.Z.EventObject=u),l=r,t){if(c=t.delegate)if(v){if(!(o=u.getTarget("function"==typeof c?c:"#"+u.currentTarget.id+" "+c)))continue;r[1]=o,a=u.currentTarget,u.setCurrentTarget(o)}else if(y&&!h.is(b,c,m))continue;v&&(t.preventDefault&&u.preventDefault(),t.stopPropagation&&u.stopPropagation(),t.stopEvent&&u.stopEvent()),(r[i]=t).args&&(l=t.args.concat(r))}if(c=(o=f.getFireInfo(d)).fn,d=o.scope,o.fn=o.scope=null,d&&d.destroyed&&(f.removeListener(c,d,n),c=null),c&&!1===c.apply(d,l))return ei.Z.EventObject=null,f.firing=!1;t&&r.length--,s&&(u=r[0]=s,s=null),ei.Z.EventObject=null}return!(f.firing=!1)},getFireInfo:function(e,t){var n=this.observable,i=e.fireFn,o=e.scope,a=e.namedScope;return!t&&e.wrapped?r.fn=i:(t=t?e.fn:i,e.lateBound?(i=e.caller||n,a&&a.isUp?o=ei.Z.lookUpFn(i,t):o&&!a||(o=i.resolveListenerScope(e.defaultScope)),t=o[t]):a&&a.isController?o=(e.caller||n).resolveListenerScope(e.defaultScope):o&&!a||(o=n),r.fn=t,r.scope=o),r},createAnimFrame:function(e,t,n,r,i){return i||(e=(i=t.ev.getFireInfo(t,!0)).fn,r=i.scope,i.fn=i.scope=null),ei.Z.Function.createAnimationFrame(e,r,n.args)},createTargeted:function(e,t,n,r,i){return function(){var o;if(n.target===arguments[0])return i||(o=t.ev.getFireInfo(t,!0),e=o.fn,r=o.scope,o.fn=o.scope=null),e.apply(r,arguments)}},createBuffered:function(e,t,r,i,o){return t.task=new ei.Z.util.DelayedTask,function(){var a;t.task&&(o||(a=t.ev.getFireInfo(t,!0),e=a.fn,i=a.scope,a.fn=a.scope=null),t.task.delay(r.buffer,e,i,n(arguments)))}},createDelayed:function(e,t,r,i,o){return function(){var a,s=new ei.Z.util.DelayedTask;o||(a=t.ev.getFireInfo(t,!0),e=a.fn,i=a.scope,a.fn=a.scope=null),t.tasks||(t.tasks=[]),t.tasks.push(s),s.delay(r.delay||10,e,i,n(arguments))}},createSingle:function(e,t,n,r,i){return function(){var n=t.ev,o=n.observable,a=t.fn;return o?o.destroyed||o.removeListener(n.name,a,r):n.removeListener(a,r),i||(o=n.getFireInfo(t,!0),e=o.fn,r=o.scope,o.fn=o.scope=null),e.apply(r,arguments)}}}})),ei.Z.define("GRUI.mixin.Identifiable",(function(e){return{isIdentifiable:!0,mixinId:"identifiable",getId:function(){var t,n=this,r=n.id;return r||0===r||((t=n.initialConfig)&&t.id?r=t.id:(r=n.generateAutoId(),n.autoGenId=!0),n.setId(r)),n.getId=e._getId,r},setId:function(e){this.id=this.id=e},privates:{statics:{_idCleanRe:/\.|[^\w-]/g,uniqueIds:{},_getId:function(){return this.id}},defaultIdPrefix:"grui-",defaultIdSeparator:"-",id:null,autoGenId:!1,generateAutoId:function(){var t,n,r,i,o=this,a=o.self.prototype,s=o.defaultIdSeparator,l=e.uniqueIds;return a.hasOwnProperty("identifiablePrefix")||(t=e._idCleanRe,n=o.defaultIdPrefix,r=(i=o.xtype)?n+i.replace(t,s)+s:(r=a.$className)?r.replace(t,s).toLowerCase()+s:n+"anonymous"+s,a.identifiablePrefix=r),r=o.identifiablePrefix,l.hasOwnProperty(r)||(l[r]=0),r+ ++l[r]}}}})),ei.Z.define("GRUI.mixin.Observable",(function(e){function t(e){if(e instanceof t)return e;this.observable=e,arguments[1].isObservable&&(this.managedListeners=!0),this.args=i.call(arguments,1)}var n=ei.Z.emptyFn,r=[],i=Array.prototype.slice,o=["events","hasListeners","managedListeners","eventedBeforeEventNames"];return t.prototype.destroy=function(){var e=this,t=e.args,n=e.observable;(n=(t=t[0].element||t[3]&&t[3].element)?n[t]:n).destroyed||n[e.managedListeners?"mun":"un"].apply(n,e.args),e.destroy=ei.Z.emptyFn},{extend:"GRUI.Mixin",mixinConfig:{id:"observable",after:{destroy:"destroyObservable"}},requires:["GRUI.util.Event"],mixins:["GRUI.mixin.Identifiable"],statics:{releaseCapture:function(e){e.fireEventArgs=this.prototype.fireEventArgs},capture:function(e,t,n){this.captureArgs(e,(function(e,r){return t.apply(n,[e].concat(r))}),n)},captureArgs:function(e,t,n){e.fireEventArgs=ei.Z.Function.createInterceptor(e.fireEventArgs,t,n)},observe:function(e,t){return e&&(e.isObservable||(ei.Z.applyIf(e,new this),this.captureArgs(e.prototype,e.fireEventArgs,e)),ei.Z.isObject(t)&&e.on(t)),e},prepareClass:function(t,n,r){var i,a,s,l=t.listeners=[],u=(r=r||t.prototype).listeners,c=(n||t.superclass.self).listeners;for(c&&l.push(c),u&&((i=u.scope)?(c=ei.Z._namedScopes[i])&&c.isController&&(u.scope="self.controller"):u.scope="self",l.push(u),r.listeners=null),t.HasListeners||(c=t.superclass.HasListeners||n&&n.HasListeners||e.HasListeners,(t.prototype.HasListeners=t.HasListeners=function(){}).prototype=t.hasListeners=new c),i=t.prototype.$noClearOnDestroy||{},a=0,s=o.length;a<s;a++)i[o[a]]=!0;t.prototype.$noClearOnDestroy=i}},isObservable:!0,$vetoClearingPrototypeOnDestroy:!0,eventsSuspended:0,constructor:function(e){var t,n,r,i,o=this,a=o.self;if(!o.$observableInitialized){if(o.$observableInitialized=!0,o.hasListeners=o.hasListeners=new o.HasListeners,o.eventedBeforeEventNames={},o.events=o.events||{},(n=a.listeners)&&!o._addDeclaredListeners(n)&&(a.listeners=null),t=e&&e.listeners||o.listeners)if(t instanceof Array)for(i=0,r=t.length;i<r;++i)o.addListener(t[i]);else o.addListener(t);(n=e&&e.bubbleEvents||o.bubbleEvents)&&o.enableBubble(n),o.$applyConfigs?e&&ei.Z.apply(o,e):o.initConfig(e),t&&(o.listeners=null)}},onClassExtended:function(t,n){t.HasListeners||e.prepareClass(t,t.prototype.$observableMixedIn?void 0:n)},$eventOptions:{scope:1,delay:1,buffer:1,onFrame:1,single:1,args:1,destroyable:1,priority:1,order:1},$orderToPriority:{before:100,current:0,after:-100},_addDeclaredListeners:function(e){var t=this;return e instanceof Array?ei.Z.each(e,t._addDeclaredListeners,t):(t._addedDeclaredListeners=!0,t.addListener(e)),t._addedDeclaredListeners},addManagedListener:function(e,r,i,o,a,s){var l,u,c=this;if(c.managedListeners=c.managedListeners||[],"string"!=typeof r){for(r in u=4<arguments.length?a:r,a=r)a.hasOwnProperty(r)&&(l=a[r],e.$eventOptions[r]||c.addManagedListener(e,r,l.fn||l,l.scope||a.scope||o,l.fn?l:u,!0));if(a&&a.destroyable)return new t(c,e,a)}else if(i!==n&&(e.doAddListener(r,i,o,a,null,c,c),!s&&a&&a.destroyable))return new t(c,e,r,i,o)},removeManagedListener:function(e,t,n,r){var i,o,a,s,l;if(!e.$observableDestroyed)if("string"!=typeof t)for(t in i=t)i.hasOwnProperty(t)&&(o=i[t],e.$eventOptions[t]||this.removeManagedListener(e,t,o.fn||o,o.scope||i.scope||r));else for(a=this.managedListeners?this.managedListeners.slice():[],t=ei.Z.canonicalEventName(t),l=0,s=a.length;l<s;l++)this.removeManagedListenerItem(!1,a[l],e,t,n,r)},fireEvent:function(e){return this.fireEventArgs(e,i.call(arguments,1))},resolveListenerScope:function(e){var t=ei.Z._namedScopes[e];return(e=t&&(t.isSelf||t.isThis)?null:e)||this},fireEventArgs:function(e,t){var n=this.events,i=!0;return e=ei.Z.canonicalEventName(e),n=n&&n[e],this.hasListeners[e]?this.doFireEvent(e,t||r,!!n&&n.bubble):i},fireAction:function(e,t,n,r,i,o){"string"!=typeof n||r||(n=this[n]),(i=i?ei.Z.Object.chain(i):{}).single=!0,i.priority="after"===o?-99.5:99.5,this.doAddListener(e,n,r,i),this.fireEventArgs(e,t)},$eventedController:{_paused:1,pause:function(){++this._paused},resume:function(){var e,t,n=this,r=n.fn,i=n.scope,o=n.fnArgs;if(!--n._paused)return(!r||(e=ei.Z.Array.slice(o||n.args),!1===o&&e.shift(),n.fn=null,e.push(n),ei.Z.isFunction(r)?t=r.apply(i,e):i&&ei.Z.isString(r)&&ei.Z.isFunction(i[r])&&(t=i[r].apply(i,e)),!1!==t))&&(n._paused?void 0:n.owner.fireEventArgs(n.eventName,n.args))}},fireEventedAction:function(e,t,n,r,i){var o=(o=this.eventedBeforeEventNames)[e]||(o[e]="before"+e);e=ei.Z.apply({owner:this,eventName:e,fn:n,scope:r,fnArgs:i,args:t},this.$eventedController);return t.push(e),n=this.fireEventArgs(o,t),t.pop(),!1!==n&&e.resume()},doFireEvent:function(e,t,n){var r,i=this,o=!0;do{if(i.eventsSuspended)return(r=i.eventQueue)&&r.push([e,t]),o}while((!(r=i.events&&i.events[e])||!0===r||!1!==(o=r.fire.apply(r,t)))&&n&&(i=i.getBubbleParent()));return o},getBubbleParent:function(){var e=this.getBubbleTarget&&this.getBubbleTarget();return e&&e.isObservable?e:null},addListener:function(e,n,r,i,o,a){var s,l,u,c,d,f=this,h=ei.Z._namedScopes;if("string"!=typeof e){for(e in u=(l=(r=(i=e).scope)&&h[r])&&l.isSelf,d=(f.isComponent||f.isWidget)&&i.element?f.$elementEventOptions:f.$eventOptions,i)s=i[e],d[e]||((c=s.scope)&&u&&(l=h[c])&&l.isController&&(c="self.controller"),f.doAddListener(e,s.fn||s,c||r,s.fn?s:i,o,a));if(i&&i.destroyable)return new t(f,i)}else if(f.doAddListener(e,n,r,i,o,a),i&&i.destroyable)return new t(f,e,n,r,i);return f},removeListener:function(e,t,n,r){var i,o,a=this;if("string"!=typeof e)for(e in o=e,r=r||a.$eventOptions,o)o.hasOwnProperty(e)&&(i=o[e],a.$eventOptions[e]||a.doRemoveListener(e,i.fn||i,i.scope||o.scope));else a.doRemoveListener(e,t,n);return a},onBefore:function(e,t,n,r){return this.addListener(e,t,n,r,"before")},onAfter:function(e,t,n,r){return this.addListener(e,t,n,r,"after")},unBefore:function(e,t,n,r){return this.removeListener(e,t,n,r,"before")},unAfter:function(e,t,n,r){return this.removeListener(e,t,n,r,"after")},addBeforeListener:function(){return this.onBefore.apply(this,arguments)},addAfterListener:function(){return this.onAfter.apply(this,arguments)},removeBeforeListener:function(){return this.unBefore.apply(this,arguments)},removeAfterListener:function(){return this.unAfter.apply(this,arguments)},clearListeners:function(){var e,t,n=this.events,r=this.hasListeners;if(n){for(t in n)n.hasOwnProperty(t)&&(e=n[t]).isEvent&&(delete r[t],e.clearListeners());this.events=null}this.clearManagedListeners()},clearManagedListeners:function(){var e,t,n=this.managedListeners;if(n){for(this.managedListeners=null,e=0,t=n.length;e<t;e++)this.removeManagedListenerItem(!0,n[e]);n.length=0}this.managedListeners=n},removeManagedListenerItem:function(e,t,n,r,i,o){!e&&(t.item!==n||t.ename!==r||i&&t.fn!==i||o&&t.scope!==o)||(t.item.destroyed||t.item.doRemoveListener(t.ename,t.fn,t.scope,t.options),e||ei.Z.Array.remove(this.managedListeners,t))},hasListener:function(e){return e=ei.Z.canonicalEventName(e),!!this.hasListeners[e]},isSuspended:function(e){var t=0<this.eventsSuspended,n=this.events;return!t&&e&&n&&(e=n[e])&&e.isEvent?e.isSuspended():t},suspendEvents:function(e){++this.eventsSuspended,e&&!this.eventQueue&&(this.eventQueue=[])},suspendEvent:function(){for(var e,t,n=this.events,r=arguments.length,i=0;i<r;i++)(e=(e=n[t=ei.Z.canonicalEventName(arguments[i])])&&e.isEvent?e:this._initEvent(t)).suspend()},resumeEvent:function(){for(var e,t=this.events||0,n=t&&arguments.length,r=0;r<n;r++)(e=t[ei.Z.canonicalEventName(arguments[r])])&&e.resume&&e.resume()},resumeEvents:function(e){var t,n,r=this,i=r.eventQueue;if(r.eventsSuspended&&!--r.eventsSuspended&&(delete r.eventQueue,!e&&i))for(t=i.length,n=0;n<t;n++)r.fireEventArgs.apply(r,i[n])},relayEvents:function(e,n,r){var i,o,a=n.length,s=0,l={};if(ei.Z.isObject(n))for(s in n)o=n[s],l[s]=this.createRelayer(o);else for(;s<a;s++)l[i=n[s]]=this.createRelayer(r?r+i:i);return this.mon(e,l,null,null,void 0),new t(this,e,l)},createRelayer:function(e,t){var n=this;return function(){return n.fireEventArgs.call(n,e,t?i.apply(arguments,t):arguments)}},enableBubble:function(e){if(e)for(var t,n,r="string"==typeof e?arguments:e,i=this.events,o=i&&r.length,a=0;a<o;++a)t=r[a],(n=i[t=ei.Z.canonicalEventName(t)])&&n.isEvent||(n=this._initEvent(t)),this.hasListeners._incr_(t),n.bubble=!0},destroy:function(){this.clearListeners(),this.callParent2(this,"GRUI.Mixin","null","destroy",this.destroy,arguments),this.destroyObservable(!0)},destroyObservable:function(e){var t=this,n=t.clearPropertiesOnDestroy;t.$observableDestroyed||(e||t.clearListeners(),t.destroyed&&n&&(!0!==n||t.$nulled||t.$reap(),t.clearPrototypeOnDestroy||(t.fireEvent=t.fireEventArgs=t.fireAction=t.fireEventedAction=ei.Z.emptyFn),t.events=t.managedListeners=t.eventedBeforeEventNames=null,t.$observableDestroyed=!0))},privates:{doAddListener:function(e,t,r,i,o,a,s){var l=this,u=!1;return(o=o||i&&i.order)&&!(i&&i.priority)&&((i=i?ei.Z.Object.chain(i):{}).priority=l.$orderToPriority[o]),e=ei.Z.canonicalEventName(e),(o=(l.events||(l.events={}))[e])&&o.isEvent||(o=l._initEvent(e)),t!==n&&(!s&&r&&r.isObservable&&r!==l&&(s=r),o.addListener(t,r,i,a,s)&&(l.hasListeners._incr_(e),u=!0)),u},doRemoveListener:function(e,t,n){var r=!1,i=this.events;return e=ei.Z.canonicalEventName(e),(i=i&&i[e])&&i.isEvent&&i.removeListener(t,n)&&(this.hasListeners._decr_(e),r=!0),r},_initEvent:function(e){return this.events[e]=new ei.Z.util.Event(this,e)}},deprecated:{"5.0":{methods:{addEvents:null}}}}}),(function(){function e(){}var t=this,n=t.prototype,r=n.onClassMixedIn;function i(e){var t,n,r,i,o=(this.methodEvents=this.methodEvents||{})[e],a=this;return o||(a.methodEvents[e]=o={},o.originalFn=a[e],o.methodName=e,o.before=[],o.after=[],i=function(e,i,o){i=i||a,"string"==typeof e&&(e=i[e]),void 0!==(n=e.apply(i,o))&&("object"==typeof n?(t=void 0!==n.returnValue?n.returnValue:n,r=!!n.cancel):!1===n?r=!0:t=n)},a[e]=function(){var e,s,l,u=Array.prototype.slice.call(arguments,0),c=u.length;for(t=n=void 0,r=!1,s=0,l=o.before.length;s<l;s++)if((e=o.before[s]).extraArgs&&u.push.apply(u,e.extraArgs),i(e.fn,e.scope,u),u.length=c,r||e.preventDefault)return t;for(void 0!==(n=o.originalFn.apply(a,u))&&(t=n),s=0,l=o.after.length;s<l;s++)if((e=o.after[s]).extraArgs&&u.push.apply(u,e.extraArgs),i(e.fn,e.scope,u),u.length=c,r||e.preventDefault)return t;return t}),o}e.prototype={_decr_:function(e,t){(this[e]-=t=null==t?1:t)||delete this[e]},_incr_:function(e){this.hasOwnProperty(e)?++this[e]:this[e]=1}},n.HasListeners=t.HasListeners=e,t.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener",setListeners:"addListener"}),t.observeClass=t.observe,ei.Z.apply(n,{onClassMixedIn:function e(n){var i=n.prototype;n.HasListeners||(i.$observableMixedIn=1,t.prepareClass(n,this),n.onExtended((function(e,n){t.prepareClass(e,null,n)})),i.onClassMixedIn?ei.Z.override(n,{onClassMixedIn:function(t){e.call(this,t),this.callParent2(this,"GRUI.Mixin","null","onClassMixedIn",this.onClassMixedIn,arguments)}}):i.onClassMixedIn=function(t){e.call(this,t)}),r.call(this,n)},beforeMethod:function(e,t,n,r,o){i.call(this,e).before.push({fn:t,scope:n,extraArgs:o,preventDefault:r})},afterMethod:function(e,t,n,r,o){i.call(this,e).after.push({fn:t,scope:n,extraArgs:o,preventDefault:r})},removeMethodListener:function(e,t,n){for(var r=i.call(this,e),o=0,a=r.before.length;o<a;o++)if(r.before[o].fn==t&&r.before[o].scope==n)return void ei.Z.Array.erase(r.before,o,1);for(o=0,a=r.after.length;o<a;o++)if(r.after[o].fn==t&&r.after[o].scope==n)return void ei.Z.Array.erase(r.after,o,1)},toggleEventLogging:function(e){ei.Z.util.Observable[e?"capture":"releaseCapture"](this,(function(e){ei.Z.isDefined(ei.Z.global.console)&&ei.Z.global.console.log(e,arguments)}))}})})),ei.Z.define("GRUI.util.HashMap",{mixins:["GRUI.mixin.Observable"],generation:0,config:{keyFn:null},constructor:function(e){var t=this;t.mixins.observable.constructor.call(t,e),t.clear(!0),(e=t.getKeyFn())&&(t.getKey=e)},getCount:function(){return this.length},getData:function(e,t){return void 0===t&&(t=e,e=this.getKey(t)),[e,t]},getKey:function(e){return e.id},add:function(e,t){var n=this;return 1===arguments.length&&(t=e,e=n.getKey(t)),n.containsKey(e)?n.replace(e,t):(n.map[e]=t,++n.length,n.generation++,n.hasListeners.add&&n.fireEvent("add",n,e,t),t)},replace:function(e,t){var n,r=this,i=r.map;return 1===arguments.length&&(t=e,e=r.getKey(t)),r.containsKey(e)||r.add(e,t),n=i[e],i[e]=t,r.generation++,r.hasListeners.replace&&r.fireEvent("replace",r,e,t,n),t},remove:function(e){return void 0!==(e=this.findKey(e))&&this.removeAtKey(e)},removeAtKey:function(e){var t,n=this;return!!n.containsKey(e)&&(t=n.map[e],delete n.map[e],--n.length,n.generation++,n.hasListeners.remove&&n.fireEvent("remove",n,e,t),!0)},get:function(e){var t=this.map;return t.hasOwnProperty(e)?t[e]:void 0},clear:function(e){var t=this;return(e||t.generation)&&(t.map={},t.length=0,t.generation=e?0:t.generation+1),!0!==e&&t.hasListeners.clear&&t.fireEvent("clear",t),t},containsKey:function(e){var t=this.map;return t.hasOwnProperty(e)&&void 0!==t[e]},contains:function(e){return this.containsKey(this.findKey(e))},getKeys:function(){return this.getArray(!0)},getValues:function(){return this.getArray(!1)},getArray:function(e){var t,n=[],r=this.map;for(t in r)r.hasOwnProperty(t)&&n.push(e?t:r[t]);return n},each:function(e,t){var n,r=ei.Z.apply({},this.map),i=this.length;for(n in t=t||this,r)if(r.hasOwnProperty(n)&&!1===e.call(t,n,r[n],i))break;return this},clone:function(){var e,t=new this.self(this.initialConfig),n=this.map;for(e in t.suspendEvents(),n)n.hasOwnProperty(e)&&t.add(e,n[e]);return t.resumeEvents(),t},findKey:function(e){var t,n=this.map;for(t in n)if(n.hasOwnProperty(t)&&n[t]===e)return t}},(function(e){(e=e.prototype).removeByKey=e.removeAtKey})),ei.Z.define("GRUI.AbstractManager",{requires:["GRUI.util.HashMap"],typeName:"type",constructor:function(e){ei.Z.apply(this,e||{}),this.all=new ei.Z.util.HashMap,this.types={}},get:function(e){return this.all.get(e)},register:function(e){this.all.add(e)},unregister:function(e){this.all.remove(e)},registerType:function(e,t){(this.types[e]=t)[this.typeName]=e},isRegistered:function(e){return void 0!==this.types[e]},create:function(e,t){return t=e[this.typeName]||e.type||t,new this.types[t](e)},onAvailable:function(e,t,n){var r,i,o=this.all;o.containsKey(e)?(r=o.get(e),t.call(n||r,r)):(i=function(r,a,s){a===e&&(t.call(n||s,s),o.un("add",i))},o.on("add",i))},each:function(e,t){this.all.each(e,t||this)},getCount:function(){return this.all.getCount()}}),ei.Z.define("GRUI.promise.Consequence",(function(e){return{promise:null,deferred:null,onFulfilled:null,onRejected:null,onProgress:null,constructor:function(e,t,n){var r=this;r.onFulfilled=e,r.onRejected=t,r.onProgress=n,r.deferred=new ei.Z.promise.Deferred,r.promise=r.deferred.promise},trigger:function(e,t){var n=this,r=n.deferred;switch(e){case"fulfill":n.propagate(t,n.onFulfilled,r,r.resolve);break;case"reject":n.propagate(t,n.onRejected,r,r.reject)}},update:function(e){ei.Z.isFunction(this.onProgress)&&(e=this.onProgress(e)),this.deferred.update(e)},propagate:function(e,t,n,r){ei.Z.isFunction(t)?this.schedule((function(){try{n.resolve(t(e))}catch(e){n.reject(e)}})):r.call(this.deferred,e)},schedule:function(t){var n=e.queueSize++;e.queue[n]=t,n||ei.Z.asap(e.dispatch)},statics:{queue:new Array(1e4),queueSize:0,dispatch:function(){for(var t,n=e.queue,r=0;r<e.queueSize;++r)t=n[r],n[r]=null,t();e.queueSize=0}}}})),ei.Z.define("GRUI.promise.Deferred",{requires:["GRUI.promise.Consequence"],promise:null,consequences:[],completed:!1,completionAction:null,completionValue:null,constructor:function(){var e=this;e.promise=new ei.Z.promise.Promise(e),e.consequences=[],e.completed=!1,e.completionAction=null,e.completionValue=null},then:function(e,t,n){var r=this;e=new ei.Z.promise.Consequence(e,t,n);return r.completed?e.trigger(r.completionAction,r.completionValue):r.consequences.push(e),e.promise},resolve:function(e){var t,n,r=this;if(!r.completed)try{if(e===r.promise)throw new TypeError("A Promise cannot be resolved with itself.");if(null!=e&&("object"==typeof e||ei.Z.isFunction(e))&&ei.Z.isFunction(n=e.then)){t=!1;try{n.call(e,(function(e){t||(t=!0,r.resolve(e))}),(function(e){t||(t=!0,r.reject(e))}))}catch(e){t||r.reject(e)}}else r.complete("fulfill",e)}catch(e){r.reject(e)}},reject:function(e){this.completed||this.complete("reject",e)},update:function(e){var t,n,r=this.consequences;if(!this.completed)for(t=0,n=r.length;t<n;t++)r[t].update(e)},complete:function(e,t){var n,r,i=this,o=i.consequences;for(i.completionAction=e,i.completionValue=t,i.completed=!0,n=0,r=o.length;n<r;n++)o[n].trigger(i.completionAction,i.completionValue);i.consequences=null}}),ei.Z.define("GRUI.promise.Promise",(function(e){var t;return{requires:["GRUI.promise.Deferred"],statics:{CancellationError:ei.Z.global.CancellationError||Error,_ready:function(){t=ei.Z.promise.Deferred},all:function(n){return e.when(n).then((function(n){var r,i,o,a,s,l=new t,u=n.length,c=new Array(u);if(u)for(o=function(t,n){return e.when(t).then((function(e){return c[n]=e,--u||l.resolve(c),e}),(function(e){return l.reject(e)}))},r=a=0,s=n.length;a<s;r=++a)i=n[r],r in n?o(i,r):u--;else l.resolve(c);return l.promise}))},is:function(e){return null!=e&&("object"==typeof e||ei.Z.isFunction(e))&&ei.Z.isFunction(e.then)},race:function(e){for(var n=new t,r=e.length,i=0;i<r;++i)n.resolve(e[i]);return n.promise},rethrowError:function(e){ei.Z.asap((function(){throw e}))},when:function(e){var n=new t;return n.resolve(e),n.promise}},owner:null,constructor:function(e){this.owner=e},then:function(e,t,n,r){var i;return 1===arguments.length&&ei.Z.isObject(arguments[0])&&(e=(i=arguments[0]).success,t=i.failure,n=i.progress,r=i.scope),r&&(e=e&&e.bind(r),t=t&&t.bind(r),n=n&&n.bind(r)),this.owner.then(e,t,n)},catch:function(e,t){var n;return 1===arguments.length&&ei.Z.isObject(arguments[0])&&(e=(n=arguments[0]).fn,t=n.scope),null!=t&&(e=e.bind(t)),this.owner.then(null,e)},otherwise:function(e,t){return this.catch.apply(this,arguments)},always:function(t,n){var r;return 1===arguments.length&&ei.Z.isObject(arguments[0])&&(t=(r=arguments[0]).fn,n=r.scope),null!=n&&(t=t.bind(n)),this.owner.then((function(n){try{t()}catch(n){e.rethrowError(n)}return n}),(function(n){try{t()}catch(n){e.rethrowError(n)}throw n}))},done:function(){this.owner.then(null,e.rethrowError)},cancel:function(e){this.owner.reject(new this.self.CancellationError(e=null==e?null:e))},log:function(e){return null==e&&(e=""),this.owner.then((function(t){return ei.Z.log((e||"Promise")+" resolved with value: "+t),t}),(function(t){throw ei.Z.log((e||"Promise")+" rejected with reason: "+t),t}))}}}),(function(e){e._ready()})),ei.Z.define("GRUI.Promise",(function(){var e;return{requires:["GRUI.promise.Promise"],statics:{_ready:function(){e=ei.Z.promise.Promise},all:function(){return e.all.apply(e,arguments)},race:function(){return e.race.apply(e,arguments)},reject:function(e){var t=new ei.Z.promise.Deferred;return t.reject(e),t.promise},resolve:function(e){var t=new ei.Z.promise.Deferred;return t.resolve(e),t.promise}},constructor:function(e){var t=new ei.Z.promise.Deferred;return e(t.resolve.bind(t),t.reject.bind(t)),t.promise}}}),(function(e){var t=ei.Z.global.Promise;t&&t.resolve&&!ei.Z.useExtPromises?ei.Z.Promise=t:e._ready()})),ei.Z.define("GRUI.Deferred",(function(e){var t,n,r;return{extend:"GRUI.promise.Deferred",requires:["GRUI.Promise"],statics:{_ready:function(){t=ei.Z.promise.Promise,ei.Z.Promise.resolve},all:function(){return t.all.apply(t,arguments)},any:function(t){return e.some(t,1).then((function(e){return e[0]}),(function(e){if(!(e instanceof Error&&"Too few Promises were resolved."===e.message))throw e;ei.Z.raise("No Promises were resolved.")}))},delay:function(t,n){var r;return 1===arguments.length&&(n=t,t=void 0),n=Math.max(n,1),(r=new e).timeoutId=ei.Z.defer((function(){delete r.timeoutId,r.resolve(t)}),n),r.promise},getCachedRejected:function(){return n=n||ei.Z.Promise.reject()},getCachedResolved:function(){return r=r||ei.Z.Promise.resolve()},map:function(t,n){return e.resolved(t).then((function(t){var r,i,o,a,s,l=t.length,u=new Array(t.length),c=new e;if(l)for(o=function(t,r){return e.resolved(t).then((function(e){return n(e,r,u)})).then((function(e){return u[r]=e,--l||c.resolve(u),e}),(function(e){return c.reject(e)}))},r=a=0,s=t.length;a<s;r=++a)i=t[r],r in t?o(i,r):l--;else c.resolve(u);return c.promise}))},memoize:function(t,n,r){var i=ei.Z.Function.memoize(t,n,r);return function(){return e.all(ei.Z.Array.slice(arguments)).then((function(e){return i.apply(n,e)}))}},parallel:function(t,n){var r;return null==n&&(n=null),r=ei.Z.Array.slice(arguments,2),e.map(t,(function(e){if(ei.Z.isFunction(e))return e.apply(n,r);throw new Error("Invalid parameter: expected a function.")}))},pipeline:function(t,n,r){return null==r&&(r=null),e.reduce(t,(function(e,t){if(ei.Z.isFunction(t))return t.call(r,e);throw new Error("Invalid parameter: expected a function.")}),n)},race:function(){return t.race.apply(t,arguments)},reduce:function(t,n,r){var i=3===arguments.length;return e.resolved(t).then((function(t){var o=[t,function(r,i,o){return e.resolved(r).then((function(r){return e.resolved(i).then((function(e){return n(r,e,o,t)}))}))}];return i&&o.push(r),ei.Z.Array.reduce.apply(ei.Z.Array,o)}))},rejected:function(e){var t=new ei.Z.Deferred;return t.reject(e),t.promise},resolved:function(e){var t=new ei.Z.Deferred;return t.resolve(e),t.promise},sequence:function(t,n){var r;return null==n&&(n=null),r=ei.Z.Array.slice(arguments,2),e.reduce(t,(function(t,i){if(ei.Z.isFunction(i))return e.resolved(i.apply(n,r)).then((function(e){return t.push(e),t}));throw new Error("Invalid parameter: expected a function.")}),[])},some:function(t,n){return e.resolved(t).then((function(t){var r,i,o,a,s,l,u=[],c=n,d=t.length-c+1,f=new e;if(t.length<n)f.reject(new Error("Too few Promises were resolved."));else for(o=function(e){return 0<c&&u.push(e),0===--c&&f.resolve(u),e},i=function(e){return 0===--d&&f.reject(new Error("Too few Promises were resolved.")),e},r=s=0,l=t.length;s<l;r=++s)a=t[r],r in t&&e.resolved(a).then(o,i);return f.promise}))},timeout:function(t,n){var r=new e,i=ei.Z.defer((function(){i&&r.reject(new Error("Promise timed out."))}),n);return e.resolved(t).then((function(e){ei.Z.undefer(i),i=null,r.resolve(e)}),(function(e){ei.Z.undefer(i),i=null,r.reject(e)})),r.promise}}}}),(function(e){e._ready()})),ei.Z.Factory=function(e){var t=this;t.aliasPrefix=e+".",t.cache={},t.name=e.replace(t.fixNameRe,t.fixNameFn),t.type=e,t.creator="create"+ei.Z.String.capitalize(t.name)},ei.Z.Factory.prototype={defaultProperty:"type",instanceProp:"isInstance",typeProperty:"type",create:function(e,t){var n,r,i,o=this,a=ei.Z.ClassManager,s=o.cache,l=o.typeProperty;if(e){if(e[o.instanceProp])return e;"string"==typeof e&&(i=e,(e={})[o.defaultProperty]=i),n=e.xclass,i=e[l]}if(t&&t.constructor===Object&&(e=ei.Z.apply({},e,t),t=t[l]),n){if(!(r=a.get(n)))return a.instantiate(n,e)}else if(!(r=(i=i||t||o.defaultType)?r:o.defaultClass)&&!(r=s[i])){if(l=o.aliasPrefix+i,!(r=(n=a.getNameByAlias(l))&&a.get(n)))return a.instantiateByAlias(l,e);s[i]=r}return r.isInstance?r:new r(e)},fixNameRe:/\.[a-z]/gi,fixNameFn:function(e){return e.substring(1).toUpperCase()},clearCache:function(){this.cache={},this.instanceCache={}},hook:function(e){var t=this,n=t.create;t.create=function(r,i){var o=e.call(t,n,r,i);return void 0===o?n.call(t,r,i):o}},update:function(e,t,n,r,i){var o,a,s,l=this;if(!t||t.isInstance)return e&&e!==t&&e.destroy(),t;if("string"==typeof t&&(s=t,(t={})[l.defaultProperty]=s),e){if(!0===t)return e;if((s=t.xclass)?a=e.$className===s:(s=t.xtype)?a=e.isXType(s,!0):(s=t[l.typeProperty])&&(s=l.aliasPrefix+s,(o=e.self.prototype).hasOwnProperty("alias")&&(o=o.alias)&&(a=o===s||-1<o.indexOf(s))),a)return e.setConfig(t),e;e.destroy()}return!0===t&&(t={}),n&&(i&&(o=n[ei.Z.Config.map[i].names.get]())&&(t=ei.Z.merge(ei.Z.clone(o),t)),n[r=r||l.creator]&&(t=n[r](t))),l.create(t)}},ei.Z.Factory.define=function(e,t){var n,r,i=ei.Z.Factory,o=t&&t.cacheable;return e.constructor===Object?ei.Z.Object.each(e,i.define,i):(n=new ei.Z.Factory(e),t&&(t.constructor===Object?(ei.Z.apply(n,t),"string"==typeof(e=n.xclass)&&(n.defaultClass=ei.Z.ClassManager.get(e))):n.defaultType=t),i[n.name]=r=function(e,t){return n.create(e,t)},o&&(n.instanceCache={},n.hook((function(e,t,n){var r,i=this.instanceCache;return"string"!=typeof t||(r=i[t])||!1!==(r=e.call(this,t,n)).cacheable&&(i[t]=r),r}))),r.instance=n,r.update=function(e,t,r,i,o){return n.update(e,t,r,i,o)}),r},ei.Z.Factory.clearCaches=function(){var e,t,n=ei.Z.Factory;for(e in n)(t=(t=n[e]).instance)&&t.clearCache()},ei.Z.Factory.on=function(e,t){ei.Z.Factory[e].instance.hook(t)},ei.Z.define("GRUI.mixin.Factoryable",{mixinId:"factoryable",onClassMixedIn:function(e){var t,n=e.prototype,r=n.factoryConfig,i=n.alias,o={};(i=i&&i.length&&i[0])&&0<(t=i.lastIndexOf("."))&&(o.type=i.substring(0,t),o.defaultType=i.substring(t+1)),r&&(delete n.factoryConfig,ei.Z.apply(o,r)),i=ei.Z.Factory.define(o.type,o),e.create===ei.Z.Base.create&&(e.create=i)}}),ei.Z.define("GRUI.util.HeightSynchronizer",{active:null,candidates:null,filterer:null,constructor:function(e,t){var n,r=this,i=e.length;for(r.candidates=e,(r.filterer=t)||(r.active=e),n=0;n<i;++n)e[n].on("resize","handleResize",r)},getActive:function(){var e,t,n,r=this,i=r.active,o=r.filterer,a=r.candidates;if(!i){if(o)for(i=[],t=0,e=a.length;t<e;++t)!1!==o(n=a[t])&&i.push(n);else i=a;r.active=i}return i},handleResize:function(e,t,n,r,i){n&&n!==i&&this.sync()},invalidateItems:function(){this.active=null},sync:function(){for(var e,t,n,r=this.getActive(),i=r.length,o=null,a=!0,s=0;s<i;++s)r[s].setMinHeight(null);for(s=0;s<i;++s)n=(t=r[s]).measure("h"),null===o&&(o=n,e=t),n!==o&&(a=!1,o<n&&(o=n,e=t));if(!a)for(s=0;s<i;++s)(t=r[s])!==e&&t.setMinHeight(o)},destroy:function(e){var t,n,r=this.candidates;if(e)for(t=0,n=r.length;t<n;++t)r[t].un("resize","handleResize",this);this.callParent2(this,"null","null","destroy",this.destroy,arguments)}}),ei.Z.define("GRUI.AnimationQueue",{singleton:!0,constructor:function(){var e=this;e.queue=[],e.taskQueue=[],e.runningQueue=[],e.idleQueue=[],e.isRunning=!1,e.isIdle=!0,e.run=e.run.bind(e),ei.Z.os.is.iOS&&(e.watchdogTimer=ei.Z.interval(e.watch,500,e))},start:function(e,t,n){var r=this;r.queue.push(arguments),r.isRunning||(r.hasOwnProperty("idleTimer")&&(ei.Z.undefer(r.idleTimer),delete r.idleTimer),r.hasOwnProperty("idleQueueTimer")&&(ei.Z.undefer(r.idleQueueTimer),delete r.idleQueueTimer),r.isIdle=!1,r.isRunning=!0,r.doStart())},clear:function(){var e=this;ei.Z.undefer(e.idleTimer),ei.Z.undefer(e.idleQueueTimer),ei.Z.unraf(e.animationFrameId),e.idleTimer=e.idleQueueTimer=e.animationFrameId=null,e.queue.length=e.taskQueue.length=e.runningQueue.length=e.idleQueue.length=0,e.isRunning=!1,e.isIdle=!0},watch:function(){this.isRunning&&500<=ei.Z.now()-this.lastRunTime&&this.run()},run:function(){var e,t,n,r,i=this,o=i.runningQueue;if(i.animationFrameId=null,i.isRunning){for(e=ei.Z.now(),i.lastRunTime=e,i.frameStartTime=e,n=i.queue.length;n--;)(t=(t=i.queue[n])[1]&&t[1].getElement&&t[1].getElement())&&t.destroyed&&i.queue.splice(n,1);for(o.push.apply(o,i.queue),n=0,r=o.length;n<r;n++)i.invoke(o[n]);o.length=0,i.queue.length||i.stop(),i.isRunning&&i.doIterate()}},doStart:function(){this.animationFrameId||(this.animationFrameId=ei.Z.raf(this.run)),this.lastRunTime=ei.Z.now()},doIterate:function(){this.animationFrameId||(this.animationFrameId=ei.Z.raf(this.run))},doStop:function(){this.animationFrameId&&ei.Z.unraf(this.animationFrameId),this.animationFrameId=null},stop:function(e,t,n){var r,i,o=this,a=o.queue,s=a.length;if(o.isRunning){for(r=0;r<s;r++)(i=a[r])[0]===e&&i[1]===t&&i[2]===n&&(a.splice(r,1),r--,s--);0===s&&(o.doStop(),o.isRunning=!1,o.idleQueue.length&&!o.idleTimer&&(o.idleTimer=ei.Z.defer(o.whenIdle,100,o)))}},onIdle:function(e,t,n){for(var r,i=this,o=i.idleQueue,a=0,s=o.length;a<s;a++)if(e===(r=o[a])[0]&&t===r[1]&&n===r[2])return;o.push(arguments),i.isIdle?i.processIdleQueue():i.idleTimer||(i.idleTimer=ei.Z.defer(i.whenIdle,100,i))},unIdle:function(e,t,n){for(var r,i=this,o=i.idleQueue,a=0,s=o.length;a<s;a++)if(e===(r=o[a])[0]&&t===r[1]&&n===r[2])return o.splice(a,1),!0;return!o.length&&i.idleTimer&&(ei.Z.undefer(i.idleTimer),delete i.idleTimer),!o.length&&i.idleQueueTimer&&(ei.Z.undefer(i.idleQueueTimer),delete i.idleQueueTimer),!1},queueTask:function(e,t,n){this.taskQueue.push(arguments),this.processTaskQueue()},dequeueTask:function(e,t,n){for(var r,i=this.taskQueue,o=0,a=i.length;o<a;o++)e===(r=i[o])[0]&&t===r[1]&&n===r[2]&&(i.splice(o,1),o--,a--)},invoke:function(e){var t=e[0],n=e[1];e=e[2],t="string"==typeof t?n[t]:t;ei.Z.isArray(e)?t.apply(n,e):t.call(n,e)},whenIdle:function(){delete this.idleTimer,this.isIdle=!0,this.processIdleQueue()},processIdleQueue:function(){this.hasOwnProperty("idleQueueTimer")||(this.idleQueueTimer=ei.Z.defer(this.processIdleQueueItem,1,this))},processIdleQueueItem:function(){var e=this.idleQueue;delete this.idleQueueTimer,this.isIdle&&0<e.length&&(e=e.shift(),this.invoke(e),this.processIdleQueue())},processTaskQueue:function(){this.hasOwnProperty("taskQueueTimer")||(this.taskQueueTimer=ei.Z.defer(this.processTaskQueueItem,15,this))},processTaskQueueItem:function(){var e=this.taskQueue;delete this.taskQueueTimer,0<e.length&&(e=e.shift(),this.invoke(e),this.processTaskQueue())}}),ei.Z.define("GRUI.mixin.Bufferable",(function(e){return{extend:"GRUI.Mixin",mixinConfig:{id:"bufferable",after:{destroy:"cancelAllCalls"},before:{$reap:"cancelAllCalls"},extended:function(t,n,r){var i=r.bufferableMethods;i&&(delete r.bufferableMethods,e.processClass(n,i))}},afterClassMixedIn:function(t){e.processClass(t)},privates:{cancelAllCalls:function(){var e,t=this.bufferables;if(t)for(e in t)t[e].cancel(),delete t[e]},cancelBufferedCall:function(e,t){var n;return(n=(n=this.bufferables)&&n[e])&&n[t?"invoke":"cancel"](),!!n},flushBufferedCall:function(e){return this.cancelBufferedCall(e,!0)},initBufferables:function(){var t,n=this,r=n.hasOwnProperty("bufferableMethods")&&n.bufferableMethods;return r&&(e._canonicalize(r),t=n.self.prototype.bufferableMethods,n.bufferableMethods=ei.Z.merge(ei.Z.clone(t),r)),n.bufferables={}},isCallPending:function(e){var t=this.bufferables;return!(!t||!t[e])},statics:{SINGLE:{single:!0},_canonicalize:function(e){var t,n,r,i;for(i in e)r=ei.Z.String.capitalize(i),"number"!==(t=typeof(n=e[i]))&&"string"!==t||(e[i]=n={delay:n}),"string"==typeof(t=n.delay)&&(n[t]=!0,delete n.delay),n.capitalized=r,n.name=i,n.fn||(n.fn="do"+r),n.flag||(n.flag="is"+r+"Pending")},_canceller:function(){var t=this,n=t.id;n&&(t.delay?ei.Z.undefer(n):t.asap?ei.Z.unasap(n):t.idle?ei.Z.un("idle",n,null,e.SINGLE):t.raf&&ei.Z.unraf(n),t.id=null),t.args=null,t.target[t.flag]=!1},_invoker:function(){var e=this,t=e.args||ei.Z.emptyArray,n=e.target;e.cancel(),n[e.fn].apply(n,t)},delayCall:function(t,n,r){var i,o,a;t.destroying||(o=t.bufferables||t.initBufferables(),a=n.name,i=o[a]||(o[a]=ei.Z.apply({args:null,cancel:e._canceller,id:null,target:t,invoke:e._invoker},n)),o=n.delay,a=function(){i.id&&(i.id=null,i.invoke())},i.id&&i.cancel(),i.args=r,t[i.flag]=!0,o?i.id=ei.Z.defer(a,o):n.asap?i.id=ei.Z.asap(a):n.idle?(i.id=a,ei.Z.on("idle",a,null,e.SINGLE)):n.raf?i.id=ei.Z.raf(a):i.invoke())},processClass:function(t,n){var r,i,o=t.prototype;t=o.bufferableMethods;if(n?(e._canonicalize(n),t=t&&ei.Z.merge(ei.Z.clone(t),n),o.bufferableMethods=t||n):(n=t,e._canonicalize(n),o.bufferables=null),n)for(i in n)o[i]||(r=n[i],e.processMethod(o,r,Array.prototype.slice))},processMethod:function(t,n,r){var i=n.name,o=n.capitalized;t[i]=function(){return e.delayCall(this,n,r.call(arguments))},t["cancel"+o]=function(){return this.cancelBufferedCall(i)},t["flush"+o]=function(){return this.flushBufferedCall(i)}}}}}})),ei.Z.define("GRUI.ComponentManager",{alternateClassName:"GRUI.ComponentMgr",singleton:!0,mixins:["GRUI.mixin.Bufferable"],count:0,fixReferencesTimer:null,referenceRepairs:0,typeName:"xtype",bufferableMethods:{handleDocumentMouseDown:"asap"},constructor:function(e){var t=this;ei.Z.apply(t,e),t.all={},t.byInstanceId={},t.holders={},t.onAvailableCallbacks={}},create:function(e,t){return"string"==typeof e?ei.Z.widget(e):e.isComponent?e:"xclass"in e?ei.Z.create(e.xclass,e):ei.Z.widget(e.xtype||t,e)},get:function(e){return this.all[e]},register:function(e){var t=this,n=e.getId(),r=t.onAvailableCallbacks;t.all[n]=e,((t.byInstanceId[e.$iid]=e).nameHolder||e.referenceHolder)&&(t.holders[n]=e),++t.count,t.hasFocusListener||t.installFocusListener(),(r=r&&r[n])&&r.length&&t.notifyAvailable(e)},unregister:function(e){var t=this,n=t.all,r=t.byInstanceId,i=t.holders,o=e.getId();o in i&&(i[o]=null,delete i[o]),n[o]=null,delete n[o],r[o=e.$iid]=null,delete r[o],--t.count},markReferencesDirty:function(){var e,t,n=this,r=n.holders;if(!ei.Z.referencesDirty){for(t in r)(e=r[t]).refs=e.nameRefs=null,e.invalidateChildDirty&&e.invalidateChildDirty();ei.Z.referencesDirty=!0,n.fixReferencesTimer=ei.Z.asap((function(){n.fixReferencesTimer=null,n.fixReferences()}))}},fixReferences:function(){var e,t,n=this,r=n.all,i=n.holders;if(ei.Z.referencesDirty){for(t in n.fixReferencesTimer=ei.Z.unasap(n.fixReferencesTimer),ei.Z.referencesDirty=0,++n.referenceRepairs,i)(e=i[t]).beginSyncChildDirty&&e.beginSyncChildDirty();for(t in r)r[t]._fixReference();for(t in i)(e=i[t]).finishSyncChildDirty&&e.finishSyncChildDirty();ei.Z.referencesDirty=!1}},onAvailable:function(e,t,n){var r=this.onAvailableCallbacks,i=this.all;e in i?(i=i[e],t.call(n||i,i)):e&&(ei.Z.isArray(r[e])||(r[e]=[]),r[e].push((function(e){t.call(n||e,e)})))},notifyAvailable:function(e){for(var t=this.onAvailableCallbacks[e&&e.getId()]||[];t.length;)t.shift()(e)},each:function(e,t){ei.Z.Object.each(this.all,e,t)},getCount:function(){return this.count},getAll:function(){return ei.Z.Object.getValues(this.all)},getActiveComponent:function(){return ei.Z.Component.from(ei.Z.dom.Element.getActiveElement())},onGlobalFocus:function(e){var t,n=e.event.chain(),r=ei.Z.applyIf({event:n},e),i=n.toComponent=r.toComponent=ei.Z.Component.from(e.toElement),o=(e=n.fromComponent=r.fromComponent=ei.Z.Component.from(e.fromElement),this.getCommonAncestor(e,i));if(i!==e){if(e&&!e.destroyed&&!e.isDestructing())for(e.handleBlurEvent&&e.handleBlurEvent(r),t=e;t&&t!==o;t=t.getRefOwner())t.destroyed||t.destroying||(n.type="focusleave",t.onFocusLeave(n));if(i&&!i.destroyed&&!i.isDestructing())for(i.handleFocusEvent&&i.handleFocusEvent(r),t=i;t&&t!==o;t=t.getRefOwner())n.type="focusenter",t.onFocusEnter(n)}for(t=o;t;t=t.getRefOwner())t.destroying||t.destroyed||t.onFocusMove(r)},getCommonAncestor:function(e,t){if(e===t)return e;for(;e&&!e.isAncestor(t)&&e!==t;)e=e.getRefOwner();return e},privates:{doHandleDocumentMouseDown:function(e){var t=ei.Z.Widget.prototype.floatedSelector;t&&(e=ei.Z.Component.from(e.getTarget(t,ei.Z.getBody())))&&!e.activeAnimation&&e.toFront(!0)},installFocusListener:function(){var e=this;ei.Z.on("focus",e.onGlobalFocus,e),e.hasFocusListener=!0},clearAll:function(){var e=this;e.all={},e.byInstanceId={},e.holders={},e.onAvailableCallbacks={}},from:function(e,t,n){var r,i,o,a=this.all,s=0;for(e&&e.isEvent&&(e=e.target),r=ei.Z.getDom(e),"number"!=typeof t&&(i=ei.Z.getDom(t),t=Number.MAX_VALUE);r&&1===r.nodeType&&s<t&&r!==i;){if(o=r.getAttribute("data-componentid")||r.id){if((o=a[o])&&(!n||ei.Z.ComponentQuery.is(o,n)))return o;s++}r=r.parentNode}return null}}},(function(e){e.fromElement=e.from,ei.Z.referencesDirty=!1,ei.Z.fixReferences=function(){e.fixReferences()},ei.Z.markReferencesDirty=function(){e.markReferencesDirty()},ei.Z.getCmp=function(t){return e.get(t)},ei.Z.iidToCmp=function(t){return e.byInstanceId[t]||null},ei.Z.doEv=function(e,t){var n,r=ei.Z.Component.from(t.target);return!(r&&!r.destroying&&!r.destroyed&&r.getEventHandlers&&(n=r.getEventHandlers()[t.type])&&r[n])||(t=new ei.Z.event.Event(t),r[n](t))}})),ei.Z.ns("GRUI.util").Operators={"=":function(e,t){return e==t},"!=":function(e,t){return e!=t},"^=":function(e,t){return e&&e.substr(0,t.length)==t},"$=":function(e,t){return e&&e.substr(e.length-t.length)==t},"*=":function(e,t){return e&&-1!==e.indexOf(t)},"%=":function(e,t){return e%t==0},"|=":function(e,t){return e&&(e==t||e.substr(0,t.length+1)==t+"-")},"~=":function(e,t){return e&&-1!=(" "+e+" ").indexOf(" "+t+" ")}},ei.Z.define("GRUI.util.LruCache",{extend:"GRUI.util.HashMap",config:{maxSize:null},add:function(e,t){var n,r,i=this;return i.removeAtKey(e),n={prev:r=i.last,next:null,key:e,value:t},r?r.next=n:i.first=n,i.last=n,this.callParent2(this,"GRUI.util.HashMap","null","add",this.add,arguments),i.prune(),t},insertBefore:function(e,t,n){var r,i,o=this;return(n=this.map[this.findKey(n)])?((r=o.findKey(t))?o.unlinkEntry(i=o.map[r]):i={prev:n.prev,next:n,key:e,value:t},n.prev?i.prev.next=i:o.first=i,(i.next=n).prev=i,o.prune(),t):o.add(e,t)},get:function(e){if(e=this.map[e])return e.next&&this.moveToEnd(e),e.value},removeAtKey:function(e){return this.unlinkEntry(this.map[e]),this.callParent2(this,"GRUI.util.HashMap","null","removeAtKey",this.removeAtKey,arguments)},clear:function(e){return this.first=this.last=null,this.callParent2(this,"GRUI.util.HashMap","null","clear",this.clear,arguments)},unlinkEntry:function(e){e&&(e.next?e.next.prev=e.prev:this.last=e.prev,e.prev?e.prev.next=e.next:this.first=e.next,e.prev=e.next=null)},moveToEnd:function(e){this.unlinkEntry(e),(e.prev=this.last)?this.last.next=e:this.first=e,this.last=e},getArray:function(e){for(var t=[],n=this.first;n;)t.push(e?n.key:n.value),n=n.next;return t},each:function(e,t,n){var r=this,i=n?r.last:r.first,o=r.length;for(t=t||r;i&&!1!==e.call(t,i.key,i.value,o);)i=n?i.prev:i.next;return r},findKey:function(e){var t,n=this.map;for(t in n)if(n.hasOwnProperty(t)&&n[t].value===e)return t},clone:function(){var e,t=new this.self(this.initialConfig),n=this.map;for(e in t.suspendEvents(),n)n.hasOwnProperty(e)&&t.add(e,n[e].value);return t.resumeEvents(),t},prune:function(){var e=this,t=e.getMaxSize(),n=t?e.length-t:0;if(0<n)for(;e.first&&n;n--)e.removeAtKey(e.first.key)}}),ei.Z.define("GRUI.ComponentQuery",{singleton:!0,requires:["GRUI.ComponentManager","GRUI.util.Operators","GRUI.util.LruCache"]},(function(){function e(e,t){return t.method.apply(this,[e].concat(t.args))}function t(e,t){for(var n,r=[],i=0,o=e.length,a=">"!==t;i<o;i++)(n=e[i]).getRefItems&&(r=r.concat(n.getRefItems(a)));return r}function n(e){for(var t,n=[],r=0,i=e.length;r<i;r++)for(t=e[r];t=t.getRefOwner();)n.push(t);return n}function r(e,t,n){if("*"===t)return e.slice();for(var r,i=[],o=0,a=e.length;o<a;o++)!(r=e[o]).destroyed&&r.isXType(t,n)&&i.push(r);return i}function i(e,t,n){for(var r,i=[],o=0,a=e.length;o<a;o++)r=e[o],(n?r.id:r.getItemId())===t&&i.push(r);return i}var o=this,a=ei.Z.util.Operators,s=/(\d*)n\+?(\d*)/,l=/\D/,u=/^(\s)+/,c=/\\(.)/g,d=new ei.Z.util.LruCache({maxSize:100}),f=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),h=/^(\s?([>\^])\s?|\s|$)/,p=/^(#)?((?:\\\.|[\w\-])+|\*)(?:\((true|false)\))?/,g=[{re:/^\.((?:\\\.|[\w\-])+)(?:\((true|false)\))?/,method:r,argTransform:function(e){return void 0!==e[1]&&(e[1]=e[1].replace(c,"$1")),e.slice(1)}},{re:/^(?:\[((?:[@?$])?[\w\-]*)\s*(?:([\^$*~%!\/]?=)\s*(['"])?((?:\\\]|.)*?)\3)?(?!\\)\])/,method:function(e,t,n,r){var i,o,s,l,u,c,d,f,h=[],p=e.length;for("@"===t.charAt(0)&&(i=!0,t=t.substr(1)),"?"===t.charAt(0)&&(o=i=!0,t=t.substr(1)),c=0;c<p;c++){if(u=(s=e[c]).self&&s.self.getConfigurator&&s.self.$config.configs[t])l=s[u.names.get]();else{if(i&&!s.hasOwnProperty(t))continue;l=s[t]}if(o)h.push(s);else if("~="===n){if(l)for(d=0,f=(l=ei.Z.isArray(l)?l:l.split(" ")).length;d<f;d++)if(a[n](ei.Z.coerce(l[d],r),r)){h.push(s);break}}else"/="===n?null!=l&&r.test(l)&&h.push(s):(r?a[n](ei.Z.coerce(l,r),r):l)&&h.push(s)}return h},argTransform:function(e){e[0];var t=e[1],n=e[2];return void 0!==(e=e[4])&&(e=e.replace(c,"$1")),[t,n,e="/="===n?d.get(e)||d.add(e,new RegExp(e)):e]}},{re:/^#((?:\\\.|[\w\-])+)/,method:i},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:function(e,t,n){return o.pseudos[t](e,n)},argTransform:function(e){return void 0!==e[2]&&(e[2]=e[2].replace(c,"$1")),e.slice(1)}},{re:/^(?:\{([^\}]+)\})/,method:f}];o.Query=ei.Z.extend(Object,{constructor:function(e){ei.Z.apply(this,e=e||{})},execute:function(e){for(var t,n=this.operations,r=[],i=0,o=n.length;i<o;i++)t=n[i],r=r.concat(this._execute(e,t));return r},_execute:function(r,i){var o,a,s=0,l=i.length;for(r?ei.Z.isIterable(r)?a=r:r.isMixedCollection&&(a=r.items):a=ei.Z.ComponentManager.getAll();s<l;s++)if(a="^"===(o=i[s]).mode?n(a||[r]):o.mode?t(a||[r],o.mode):e(a||t([r]),o),s===l-1)return a;return[]},is:function(e,t){var n,r,i=this.operations,o=i.length;if(0===o)return!0;for(r=0;r<o;r++)if(n=i[r],n=this._is(e,t,n))return n;return!1},_is:function(r,o,a){for(var s,l,u,c,d,f,h=[r],p=a.length-1;0<=p;--p){if(c=(l=a[p]).mode)if("^"===c)h=t(h," ");else if(">"===c){for(d=[],u=0,s=h.length;u<s;++u)(f=h[u].getRefOwner())&&d.push(f);h=d}else h=n(h);else h=e(h,l);if(0===h.length)return!1}return!o||0!==(h=0<(h=c?h:n(h)).length?e(h,{method:i,args:[o.id,!0]}):h).length},getMatches:function(t,n){for(var r=n.length,i=0;i<r&&0!==(t=e(t,n[i])).length;++i);return t},isMultiMatch:function(){return 1<this.operations.length}}),ei.Z.apply(o,{cache:new ei.Z.util.LruCache({maxSize:100}),pseudos:{not:function(e,t){for(var n,r=0,i=e.length,a=[],s=-1;r<i;++r)n=e[r],o.is(n,t)||(a[++s]=n);return a},first:function(e){var t=[];return 0<e.length&&t.push(e[0]),t},last:function(e){var t=e.length,n=[];return 0<t&&n.push(e[t-1]),n},focusable:function(e){for(var t,n=e.length,r=[],i=0;i<n;i++)(t=e[i]).isFocusable&&t.isFocusable()&&r.push(t);return r},canfocus:function(e,t){for(var n,r=e.length,i=[],o=0;o<r;o++)(n=e[o]).canFocus&&n.canFocus(!1,t)&&i.push(n);return i},"nth-child":function(e,t){for(var n,r,i=[],o=+((t=s.exec(("even"===t?"2n":"odd"===t&&"2n+1")||!l.test(t)&&"n+"+t||t))[1]||1),a=+t[2],u=0;n=e[u];u++)r=u+1,1==o?0!=a&&r!==a||i.push(n):(r+a)%o==0&&i.push(n);return i},scrollable:function(e){for(var t,n=e.length,r=[],i=0;i<n;i++)((t=e[i]).scrollable||t._scrollable)&&r.push(t);return r},visible:function(e,t){var n,r=e.length,i=[],o=0;for(t="true"===t;o<r;o++)(n=e[o]).isVisible(t)&&i.push(n);return i}},query:function(e,t){if(!e)return ei.Z.ComponentManager.getAll();var n,r,i,a=[],s=[],l={},u=o.cache.get(e);a=(u=u||o.cache.add(e,o.parse(e))).execute(t);if(u.isMultiMatch()){for(n=a.length,i=0;i<n;i++)l[(r=a[i]).id]||(s.push(r),l[r.id]=!0);a=s}return a},visitPreOrder:function(e,t,n,r,i){o._visit(!0,e,t,n,r,i)},visitPostOrder:function(e,t,n,r,i){o._visit(!1,e,t,n,r,i)},_visit:function(e,t,n,r,i,a){var s,l,u=[n],c=0,d=(o.cache.get(t)||o.cache.add(t,o.parse(t))).is(n);if(n.getRefItems&&(c=(s=n.getRefItems()).length),a&&ei.Z.Array.push(u,a),e&&d&&!1===r.apply(i||n,u))return!1;for(l=0;l<c;l++)if(!1===o._visit.call(o,e,t,s[l],r,i,a))return!1;return!(!e&&d&&!1===r.apply(i||n,u))&&void 0},is:function(e,t,n){return!t||("function"==typeof t?t(e):(o.cache.get(t)||o.cache.add(t,o.parse(t))).is(e,n))},parse:function(e){for(var t,n=[],r=ei.Z.splitAndUnescape(e,","),i=0,a=r.length;i<a;i++)t=ei.Z.String.trim(r[i]),n.push(o._parse(t));return new o.Query({operations:n})},_parse:function(e){for(var t,n,o,a,s,l,d,f,m,v,y=[],b=ei.Z.String.trim,C=g.length;e&&t!==e;){for((n=(t=e).match(p))&&(a=n[1],o=b(n[2]).replace(c,"$1"),"#"===a?y.push({method:i,args:[o]}):y.push({method:r,args:[o,Boolean(n[3])]}),e=e.replace(n[0],"").replace(u,"$1"));!(s=e.match(h));)for(d=0;e&&d<C;d++){if(f=g[d],l=e.match(f.re),m=f.method,v=f.argTransform,l){v=v?v(l):l.slice(1),y.push({method:ei.Z.isString(f.method)?ei.Z.functionFactory("items",ei.Z.String.format.apply(ei.Z.String,[m].concat(l.slice(1)))):f.method,args:v}),e=e.replace(l[0],"").replace(u,"$1");break}d===C-1&&ei.Z.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}s[1]&&(y.push({mode:s[2]||s[1]}),e=e.replace(s[0],"").replace(u,""))}return y}}),ei.Z.all=function(){return o.query.apply(o,arguments)},ei.Z.first=function(){var e=o.query.apply(o,arguments);return e&&e[0]||null}})),ei.Z.define("GRUI.Evented",{alternateClassName:"GRUI.EventedBase",mixins:["GRUI.mixin.Observable"],initialized:!1,constructor:function(e){this.mixins.observable.constructor.call(this,e),this.initialized=!0},onClassExtended:function(e,t){if(t.hasOwnProperty("eventedConfig")){var n,r,i=t.config,o=t.eventedConfig;for(n in i?ei.Z.applyIf(i,o):e.addConfig(o),o)o.hasOwnProperty(n)&&(t[(r=ei.Z.Config.get(n)).names.set]=r.eventedSetter||r.getEventedSetter())}}}),ei.Z.define("GRUI.util.Positionable",{mixinId:"positionable",_positionTopLeft:["position","top","left"],clippedCls:ei.Z.baseCSSPrefix+"clipped",afterSetPosition:ei.Z.emptyFn,adjustForConstraints:function(e,t){return(t=this.getConstrainVector(t,e))&&(e[0]+=t[0],e[1]+=t[1]),e},alignTo:function(e,t,n,r){var i=this,o=i.el;return i.setXY(i.getAlignToXY(e,t,n),!(!o.anim||!r)&&o.anim(r))},calculateAnchorXY:function(e,t,n,r){var i=this.getRegion();return i.setPosition(0,0),i.translateBy(t||0,n||0),r&&(i.setWidth(r.width),i.setHeight(r.height)),i.getAnchorPoint(e)},convertPositionSpec:function(e){return ei.Z.util.Region.getAlignInfo(e)},getAlignToXY:function(e,t,n){return[(e=this.getAlignToRegion(e,t,n)).x,e.y]},getAlignToRegion:function(e,t,n,r){var i,o,a,s=this;return(e=ei.Z.fly(e.el||e))&&e.dom,(t=s.convertPositionSpec(t)).constrain&&(i="!"===t.constrain?e:s.constrainTo||s.container||s.el.parent(),i=ei.Z.fly(i.el||i).getConstrainRegion()),e===ei.Z.getBody()&&(o=e.getScroll(),a=n&&2===n.length?n:[0,0],n=[o.left+a[0],o.top+a[1]]),s.getRegion().alignTo({target:e.getRegion(),inside:i,minHeight:r,offset:n,align:t,axisLock:!0})},getAnchorXY:function(e,t,n){var r=this.getRegion(),i="BODY"===(o=this.el).dom.nodeName||9===o.dom.nodeType,o=o.getScroll();return t?r.setPosition(0,0):i&&r.setPosition(o.left,o.top),n&&(r.setWidth(n.width),r.setHeight(n.height)),r.getAnchorPoint(e)},getBox:function(e,t){var n,r,i=this,o=(t=t?i.getLocalXY():i.getXY())[0],a=(t=t[1],"BODY"===i.el.dom.nodeName||9===i.el.dom.nodeType?(n=ei.Z.Element.getViewportWidth(),ei.Z.Element.getViewportHeight()):(n=i.getWidth(),i.getHeight()));return e&&(o+=i=(e=i.getBorderPadding()).beforeX,t+=r=e.beforeY,n-=i+e.afterX,a-=r+e.afterY),{x:o,left:o,0:o,y:t,top:t,1:t,width:n,height:a,right:o+n,bottom:t+a}},calculateConstrainedPosition:function(e,t,n,r){var i,o,a=this,s=a.floatParent,l=s?s.getTargetEl():null,u=!1;return n&&s?(s=l.getXY(),i=l.getBorderPadding(),s[0]+=i.beforeX,s[1]+=i.beforeY,t&&(o=[t[0]+s[0],t[1]+s[1]])):o=t,e=e||a.constrainTo||l||a.container||a.el.parent(),n&&o&&(o=a.reverseTranslateXY(o)),(i=(a.constrainHeader&&a.header.rendered?a.header:a).getConstrainVector(e,o,r))&&((u=t||a.getPosition(n))[0]+=i[0],u[1]+=i[1]),u},getConstrainRegion:function(){var e,t=this.el,n="BODY"===t.dom.nodeName,r=t.dom,i=t.getBorders(),o=(a=t.getXY())[0]+i.beforeX,a=a[1]+i.beforeY;n=n?(o=(i=t.getScroll()).left,a=i.top,e=ei.Z.Element.getViewportWidth(),ei.Z.Element.getViewportHeight()):(e=r.clientWidth,r.clientHeight);return new ei.Z.util.Region(a,o+e,a+n,o)},getConstrainVector:function(e,t,n){var r=(s=this).getRegion(),i=[0,0],o=s.shadow&&s.constrainShadow&&!s.shadowDisabled?s.el.shadow.getShadowSize():void 0,a=!1,s=s.constraintInsets;return e instanceof ei.Z.util.Region||(e=(e=ei.Z.get(e.el||e)).getConstrainRegion()),s&&(s=ei.Z.isObject(s)?s:ei.Z.Element.parseBox(s),e.adjust(s.top,s.right,s.bottom,s.left)),t&&r.translateBy(t[0]-r.x,t[1]-r.y),n&&(r.right=r.left+n[0],r.bottom=r.top+n[1]),o&&e.adjust(o[0],-o[1],-o[2],o[3]),r.right>e.right&&(a=!0,i[0]=e.right-r.right),r.left+i[0]<e.left&&(a=!0,i[0]=e.left-r.left),r.bottom>e.bottom&&(a=!0,i[1]=e.bottom-r.bottom),r.top+i[1]<e.top&&(a=!0,i[1]=e.top-r.top),!!a&&i},getOffsetsTo:function(e){var t=this.getXY();e=e.isRegion?[e.x,e.y]:ei.Z.fly(e.el||e).getXY();return[t[0]-e[0],t[1]-e[1]]},getRegion:function(e,t){return e=this.getBox(e,t),new ei.Z.util.Region(e.top,e.right,e.bottom,e.left)},getClientRegion:function(){var e,t,n=this.el,r=n.dom,i=this.getBox(!0),o=r.offsetHeight>r.clientHeight;r=r.offsetWidth>r.clientWidth;return(o||r)&&(t=ei.Z.getScrollbarSize(),r&&(r=t.width,"rtl"!==n.getStyle("direction")||ei.Z.supports.rtlVertScrollbarOnRight?(e=n.getPadding("r"),i.right+=e-Math.max(e,r)):(e=n.getPadding("l"),i.left-=e+Math.max(e,r))),o&&(o=t.height,e=n.getPadding("b"),i.bottom+=e-Math.max(e,o))),new ei.Z.util.Region(i.top,i.right,i.bottom,i.left)},getViewRegion:function(){var e,t,n,r=this,i=r.el,o="BODY"===i.dom.nodeName?(t=(i=i.getScroll()).left,e=i.top,n=ei.Z.Element.getViewportWidth(),ei.Z.Element.getViewportHeight()):(i=r.getBorderPadding(),t=(o=r.getXY())[0]+i.beforeX,e=o[1]+i.beforeY,n=r.getWidth(!0),r.getHeight(!0));return new ei.Z.util.Region(e,t+n,e+o,t)},move:function(e,t,n){var r,i=[(r=(s=this.getXY())[0])-t,s=s[1]],o=[r+t,s],a=[r,s-t],s={l:i,left:i,r:o,right:o,t:a,top:a,up:a,b:r=[r,s+t],bottom:r,down:r};e=e.toLowerCase(),this.setXY([s[e][0],s[e][1]],n)},setBox:function(e){var t,n,r=this;return e.isRegion&&(e={x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}),r.constrainBox(e),t=e.x,n=e.y,r.setXY([t,n]),r.setSize(e.width,e.height),r.afterSetPosition(t,n),r},constrainBox:function(e){var t,n;(this.constrain||this.constrainHeader)&&(t="x"in e?e.x:e.left,n="y"in e?e.y:e.top,(t=this.calculateConstrainedPosition(null,[t,n],!1,[e.width,e.height]))&&(e.x=t[0],e.y=t[1]))},translatePoints:function(e,t){return{left:(e=this.translateXY(e,t)).x,top:e.y}},translateXY:function(e,t){var n=this.el,r="relative"===(o=n.getStyle(this._positionTopLeft)).position,i=parseFloat(o.left),o=parseFloat(o.top),a=this.getXY();return ei.Z.isArray(e)&&(t=e[1],e=e[0]),isNaN(i)&&(i=r?0:n.dom.offsetLeft),isNaN(o)&&(o=r?0:n.dom.offsetTop),{x:i="number"==typeof e?e-a[0]+i:void 0,y:o="number"==typeof t?t-a[1]+o:void 0}},reverseTranslateXY:function(e){var t,n,r,i=e,o=this.el,a=o.dom.offsetParent;return a&&(t=o.isStyle("position","relative"),n=ei.Z.fly(a).getXY(),r=e[0]+n[0]+a.clientLeft,e=e[1]+n[1]+a.clientTop,t&&(r+=o.getPadding("l"),e+=o.getPadding("t")),i=[r,e]),i},privates:{clipTo:function(e,t){var n,r,i,o,a=this.el,s=a.getRegion(),l=[],u=this.clippedCls;e=e.isRegion?e:(e.isComponent?e.el:ei.Z.fly(e)).getConstrainRegion();for(1&(t=t||15)&&0<(n=e.top-s.top)?(l[0]=n,o=!0):l[0]=-1e4,2&t&&0<(n=s.right-e.right)?(l[1]=Math.max(0,a.getWidth()-n),o=!0):l[1]=1e4,4&t&&0<(n=s.bottom-e.bottom)?(l[2]=Math.max(0,a.getHeight()-n),o=!0):l[2]=1e4,8&t&&0<(n=e.left-s.left)?(l[3]=n,o=!0):l[3]=-1e4,i="rect(",r=0;r<4;++r)i=i+ei.Z.Element.addUnits(l[r],"px")+(3===r?")":",");if(a.dom.style.clip=i,a.addCls(u),(t=a.shadow)&&(a=t.el)&&a.dom){for(l[2]-=t.offsets.y,l[3]-=t.offsets.x,i="rect(",r=0;r<4;++r)i=i+ei.Z.Element.addUnits(l[r],"px")+(3===r?")":",");a.dom.style.clip=i,o&&!ei.Z.supports.CSS3BoxShadow?a.dom.style.display="none":(a.dom.style.display="",a.addCls(u))}},clearClip:function(){var e=this.el,t=this.clippedCls;e.dom.style.clip=ei.Z.isIE8?"auto":"",e.removeCls(t),e.shadow&&e.shadow.el&&e.shadow.el.dom&&(e.shadow.el.dom.style.clip=ei.Z.isIE8?"auto":"",ei.Z.supports.CSS3BoxShadow||(e.dom.style.display="",e.removeCls(t)))}}}),ei.Z.define("GRUI.dom.UnderlayPool",{constructor:function(e){this.elementConfig=e,this.cache=[]},checkOut:function(){var e=this.cache.shift();return e||(e=ei.Z.Element.create(this.elementConfig)).setVisibilityMode(2),e},checkIn:function(e){this.cache.push(e),ei.Z.getDetachedBody().dom.appendChild(e.dom)},reset:function(){for(var e=this.cache,t=e.length;t--;)e[t].destroy();this.cache=[]}}),ei.Z.define("GRUI.dom.Underlay",{requires:["GRUI.dom.UnderlayPool"],constructor:function(e){ei.Z.apply(this,e)},beforeShow:ei.Z.emptyFn,getInsertionTarget:function(){return this.target},getPool:function(){return this.pool||(this.self.prototype.pool=new ei.Z.dom.UnderlayPool(this.elementConfig))},hide:function(){var e=this,t=e.el;t&&(t.dom&&(t.hide(),e.getPool().checkIn(t)),e.el=null),e.hidden=!0},realign:function(e,t,n,r){var i=(a=this).el,o=a.target,a=a.offsets,s=Math.max;i&&(null==e&&(e=o.getX()),null==t&&(t=o.getY()),null==n&&(n=o.getWidth()),null==r&&(r=o.getHeight()),a&&(e+=a.x,t+=a.y,n=s(n+a.w,0),r=s(r+a.h,0)),i.setXY([e,t]),i.setSize(n,r))},setZIndex:function(e){this.zIndex=e,this.el&&this.el.setStyle("z-index",e)},show:function(){var e=this,t=e.target,n=e.zIndex,r=e.el,i=e.getInsertionTarget().dom;r=r||(e.el=e.getPool().checkOut());e.beforeShow(),(n=null==n?parseInt(t.getStyle("z-index"),10):n)&&r.setStyle("z-index",n),r.setStyle("position",e.fixed?"fixed":""),(n=r.dom).nextSibling!==i&&t.dom.parentNode.insertBefore(n,i),r.show(),e.realign(),e.hidden=!1}}),ei.Z.define("GRUI.dom.Shadow",{extend:"GRUI.dom.Underlay",alternateClassName:"GRUI.Shadow",mode:"drop",offset:4,cls:ei.Z.baseCSSPrefix+(ei.Z.supports.CSS3BoxShadow?"css":"ie")+"-shadow",constructor:function(e){var t,n,r,i,o=this;switch(this.callParent2(this,"GRUI.dom.Underlay","null","constructor",this.constructor,arguments),o.elementConfig={cls:o.cls,role:"presentation"},r=o.offset,i=Math.floor(r/2),o.opacity=50,o.mode.toLowerCase()){case"drop":t={x:0,y:0,w:r,h:r},n=ei.Z.supports.CSS3BoxShadow?{x:r,y:r,h:-r,w:-r}:{x:-i,y:-i,h:-i,w:-i};break;case"sides":t={x:-r,y:0,w:2*r,h:r},n=ei.Z.supports.CSS3BoxShadow?{x:0,y:r,h:-r,w:0}:{x:1+i-2*r,y:-(1+i),h:-1,w:i-1};break;case"frame":t={x:-r,y:-r,w:2*r,h:2*r},n=ei.Z.supports.CSS3BoxShadow?{x:0,y:0,h:0,w:0}:{x:1+i-2*r,y:1+i-2*r,h:r-i-1,w:r-i-1};break;case"bottom":t={x:-r,y:0,w:2*r,h:r},n=ei.Z.supports.CSS3BoxShadow?{x:0,y:r,h:-r,w:0}:{x:0,y:r,h:0,w:0}}o.offsets=n,o.outerOffsets=t},getShadowSize:function(){var e=this,t=[t=e.el?e.offset:0,t,t,t],n=e.mode.toLowerCase();return e.el&&"frame"!==n&&(t[0]=0,"drop"===n&&(t[3]=0)),t},boxShadowProperty:function(){var e="boxShadow",t=document.documentElement.style;return"boxShadow"in t||("WebkitBoxShadow"in t?e="WebkitBoxShadow":"MozBoxShadow"in t&&(e="MozBoxShadow")),e}(),beforeShow:function(){var e=this,t=e.el.dom.style,n=e.shim;ei.Z.supports.CSS3BoxShadow?t[e.boxShadowProperty]="0 0 "+(e.offset+2)+"px #888":t.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+e.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+e.offset+")",n&&n.realign()},setOpacity:function(e){var t=this.el;t&&(this.opacity=e,t.setOpacity(e))}}),ei.Z.define("GRUI.dom.Shim",{extend:"GRUI.dom.Underlay",cls:ei.Z.baseCSSPrefix+"shim",constructor:function(e){this.callParent2(this,"GRUI.dom.Underlay","null","constructor",this.constructor,arguments),this.elementConfig={tag:"iframe",cls:this.cls,role:"presentation",frameBorder:"0",src:ei.Z.SSL_SECURE_URL,tabindex:"-1"}},getInsertionTarget:function(){var e=this.shadow;return e&&e.el||this.target}}),ei.Z.define("GRUI.dom.ElementEvent",{extend:"GRUI.util.Event",addListener:function(e,t,n,r,i){var o=this,a=o.name,s=ei.Z.event.publisher.Dom.instance.directEvents[a];return!1===(n=n||{}).delegated||s?(s&&n.delegate&&(n.capture=!0),(n.capture?o.directCaptures||(o.directCaptures=new ei.Z.util.Event(o.observable,a)):o.directs||(o.directs=new ei.Z.util.Event(o.observable,a))).addListener(e,t,n,r,i)):n.capture?(o.captures||(o.captures=new ei.Z.util.Event(o.observable,a))).addListener(e,t,n,r,i):this.callParent2(this,"GRUI.util.Event","null","addListener",this.addListener,arguments)},removeListener:function(e,t){var n,r=(n=this).captures,i=n.directs,o=n.directCaptures,a=!1;return-1!==(n=n.findListener(e,t))?a=this.callParent2(this,"GRUI.util.Event","null","removeListener",this.removeListener,[e,t,n]):-1!==(n=i?i.findListener(e,t):n)?a=i.removeListener(e,t,n):-1!==(n=r?r.findListener(e,t):n)?a=r.removeListener(e,t,n):o&&-1!==(n=o.findListener(e,t))&&(a=o.removeListener(e,t,n)),a},clearListeners:function(){var e=(n=this).directCaptures,t=n.directs,n=n.captures;e&&e.clearListeners(),t&&t.clearListeners(),n&&n.clearListeners(),this.callParent2(this,"GRUI.util.Event","null","clearListeners",this.clearListeners,arguments)},suspend:function(){var e=(n=this).directCaptures,t=n.directs,n=n.captures;e&&e.suspend(),t&&t.suspend(),n&&n.suspend(),this.callParent2(this,"GRUI.util.Event","null","suspend",this.suspend,arguments)},resume:function(){var e=(n=this).directCaptures,t=n.directs,n=n.captures;e&&e.resume(),t&&t.resume(),n&&n.resume(),this.callParent2(this,"GRUI.util.Event","null","resume",this.resume,arguments)}}),ei.Z.define("GRUI.event.publisher.Publisher",{isEventPublisher:!0,$vetoClearingPrototypeOnDestroy:!0,handledEvents:[],statics:{publishers:{},publishersByEvent:{}},constructor:function(){var e=this,t=e.type;e.handles={},e.registerEvents(),ei.Z.event.publisher.Publisher.publishers[t]=e},registerEvents:function(e){for(var t,n=this,r=ei.Z.event.publisher.Publisher.publishersByEvent,i=e||n.handledEvents,o=i.length,a=0;a<o;a++)t=i[a],n.handles[t]=1,r[t]=n},fire:function(e,t,n){e.hasListeners[t]&&(e=e.events[t])&&e.fire.apply(e,n)}}),ei.Z.define("GRUI.util.Offset",{statics:{fromObject:function(e){return e instanceof this?e:"number"==typeof e?new this(e,e):e.length?new this(e[0],e[1]):new this(e.x,e.y)}},constructor:function(e,t){return this.x=null==e||isNaN(e)?0:e,this.y=null==t||isNaN(t)?0:t,this},copy:function(){return new ei.Z.util.Offset(this.x,this.y)},copyFrom:function(e){this.x=e.x,this.y=e.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(e){return this.x===e.x&&this.y===e.y},add:function(e){this.x+=e.x,this.y+=e.y},round:function(e){isNaN(e)?(this.x=Math.round(this.x),this.y=Math.round(this.y)):(e=Math.pow(10,e),this.x=Math.round(this.x*e)/e,this.y=Math.round(this.y*e)/e)},isZero:function(){return 0===this.x&&0===this.y}}),ei.Z.define("GRUI.util.Region",(function(){function e(e,n,r,i,o){var a,s,l,u,c,d=Math.ceil(i.x),f=Math.ceil(d/2)+3;if((!o||o.intersect(e))&&null!=r){if(1&r){if(n.getHeight()<d+4)return;a=e.top+f-n.height,s=e.bottom-f-1,n.setPosition(n.x,Math.min(Math.max(n.y,a),s)),a=n.top+2,s=n.bottom-(d+2),c=(u=3===r)?n.right:n.left,c=new t.Region(Math.max(n.top,e.top),c,Math.min(n.bottom,e.bottom),c),(l=new t.Region(0,0,0,0).setWidth(i.y).setHeight(d).alignTo({target:c,align:u?"l-r":"r-l",overlap:!0})).setPosition(l.x,Math.min(Math.max(l.y,a),s)),l.position=u?"right":"left"}else{if(n.getWidth()<d+4)return;a=e.left+f-n.width,s=e.right-f-1,n.setPosition(Math.min(Math.max(n.x,a),s),n.y),a=n.left+2,s=n.right-(d+2),f=(u=0===r)?n.bottom:n.top,c=new t.Region(f,Math.min(n.right,e.right),f,Math.max(n.left,e.left)),(l=new t.Region(0,0,0,0).setWidth(d).setHeight(i.y).alignTo({target:c,align:u?"t-b":"b-t",overlap:!0})).setPosition(Math.min(Math.max(l.x,a),s),l.y),l.position=u?"bottom":"top"}o&&!o.contains(l)||(n.anchor=l,n.anchor.align=r)}}var t=ei.Z.util,n=/([^\?!]*)(!|\?)?$/,r=/^(?:(?:([trbl])(\d+))|(tl|t|tc|tr|l|c|r|bl|b|bc|br))(?:-(?:(?:([trbl])(\d+))|(tl|t|tc|tr|l|c|r|bl|b|bc|br)))?$/i,i={l:0,r:100,t:0,b:100,c:50},o={l:100,r:0,t:0,b:100,c:50},a={b:0,l:1,t:2,r:3},s={"tl-tr":"l0-r0","tl-r":"l0-r50","bl-r":"l100-r50","bl-br":"l100-r100","tr-tl":"r0-l0","tr-l":"r0-l50","br-l":"r100-l50","br-bl":"r100-l100"},l={"tl-tr":"r0-l0","tl-r":"r0-l50","bl-r":"r100-l50","bl-br":"r100-l100","tr-tl":"l0-r0","tr-l":"l0-r50","br-l":"l100-r50","br-bl":"l100-r100"},u=[],c=new t.Offset(0,0),d=[-1,1,1,-1];return{requires:["GRUI.util.Offset"],isRegion:!0,statics:{getRegion:function(e){return ei.Z.fly(e).getRegion()},from:function(e){return new this(e.top,e.right,e.bottom,e.left)},getAlignInfo:function(e,t){if("object"==typeof e)return e;e=e?e.indexOf("-")<0?"tl-"+e:e:"tl-bl",e=(u=n.exec(e))[1];var u,c=t?o:i;e={myEdge:(t=r.exec(e=(t?l:s)[e]||e))[1],myOffset:t[2],otherEdge:t[4],otherOffset:t[5],constrain:u[2]};return t[3]&&(e.myEdge=t[3][0],e.myOffset=c[t[3][1]],null==e.myOffset&&(e.myOffset=50)),t[6]&&(e.otherEdge=t[6][0],e.otherOffset=c[t[6][1]],null==e.otherOffset&&(e.otherOffset=50)),e.position=a[e.myEdge],e}},constructor:function(e,t,n,r){var i=this;i.y=i.top=i[1]=e,i.right=t,i.bottom=n,i.x=i.left=i[0]=r,i.height=i.bottom-i.top,i.width=i.right-i.left},setPosition:function(e,t){return 1===arguments.length&&(t=e[1],e=e[0]),this.translateBy(e-this.x,t-this.y)},contains:function(e){return e.x>=this.x&&(e.right||e.x)<=this.right&&e.y>=this.y&&(e.bottom||e.y)<=this.bottom},intersect:function(e){var t=Math.max(this.y,e.y),n=Math.min(this.right,e.right),r=Math.min(this.bottom,e.bottom);e=Math.max(this.x,e.x);return t<r&&e<n&&new this.self(t,n,r,e)},union:function(e){var t=Math.min(this.y,e.y),n=Math.max(this.right,e.right),r=Math.max(this.bottom,e.bottom);e=Math.min(this.x,e.x);return new this.self(t,n,r,e)},constrainTo:function(e){var t=this,n=ei.Z.Number.constrain;return t.top=t.y=n(t.top,e.y,e.bottom),t.bottom=n(t.bottom,e.y,e.bottom),t.left=t.x=n(t.left,e.x,e.right),t.right=n(t.right,e.x,e.right),t.height=t.bottom-t.top,t.width=t.right-t.left,t},adjust:function(e,t,n,r){var i=this;return i.top=i.y+=e||0,i.left=i.x+=r||0,i.right+=t||0,i.bottom+=n||0,i.height=i.bottom-i.top,i.width=i.right-i.left,i},getOutOfBoundOffset:function(e,n){var r;return ei.Z.isObject(e)?(n=e,(r=new t.Offset).x=this.getOutOfBoundOffsetX(n.x),r.y=this.getOutOfBoundOffsetY(n.y),r):"x"===e?this.getOutOfBoundOffsetX(n):this.getOutOfBoundOffsetY(n)},getOutOfBoundOffsetX:function(e){return e<=this.x?this.x-e:e>=this.right?this.right-e:0},getOutOfBoundOffsetY:function(e){return e<=this.y?this.y-e:e>=this.bottom?this.bottom-e:0},isOutOfBound:function(e,t){return ei.Z.isObject(e)?this.isOutOfBoundX((t=e).x)||this.isOutOfBoundY(t.y):"x"===e?this.isOutOfBoundX(t):this.isOutOfBoundY(t)},isOutOfBoundX:function(e){return e<this.x||e>this.right},isOutOfBoundY:function(e){return e<this.y||e>this.bottom},restrict:function(e,t,n){var r;return ei.Z.isObject(e)?(n=t,(r=(t=e).copy?t.copy():{x:t.x,y:t.y}).x=this.restrictX(t.x,n),r.y=this.restrictY(t.y,n),r):"x"===e?this.restrictX(t,n):this.restrictY(t,n)},restrictX:function(e,t){return t=t||1,e<=this.x?e-=(e-this.x)*t:e>=this.right&&(e-=(e-this.right)*t),e},restrictY:function(e,t){return t=t||1,e<=this.y?e-=(e-this.y)*t:e>=this.bottom&&(e-=(e-this.bottom)*t),e},alignTo:function(n){var r,i,o,a=this,s=a.self,l=t.Offset,c=ei.Z.Element,f=function(e){var n,r,i,o,a=t.Region,s=typeof e;if(null==e)return a.EMPTY;if(e.isRegion)return e;if(e.isElement||1===e.nodeType)return this.getRegion(e);if("string"==s){switch((e=e.split(" ")).length){case 1:e[1]=e[2]=e[3]=e[0];break;case 2:e[2]=e[0],e[3]=e[1];break;case 3:e[3]=e[1]}n=parseInt(e[0],10)||0,r=parseInt(e[1],10)||0,i=parseInt(e[2],10)||0,o=parseInt(e[3],10)||0}else"number"==s?n=r=i=o=e:"number"==typeof e.x&&(n=e.y,o=e.x,i="number"==typeof e.right?(r=e.right,e.bottom):(r=o+e.width,n+e.height));return new a(n,r,i,o)}(n.target),h=n.rtl,p=n.overlap,g=n.align,m=n.anchorSize,v=n.offset,y=n.inside,b=n.position,C=n.allowXTranslate,S=n.allowYTranslate;v=v&&l.fromObject(v),m=m&&l.fromObject(m);return y&&!y.isRegion&&(y=ei.Z.getDom(y)===document.body?new s(0,c.getDocumentWidth(),c.getDocumentHeight(),0):ei.Z.fly(y).getRegion()),b?(2===b.length&&(b=new t.Point(b[0],b[1])),o=(new s).copyFrom(a).setPosition(b.x,b.y)):(g=a.getAlignInfo(g,h),y&&(f.x>=y.right?(f.setPosition(y.right-1,f.y),3!==g.position&&(g=a.getAlignInfo("r-l",h))):f.right<y.x&&(f.setPosition(y.x-f.getWidth()+1,f.y),1!==g.position&&(g=a.getAlignInfo("l-r",h))),f.y>=y.bottom?(f.setPosition(f.x,y.bottom-1),0!==g.position&&(g=a.getAlignInfo("b-t",h))):f.bottom<y.y&&(f.setPosition(f.x,y.y-f.getHeight()+1),2!==g.position&&(g=a.getAlignInfo("t-b",h)))),r=m?(l=f,c=m,null!=(h=g.position)&&c&&(u[0]=u[1]=u[2]=u[3]=0,u[h]=c.y*d[h],(l=t.Region.from(l)).adjust.apply(l,u)),l):f,p=!!(o=s.from(a).translateBy(a.getAlignToVector(r,g))).intersect(r),!v||!p&&m||o.translateBy(v),m&&e(f,o,g.position,m,y)),y&&(c=o.copy(),o.left<y.left&&(o.translateBy(y.left-o.left,0),i=!0),o.right>y.right&&o.left>y.left&&(o.translateBy(y.right-o.right,0),i=!0),o.top<y.top&&(o.translateBy(0,y.top-o.top),i=!0),o.bottom>y.bottom&&o.top>y.top&&(o.translateBy(0,y.bottom-o.bottom),i=!0),i&&!p&&(o.anchor=null,n.axisLock&&(1&g.position?S=!1:C=!1),b?o.contains(b)&&b.exclude(o,{inside:y,centerOnSideChange:!1}):(h=o.copy(),o.intersect(r)?g.position=f.exclude(o,{initialPosition:c,defaultPosition:g.position,inside:y,minHeight:n.minHeight,minWidth:n.minWidth,allowX:C,allowY:S,offset:v,anchorHeight:m?m.y:0,centerOnSideChange:!!m}):n.minWidth&&o.getWidth()>y.getWidth()?(o.setPosition(0,o.y),o.setWidth(Math.max(y.getWidth(),n.minWidth)),o.constrainWidth=!0):n.minHeight&&o.getHeight()>y.getHeight()&&(o.setPosition(o.x,0),o.setHeight(Math.max(y.getHeight(),n.minHeight)),o.constrainHeight=!0),o.align=g,y.contains(o)?m&&e(f,o,g.position,m,y):o=h))),o},exclude:function(e,n){var r,i,o,a,s,l,u,d,f,h,p,g=this,m=(n=n||{}).initialPosition||e,v=n.inside,y=n.defaultPosition,b=n.centerOnSideChange,C=n.minHeight,S=n.minWidth,x=!1!==n.allowX,I=!1!==n.allowY,R=n.anchorHeight,w=[],E=(E=n.offset)||c;if(I?(w.push([0,g.top-e.bottom-R+E.y,"b-t",0,Math.abs(g.top-m.bottom-R+E.y)]),w.push([0,g.bottom-e.top+R+E.y,"t-b",2,Math.abs(g.bottom-m.top+R+E.y)])):b=!1,x?(w.push([g.left-e.right-R+E.x,0,"r-l",3,Math.abs(g.left-m.right-R+E.x)]),w.push([g.right-e.left+R+E.x,0,"l-r",1,Math.abs(g.right-m.left+R+E.x)])):b=!1,ei.Z.Array.sort(w,(function(e,t){var n=e[4]-t[4];if(!n){if(e[3]===y)return-1;if(t[3]===y)return 1}return n})),!v)return e.translateBy.apply(e,w[0]),w[0][3];for(o=0;o<w.length;o++){if(i=w[o],(r=t.Region.from(e)).translateBy.apply(r,i),v.contains(r)){e.copyFrom(r),u={align:i[2],position:i[3],distance:i[4]};break}C&&(f=r,h=g,p=v,(d=C)&&p&&(f.top>=h.bottom&&f.bottom>p.bottom?(f.setHeight(Math.max(f.getHeight()+p.bottom-f.bottom,d)),f.constrainHeight=!0):f.bottom<=h.top&&f.top<p.top?(h=Math.max(f.getHeight()+f.top-p.top,d),f.adjust(f.getHeight()-h),f.constrainHeight=!0):f.getHeight()>p.getHeight()&&(f.setHeight(Math.max(d,p.getHeight())),f.setPosition(f.x,0),f.constrainHeight=!0)),v.contains(r)&&(!a||r.getArea()>a.region.getArea())&&(a={region:r,align:i[2],position:i[3],distance:i[4]})),S&&(h=r,d=g,p=v,(f=S)&&p&&(h.left>=d.right&&h.right>p.right?(h.setWidth(Math.max(h.getWidth()+p.right-h.right,f)),h.constrainWidth=!0):h.right<=d.left&&h.left<p.left?(d=Math.max(h.getWidth()+h.left-p.left,f),h.adjust(0,0,0,h.getWidth()-d),h.constrainWidth=!0):h.getWidth()>p.getWidth()&&(h.setWidth(Math.max(f,p.getWidth())),h.setPosition(0,h.y),h.constrainWidth=!0)),v.contains(r)&&(!a||r.getArea()>a.region.getArea())&&(a={region:r,align:i[2],position:i[3],distance:i[4]})),(l=v.intersect(r))&&(l=l.getArea(),(!s||l&&s.area<l)&&(s={region:r,align:i[2],position:i[3],distance:i[4],area:l}))}return u||(a?(e.copyFrom(a.region),u=a,e.constrainWidth=a.region.constrainWidth,e.constrainHeight=a.region.constrainHeight):s&&(e.copyFrom(s.region),u=s)),u?((1&u.position)!=(1&y)&&u.distance&&b&&(i=e.alignTo({align:u.align,target:g,anchorSize:R,offset:E,axisLock:!0,inside:v,minHeight:n.minHeight,minWidth:n.minWidth}),v.contains(i)&&e.setPosition(i.x,i.y)),u.position):y},getAlignToXY:function(e,t,n){return e=this.getAlignToVector(e,t,n),[this.x+e[0],this.y+e[1]]},getAnchorPoint:function(e,t){return this["getAnchorPoint_"+(e="string"==typeof e?this.getAlignInfo(e+"-tl",t):e).myEdge](e.myOffset)},getAlignToVector:function(e,t,n){return n=this["getAnchorPoint_"+(t="string"==typeof t?this.getAlignInfo(t,n):t).myEdge](t.myOffset),[(e=e["getAnchorPoint_"+t.otherEdge](t.otherOffset))[0]-n[0],e[1]-n[1]]},getAnchorPoint_t:function(e){return[this.x+Math.round(this.getWidth()*(e/100)),this.y]},getAnchorPoint_b:function(e){return[this.x+Math.round(this.getWidth()*(e/100)),this.bottom]},getAnchorPoint_l:function(e){return[this.x,this.y+Math.round(this.getHeight()*(e/100))]},getAnchorPoint_r:function(e){return[this.right,this.y+Math.round(this.getHeight()*(e/100))]},getAnchorPoint_c:function(){return[this.x+Math.round(this.getWidth()/2),this.y+Math.round(this.getHeight()/2)]},getCenter:function(){return[this.x+this.width/2,this.y+this.height/2]},getHeight:function(){return this.bottom-this.y},getWidth:function(){return this.right-this.x},getArea:function(){return this.getHeight()*this.getWidth()},setHeight:function(e){return this.height=e,this.bottom=this.top+e,this},setWidth:function(e){return this.width=e,this.right=this.left+e,this},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},setSize:function(e,t){return void 0===t&&(t=e),this.setWidth(e),this.setHeight(t)},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(e){var t=this;return t.top=t.y=t[1]=e.y,t.right=e.right,t.bottom=e.bottom,t.left=t.x=t[0]=e.x,t},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(e,t){var n=this;return e.length?(t=e[1],e=e[0]):1===arguments.length&&(t=e.y,e=e.x),n.top=n.y+=t,n.right+=e,n.bottom+=t,n.left=n.x+=e,n},round:function(){var e=this;return e.top=e.y=Math.round(e.y),e.right=Math.round(e.right),e.bottom=Math.round(e.bottom),e.left=e.x=Math.round(e.x),e},equals:function(e){return this.top===e.top&&this.right===e.right&&this.bottom===e.bottom&&this.left===e.left},getOffsetsTo:function(e){return{x:this.x-e.x,y:this.y-e.y}}}}),(function(e){e.prototype.getAlignInfo=e.getAlignInfo,e.EMPTY=new e(0,0,0,0)})),ei.Z.define("GRUI.util.Point",{extend:"GRUI.util.Region",isPoint:!0,radianToDegreeConstant:180/Math.PI,origin:{x:0,y:0},statics:{fromEvent:function(e){var t=(t=e.changedTouches)&&0<t.length?t[0]:e;return this.fromTouch(t)},fromTouch:function(e){return new this(e.pageX,e.pageY)},from:function(e){return e?e instanceof this?e:new this(e.x,e.y):new this(0,0)}},constructor:function(e,t){this.callParent2(this,"GRUI.util.Region","null","constructor",this.constructor,[t=null==t?0:t,e=null==e?0:e,t,e])},clone:function(){return new this.self(this.x,this.y)},copy:function(){return this.clone.apply(this,arguments)},copyFrom:function(e){return this.x=e.x,this.y=e.y,this},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(e){return this.x===e.x&&this.y===e.y},isCloseTo:function(e,t){if("number"==typeof t)return this.getDistanceTo(e)<=t;var n=e.x,r=(e=e.y,t.x);t=t.y;return this.x<=n+r&&this.x>=n-r&&this.y<=e+t&&this.y>=e-t},isWithin:function(){return this.isCloseTo.apply(this,arguments)},isContainedBy:function(e){return(e=e instanceof ei.Z.util.Region?e:ei.Z.get(e.el||e).getRegion()).contains(this)},roundedEquals:function(e){return e&&"object"==typeof e||(e=this.origin),Math.round(this.x)===Math.round(e.x)&&Math.round(this.y)===Math.round(e.y)},getDistanceTo:function(e){e&&"object"==typeof e||(e=this.origin);var t=this.x-e.x;e=this.y-e.y;return Math.sqrt(t*t+e*e)},getAngleTo:function(e){e&&"object"==typeof e||(e=this.origin);var t=this.x-e.x;e=this.y-e.y;return Math.atan2(e,t)*this.radianToDegreeConstant}},(function(){this.prototype.translate=this.prototype.translateBy})),ei.Z.define("GRUI.event.Event",{alternateClassName:"GRUI.EventObjectImpl",requires:["GRUI.util.Point"],stopped:!1,claimed:!1,defaultPrevented:!1,isEvent:!0,geckoRelatedTargetEvents:{blur:1,dragenter:1,dragleave:1,focus:1},statics:{resolveTextNode:function(e){return e&&3===e.nodeType?e.parentNode:e},gestureEvents:{},pointerEvents:{pointerdown:1,pointermove:1,pointerup:1,pointercancel:1,pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerDown:1,MSPointerMove:1,MSPointerUp:1,MSPointerOver:1,MSPointerOut:1,MSPointerCancel:1,MSPointerEnter:1,MSPointerLeave:1},mouseEvents:{mousedown:1,mousemove:1,mouseup:1,mouseover:1,mouseout:1,mouseenter:1,mouseleave:1},clickEvents:{click:1,dblclick:1},touchEvents:{touchstart:1,touchmove:1,touchend:1,touchcancel:1},focusEvents:{focus:1,focusin:1,focusenter:1},blurEvents:{blur:1,focusout:1,focusleave:1},wheelEvents:{wheel:1},pointerTypeMap:{2:"touch",3:"pen",4:"mouse",touch:"touch",pen:"pen",mouse:"mouse"},keyEventRe:/^key/,keyFlags:{CTRL:"ctrlKey",CONTROL:"ctrlKey",ALT:"altKey",SHIFT:"shiftKey",CMD:"metaKey",COMMAND:"metaKey",CMDORCTRL:ei.Z.isMac?"metaKey":"ctrlKey",COMMANDORCONTROL:ei.Z.isMac?"metaKey":"ctrlKey",META:"metaKey"},modifierGlyphs:{ctrlKey:"\u2303",altKey:"\u2325",metaKey:ei.Z.isMac?"\u2318":"\u229e",shiftKey:"\u21e7"},specialKeyGlyphs:{BACKSPACE:"\u232b",TAB:"\u21e5",ENTER:"\u23ce",RETURN:"\u23ce",SPACE:"\u2423",PAGE_UP:"\u21de",PAGE_DOWN:"\u21df",END:"\u21f2",HOME:"\u2302",LEFT:"\u2190",UP:"\u2191",RIGHT:"\u2192",DOWN:"\u2193",PRINT_SCREEN:"\u2399",INSERT:"\u2380",DELETE:"\u2326",CONTEXT_MENU:"\u2630"},_hyphenRe:/^[a-z]+\-/i,getKeyId:function(e){e="number"==typeof e?this.keyCodes[e]:e.toUpperCase();for(var t=this,n=t._hyphenRe.test(e)?"-":"+",r=e===n?[n]:e.split(n),i=r.length-1,o=(e=r[i],[]),a=0;a<i;a++)o[t.keyFlags[r[a]]]=!0;return o.ctrlKey&&o.push(t.modifierGlyphs.ctrlKey),o.altKey&&o.push(t.modifierGlyphs.altKey),o.shiftKey&&o.push(t.modifierGlyphs.shiftKey),o.metaKey&&o.push(t.modifierGlyphs.metaKey),o.push(this.specialKeyGlyphs[e]||e),o.join("")},globalTabKeyDown:function(e){9===e.keyCode&&(ei.Z.event.Event.forwardTab=!e.shiftKey)},globalTabKeyUp:function(e){9===e.keyCode&&delete ei.Z.event.Event.forwardTab}},constructor:function(e){var t,n=this,r=n.self,i=n.self.resolveTextNode,o=(o=e.changedTouches)?o[0]:e,a=e.type;if(n.timeStamp=n.time=ei.Z.ticks(),n.pageX=o.pageX,n.pageY=o.pageY,n.clientX=o.clientX,n.clientY=o.clientY,n.target=n.delegatedTarget=i(e.target),n.currentTarget=i(e.currentTarget),o=e.relatedTarget)if(ei.Z.isGecko&&n.geckoRelatedTargetEvents[a])try{n.relatedTarget=i(o)}catch(e){n.relatedTarget=null}else n.relatedTarget=i(o);n.browserEvent=n.event=e,n.type=a,n.button=e.button||0,n.shiftKey=e.shiftKey,n.ctrlKey=e.ctrlKey||e.metaKey||!1,n.altKey=e.altKey,n.charCode=e.charCode,n.keyCode=e.keyCode,n.buttons=e.buttons,0===n.button&&0===n.buttons&&(n.buttons=1),r.focusEvents[a]||r.blurEvents[a]?(void 0!==r.forwardTab&&(n.forwardTab=r.forwardTab),r.focusEvents[a]?(n.fromElement=e.relatedTarget,n.toElement=e.target):(n.fromElement=e.target,n.toElement=e.relatedTarget)):"keydown"!==a&&delete r.forwardTab,r.mouseEvents[a]?t="mouse":r.clickEvents[a]?t=r.pointerTypeMap[e.pointerType]||(ei.Z.now()-ei.Z.event.publisher.Dom.lastTouchEndTime<1e3?"touch":"mouse"):r.pointerEvents[a]?t=r.pointerTypeMap[e.pointerType]||"mouse":r.touchEvents[a]&&(t="touch"),t&&(n.pointerType=t),n.isMultitouch=!1===e.isPrimary||e.touches&&1<e.touches.length,r.wheelEvents[a]&&n.getWheelDeltas()},chain:function(e){var t=ei.Z.Object.chain(this);return t.parentEvent=this,ei.Z.apply(t,e)},correctWheelDelta:function(e){var t=this,n=t.browserEvent.deltaMode,r=e;return 0===n?r=e*t.WHEEL_PIXEL_SIZE:1===n?r=e*t.WHEEL_LINE_SIZE:2===n&&(r=e*t.WHEEL_PAGE_SIZE),Math.round(r)},getChar:function(){var e=this.which();return String.fromCharCode(e)},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.keyCode||this.charCode},getKeyName:function(){return"keypress"===this.type?String.fromCharCode(this.getCharCode()):this.keyCodes[this.keyCode]},key:function(){return this.browserEvent.key},which:function(){var e=this.browserEvent,t=e.which;return null==t&&(this.self.keyEventRe.test(e.type)?t=e.charCode||e.keyCode:void 0!==(t=e.button)&&(t=1&t?1:4&t?2:2&t?3:0)),t},getClipboardData:function(e){var t=this.browserEvent.clipboardData,n=null;return e=e||"text/plain",t&&t.getData?t.getData(e):n},getPoint:function(){var e,t=this,n=t.point;return n||(e=t.getXY(),n=t.point=new ei.Z.util.Point(e[0],e[1])),n},getRelatedTarget:function(e,t,n){var r=this.relatedTarget,i=null;return r&&r.nodeType?e?ei.Z.fly(r).findParent(e,t,n):n?ei.Z.get(r):r:i},getTarget:function(e,t,n){return e?ei.Z.fly(this.target).findParent(e,t,n):n?ei.Z.get(this.target):this.target},getTime:function(){return this.time},getWheelDelta:function(){return this.getWheelDeltas().y},getWheelDeltas:function(){var e,t,n,r=this,i=r.wheelDeltas;return i||(e=r.browserEvent,t=r.correctWheelDelta(e.deltaX||0),n=e.deltaY,n=r.correctWheelDelta(null==n?-e.wheelDelta:n),r.deltaX=t,r.deltaY=n,r.wheelDeltas=i={x:t,y:n}),i},getX:function(){return this.getXY()[0]},getXY:function(){var e,t,n=this,r=n.xy;return r||(e=(r=n.xy=[n.pageX,n.pageY])[0])||0===e||(e=n.browserEvent,t=(n=document).documentElement,n=n.body,r[0]=e.clientX+(t&&t.scrollLeft||n&&n.scrollLeft||0)-(t&&t.clientLeft||n&&n.clientLeft||0),r[1]=e.clientY+(t&&t.scrollTop||n&&n.scrollTop||0)-(t&&t.clientTop||n&&n.clientTop||0)),r},getLocalXY:function(e){var t=this.getXY(),n=ei.Z.fly(this.currentTarget).getXY(),r=t[0]-n[0];t=t[1]-n[1];return e&&(n=ei.Z.fly(this.currentTarget).getSize(),r=Math.max(0,Math.min(r,n.width)),t=Math.max(0,Math.min(t,n.height))),[r,t]},getY:function(){return this.getXY()[1]},hasModifier:function(){return!!(this.ctrlKey||this.altKey||this.shiftKey||this.metaKey)},isNavKeyPress:function(e){var t=this,n=t.keyCode;return(!("keypress"===t.type)||ei.Z.isGecko)&&33<=n&&n<=40||!e&&(n===t.RETURN||n===t.TAB||n===t.ESC)},isSpecialKey:function(){var e=this,t=e.keyCode,n=ei.Z.isGecko,r="keypress"===e.type;return n&&r&&0===e.charCode||this.isNavKeyPress()||t===e.BACKSPACE||t===e.ENTER||16<=t&&t<=20||(!r||n)&&44<=t&&t<=46},makeUnpreventable:function(){this.browserEvent.preventDefault=ei.Z.emptyFn},preventDefault:function(){var e=this.parentEvent;return this.defaultPrevented=!0,e&&(e.defaultPrevented=!0),this.browserEvent.preventDefault(),this},setCurrentTarget:function(e){this.currentTarget=this.delegatedTarget=e},stopEvent:function(){return this.preventDefault().stopPropagation()},mousedownEvents:{mousedown:1,pointerdown:1,touchstart:1},mouseupEvents:{mouseup:1,pointerup:1,touchend:1},stopPropagation:function(){var e=this,t=e.browserEvent,n=e.parentEvent;return e.mousedownEvents[e.type]&&ei.Z.GlobalEvents.fireMouseDown(e),e.mouseupEvents[e.type]&&ei.Z.GlobalEvents.fireMouseUp(e),e.stopped=!0,n&&!e.isGesture&&(n.stopped=!0),t.stopPropagation(),e},claimGesture:function(){var e=this,t=e.parentEvent;return e.claimed=!0,t&&!e.isGesture?t.claimGesture():e.preventDefault(),e},within:function(e,t,n){var r;return!(!(r=e?t?this.getRelatedTarget():this.getTarget():r)||!1===n&&r===ei.Z.getDom(e))&&ei.Z.fly(e).contains(r)},privates:{ieMimeType:{"text/plain":"Text"}},deprecated:{"4.0":{methods:{getPageX:"getX",getPageY:"getY"}}}},(function(e){var t,n,r,i={BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_PIXEL_SIZE:1,WHEEL_LINE_SIZE:20,WHEEL_PAGE_SIZE:600},o={},a=e.gestureEvents,s=e.prototype;for(n in ei.Z.apply(a,e.mouseEvents),ei.Z.apply(a,e.pointerEvents),ei.Z.apply(a,e.touchEvents),ei.Z.apply(e,i),ei.Z.apply(s,i),delete i.RETURN,i)o[i[n]]=n;if(e.keyCodes=s.keyCodes=o,ei.Z.isIE9m||(document.addEventListener("keydown",e.globalTabKeyDown,!0),document.addEventListener("keyup",e.globalTabKeyUp,!0)),s.getTrueXY=s.getXY,"undefined"!=typeof KeyboardEvent&&!("key"in KeyboardEvent.prototype)){for(s._keys=r={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"},t=1;t<25;++t)r[t+111]="F"+t;for(t=0;t<26;++t)r[t]=[String.fromCharCode(t+97),String.fromCharCode(t+65)];s.key=function(){var e=r[this.browserEvent.which||this.keyCode];return e&&"string"!=typeof e?e[+this.shiftKey]:e}}})),ei.Z.define("GRUI.event.publisher.Dom",{extend:"GRUI.event.publisher.Publisher",requires:["GRUI.event.Event"],type:"dom",handledDomEvents:[],reEnterCount:0,captureEvents:{animationstart:1,animationend:1,resize:1,focus:1,blur:1},directEvents:{mouseenter:1,mouseleave:1,pointerenter:1,pointerleave:1,MSPointerEnter:1,MSPointerLeave:1,load:1,unload:1,beforeunload:1,error:1,DOMContentLoaded:1,DOMFrameContentLoaded:1,hashchange:1,scroll:1,online:1,offline:1},blockedPointerEvents:{pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerOver:1,MSPointerOut:1,MSPointerEnter:1,MSPointerLeave:1},blockedCompatibilityMouseEvents:{mouseenter:1,mouseleave:1},constructor:function(){var e=this,t=ei.Z.supports.PassiveEventListener;e.listenerOptions=!!t&&{passive:!1},e.captureOptions=!t||{passive:!1,capture:!0},e.bubbleSubscribers={},e.captureSubscribers={},e.directSubscribers={},e.directCaptureSubscribers={},e.delegatedListeners={},e.initHandlers(),ei.Z.onInternalReady(e.onReady,e),this.callParent2(this,"GRUI.event.publisher.Publisher","null","constructor",this.constructor,arguments),e.registerDomEvents()},registerDomEvents:function(){for(var e,t=this,n=ei.Z.event.publisher.Publisher.publishersByEvent,r=t.handledDomEvents,i=r.length,o=0;o<i;o++)e=r[o],t.handles[e]=1,n[e]=t},onReady:function(){var e,t,n=this,r=n.handledDomEvents;if(r)for(t=0,e=r.length;t<e;t++)n.addDelegatedListener(r[t]);ei.Z.getWin().on("unload",n.destroy,n,{priority:-1e4})},initHandlers:function(){var e=this;e.onDelegatedEvent=ei.Z.bind(e.onDelegatedEvent,e),e.onDirectEvent=ei.Z.bind(e.onDirectEvent,e),e.onDirectCaptureEvent=ei.Z.bind(e.onDirectCaptureEvent,e)},addDelegatedListener:function(e){var t=this;t.delegatedListeners[e]=1,t.target.addEventListener(e,t.onDelegatedEvent,t.captureEvents[e]?t.captureOptions:t.listenerOptions)},removeDelegatedListener:function(e){var t=this;delete t.delegatedListeners[e],t.target.removeEventListener(e,t.onDelegatedEvent,t.captureEvents[e]?t.captureOptions:t.listenerOptions)},addDirectListener:function(e,t,n){var r=this;t.dom.addEventListener(e,n?r.onDirectCaptureEvent:r.onDirectEvent,n?r.captureOptions:r.listenerOptions)},removeDirectListener:function(e,t,n){var r=this;t.dom.removeEventListener(e,n?r.onDirectCaptureEvent:r.onDirectEvent,n?r.captureOptions:r.listenerOptions)},subscribe:function(e,t,n,r){var i,o=this;n&&!o.directEvents[t]?(i=r?o.captureSubscribers:o.bubbleSubscribers,o.handles[t]||o.delegatedListeners[t]||o.addDelegatedListener(t),i[t]?++i[t]:i[t]=1):(i=r?o.directCaptureSubscribers:o.directSubscribers,n=e.id,(i=i[t]||(i[t]={}))[n]?++i[n]:(i[n]=1,o.addDirectListener(t,e,r)))},unsubscribe:function(e,t,n,r){var i,o,a=this;n&&!a.directEvents[t]?(n=a.captureSubscribers,o=a.bubbleSubscribers,(i=r?n:o)[t]&&--i[t],a.handles[t]||o[t]||n[t]||this.removeDelegatedListener(t)):(i=r?a.directCaptureSubscribers:a.directSubscribers,o=e.id,(i=i[t])[o]&&--i[o],i[o]||(delete i[o],a.removeDirectListener(t,e,r)))},getPropagatingTargets:function(e){for(var t=e,n=[];t;)n.push(t),t=t.parentNode||t.defaultView;return n},publish:function(e,t,n){var r,i,o,a,s,l,u,c,d,f=this,h=!1,p=!1;for(n=n||!1,t||(o=e.target,t=f.captureEvents[e.type]?(a=ei.Z.cache[o.id])?[a]:[]:f.getPropagatingTargets(o)),r=ei.Z.Array.from(e),l=t.length,c=r.length,s=0;s<c;s++)i=r[s].type,!h&&f.captureSubscribers[i]&&(h=!0),!p&&f.bubbleSubscribers[i]&&(p=!0);if(h)for(s=l;s--;)if(a=ei.Z.cache[t[s].id])for(u=0;u<c;u++)e=r[u],f.fire(a,e.type,e,!1,!0),!n&&e.claimed&&(n=!0,u=f.filterClaimed(r,e),c=r.length),e.stopped&&(r.splice(u,1),u--,c--);if(p&&!e.stopped)for(s=0;s<l;s++)if(d="BODY"===t[s].tagName,a=ei.Z.cache[t[s].id||d&&"ext-element-body"])for(u=0;u<c;u++)e=r[u],f.fire(a,e.type,e,!1,!1),!n&&e.claimed&&f.filterClaimed&&(n=!0,u=f.filterClaimed(r,e),c=r.length),e.stopped&&(r.splice(u,1),u--,c--)},publishDelegatedDomEvent:function(e){this.publish(e)},fire:function(e,t,n,r,i){e.hasListeners[t]&&(t=e.events[t])&&(i&&r?t=t.directCaptures:i?t=t.captures:r&&(t=t.directs),t&&(n.setCurrentTarget(e.dom),t.fire(n,n.target)))},onDelegatedEvent:function(e){ei.Z.elevateFunction?ei.Z.elevateFunction(this.doDelegatedEvent,this,[e]):this.doDelegatedEvent(e)},doDelegatedEvent:function(e){var t=this,n=(e=new ei.Z.event.Event(e)).time;t.isEventBlocked(e)||(t.beforeEvent(e),ei.Z.frameStartTime=n,t.reEnterCountAdjusted=!1,t.reEnterCount++,t.publishDelegatedDomEvent(e),t.reEnterCountAdjusted||t.reEnterCount--,t.afterEvent(e))},onDirectEvent:function(e){ei.Z.elevateFunction?ei.Z.elevateFunction(this.doDirectEvent,this,[e,!1]):this.doDirectEvent(e,!1)},onDirectCaptureEvent:function(e){ei.Z.elevateFunction?ei.Z.elevateFunction(this.doDirectEvent,this,[e,!0]):this.doDirectEvent(e,!0)},doDirectEvent:function(e,t){var n=this,r=e.currentTarget,i=(e=new ei.Z.event.Event(e)).time;n.isEventBlocked(e)||(n.beforeEvent(e),ei.Z.frameStartTime=i,(i=ei.Z.cache[r.id])&&(n.reEnterCountAdjusted=!1,n.reEnterCount++,n.fire(i,e.type,e,!0,t),n.reEnterCountAdjusted||n.reEnterCount--),n.afterEvent(e))},beforeEvent:function(e){e=e.browserEvent;var t=ei.Z.event.publisher.Dom;"touchstart"===e.type&&1===(e=e.touches).length&&(e=e[0],t.lastTouchStartX=e.pageX,t.lastTouchStartY=e.pageY)},afterEvent:function(e){var t=e.browserEvent.type,n=ei.Z.event.publisher.Dom,r=ei.Z.GlobalEvents;e.self.pointerEvents[t]&&"mouse"!==e.pointerType&&(n.lastScreenPointerEventTime=ei.Z.now()),"touchend"===t&&(n.lastTouchEndTime=ei.Z.now()),this.reEnterCount||r.idleEventMask[t]||ei.Z.fireIdle()},isEventBlocked:function(e){var t=e.type,n=ei.Z.event.publisher.Dom,r=ei.Z.now();return!(!ei.Z.isGecko||"click"!==e.type||2!==e.button)||this.blockedPointerEvents[t]&&"mouse"!==e.pointerType||this.blockedCompatibilityMouseEvents[t]&&r-n.lastScreenPointerEventTime<1e3||ei.Z.supports.TouchEvents&&e.self.mouseEvents[e.type]&&Math.abs(e.pageX-n.lastTouchStartX)<15&&Math.abs(e.pageY-n.lastTouchStartY)<15&&ei.Z.now()-n.lastTouchEndTime<1e3},destroy:function(){var e,t=ei.Z.dom.GarbageCollector;for(e in this.delegatedListeners)this.removeDelegatedListener(e);ei.Z.Reaper.flush(),t&&t.collect(),this.callParent2(this,"GRUI.event.publisher.Publisher","null","destroy",this.destroy,arguments)},reset:function(){var e=ei.Z.event.publisher.Dom;this.reEnterCount=0,e.lastScreenPointerEventTime=e.lastTouchEndTime=e.lastTouchStartX=e.lastTouchStartY=void 0}},(function(e){var t=document,n=t.defaultView,r=e.prototype;ei.Z.os.is.iOS&&window.self!==window.top||ei.Z.browser.is.AndroidStock||!n||!n.addEventListener?r.target=t:r.target=n,e.instance=new e})),ei.Z.define("GRUI.event.publisher.Gesture",{extend:"GRUI.event.publisher.Dom",requires:["GRUI.util.Point","GRUI.AnimationQueue"],uses:"GRUI.event.gesture.*",type:"gesture",isCancelEvent:{touchcancel:1,pointercancel:1,MSPointerCancel:1},isEndEvent:{mouseup:1,touchend:1,pointerup:1,MSPointerUp:1},handledEvents:[],handledDomEvents:[],constructor:function(e){var t=this,n=t.handledDomEvents,r=ei.Z.supports,i=r.TouchEvents,o=t.onTouchStart,a=t.onTouchMove,s=t.onTouchEnd;return t.handlers={touchstart:o,touchmove:a,touchend:s,touchcancel:s,pointerdown:o,pointermove:a,pointerup:s,pointercancel:s,MSPointerDown:o,MSPointerMove:a,MSPointerUp:s,MSPointerCancel:s,mousedown:o,mousemove:a,mouseup:s},t.activeTouchesMap={},t.activeTouches=[],t.changedTouches=[],t.recognizers=[],t.eventToRecognizer={},t.cancelEvents=[],i&&(t.onTargetTouchMove=t.onTargetTouchMove.bind(t),t.onTargetTouchEnd=t.onTargetTouchEnd.bind(t)),r.PointerEvents?(n.push("pointerdown","pointermove","pointerup","pointercancel"),t.mousePointerType="mouse"):r.MSPointerEvents?(n.push("MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"),t.mousePointerType=4):i&&n.push("touchstart","touchmove","touchend","touchcancel"),(!n.length||i&&ei.Z.os.is.Desktop)&&n.push("mousedown","mousemove","mouseup"),t.initConfig(e),this.callParent2(this,"GRUI.event.publisher.Dom","null","constructor",this.constructor,arguments)},onReady:function(){this.callParent2(this,"GRUI.event.publisher.Dom","null","onReady",this.onReady,arguments),ei.Z.Array.sort(this.recognizers,(function(e,t){return e=e.priority,(t=t.priority)<e?1:e<t?-1:0}))},registerRecognizer:function(e){var t,n,r=this,i=e.handledEvents,o=i.length;for(e.setOnRecognized(r.onRecognized),e.setCallbackScope(r),n=0;n<o;n++)t=i[n],r.handledEvents.push(t),r.eventToRecognizer[t]=e;r.registerEvents(i),r.recognizers.push(e)},onRecognized:function(e,t,n,r,i){var o,a,s,l,u=this,c=n.touches,d=n.changedTouches,f=d.length,h=u.events,p=!h.length,g=u.cancelEvents;if((r=r||{}).type=t,r.target=d[0].target,r.stopped=!1,r.claimed=!1,r.isGesture=!0,n=n.chain(r),!u.gestureTargets){if(1<f){for(o=[],s=0;s<f;s++)l=d[s],o.push(l.targets);a=u.getCommonTargets(o)}else a=d[0].targets;u.gestureTargets=a}i&&e.isSingleTouch&&1<c.length?(n.target=c[0].target,g.push(n)):h.push(n),p&&u.publishGestures()},getCommonTargets:function(e){var t,n,r,i=e[0],o=e.length,a=[],s=1;if(1===o)return i;for(;;){if(!(t=i[i.length-s]))return a;for(r=1;r<o;r++)if((n=e[r])[n.length-s]!==t)return a;a.unshift(t),s++}return a},invokeRecognizers:function(e,t){var n,r,i=this.recognizers,o=i.length;if("onStart"===e)for(n=0;n<o;n++)i[n].isActive=!0;for(n=0;n<o;n++)(r=i[n]).isActive&&!1===r[e].call(r,t)&&(r.isActive=!1)},filterClaimed:function(e,t){for(var n,r,i=this.eventToRecognizer,o=t.type,a=i[o],s=e.length;s--;)(r=e[s].type)===o?n=s:(r=i[r],(!a||r&&r!==a)&&(e.splice(s,1),n&&n--));return this.claimRecognizer(a,e[0]),n},claimRecognizer:function(e,t){for(var n,r=this.recognizers,i=0,o=r.length;i<o;i++)(n=r[i])!==e&&(n.isActive=!1,n.cancel(t));this.events.length&&this.publishGestures(!0)},publishGestures:function(e){var t=this,n=t.cancelEvents,r=t.events,i=t.gestureTargets;n.length&&(t.cancelEvents=[],t.publish(n,t.getPropagatingTargets(n[0].target),!0)),r.length&&(t.events=[],t.gestureTargets=null,t.publish(r,i||t.getPropagatingTargets(r[0].target),e))},updateTouches:function(e){for(var t,n,r,i,o=this,a=e.browserEvent,s=e.type,l=a.changedTouches||[a],u=o.activeTouches,c=o.activeTouchesMap,d=[],f=0,h=l.length;f<h;f++)(n=c[i="identifier"in(t=l[f])?t.identifier:"pointerId"in t?t.pointerId:1])||(r=ei.Z.event.Event.resolveTextNode(t.target),n=c[i]={identifier:i,target:r,targets:o.getPropagatingTargets(r)},u.push(n)),(o.isEndEvent[s]||o.isCancelEvent[s])&&(delete c[i],ei.Z.Array.remove(u,n)),r=Math.round(t.pageX),i=Math.round(t.pageY),n.pageX=r,n.pageY=i,n.point=new ei.Z.util.Point(r,i),d.push(n);e.touches=ei.Z.Array.clone(u),e.changedTouches=d},publishDelegatedDomEvent:function(e){!e.button||e.button<1?(this.events=[e],e.browserEvent.$extHandled=!0,this.handlers[e.type].call(this,e)):this.callParent2(this,"GRUI.event.publisher.Dom","null","publishDelegatedDomEvent",this.publishDelegatedDomEvent,arguments)},onTouchStart:function(e){var t=this,n=e.target,r=e.browserEvent.touches;"touchstart"===e.browserEvent.type&&(n.addEventListener("touchmove",t.onTargetTouchMove),n.addEventListener("touchend",t.onTargetTouchEnd),n.addEventListener("touchcancel",t.onTargetTouchEnd)),r&&r.length<=t.activeTouches.length&&t.removeGhostTouches(r),t.updateTouches(e),t.isStarted||(ei.Z.enableGarbageCollector&&ei.Z.dom.GarbageCollector.pause(),t.isStarted=!0,t.invokeRecognizers("onStart",e)),t.invokeRecognizers("onTouchStart",e),t.publishGestures()},onTouchMove:function(e){var t=this,n=t.mousePointerType,r=t.isStarted;if(!r&&"mouse"===e.pointerType||t.updateTouches(e),r){if(n&&e.browserEvent.pointerType===n&&0===e.buttons)return e.type=ei.Z.dom.Element.prototype.eventMap.touchend,e.button=0,void t.onTouchEnd(e);0<e.changedTouches.length&&t.invokeRecognizers("onTouchMove",e)}t.publishGestures()},onTouchEnd:function(e){var t=this,n=t.isStarted;if(!n&&"mouse"===e.pointerType||t.updateTouches(e),n){n=t.activeTouches.length;try{t.invokeRecognizers(t.isCancelEvent[e.type]?"onTouchCancel":"onTouchEnd",e)}finally{try{n||(t.isStarted=!1,t.invokeRecognizers("onEnd",e))}finally{try{t.publishGestures()}finally{n||ei.Z.enableGarbageCollector&&ei.Z.dom.GarbageCollector.resume(),t.reEnterCountAdjusted=!0,t.reEnterCount--}}}}else t.publishGestures()},onTargetTouchMove:function(e){ei.Z.elevateFunction?ei.Z.elevateFunction(this.doTargetTouchMove,this,[e]):this.doTargetTouchMove(e)},doTargetTouchMove:function(e){ei.Z.getBody().contains(e.target)||(this.reEnterCountAdjusted=!1,this.reEnterCount++,this.onTouchMove(new ei.Z.event.Event(e)),this.reEnterCountAdjusted||this.reEnterCount--)},onTargetTouchEnd:function(e){ei.Z.elevateFunction?ei.Z.elevateFunction(this.doTargetTouchEnd,this,[e]):this.doTargetTouchEnd(e)},doTargetTouchEnd:function(e){var t=this,n=e.target;n.removeEventListener("touchmove",t.onTargetTouchMove),n.removeEventListener("touchend",t.onTargetTouchEnd),n.removeEventListener("touchcancel",t.onTargetTouchEnd),ei.Z.getBody().contains(n)||(t.reEnterCountAdjusted=!1,t.reEnterCount++,t.onTouchEnd(new ei.Z.event.Event(e)),t.reEnterCountAdjusted||t.reEnterCount--)},reset:function(){var e,t,n=this,r=n.recognizers,i=r.length;for(n.activeTouchesMap={},n.activeTouches=[],n.changedTouches=[],n.isStarted=!1,n.gestureTargets=null,n.events=[],n.cancelEvents=[],e=0;e<i;e++)(t=r[e]).reset(),t.isActive=!1;this.callParent2(this,"GRUI.event.publisher.Dom","null","reset",this.reset,arguments)},privates:{removeGhostTouches:function(e){for(var t,n,r={},i=e.length,o=this.activeTouches,a=this.activeTouchesMap,s=0;s<i;++s)r[e[s].identifier]=!0;for(s=o.length;s--;)e[t=(n=o[s]).identifier]||(ei.Z.Array.remove(o,n),delete a[t])}}},(function(e){var t=Event.prototype,n=t.stopPropagation;n&&(t.stopPropagation=function(){var t=e.instance,r=this.type;!this.$extHandled&&t.handles[r]&&(r=new ei.Z.event.Event(this),t.updateTouches(r),t.invokeRecognizers("onTouchCancel",r),t.reset(),t.reEnterCountAdjusted=!0),n.apply(this,arguments)}),e.instance=ei.Z.$gesturePublisher=new e})),ei.Z.define("GRUI.mixin.Templatable",{extend:"GRUI.Mixin",mixinConfig:{id:"templatable"},referenceAttributeName:"reference",referenceSelector:"[reference]",getElementConfig:function(){return{reference:"element"}},getElementTemplate:function(){var e=document.createDocumentFragment();return e.appendChild(ei.Z.Element.create(this.getElementConfig(),!0)),e},initElement:function(){var e=this.self.prototype;e.elementTemplate=this.getElementTemplate(),e.initElement=e.doInitElement,this.initElement.apply(this,arguments)},linkElement:function(e,t){this.link(e,t)},doInitElement:function(){for(var e,t,n=this.referenceAttributeName,r=this.elementTemplate.cloneNode(!0).querySelectorAll(this.referenceSelector),i=0,o=r.length;i<o;i++)t=(e=r[i]).getAttribute(n),e.removeAttribute(n),this.linkElement(t,e)}}),ei.Z.define("GRUI.TaskQueue",{requires:"GRUI.AnimationQueue",singleton:!0,pending:!1,mode:!0,readQueue:[],writeQueue:[],readRequestId:0,writeRequestId:0,timer:null,constructor:function(){var e=this;e.run=e.run.bind(e),ei.Z.os.is.iOS&&(e.watchdogTimer=ei.Z.interval(this.watch,500,this))},requestRead:function(e,t,n){return e={id:++this.readRequestId,fn:e,scope:t,args:n},this.readQueue.push(e),this.request(!0),e.id},cancelRead:function(e){this.cancelRequest(this.readQueue,e,!0)},requestWrite:function(e,t,n){var r=this;e={id:++r.writeRequestId,fn:e,scope:t,args:n};return r.writeQueue.push(e),r.request(!1),e.id},cancelWrite:function(e){this.cancelRequest(this.writeQueue,e,!1)},request:function(e,t){var n=this;n.pending||(n.pendingTime=Date.now(),n.pending=!0,n.mode=e,n.timer=e?ei.Z.defer(n[t]||n.run,1):ei.Z.raf(n[t]||n.run))},cancelRequest:function(e,t,n){for(var r=0;r<e.length;r++)if(e[r].id===t){e.splice(r,1);break}!e.length&&this.mode===n&&this.timer&&ei.Z.undefer(this.timer)},watch:function(){this.pending&&500<=Date.now()-this.pendingTime&&this.run()},run:function(e,t,n){var r,i,o,a,s,l,u,c=this,d=null;for(e=e||c.readQueue,t=t||c.writeQueue,c.pending=!1,c.pending=c.timer=!1,c.mode?(r=e,0<t.length&&(d=!1)):(r=t,0<e.length&&(d=!0)),i=r.slice(),l=r.length=0,u=i.length;l<u;l++)o=(s=i[l]).fn,a=s.scope,s=s.args,a&&(a.destroying||a.destroyed)||("string"==typeof o&&(o=a[o]),s?o.apply(a,s):o.call(a));i.length=0,null!==d&&c.request(d,n)},clear:function(){var e=this,t=e.timer;t&&(e.mode?ei.Z.undefer(t):ei.Z.unraf(t)),e.readQueue.length=e.writeQueue.length=0,e.pending=e.timer=!1,e.mode=!0}}),ei.Z.define("GRUI.util.sizemonitor.Abstract",{mixins:["GRUI.mixin.Templatable"],requires:["GRUI.TaskQueue"],config:{element:null,callback:ei.Z.emptyFn,scope:null,args:[]},width:null,height:null,contentWidth:null,contentHeight:null,constructor:function(e){var t=this;t.refresh=t.refresh.bind(t),t.info={width:0,height:0,contentWidth:0,contentHeight:0,flag:0},t.initElement(),t.initConfig(e),t.bindListeners(!0)},bindListeners:ei.Z.emptyFn,applyElement:function(e){if(e)return ei.Z.get(e)},updateElement:function(e){e.append(this.detectorsContainer,!0),e.addCls(ei.Z.baseCSSPrefix+"size-monitored")},applyArgs:function(e){return e.concat([this.info])},refreshMonitors:ei.Z.emptyFn,forceRefresh:function(){ei.Z.TaskQueue.requestRead("refresh",this)},getContentBounds:function(){return this.detectorsContainer.getBoundingClientRect()},getContentWidth:function(){return this.detectorsContainer.clientWidth},getContentHeight:function(){return this.detectorsContainer.clientHeight},refreshSize:function(){if(!(n=this.getElement())||n.destroyed)return!1;var e=this,t=(n=n.measure()).width,n=n.height,r=e.getContentWidth(),i=e.getContentHeight(),o=e.contentWidth,a=e.contentHeight,s=e.info,l=!1;return e.width=t,e.height=n,0<(o=(o!==(e.contentWidth=r)?1:0)+(a!==(e.contentHeight=i)?2:0))&&(s.width=t,s.height=n,s.contentWidth=r,s.contentHeight=i,s.flag=o,l=!0,e.getCallback().apply(e.getScope(),e.getArgs())),l},refresh:function(){this.destroying||this.destroyed||(this.refreshSize(),ei.Z.TaskQueue.requestWrite("refreshMonitors",this))},destroy:function(){var e=this,t=e.getElement();e.bindListeners(!1),t&&!t.destroyed&&t.removeCls(ei.Z.baseCSSPrefix+"size-monitored"),delete e._element,e.refresh=null,this.callParent2(this,"null","null","destroy",this.destroy,arguments)}}),ei.Z.define("GRUI.util.sizemonitor.Scroll",{extend:"GRUI.util.sizemonitor.Abstract",getElementConfig:function(){return{reference:"detectorsContainer",classList:[ei.Z.baseCSSPrefix+"size-monitors","scroll"],children:[{reference:"expandMonitor",className:"expand"},{reference:"shrinkMonitor",className:"shrink"}]}},constructor:function(e){this.onScroll=this.onScroll.bind(this),this.callParent2(this,"GRUI.util.sizemonitor.Abstract","null","constructor",this.constructor,arguments)},bindListeners:function(e){e=e?"addEventListener":"removeEventListener",this.expandMonitor[e]("scroll",this.onScroll,!0),this.shrinkMonitor[e]("scroll",this.onScroll,!0)},onScroll:function(e){this.destroyed||(this.hasExpandMonitorScrollChanged&&e.target===this.expandMonitor?delete this.hasExpandMonitorScrollChanged:this.hasShrinkMonitorScrollChanged&&e.target===this.shrinkMonitor?delete this.hasShrinkMonitorScrollChanged:ei.Z.TaskQueue.requestRead("refresh",this))},refreshMonitors:function(){var e=this.expandMonitor,t=this.shrinkMonitor,n=1e6;e&&!e.destroyed&&(ei.Z.isiOS&&(this.hasExpandMonitorScrollChanged=!0),e.scrollLeft=n,e.scrollTop=n),t&&!t.destroyed&&(ei.Z.isiOS&&(this.hasShrinkMonitorScrollChanged=!0),t.scrollLeft=n,t.scrollTop=n)},destroy:function(){this.onScroll=null,this.callParent2(this,"GRUI.util.sizemonitor.Abstract","null","destroy",this.destroy,arguments)}}),ei.Z.define("GRUI.util.SizeMonitor",{requires:["GRUI.util.sizemonitor.Scroll"],constructor:function(e){return new ei.Z.util.sizemonitor.Scroll(e)}}),ei.Z.define("GRUI.event.publisher.ElementSize",{extend:"GRUI.event.publisher.Publisher",requires:["GRUI.util.SizeMonitor"],type:"size",handledEvents:["resize"],constructor:function(){this.monitors={},this.subscribers={},this.callParent2(this,"GRUI.event.publisher.Publisher","null","constructor",this.constructor,arguments)},subscribe:function(e){var t=e.id,n=this.subscribers,r=this.monitors;return n[t]?++n[t]:(n[t]=1,r[t]=new ei.Z.util.SizeMonitor({element:e,callback:this.onElementResize,scope:this,args:[e]})),e.on("painted","forceRefresh",r[t]),!0},unsubscribe:function(e){var t=e.id,n=this.subscribers,r=this.monitors;n[t]&&!--n[t]&&(delete n[t],n=r[t],e.un("painted","forceRefresh",n),n.destroy(),delete r[t]),e.activeRead&&ei.Z.TaskQueue.cancelRead(e.activeRead)},fireElementResize:function(e,t){delete e.activeRead,this.fire(e,"resize",[e,t])},onElementResize:function(e,t){e.activeRead||(e.activeRead=ei.Z.TaskQueue.requestRead("fireElementResize",this,[e,t]))}},(function(e){e.instance=new e})),ei.Z.define("GRUI.util.paintmonitor.Abstract",{config:{element:null,callback:ei.Z.emptyFn,scope:null,args:[]},eventName:"",monitorClass:"",constructor:function(e){this.onElementPainted=this.onElementPainted.bind(this),this.initConfig(e)},bindListeners:function(e){this.monitorElement[e?"addEventListener":"removeEventListener"](this.eventName,this.onElementPainted,!0)},applyElement:function(e){if(e)return ei.Z.get(e)},updateElement:function(e){this.monitorElement=ei.Z.Element.create({classList:[ei.Z.baseCSSPrefix+"paint-monitor",this.monitorClass]},!0),e.appendChild(this.monitorElement,!0),e.addCls(ei.Z.baseCSSPrefix+"paint-monitored"),this.bindListeners(!0)},onElementPainted:function(){},destroy:function(){var e=this,t=e.monitorElement,n=t.parentNode,r=e.getElement();e.bindListeners(!1),delete e.monitorElement,r&&!r.destroyed&&(r.removeCls(ei.Z.baseCSSPrefix+"paint-monitored"),delete e._element),n&&n.removeChild(t),this.callParent2(this,"null","null","destroy",this.destroy,arguments)}}),ei.Z.define("GRUI.util.paintmonitor.CssAnimation",{extend:"GRUI.util.paintmonitor.Abstract",eventName:ei.Z.browser.is.WebKit?"webkitAnimationEnd":"animationend",monitorClass:"cssanimation",onElementPainted:function(e){e.animationName===ei.Z.baseCSSPrefix+"paint-monitor-helper"&&this.getCallback().apply(this.getScope(),this.getArgs())}}),ei.Z.define("GRUI.util.PaintMonitor",{requires:["GRUI.util.paintmonitor.CssAnimation"],constructor:function(e){return new ei.Z.util.paintmonitor.CssAnimation(e)}}),ei.Z.define("GRUI.event.publisher.ElementPaint",{extend:"GRUI.event.publisher.Publisher",requires:["GRUI.util.PaintMonitor","GRUI.TaskQueue"],type:"paint",handledEvents:["painted"],constructor:function(){this.monitors={},this.subscribers={},this.callParent2(this,"GRUI.event.publisher.Publisher","null","constructor",this.constructor,arguments)},subscribe:function(e){var t=this,n=e.id,r=t.subscribers;r[n]?++r[n]:(r[n]=1,t.monitors[n]=new ei.Z.util.PaintMonitor({element:e,callback:t.onElementPainted,scope:t,args:[e]}))},unsubscribe:function(e){var t=e.id,n=this.subscribers,r=this.monitors;n[t]&&!--n[t]&&(delete n[t],r[t].destroy(),delete r[t]),e.activeRead&&ei.Z.TaskQueue.cancelRead(e.activeRead)},fireElementPainted:function(e){delete e.activeRead,this.fire(e,"painted",[e])},onElementPainted:function(e){e.activeRead||(e.activeRead=ei.Z.TaskQueue.requestRead("fireElementPainted",this,[e]))}},(function(e){e.instance=new e})),ei.Z.define("GRUI.dom.Element",(function(e){function t(e,t){return t.charAt(1).toUpperCase()}function n(e,t){var r,i,o;if(1===e.nodeType&&(e._extData=null,t))for(i=0,o=(r=e.childNodes).length;i<o;++i)n(r[i],t)}function r(e){return parseFloat(e)||0}var i,o,a,s,l,u,c,d,f,h,p,g,m=window,v=document,y=v.documentElement,b=m.top,C=[],S="width",x="height",I="display",R="none",w="position",E=/\w/g,Z=/\s+/,P=/[\s]+/,T=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,A=/\?$/,M=/top/i,k={},G={t:"border-top-width",r:"border-right-width",b:"border-bottom-width",l:"border-left-width"},F={t:"padding-top",r:"padding-right",b:"padding-bottom",l:"padding-left"},_={t:"margin-top",r:"margin-right",b:"margin-bottom",l:"margin-left"},D={b:"backward",back:"backward",f:"forward"},U=[F.l,F.r,F.t,F.b],O=[G.l,G.r,G.t,G.b],L=/\d+$/,N=/\d+(px|r?em|%|vh|vw|vmin|vmax|en|ch|ex|pt|in|cm|mm|pc)$/i,B=/^-ms-/,V=/(-[a-z])/gi,H=/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,z=/^\d+(?:\.\d*)?px$/i,j=/(%|r?em|auto|vh|vw|vmin|vmax|ch|ex)$/i,W={},q="originalDisplay",$=ei.Z.baseCSSPrefix+"hidden-opacity",K=ei.Z.baseCSSPrefix+"hidden-visibility",X=ei.Z.baseCSSPrefix+"hidden-display",Y=ei.Z.baseCSSPrefix+"hidden-offsets",Q=ei.Z.baseCSSPrefix+"hidden-clip",J=0,ee=0,te=!1,ne=!1,re=/text|password|search|tel|url/i;try{i=b.__elementIdCounter__,b.__elementIdCounter__=i}catch(i){b=m}return b.__elementIdCounter__=i=(b.__elementIdCounter__||0)+1,o="ext-window-"+i,a="ext-document-"+i,{alternateClassName:["GRUI.Element"],mixins:["GRUI.util.Positionable","GRUI.mixin.Observable"],requires:["GRUI.dom.Shadow","GRUI.dom.Shim","GRUI.dom.ElementEvent","GRUI.event.publisher.Dom","GRUI.event.publisher.Gesture","GRUI.event.publisher.ElementSize","GRUI.event.publisher.ElementPaint"],uses:["GRUI.dom.Helper","GRUI.dom.CompositeElement","GRUI.dom.Fly","GRUI.dom.TouchAction","GRUI.event.publisher.Focus"],observableType:"element",isElement:!0,skipGarbageCollection:!0,$applyConfigs:!0,identifiablePrefix:"grui-element-",_selectDir:D,styleHooks:{transform:{set:function(t,n,r){var i,o="";if("string"!=typeof n){for(i in n)o&&(o+=" "),0===i.indexOf("translate")?o+=i+"("+e.addUnits(n[i],"px")+")":o+=i+"("+n[i]+")";n=o}t.style.transform=n}}},validIdRe:ei.Z.validIdRe,blockedEvents:ei.Z.supports.EmulatedMouseOver?{mouseover:1}:{},longpressEvents:{longpress:1,taphold:1},constructor:function(e){var t,n=this;if(!(e="string"==typeof e?v.getElementById(e):e))return null;(t=(n.dom=e).id)||(t=n.generateAutoId(),"BODY"!==e.tagName?e.id=t:t="ext-element-body"),n.id=t,n.el=n,(ei.Z.cache[t]=n).longpressListenerCount=0,n.mixins.observable.constructor.call(n)},inheritableStatics:{cache:ei.Z.cache={},editableSelector:'input,textarea,[contenteditable="true"]',VISIBILITY:1,DISPLAY:2,OFFSETS:3,CLIP:4,OPACITY:5,minKeyboardHeight:100,unitRe:N,useDelegatedEvents:!0,validNodeTypes:{1:1,9:1},namespaceURIs:{html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"},selectableCls:ei.Z.baseCSSPrefix+"selectable",unselectableCls:ei.Z.baseCSSPrefix+"unselectable",maxRippleDiameter:75,addUnits:function(e,t){return"number"==typeof e?e+(t||"px"):""===e||"auto"===e||null==e?e||"":L.test(e)?e+(t||"px"):N.test(e)?e:e||""},create:function(e,t,n){var r,i,o,a,s,l,u,c,d,f;if((e=e||{}).isElement)return t?e.dom:e;if("nodeType"in e)return t?e:ei.Z.get(e);if("string"==typeof e)return v.createTextNode(e);for(l in a=(a=e.tag)||"div",o=(i=(f=e.namespace||n)?v.createElementNS(this.namespaceURIs[f]||f,a):v.createElement(a)).style,e)if("tag"!==l&&"namespace"!==l)switch(s=e[l],l){case"style":if("string"==typeof s)i.setAttribute(l,s);else for(u in s)o[u]=s[u];break;case"className":case"cls":d=s.split(Z),r=r?r.concat(d):d;break;case"classList":r=r?r.concat(s):s;break;case"text":i.textContent=s;break;case"html":i.innerHTML=s;break;case"hidden":r?r.push(X):r=[X];break;case"children":if(null!=s)for(u=0,c=s.length;u<c;u++)i.appendChild(this.create(s[u],!0,f));break;default:null!=s&&i.setAttribute(l,s)}return r&&(i.className=r.join(" ")),t?i:this.get(i)},fly:function(e,t){return ei.Z.fly(e,t)},fromPoint:function(e,t,n){return e=v.elementFromPoint(e,t),n?e:ei.Z.get(e)},fromPagePoint:function(t,n,r){var i=ei.Z.getDoc().getScroll();return e.fromPoint(t-i.left,n-i.top,r)},get:function(t){var n,r,i,s,l,u,c=ei.Z.cache;if(!t)return null;if("string"==typeof(t=t.isFly?t.dom:t)){if(r=t,c.hasOwnProperty(r)){if((i=c[r]).skipGarbageCollection||!ei.Z.isGarbage(i.dom))return i;i.destroy()}if(r===o)return e.get(m);if(r===a)return e.get(v);if(n=(ei.Z.getElementById?ei.Z:v).getElementById(r))return new e(n)}if((n=t.nodeType)?(s=9===n,u=this.validNodeTypes[n]):l=t.window==t,u||l){if(r=t.id,t===v&&(t.id=r=a),c.hasOwnProperty(r)){if((i=c[r]).skipGarbageCollection||t===i.dom||!ei.Z.isGarbage(i.dom))return i;i.destroy()}return t=new e(t),(l||s)&&(t.skipGarbageCollection=!0),t}return t.isElement||t.isComposite?t:ei.Z.isIterable(t)?this.select(t):null},getActiveElement:function(e){var t=v.activeElement;return t&&t.focus||(t=v.body),e?ei.Z.get(t):t},getDocumentHeight:function(){return Math.max((ei.Z.isStrict?y:v.body).scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max((ei.Z.isStrict?y:v.body).scrollWidth,this.getViewportWidth())},getOrientation:function(){return ei.Z.supports.OrientationChange?0==m.orientation?"portrait":"landscape":m.innerHeight>m.innerWidth?"portrait":"landscape"},getViewportHeight:function(){var t=e._viewportHeight;return null!=t?t:y.clientHeight},getViewportWidth:function(){var t=e._viewportWidth;return null!=t?t:y.clientWidth},getViewportScale:function(){var e=b;return(ei.Z.isiOS||ei.Z.isAndroid?1:e.devicePixelRatio||e.screen.deviceXDPI/e.screen.logicalXDPI)*this.getViewportTouchScale()},getViewportTouchScale:function(e){var t=1,n=b;return!e&&(e=this._viewportTouchScale)?e:(ei.Z.isIE10p||ei.Z.isEdge||ei.Z.isiOS?t=y.offsetWidth/m.innerWidth:ei.Z.isChromeMobile&&(t=n.outerWidth/n.innerWidth),t)},getViewSize:function(){return{width:e.getViewportWidth(),height:e.getViewportHeight()}},hasUnit:function(e){return!(!e||!N.test(e))},isRelativeUnit:function(e){return!e||j.test(e)},maskIframes:function(){var e=document.getElementsByTagName("iframe"),t=new ei.Z.dom.Fly;ei.Z.each(e,(function(e){t.attach(e.parentNode).mask().setStyle("background-color","transparent")}))},normalize:function(e){return W[e]||(W[e]=e.replace(B,"ms-").replace(V,t))},_onWindowFocusChange:function(t){ei.Z.fly(t.target).is(e.editableSelector)&&(J=new Date,te="focusin"===t.type||"pointerup"===t.type)},_onWindowResize:function(){var t=y.clientWidth,n=y.clientHeight,r=new Date,i=t-e._documentWidth,o=n-e._documentHeight;e._documentWidth=t,e._documentHeight=n,(r-J<1e3||r-ee<1e3)&&0==i&&te&&o<=-e.minKeyboardHeight?ne=!0:(ne&&0==i&&o>=e.minKeyboardHeight&&(ne=!1,ee=new Date),ne||(e._viewportWidth=t,e._viewportHeight=n))},parseBox:function(e){var t;return"number"==(t=typeof(e=e||0))?{top:e,right:e,bottom:e,left:e}:"string"!=t?e:(1===(e=(t=e.split(" ")).length)?t[1]=t[2]=t[3]=t[0]:2===e?(t[2]=t[0],t[3]=t[1]):3===e&&(t[3]=t[1]),{top:parseFloat(t[0])||0,right:parseFloat(t[1])||0,bottom:parseFloat(t[2])||0,left:parseFloat(t[3])||0})},parseStyles:function(e){var t,n={};if(e)for(H.lastIndex=0;t=H.exec(e);)n[t[1]]=t[2]||"";return n},select:function(e,t,n){return ei.Z.fly(n||v).select(e,t)},query:function(e,t,n){return ei.Z.fly(n||v).query(e,t)},unitizeBox:function(e,t){var n=this;return e=n.parseBox(e),n.addUnits(e.top,t)+" "+n.addUnits(e.right,t)+" "+n.addUnits(e.bottom,t)+" "+n.addUnits(e.left,t)},unmaskIframes:function(){var e=document.getElementsByTagName("iframe"),t=new ei.Z.dom.Fly;ei.Z.each(e,(function(e){t.attach(e.parentNode).unmask()}))},serializeForm:function(e){for(var t,n,r,i,o,a,s,l,u=e.elements||(v.forms[e]||ei.Z.getDom(e)).elements,c=!1,d=encodeURIComponent,f="",h=u.length,p=0;p<h;p++)if(n=(t=u[p]).name,r=t.type,i=t.options,!t.disabled&&n)if(/select-(one|multiple)/i.test(r))for(s=i.length,a=0;a<s;a++)(l=i[a]).selected&&(o=l.hasAttribute("value"),f+=ei.Z.String.format("{0}={1}&",d(n),d(o?l.value:l.text)));else/file|undefined|reset|button/i.test(r)||/radio|checkbox/i.test(r)&&!t.checked||"submit"===r&&c||(f+=d(n)+"="+d(t.value)+"&",c=/submit/i.test(r));return f.substr(0,f.length-1)},getCommonAncestor:function(e,t,n){for((u=u||new ei.Z.dom.Fly).attach(ei.Z.getDom(e));!u.isAncestor(t);){if(!u.dom.parentNode){u.attach(v.body);break}u.attach(u.dom.parentNode)}return n?u.dom:ei.Z.get(u)}},selectable:function(){return this.dom.unselectable="",this.removeCls(e.unselectableCls),this.addCls(e.selectableCls),this},unselectable:function(){return ei.Z.isOpera&&(this.dom.unselectable="on"),this.removeCls(e.selectableCls),this.addCls(e.unselectableCls),this},statics:{tabbableSelector:ei.Z.supports.CSS3NegationSelector?'a[href],button,iframe,input,select,textarea,[tabindex]:not([tabindex="-1"]),[contenteditable="true"]':'a[href],button,iframe,input,select,textarea,[tabindex],[contenteditable="true"]',naturallyFocusableTags:{BUTTON:!0,IFRAME:!0,EMBED:!0,INPUT:!0,OBJECT:!0,SELECT:!0,TEXTAREA:!0,HTML:!!ei.Z.isIE,BODY:!ei.Z.isIE},naturallyTabbableTags:{BUTTON:!0,IFRAME:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0,OBJECT:!!ei.Z.isIE8m},inputTags:{INPUT:!0,TEXTAREA:!0},tabbableSavedCounterAttribute:"data-tabindex-counter",tabbableSavedValueAttribute:"data-tabindex-value",splitCls:function(e){return"string"==typeof e?e.split(Z):e}},_init:function(e){e.tabbableSelector+=",["+e.tabbableSavedCounterAttribute+"]"},addCls:function(e,t,n){return this.replaceCls(null,e,t,n)},addClsOnClick:function(e,t,n){var r=this,i=ei.Z.isFunction(t);return r.on("mousedown",(function(){if(i&&!1===t.call(n||r,r))return!1;r.addCls(e),ei.Z.getDoc().on({mouseup:function(){r.dom&&r.removeCls(e)},single:!0})})),r},addClsOnFocus:function(e,t,n){var r=this,i=ei.Z.isFunction(t);return r.on("focus",(function(){if(i&&!1===t.call(n||r,r))return!1;r.addCls(e)})),r.on("blur",(function(){r.dom&&r.removeCls(e)})),r},addClsOnOver:function(e,t,n){var r=this,i=ei.Z.isFunction(t);return r.hover((function(){i&&!1===t.call(n||r,r)||r.addCls(e)}),(function(){r.removeCls(e)})),r},addStyles:function(e,t){var n,r,i=0,o=(e||"").match(E),a=[],s=o.length;if(1===s)i=parseFloat(this.getStyle(t[o[0]]))||0;else if(s){for(r=0;r<s;r++)n=o[r],a.push(t[n]);for(a=this.getStyle(a),r=0;r<s;r++)n=o[r],i+=parseFloat(a[t[n]])||0}return i},addUnits:function(t,n){return e.addUnits(t,n)},animate:function(e){return(e=new ei.Z.fx.Animation(e)).setElement(this),(this._activeAnimation=e).on({animationend:this._onAnimationEnd,scope:this}),ei.Z.Animator.run(e),e},_onAnimationEnd:function(){this._activeAnimation=null},getActiveAnimation:function(){return this._activeAnimation},append:function(){return this.appendChild.apply(this,arguments)},appendChild:function(e,t){var n,r,i;if(e.nodeType||e.dom||"string"==typeof e)return e=ei.Z.getDom(e),this.dom.appendChild(e),t?e:ei.Z.get(e);if(e.length){for(n=ei.Z.fly(v.createDocumentFragment()),r=e.length,i=0;i<r;i++)n.appendChild(e[i],t);return e=ei.Z.Array.toArray(n.dom.childNodes),this.dom.appendChild(n.dom),t?e:new ei.Z.dom.CompositeElementLite(e)}return this.createChild(e,null,t)},appendTo:function(e){return ei.Z.getDom(e).appendChild(this.dom),this},applyStyles:function(t){return t&&"object"==typeof(t="string"==typeof(t="function"==typeof t?t.call():t)?e.parseStyles(t):t)&&this.setStyle(t),this},blur:function(){var e=this.dom;if(e===v.body)return this.focus(void 0,e);try{e.blur()}catch(e){}return this},cacheScrollValues:function(){var e,t,n,r,i=[],o=[];for(l=l||new ei.Z.dom.Fly,n=0,r=(e=this.query("*")).length;n<r;n++)(0<(t=e[n]).scrollTop||0!==t.scrollLeft)&&(o.push(t),i.push(l.attach(t).getScroll()));return function(){for(var e,t=0,n=o.length;t<n;t++)e=i[t],l.attach(o[t]),l.setScrollLeft(e.left),l.setScrollTop(e.top)}},center:function(e){return this.alignTo(e||v,"c-c")},child:function(e,t){var n,r=this;return ei.Z.supports.Selectors2?r.selectNode(":scope>"+e,!!t):(n=(null!=r.id?r:ei.Z.get(r)).id,r.selectNode(ei.Z.makeIdSelector(n)+" > "+e,!!t))},clone:function(e,t){var r=this.dom.cloneNode(e);return ei.Z.supports.CloneNodeCopiesExpando&&n(r,e),t?r:ei.Z.get(r)},constrainScrollLeft:function(e){var t=this.dom;return Math.max(Math.min(e,t.scrollWidth-t.clientWidth),0)},constrainScrollTop:function(e){var t=this.dom;return Math.max(Math.min(e,t.scrollHeight-t.clientHeight),0)},createChild:function(e,t,n){return e=e||{tag:"div"},t?ei.Z.DomHelper.insertBefore(t,e,!0!==n):ei.Z.DomHelper.append(this.dom,e,!0!==n)},contains:function(e){return!!e&&((e=ei.Z.getDom(e))===this.dom||this.isAncestor(e))},destroy:function(){var e=this.dom;e&&e.parentNode&&e.parentNode.removeChild(e),this.$ripples&&this.destroyAllRipples(),this.collect()},detach:function(){var e=this.dom,t=this.component;return e&&e.parentNode&&"BODY"!==e.tagName&&(t&&t.revertFocus(),e.parentNode.removeChild(e)),this},disableShadow:function(){var e=this.shadow;e&&(e.hide(),e.disabled=!0)},disableShim:function(){var e=this.shim;e&&(e.hide(),e.disabled=!0)},doReplaceWith:function(e){var t=this.dom;t.parentNode.replaceChild(ei.Z.getDom(e),t)},doScrollIntoView:function(e,t,n,r,i,o){l=l||new ei.Z.dom.Fly;var a=this.dom,s=(i=l.attach(e)[i](),e.scrollTop),u=(c=this.getScrollIntoViewXY(e,i,s)).x,c=c.y;return r&&(n?n=ei.Z.apply({listeners:{afteranimate:function(){l.attach(a).highlight()}}},n):l.attach(a).highlight()),c!==s&&l.attach(e).scrollTo("top",c,n),!1!==t&&u!==i&&l.attach(e)[o]("left",u,n),this},down:function(e,t){return this.selectNode(e,!!t)},enableShadow:function(e,t){var n=this,r=(e=n.shadow||(n.shadow=new ei.Z.dom.Shadow(ei.Z.apply({target:n},e))),n.shim);r&&(r.offsets=e.outerOffsets,(r.shadow=e).shim=r),!0===t||!1!==t&&n.isVisible()?e.show():e.hide(),e.disabled=!1},enableShim:function(e,t){var n=this,r=(e=n.shim||(n.shim=new ei.Z.dom.Shim(ei.Z.apply({target:n},e))),n.shadow);return r&&(e.offsets=r.outerOffsets,(e.shadow=r).shim=e),!0===t||!1!==t&&n.isVisible()?e.show():e.hide(),e.disabled=!1,e},findParent:function(e,t,n){var r=this.dom,i=y,o=0;for(t||0===t?"number"!=typeof t&&(i=ei.Z.getDom(t),t=Number.MAX_VALUE):t=50;r&&1===r.nodeType&&o<t&&r!==i;){if(ei.Z.fly(r).is(e))return n?ei.Z.get(r):r;o++,r=r.parentNode}return null},findParentNode:function(e,t,n){var r=ei.Z.fly(this.dom.parentNode);return r?r.findParent(e,t,n):null},first:function(e,t){return this.matchNode("nextSibling","firstChild",e,t)},focus:function(e,t){return t=t||this.dom,Number(e)?ei.Z.defer(this.focus,e,this,[null,t]):(ei.Z.fireEvent("beforefocus",t),t.focus()),this},collect:function(){var e=this,t=e.dom,n=e.shadow,r=e.shim;e.isFly||(e.mixins.observable.destroy.call(e),delete ei.Z.cache[e.id],e.el=null),t&&(t._extData=e.dom=null),n&&(n.hide(),e.shadow=null),r&&(r.hide(),e.shim=null)},getAnchorToXY:function(e,t,n,r){return e.getAnchorXY(t,n,r)},getAttribute:function(e,t){var n=this.dom;return t?n.getAttributeNS(t,e)||n.getAttribute(t+":"+e):n.getAttribute(e)||n[e]||null},getAttributes:function(){for(var e,t=this.dom.attributes,n={},r=0,i=t.length;r<i;r++)n[(e=t[r]).name]=e.value;return n},getBottom:function(e){return(e?this.getLocalY():this.getY())+this.getHeight()},getById:function(e,t){return e=v.getElementById(e)||this.dom.querySelector(ei.Z.makeIdSelector(e)),t?e:e?ei.Z.get(e):null},getBorderPadding:function(){var e=this.getStyle(U),t=this.getStyle(O);return{beforeX:(parseFloat(t[G.l])||0)+(parseFloat(e[F.l])||0),afterX:(parseFloat(t[G.r])||0)+(parseFloat(e[F.r])||0),beforeY:(parseFloat(t[G.t])||0)+(parseFloat(e[F.t])||0),afterY:(parseFloat(t[G.b])||0)+(parseFloat(e[F.b])||0)}},getBorders:function(){var e=this.getStyle(O);return{beforeX:parseFloat(e[G.l])||0,afterX:parseFloat(e[G.r])||0,beforeY:parseFloat(e[G.t])||0,afterY:parseFloat(e[G.b])||0}},getBorderWidth:function(e){return this.addStyles(e,G)},getClassMap:function(e){var t=this.getData();return t&&(t=t.classMap,!1!==e&&(t=ei.Z.apply({},t))),t},getData:function(e){var t,n=this.dom;return n&&(t=n._extData||(n._extData={}),!1===e||t.isSynchronized||this.synchronize()),t||null},getFirstChild:function(){return ei.Z.get(this.dom.firstElementChild)},getLastChild:function(){return ei.Z.get(this.dom.lastElementChild)},getHeight:function(t,n){var r,i=this,o=i.dom;return i.isStyle("display","none")?0:("BODY"===o.nodeName?r=e.getViewportHeight():!n&&null!=(r=o.offsetHeight)||(r=o.getBoundingClientRect().height),ei.Z.supports.Direct2DBug&&(o=i.adjustDirect2DDimension(x),n?r+=o:0<o&&o<.5&&r++),t&&(r-=i.getBorderWidth("tb")+i.getPadding("tb")),r<0?0:r)},getHtml:function(){return this.dom?this.dom.innerHTML:""},getLeft:function(e){return e?this.getLocalX():this.getX()},getLocalX:function(){var e,t=this.getStyle("left");return t&&"auto"!==t?z.test(t)?t=parseFloat(t):(t=this.getX(),(e=this.dom.offsetParent)&&(t-=ei.Z.fly(e).getX())):t=0,t},getLocalXY:function(){var e,t=this,n=(r=t.getStyle(["left","top"])).left,r=r.top;return n&&"auto"!==n?z.test(n)?n=parseFloat(n):(n=t.getX(),(e=t.dom.offsetParent)&&(n-=ei.Z.fly(e).getX())):n=0,r&&"auto"!==r?z.test(r)?r=parseFloat(r):(r=t.getY(),(e=t.dom.offsetParent)&&(r-=ei.Z.fly(e).getY())):r=0,[n,r]},getLocalY:function(){var e,t=this.getStyle("top");return t&&"auto"!==t?z.test(t)?t=parseFloat(t):(t=this.getY(),(e=this.dom.offsetParent)&&(t-=ei.Z.fly(e).getY())):t=0,t},getMargin:(p={t:"top",l:"left",r:"right",b:"bottom"},g=["margin-top","margin-left","margin-right","margin-bottom"],function(e){var t,n,r;if(e)r=this.addStyles(e,_);else if(r={},(t=this.getStyle(g))&&"object"==typeof t)for(n in r={},_)r[n]=r[p[n]]=parseFloat(t[_[n]])||0;return r}),getPadding:function(e){return this.addStyles(e,F)},getParent:function(){return ei.Z.get(this.dom.parentNode)},getRight:function(e){return(e?this.getLocalX():this.getX())+this.getWidth()},getScroll:function(){var e,t=this.dom,n=v.body;n=t===v||t===n?(e=y.scrollLeft||(n?n.scrollLeft:0),y.scrollTop||(n?n.scrollTop:0)):(e=t.scrollLeft,t.scrollTop);return{left:e,top:n}},getScrollIntoViewXY:function(e,t,n,r){var i,o,a=this.dom;return r=r||k,i=e.isRegion?(o=e.height,e.width):(o=(e=ei.Z.getDom(e)).clientHeight,e.clientWidth),e=this.getOffsetsTo(e),{y:this.calcScrollPos(e[1]+n,a.offsetHeight,n,o,r.y),x:this.calcScrollPos(e[0]+t,a.offsetWidth,t,i,r.x)}},calcScrollPos:function(e,t,n,r,i){var o=e+t,a=n+r,s=i&&!A.test(i),l=n;return s||(i=i&&i.slice(0,-1),r<t||e<n?(i=i||"start",s=!0):a<o&&(i=i||"end",s=!0)),s&&("start"===i?l=e:"center"===i?l=Math.max(0,e-Math.floor(r/2)):"end"===i&&(l=Math.max(0,o-r))),l},getScrollLeft:function(){var e=this.dom;return e===v||e===v.body?this.getScroll().left:e.scrollLeft},getScrollTop:function(){var e=this.dom;return e===v||e===v.body?this.getScroll().top:e.scrollTop},getSize:function(e){return{width:this.getWidth(e),height:this.getHeight(e)}},getStyle:function(t,n){var r,i,o,a,s=this.dom,l="string"!=typeof t,u=this.styleHooks,c=t,d=c,f=1;if(l&&(r={},c=d[0],a=0,!(f=d.length)))return r;if(!s||s.documentElement)return r||"";t=s.style,n?o=t:(o=s.ownerDocument.defaultView.getComputedStyle(s,null))||(n=!0,o=t);do{if((i=u[c])||(u[c]=i={name:e.normalize(c)}),i=i.get?i.get(s,this,n,o):o[i.name],!l)return i}while(r[c]=i,c=d[++a],a<f);return r},getStyleValue:function(e){return this.dom.style.getPropertyValue(e)},getCaretPos:function(){var e,t=this.dom;return re.test(t.type)&&(t="number"!=typeof(e=t.selectionStart)&&this.getTextSelection())?t[0]:e},setCaretPos:function(e){this.selectText(e,e)},getTextSelection:function(){var e=this.dom;return re.test(e.type)?[e.selectionStart,e.selectionEnd,e.selectionDirection]:[]},selectText:function(e,t,n){var r,i=this.dom;return i&&re.test(i.type)&&(e=e||0,r=i.value.length,void 0===t&&(t=r),n=D[n]||n||"forward",i.setSelectionRange?i.setSelectionRange(e,t,n):i.createTextRange&&(t<e&&(e=t),(n=i.createTextRange()).moveStart("character",e),n.moveEnd("character",-(r-t)),n.select())),this},getTop:function(e){return e?this.getLocalY():this.getY()},getTouchAction:function(){return ei.Z.dom.TouchAction.get(this.dom)},getValue:function(e){var t=this.dom.value;return e?parseInt(t,10):t},getViewSize:function(){var t=this.dom;return t===v||t===v.body?{width:e.getViewportWidth(),height:e.getViewportHeight()}:{width:t.clientWidth,height:t.clientHeight}},getVisibilityMode:function(){var t=this.getData(),n=t.visibilityMode;return void 0===n&&(t.visibilityMode=n=e.DISPLAY),n},getWidth:function(e,t){var n,r=this,i=r.dom;return r.isStyle("display","none")?0:(n=ei.Z.supports.BoundingClientRect?(n=i.getBoundingClientRect(),n=r.vertical&&!ei.Z.supports.RotatedBoundingClientRect?n.bottom-n.top:n.right-n.left,t?n:Math.ceil(n)):i.offsetWidth,ei.Z.supports.Direct2DBug&&!r.vertical&&(i=r.adjustDirect2DDimension(S),t?n+=i:0<i&&i<.5&&n++),e&&(n-=r.getBorderWidth("lr")+r.getPadding("lr")),n<0?0:n)},getX:function(){return this.getXY()[0]},getXY:function(){var e,t,n=Math.round,r=this.dom,i=v.body,o=0,a=0;if(r!==v&&r!==i)try{e=i.getBoundingClientRect(),o=(t=r.getBoundingClientRect()).left-e.left,a=t.top-e.top}catch(e){}return[n(o),n(a)]},getY:function(){return this.getXY()[1]},getZIndex:function(){return parseInt(this.getStyle("z-index"),10)},hasCls:function(e){return this.getClassMap().hasOwnProperty(e)},hide:function(){return this.setVisible(!1)},hover:function(e,t,n,r){var i=this;return i.on("mouseenter",e,n||i.dom,r),i.on("mouseleave",t,n||i.dom,r),i},indexOf:function(e){var t=this.dom;e=e&&ei.Z.getDom(e),t=t&&t.childNodes;return e&&t?Array.prototype.indexOf.call(t,e):-1},insertAfter:function(e){return(e=ei.Z.getDom(e)).parentNode.insertBefore(this.dom,e.nextSibling),this},insertBefore:function(e){return(e=ei.Z.getDom(e)).parentNode.insertBefore(this.dom,e),this},insertFirst:function(e,t){return(e=e||{}).nodeType||e.dom||"string"==typeof e?(e=ei.Z.getDom(e),this.dom.insertBefore(e,this.dom.firstChild),t?e:ei.Z.get(e)):this.createChild(e,this.dom.firstChild,t)},insertHtml:function(e,t,n){return e=ei.Z.DomHelper.insertHtml(e,this.dom,t),n?ei.Z.get(e):e},insertSibling:function(e,t,n){var r,i,o,a,s=this,l=ei.Z.DomHelper;t="after"===(t||"before").toLowerCase();if(ei.Z.isIterable(e)){if(o=e.length,i=ei.Z.fly(v.createDocumentFragment()),ei.Z.isArray(e))for(a=0;a<o;a++)r=i.appendChild(e[a],n);else{for(a=0;a<o;a++)i.dom.appendChild(r=e[0]);!1===n&&(r=ei.Z.get(r))}return s.dom.parentNode.insertBefore(i.dom,t?s.dom.nextSibling:s.dom),r}return(e=e||{}).nodeType||e.dom?(r=s.dom.parentNode.insertBefore(ei.Z.getDom(e),t?s.dom.nextSibling:s.dom),n||(r=ei.Z.get(r))):r=t&&!s.dom.nextSibling?l.append(s.dom.parentNode,e,!n):l[t?"insertAfter":"insertBefore"](s.dom,e,!n),r},is:function(e){var t=this.dom;return t=!e||!!t.tagName&&(ei.Z.isFunction(e)?e(t):t[ei.Z.supports.matchesSelector](e))},isAncestor:function(e){var t=!1,n=this.dom,r=ei.Z.getDom(e);if(n&&r){if(!r.nodeType)return!1;if(n.contains)return n.contains(r);if(n.compareDocumentPosition)return!!(16&n.compareDocumentPosition(r));for(;r=r.parentNode;)t=r===n||t}return t},isPainted:function(){var e=this.dom;return Boolean(e&&e.offsetParent)},isScrollable:function(){var e=this.dom;return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth},isStyle:function(e,t){return this.getStyle(e)===t},isVisible:function(e,t){var n,r=this.dom,i=!0;if(!r)return!1;for(t=t||3,s=s||new ei.Z.dom.Fly,n=r.ownerDocument.documentElement;r!==n&&((i=!(!r||11===r.nodeType)&&i)&&(s.attach(r),(i=1&t?!s.isStyle(I,R):i)&&2&t&&(i=!s.isStyle("visibility","hidden"))),i&&e);r=r.parentNode);return i},last:function(e,t){return this.matchNode("previousSibling","lastChild",e,t)},matchNode:function(e,t,n,r){var i,o=this.dom;if(!o)return null;for(i=o[t];i;){if(1===i.nodeType&&(!n||ei.Z.fly(i,"_matchNode").is(n)))return r?i:ei.Z.get(i);i=i[e]}return null},measure:function(t){var n,i,o,a=this.dom,s="h"!==t,l="w"!==t,u=0,c=0,d=!ei.Z.supports.ComputedSizeIncludesPadding;return"BODY"===a.nodeName?(c=l&&e.getViewportHeight(),u=s&&e.getViewportWidth()):(ei.Z.supports.ComputedStyle?(o=a.offsetParent,d|="content-box"===(n=a.ownerDocument.defaultView.getComputedStyle(a,null)).boxSizing,null===o&&"fixed"!==n.position||(l&&(c=r(n.height),d&&(c+=r(n.paddingTop)+r(n.paddingBottom)+r(n.borderTopWidth)+r(n.borderBottomWidth))),s&&(u=r(n.width),d&&(u+=r(n.paddingLeft)+r(n.paddingRight)+r(n.borderLeftWidth)+r(n.borderRightWidth))))):(u=(i=a.getBoundingClientRect()).width||i.right-i.left,c=i.height||i.bottom-i.top),ei.Z.supports.Direct2DBug&&(l&&(c+=this.adjustDirect2DDimension(x)),s&&(u+=this.adjustDirect2DDimension(S)))),i=t?null:{width:u,height:c},t?s?u:c:i},measureContent:function(e){var t=this,n="h"!==e,r=t.measure(e),i=e?r:r.height;r=e?r:r.width;return"w"!==e&&(i-=t.getBorderWidth("tb")+t.getPadding("tb")),n&&(r-=t.getBorderWidth("lr")+t.getPadding("lr")),e?n?r:i:{width:r,height:i}},monitorMouseLeave:function(e,t,n){var r,i=this,o={mouseleave:function(o){r=ei.Z.defer(t,e,n||i,[o])},mouseenter:function(){ei.Z.undefer(r)},destroy:function(){ei.Z.undefer(r),i.destroyed||i.un(o)}};return i.on(o),o},next:function(e,t){return this.matchNode("nextSibling","nextSibling",e,t)},parent:function(e,t){return this.matchNode("parentNode","parentNode",e,t)},peekData:function(){var e=this.dom;return e&&e._extData||null},position:function(e,t,n,r){var i=this;"BODY"!==i.dom.tagName&&(!e&&i.isStyle(w,"static")?i.setStyle(w,"relative"):e&&i.setStyle(w,e),t&&i.setStyle("z-index",t),(n||r)&&i.setXY([n||!1,r||!1]))},prev:function(e,t){return this.matchNode("previousSibling","previousSibling",e,t)},query:function(e,t,n){var r,i,o,a,s,l,u,c=this.dom;if(!c)return null;for(t=!1!==t,n||(r=[]),l=0,i=(e=e.split(",")).length;l<i;l++)if("string"==typeof e[l]){if(n)return a=c.querySelector(e[l]),t?a:ei.Z.get(a);for(u=0,o=(s=c.querySelectorAll(e[l])).length;u<o;u++)r.push(t?s[u]:ei.Z.get(s[u]))}return r},radioCls:function(e){var t,n,r,i=this.dom.parentNode.childNodes;for(e=ei.Z.isArray(e)?e:[e],n=0,r=i.length;n<r;n++)(t=i[n])&&1===t.nodeType&&ei.Z.fly(t).removeCls(e);return this.addCls(e)},redraw:function(){var e=this.dom,t=e.style;t.display="none",e.offsetHeight,t.display=""},remove:function(){this.destroy()},removeChild:function(e){return this.dom.removeChild(ei.Z.getDom(e)),this},removeCls:function(e,t,n){return this.replaceCls(e,null,t,n)},repaint:function(e,t){var n,r,i=this;return e?null!=t&&(n=!(r=t)):(e=ei.Z.baseCSSPrefix+"repaint",r=!(n=!1)),i.toggleCls(e,r),i.repaintTimer||(i.repaintTimer=ei.Z.defer((function(){i.repaintTimer=null,i.dom&&i.toggleCls(e,n)}),1)),i},replace:function(e,t){var n=(e=ei.Z.getDom(e)).parentNode,r=e.id,i=this.dom;return!1!==t&&r&&ei.Z.cache[r]?(n.insertBefore(i,e),ei.Z.get(e).destroy()):n.replaceChild(i,e),this},replaceCls:function(e,t,n,r){var i,o,a,s,l,u=this.dom,c=0,d=0,f=e;if(e=(t||e)&&this.getData()){for(i=e.classList,o=e.classMap,t=t?"string"==typeof t?t.split(Z):t:C,f=f?"string"==typeof f?f.split(Z):f:C,(n=n||"")&&"-"!==n[n.length-1]&&(n+="-"),(r=r||"")&&"-"!==r[0]&&(r="-"+r),a=0,s=f.length;a<s;a++)(l=f[a])&&o[l=n+l+r]&&(delete o[l],++d);for(a=0,s=t.length;a<s;a++)!(l=t[a])||o[l=n+l+r]||(o[l]=!0,d||(i.push(l),++c));d?this.setClassMap(o,!0):c&&(i=i.join(" "),!ei.Z.isIE8&&u instanceof SVGElement?u.setAttribute("class",i):u.className=i)}return this},replaceWith:function(e){var t=this,n=t.dom,r=n.parentNode,i=ei.Z.cache;return t.clearListeners(),e=e.nodeType||e.dom||"string"==typeof e?(e=ei.Z.get(e),r.insertBefore(e.dom,n)):ei.Z.DomHelper.insertBefore(n,e),r.removeChild(n),t.dom=e,t.isFly||(delete i[t.id],i[t.id=ei.Z.id(e)]=t),t},resolveListenerScope:function(e){var t=this.component;return t?t.resolveListenerScope(e):this},scroll:function(e,t,n){if(!this.isScrollable())return!1;e=e.charAt(0);var r,i=this.dom,o="r"===e||"l"===e?"left":"top",a=!1;return"l"!==e&&"t"!==e&&"u"!==e||(t=-t),(e="left"==o?(r=i.scrollLeft,this.constrainScrollLeft(r+t)):(r=i.scrollTop,this.constrainScrollTop(r+t)))!==r&&(this.scrollTo(o,e,n),a=!0),a},scrollBy:function(e,t,n){var r=this,i=r.dom;return e.length?(n=t,t=e[1],e=e[0]):"number"!=typeof e&&(n=t,t=e.y,e=e.x),e&&r.scrollTo("left",r.constrainScrollLeft(i.scrollLeft+e),n),t&&r.scrollTo("top",r.constrainScrollTop(i.scrollTop+t),n),r},scrollChildIntoView:function(e,t){ei.Z.fly(e).scrollIntoView(this,t)},scrollIntoView:function(e,t,n,r){return e=ei.Z.getDom(e)||ei.Z.getBody().dom,this.doScrollIntoView(e,t,n,r,"getScrollLeft","scrollTo")},scrollTo:function(e,t,n){e=M.test(e)?"scrollTop":"scrollLeft";var r,i=this.dom;return n&&this.anim?((r={to:{}}).to[e]=t,ei.Z.isObject(n)&&ei.Z.applyIf(r,n),this.animate(r)):(i[e]=t,i[e]=t),this},select:function(e,t){var n,r;return"string"==typeof e?r=this.query(e,!t):(r=e,n=!0),t?new ei.Z.CompositeElement(r,!n):new ei.Z.CompositeElementLite(r,!0)},selectNode:function(e,t){return this.query(e,t,!0)},set:function(e,t){var n,r,i=this.dom;for(n in e)e.hasOwnProperty(n)&&(r=e[n],"style"===n?this.applyStyles(r):"cls"===n?i.className=r:!1!==t?void 0===r?i.removeAttribute(n):i.setAttribute(n,r):i[n]=r);return this},setBottom:function(t){return this.dom.style.bottom=e.addUnits(t),this},setClassMap:function(e,t){var n=this.getData(!1);n&&(e=t&&e||ei.Z.apply({},e),n.classMap=e,n.classList=t=ei.Z.Object.getKeys(e),n.isSynchronized=!0,this.dom.className=t.join(" "))},setCls:function(e){var t,n,r,i,o=this.getData(!1);for("string"==typeof e&&(e=e.split(Z)),o.classList=i=e.slice(),o.classMap=r={},t=0,n=i.length;t<n;t++)r[i[t]]=!0;this.dom.className=i.join(" ")},setDisplayed:function(e){var t=this;return"boolean"==typeof e&&(e=e?t._getDisplay():R),t.setStyle(I,e),(t.shadow||t.shim)&&t.setUnderlaysVisible(e!==R),t},setHeight:function(t){var n=this;return n.dom.style[x]=e.addUnits(t),(n.shadow||n.shim)&&n.syncUnderlays(),n},setHtml:function(e){return this.dom&&(this.dom.innerHTML=e),this},setId:function(e){var t=this,n=t.id,r=ei.Z.cache;return n&&delete r[n],t.dom.id=e,r[t.id=e]=t},setLeft:function(t){var n=this;return n.dom.style.left=e.addUnits(t),(n.shadow||n.shim)&&n.syncUnderlays(),n},setLocalX:function(e){var t=this,n=t.dom.style;return n.right="",n.left=null===e?"auto":e+"px",(t.shadow||t.shim)&&t.syncUnderlays(),t},setLocalXY:function(e,t){var n=this,r=n.dom.style;return r.right="",e&&e.length&&(t=e[1],e=e[0]),null===e?r.left="auto":void 0!==e&&(r.left=e+"px"),null===t?r.top="auto":void 0!==t&&(r.top=t+"px"),(n.shadow||n.shim)&&n.syncUnderlays(),n},setLocalY:function(e){var t=this;return t.dom.style.top=null===e?"auto":e+"px",(t.shadow||t.shim)&&t.syncUnderlays(),t},setMargin:function(e){var t=this.dom.style;e||0===e?(e=this.self.unitizeBox(!0===e?5:e),t.setProperty("margin",e,"important")):(t.removeProperty("margin-top"),t.removeProperty("margin-right"),t.removeProperty("margin-bottom"),t.removeProperty("margin-left"))},setMaxHeight:function(t){return this.dom.style["max-height"]=e.addUnits(t),this},setMaxWidth:function(t){return this.dom.style["max-width"]=e.addUnits(t),this},setMinHeight:function(t){return this.dom.style["min-height"]=e.addUnits(t),this},setMinWidth:function(t){return this.dom.style["min-width"]=e.addUnits(t),this},setOpacity:function(e){return this.dom&&this.setStyle("opacity",e),this},setPadding:function(e){var t=this.dom.style;e||0===e?(e=this.self.unitizeBox(!0===e?5:e),t.setProperty("padding",e,"important")):(t.removeProperty("padding-top"),t.removeProperty("padding-right"),t.removeProperty("padding-bottom"),t.removeProperty("padding-left"))},setRight:function(t){return this.dom.style.right=e.addUnits(t),this},setScrollLeft:function(e){return this.dom.scrollLeft=e,this},setScrollTop:function(e){return this.dom.scrollTop=e,this},setSize:function(t,n){var r=this,i=r.dom.style;return ei.Z.isObject(t)&&(n=t.height,t=t.width),void 0!==t&&(i.width=e.addUnits(t)),void 0!==n&&(i.height=e.addUnits(n)),(r.shadow||r.shim)&&r.syncUnderlays(),r},setStyle:function(t,n){var r,i=this,o=i.dom,a=i.styleHooks,s=o.style,l=t;if("string"==typeof l)(r=a[l])||(a[l]=r={name:e.normalize(l)}),n=null==n?"":n,r.set?r.set(o,n,i):s[r.name]=n,r.afterSet&&r.afterSet(o,n,i);else for(l in t)(r=a[l])||(a[l]=r={name:e.normalize(l)}),n=null==(n=t[l])?"":n,r.set?r.set(o,n,i):s[r.name]=n,r.afterSet&&r.afterSet(o,n,i);return i},setText:function(e){this.dom.textContent=e},getText:function(){return this.dom.textContent},setTop:function(t){var n=this;return n.dom.style.top=e.addUnits(t),(n.shadow||n.shim)&&n.syncUnderlays(),n},setTouchAction:function(e){ei.Z.dom.TouchAction.set(this.dom,e)},setUnderlaysVisible:function(e){var t=this.shadow,n=this.shim;t&&!t.disabled&&(e?t.show():t.hide()),n&&!n.disabled&&(e?n.show():n.hide())},setVisibility:function(e){var t=this.dom.style;e?t.removeProperty("visibility"):t.setProperty("visibility","hidden","important")},setVisibilityMode:function(e){return this.getData().visibilityMode=e,this},setVisible:function(t){var n=this,r=t?"removeCls":"addCls";switch(n.getVisibilityMode()){case e.DISPLAY:n.removeCls([K,Y,Q,$]),n[r](X);break;case e.VISIBILITY:n.removeCls([X,Y,Q,$]),n[r](K);break;case e.OFFSETS:n.removeCls([K,X,Q,$]),n[r](Y);break;case e.CLIP:n.removeCls([K,X,Y,$]),n[r](Q);break;case e.OPACITY:n.removeCls([K,X,Y,Q]),n[r]($)}return(n.shadow||n.shim)&&n.setUnderlaysVisible(t),!t&&n.$ripples&&n.destroyAllRipples(),n},setWidth:function(t){var n=this;return n.dom.style[S]=e.addUnits(t),(n.shadow||n.shim)&&n.syncUnderlays(),n},setX:function(e){return this.setXY([e,!1])},setXY:function(e){var t,n=this,r=n.translatePoints(e),i=n.dom.style;for(t in n.position(),i.right="",r)isNaN(r[t])||(i[t]=r[t]+"px");return(n.shadow||n.shim)&&n.syncUnderlays(),n},setY:function(e){return this.setXY([!1,e])},setZIndex:function(e){var t=this;return t.shadow&&t.shadow.setZIndex(e),t.shim&&t.shim.setZIndex(e),t.setStyle("z-index",e)},show:function(){return this.setVisible(!0)},swallowEvent:function(e,t){function n(e){e.stopPropagation(),t&&e.preventDefault()}var r,i,o={destroyable:!0};if(ei.Z.isArray(e))for(i=e.length,r=0;r<i;r++)o[e[r]]=n;else o[e]=n;return this.on(o)},swapCls:function(e,t,n,r){var i=(n=void 0===n||n)?e:t;return(n=n?t:e)&&this.removeCls(r?r+"-"+n:n),i&&this.addCls(r?r+"-"+i:i),this},synchronize:function(){var e,t,n,r=this.dom,i={},o=r.className,a=this.getData(!1);if(o&&0<o.length)for(t=0,n=(e=r.className.split(P)).length;t<n;t++)i[e[t]]=!0;else e=[];return a.classList=e,a.classMap=i,a.isSynchronized=!0,this},syncUnderlays:function(){var e,t,n=this,r=n.shadow,i=n.shim,o=n.dom;n.isVisible()&&(e=(n=n.getXY())[0],n=n[1],t=o.offsetWidth,o=o.offsetHeight,r&&!r.hidden&&r.realign(e,n,t,o),i&&!i.hidden&&i.realign(e,n,t,o))},toggleCls:function(e,t){return(t=null==t?!this.hasCls(e):t)?this.addCls(e):this.removeCls(e)},toggle:function(){return this.setVisible(!this.isVisible()),this},translate:(h="webkitTransform"in v.createElement("div").style?"webkitTransform":"transform",function(e,t,n){e=Math.round(e),t=Math.round(t),n=Math.round(n),this.dom.style[h]="translate3d("+(e||0)+"px, "+(t||0)+"px, "+(n||0)+"px)"}),unwrap:function(){var e,t,n,r,i=this.dom,o=i.parentNode,a=(f=f||new ei.Z.dom.Fly).attach(ei.Z.Element.getActiveElement());return d=d||new ei.Z.dom.Fly,(t=ei.Z.cache[a.dom.id])&&(a=t),this.contains(a)&&(t&&t.suspendFocusEvents(),n=!0),o?(e=o.parentNode,n&&(r=e.getAttribute("tabIndex"),d.attach(e),d.set({tabIndex:-1}),d.suspendFocusEvents(),d.focus()),e.insertBefore(i,o),e.removeChild(o)):(e=v.createDocumentFragment()).appendChild(i),n&&(t?(t.focus(),t.resumeFocusEvents()):a.focus(),d&&(d.resumeFocusEvents(),d.set({tabIndex:r}))),this},up:function(e,t,n){return this.findParentNode(e,t,!n)},update:function(e){return this.setHtml(e)},wrap:function(e,t,n){var r,i,o=this.dom,a=(e=ei.Z.DomHelper.insertBefore(o,e||{tag:"div"},!t),(c=c||new ei.Z.dom.Fly).attach(ei.Z.getDom(e))),s=a,l=(f=f||new ei.Z.dom.Fly).attach(ei.Z.Element.getActiveElement()),u=ei.Z.cache[l.dom.id];return u&&(l=u),n&&(s=a.selectNode(n,t)),this.contains(l)&&(u&&u.suspendFocusEvents(),i=ei.Z.getDom(a).getAttribute("tabIndex"),a.set({tabIndex:-1}),a.suspendFocusEvents(),a.focus(),r=!0),(s.dom||s).appendChild(o),r&&(u?(u.focus(),u.resumeFocusEvents()):l.focus(),a.resumeFocusEvents(),a.set({tabIndex:i})),e},isFocusable:function(e){var t,n=this.dom,r=!1;return n&&!n.disabled&&(t=n.nodeName,r=(r=!!ei.Z.Element.naturallyFocusableTags[t]||("A"===t||"LINK"===t)&&!!n.href||null!=n.getAttribute("tabIndex")||"true"===n.contentEditable)&&(e||this.isVisible(!0))),r},isInputField:function(){var e=this.dom,t=e.contentEditable;return!!(ei.Z.Element.inputTags[e.tagName]&&"button"!==e.type||""===t||"true"===t)},isTabbable:function(e){var t,n,r,i=this.dom,o=!1;return i&&!i.disabled&&(t=i.nodeName,n=null!=(r=i.getAttribute("tabIndex")),r-=0,"A"===t||"LINK"===t?o=i.href?!(n&&r<0):"true"===i.contentEditable?!n||0<=r:n&&0<=r:"true"===i.contentEditable||ei.Z.Element.naturallyTabbableTags[t]?o=!(n&&r<0):n&&0<=r&&(o=!0),o=o&&(e||(!this.component||this.component.isVisible(!0))&&this.isVisible(!0))),o},ripplingCls:ei.Z.baseCSSPrefix+"rippling",ripplingTransitionCls:ei.Z.baseCSSPrefix+"ripple-transition",ripplingUnboundCls:ei.Z.baseCSSPrefix+"rippling-unbound",rippleBubbleCls:ei.Z.baseCSSPrefix+"ripple-bubble",rippleContainerCls:ei.Z.baseCSSPrefix+"ripple-container",rippleWrapperCls:ei.Z.baseCSSPrefix+"ripple-wrapper",noRippleDisplayMap:{table:1,"table-row":1,"table-row-group":1},noRippleTagMap:{TABLE:1,TR:1,TBODY:1},ripple:function(t,n){!0!==n&&n?ei.Z.isString(n)&&(n={color:n}):n={};var r,i,o,a,s,l,u,c,d,f,h,p=this,g=ei.Z.isString(n.delegate)?p.down(n.delegate):p,m=ei.Z.isString(n.measureSelector)?p.down(n.measureSelector):null,v=window.getComputedStyle(g.dom).color,y=!1===n.bound,b=n.position,C=p.ripplingCls,S=p.ripplingTransitionCls,x=p.ripplingUnboundCls,I=p.rippleBubbleCls,R=p.rippleContainerCls,w=p.rippleWrapperCls;if(g){if(r=g.getXY(),o=g.getWidth(),i=g.getHeight(),(h=g.$rippleClearTimeout)&&(g.$rippleClearTimeout=ei.Z.undefer(h)),h=m?(h=m.getWidth(),m=m.getHeight(),Math.max(h,m)):i<o?o:i,void 0===n.diameterLimit||!0===n.diameterLimit?h=Math.min(h,e.maxRippleDiameter):n.diameterLimit&&!1!==n.diameterLimit&&0!==n.diameterLimit&&(h=Math.min(h,n.diameterLimit)),m=[r[0]+o/2,r[1]+i/2],y&&(d=!1!==n.fit?(o=2.15*h,(c=g.getRegion()).setPosition(c.getCenter()).setSize(o).translateBy(-o/2,-o/2),p.up((function(e){var t=ei.Z.fly(e,"ripple");return!(e.tagName in p.noRippleTagMap)&&!(t.getStyle("display")in p.noRippleDisplayMap)&&t.getRegion().contains(c)}))||ei.Z.getBody()):g),ei.Z.isString(t)?(n.color=t,t=null):t&&!t.isEvent&&(t=new ei.Z.event.Event(t)),t&&t.isEvent){if(t.browserEvent.$preventRipple)return;b=t.getXY(),t.browserEvent.$preventRipple=!0}o=(i=!y&&!n.centered&&b||m)[0]-r[0]-h/2,t=i[1]-r[1]-h/2,g.addCls(S),y?(f=d.getData(),(a=f.rippleWrapper)||(f.rippleWrapper=a=d.insertFirst({style:"position: absolute; top: 0; left: 0",cls:w+" "+C+" "+x}))):(g.addCls(C),s=g.child("."+R)),s||(y?(s=a.append({cls:R})).setXY(r):s=g.append({cls:R})),l=s.append({cls:I}),"default"!==n.color&&l.setStyle("backgroundColor",n.color||v),l.setWidth(h),l.setHeight(h),l.setTop(t),l.setLeft(o),u=function(){g.destroyed||(g.$rippleClearTimeout=ei.Z.defer((function(){g.removeCls([C,S]),g.$rippleClearTimeout=null}),50))},m=ei.Z.defer(b=function(){var e;l.destroy(),p.$ripples&&delete p.$ripples[l.id],(e=g.$rippleClearTimeout)&&(g.$rippleClearTimeout=ei.Z.undefer(e)),y?(s.destroy(),a.child("."+R)||(f.rippleWrapper=null,a.destroy(),u())):s.child("."+I)||(s.destroy(),u())},n.destroyTime||1e3,p),p.$ripples||(p.$ripples={}),p.$ripples[l.id]={timerId:m,destructor:b},l.addCls(ei.Z.baseCSSPrefix+"ripple")}},destroyAllRipples:function(){var e,t;for(e in this.$ripples)t=this.$ripples[e],ei.Z.undefer(t.timerId),t.destructor&&t.destructor();this.$ripples=null},privates:{findTabbableElements:function(e){var t,n,r,i,o,a,s,l,u,c,d,f=this.dom,h=ei.Z.Element.tabbableSavedCounterAttribute,p=[],g=0;if(!f)return p;if(e&&(t=e.skipSelf,n=e.skipChildren,r=e.excludeRoot,i=e.includeSaved,o=e.includeHidden),(r=r&&ei.Z.getDom(r))&&r.contains(f))return p;if(!t&&(i&&f.hasAttribute(h)||this.isTabbable(o))&&(p[g++]=f),n)return p;if(!(c=(a=f.querySelectorAll(ei.Z.Element.tabbableSelector)).length))return p;for(l=new ei.Z.dom.Fly,u=0;u<c;u++)d=+(s=a[u]).getAttribute("tabIndex"),!(i&&s.hasAttribute(h)||!(d<0)&&l.attach(s).isTabbable(o))||r&&(r===s||r.contains(s))||(p[g++]=s);return p},saveTabbableState:function(e){var t,n,r,i,o,a=ei.Z.Element.tabbableSavedCounterAttribute,s=ei.Z.Element.tabbableSavedValueAttribute;for(e&&null!=e.includeSaved||((e=ei.Z.Object.chain(e||null)).includeSaved=!0),i=0,o=(n=this.findTabbableElements(e)).length;i<o;i++)0<(t=+(r=n[i]).getAttribute(a))?r.setAttribute(a,++t):(r.hasAttribute("tabIndex")?r.setAttribute(s,r.getAttribute("tabIndex")):r.setAttribute(s,"none"),r.setAttribute("tabIndex","-1"),r.setAttribute(a,"1"));return n},restoreTabbableState:function(e){var t,n,r,i,o=this.dom,a=ei.Z.Element.tabbableSavedCounterAttribute,s=ei.Z.Element.tabbableSavedValueAttribute,l=[],u=e&&e.skipSelf,c=e&&e.skipChildren,d=e&&e.reset;if(!o)return this;for(c||(l=ei.Z.Array.from(o.querySelectorAll("["+a+"]"))),u||l.unshift(o),r=0,i=l.length;r<i;r++)(n=l[r]).hasAttribute(a)&&n.hasAttribute(s)&&(t=+n.getAttribute(a),!d&&1<t?n.setAttribute(a,--t):("none"===(t=n.getAttribute(s))?n.removeAttribute("tabIndex"):n.setAttribute("tabIndex",t),n.removeAttribute(s),n.removeAttribute(a)));return l},setTabIndex:function(e){var t=this.dom,n=ei.Z.Element.tabbableSavedValueAttribute;t.hasAttribute(n)?null==e?(t.setAttribute(n,"none"),t.removeAttribute("tabIndex")):t.setAttribute(n,e):null==e?t.removeAttribute("tabIndex"):t.setAttribute("tabIndex",e)},doAddListener:function(t,n,r,i,o,a,s){var l,u,c=this,d=t;t=ei.Z.canonicalEventName(t),c.blockedEvents[t]||(l=c.mixins.observable.doAddListener,i=i||{},!1===e.useDelegatedEvents&&(i.delegated=i.delegated||!1),!1!==i.translate&&((u=c.additiveEvents[t])&&(i.type=t,l.call(c,t=u,n,r,i,o,a,s)),(u=c.eventMap[t])&&(i.type=i.type||t,s&&(i.managedName=d),t=u)),l.call(c,t,n,r,i,o,a,s)&&c.longpressEvents[t]&&1==++c.longpressListenerCount&&c.on("MSHoldVisual","preventMsHoldVisual",c),s&&u&&delete i.managedName,delete i.type)},doRemoveListener:function(e,t,n){var r,i,o,a=this;e=ei.Z.canonicalEventName(e),a.blockedEvents[e]||(r=a.mixins.observable.doRemoveListener,(i=a.additiveEvents[e])&&r.call(a,e=i,t,n),(i=a.eventMap[e])&&(o=r.call(a,i,t,n)),(o=r.call(a,e,t,n)||o)&&a.longpressEvents[e]&&!--a.longpressListenerCount&&a.un("MSHoldVisual","preventMsHoldVisual",a))},_initEvent:function(e){return this.events[e]=new ei.Z.dom.ElementEvent(this,e)},_getDisplay:function(){var e=this.getData(),t=e[q];return void 0===t&&(e[q]=t=""),t},_getPublisher:function(e,t){var n=ei.Z.event.publisher.Publisher,r=n.publishersByEvent[e];return t&&!ei.Z.event.Event.gestureEvents[e]||!r||this.dom===window&&"resize"===e?n.publishers.dom:r},isFocusSuspended:function(){var e=this.peekData();return e&&e.suspendFocusEvents},preventMsHoldVisual:function(e){e.preventDefault()},suspendFocusEvents:function(){this.isFly||this.suspendEvent("focus","blur"),this.getData().suspendFocusEvents=!0},resumeFocusEvents:function(){!this.destroyed&&this.getData().suspendFocusEvents&&function(){var e;this.destroyed||((e=this.getData())&&(e.suspendFocusEvents=!1),this.isFly||this.resumeEvent("focus","blur"))}.call(this)}},deprecated:{"5.0":{methods:{getHTML:"getHtml",getPageBox:function(t){var n=(r="BODY"===(s=this.dom).nodeName)?e.getViewportWidth():s.offsetWidth,r=r?e.getViewportHeight():s.offsetHeight,i=(s=this.getXY())[1],o=s[0]+n,a=s[1]+r,s=s[0];return t?new ei.Z.util.Region(i,o,a,s):{left:s,top:i,width:n,height:r,right:o,bottom:a}},isTransparent:function(e){return!!(e=this.getStyle(e))&&T.test(e)},purgeAllListeners:"clearListeners",removeAllListeners:"clearListeners",setHTML:"setHtml"}}}}}),(function(e){var t=document,n=t.documentElement,r=e.prototype,i=ei.Z.supports,o="pointerdown",a="pointermove",s="pointerup",l="pointercancel",u="mousedown",c="mousemove",d="mouseup",f="touchstart",h="touchmove",p="touchend",g="touchcancel",m=r.eventMap={},v=r.additiveEvents={},y=ei.Z.id;r._init(e),delete r._init,ei.Z.id=function(t,n){var r,i=t&&ei.Z.getDom(t,!0);return i?(r=i.id)||(r=y(null,n||e.prototype.identifiablePrefix),ei.Z.isSandboxed&&(r=(ei.Z.sandboxPrefix||(ei.Z.sandboxPrefix=ei.Z.sandboxName.toLowerCase()+"-"))+r),i.id=r):r=y(t,n),r},i.PointerEvents?(m[u]=o,m[c]=a,m[d]=s,m[f]=o,m[h]=a,m[p]=s,m[g]=l,m.mouseover="pointerover",m.mouseout="pointerout",m.mouseenter="pointerenter",m.mouseleave="pointerleave"):i.TouchEvents?(m[o]=f,m[a]=h,m[s]=p,m[l]=g,m[u]=f,m[c]=h,m[d]=p,m.click="tap",m.dblclick="doubletap",ei.Z.os.is.Desktop&&(m[f]=u,m[h]=c,m[p]=d,m[g]=d,v[u]=u,v[c]=c,v[d]=d,v[f]=f,v[h]=h,v[p]=p,v[g]=g,v[o]=u,v[a]=c,v[s]=d,v[l]=d)):(m[o]=u,m[a]=c,m[s]=d,m[l]=d,m[f]=u,m[h]=c,m[p]=d,m[g]=d),ei.Z.isWebKit&&(m.transitionend=ei.Z.browser.getVendorProperyName("transitionEnd"),m.animationstart=ei.Z.browser.getVendorProperyName("animationStart"),m.animationend=ei.Z.browser.getVendorProperyName("animationEnd")),ei.Z.supports.MouseWheel||ei.Z.isOpera||(m.mousewheel="DOMMouseScroll"),(v=r.$eventOptions=ei.Z.Object.chain(r.$eventOptions)).translate=v.capture=v.delegate=v.delegated=v.stopEvent=v.preventDefault=v.stopPropagation=v.element=1,r.styleHooks.opacity={name:"opacity",afterSet:function(e,t,n){(n=n.shadow)&&n.setOpacity(t)}},r.getTrueXY=r.getXY,ei.Z.getViewportHeight=e.getViewportHeight,ei.Z.getViewportWidth=e.getViewportWidth,ei.Z.select=e.select,ei.Z.query=e.query,ei.Z.apply(ei.Z,{get:function(t){return e.get(t)},getDom:function(e){return e&&t?"string"==typeof e?ei.Z.getElementById(e):"dom"in e?e.dom:e:null},getBody:function(){if(!ei.Z._bodyEl){if(!t.body)throw new Error("[GRUI.getBody] document.body does not yet exist");ei.Z._bodyEl=ei.Z.get(t.body),ei.Z._bodyEl.skipGarbageCollection=!0}return ei.Z._bodyEl},getHead:function(){return ei.Z._headEl||(ei.Z._headEl=ei.Z.get(t.head||t.getElementsByTagName("head")[0]),ei.Z._headEl.skipGarbageCollection=!0),ei.Z._headEl},getDoc:function(){return ei.Z._docEl||(ei.Z._docEl=ei.Z.get(t),ei.Z._docEl.skipGarbageCollection=!0),ei.Z._docEl},getWin:function(){return ei.Z._winEl||(ei.Z._winEl=ei.Z.get(window),ei.Z._winEl.skipGarbageCollection=!0),ei.Z._winEl},removeNode:function(e){var t=(e=e.dom||e)&&e.id;(t=ei.Z.cache[t])?t.destroy():!e||3!==e.nodeType&&"BODY"===e.tagName.toUpperCase()||(t=e.parentNode)&&t.removeChild(e)}}),ei.Z.isGarbage=function(e){return e&&1===e.nodeType&&"BODY"!==e.tagName&&"HTML"!==e.tagName&&(!e.parentNode||null===e.offsetParent&&t.getElementById(e.id)!==e&&!(ei.Z.detachedBodyEl&&ei.Z.detachedBodyEl.isAncestor(e)))},ei.Z.onInternalReady((function(){var r,o=[];ei.Z.getDoc().on("selectstart",(function(n,r){var i=e.selectableCls,o=e.unselectableCls,a=r&&r.tagName,s=new ei.Z.dom.Fly;if("input"!==(a=a&&a.toLowerCase())&&"textarea"!==a)for(;r&&1===r.nodeType&&r!==t.documentElement;){if(s.attach(r),s.hasCls(i))return;if(s.hasCls(o))return void n.stopEvent();r=r.parentNode}})),(ei.Z.os.is.Android||ei.Z.os.is.Windows&&ei.Z.supports.Touch)&&(r=ei.Z.getWin(),e._documentWidth=e._viewportWidth=n.clientWidth,e._documentHeight=e._viewportHeight=n.clientHeight,r.on({focusin:"_onWindowFocusChange",focusout:"_onWindowFocusChange",pointerup:"_onWindowFocusChange",capture:!0,delegated:!1,delay:1,scope:e}),r.on({resize:"_onWindowResize",priority:2e3,scope:e})),i.Touch&&o.push(ei.Z.baseCSSPrefix+"touch"),ei.Z.isEdge&&o.push(ei.Z.baseCSSPrefix+"edge"),ei.Z.isGecko&&o.push(ei.Z.baseCSSPrefix+"gecko"),ei.Z.isOpera&&o.push(ei.Z.baseCSSPrefix+"opera"),ei.Z.isOpera12m&&o.push(ei.Z.baseCSSPrefix+"opera12m"),ei.Z.isWebKit&&o.push(ei.Z.baseCSSPrefix+"webkit"),ei.Z.isSafari&&o.push(ei.Z.baseCSSPrefix+"safari"),ei.Z.isSafari9&&o.push(ei.Z.baseCSSPrefix+"safari9"),ei.Z.isSafari10&&o.push(ei.Z.baseCSSPrefix+"safari10"),ei.Z.isSafari&&(ei.Z.browser.version.isLessThan(11)&&o.push(ei.Z.baseCSSPrefix+"safari10m"),ei.Z.browser.version.isLessThan(9)&&o.push(ei.Z.baseCSSPrefix+"safari8m")),ei.Z.isChrome&&o.push(ei.Z.baseCSSPrefix+"chrome"),ei.Z.isChromeMobile&&o.push(ei.Z.baseCSSPrefix+"chromemobile"),ei.Z.isMac&&o.push(ei.Z.baseCSSPrefix+"mac"),ei.Z.isWindows&&o.push(ei.Z.baseCSSPrefix+"windows"),ei.Z.isLinux&&o.push(ei.Z.baseCSSPrefix+"linux"),i.CSS3BorderRadius||o.push(ei.Z.baseCSSPrefix+"nbr"),i.CSS3LinearGradient||o.push(ei.Z.baseCSSPrefix+"nlg"),i.Touch&&o.push(ei.Z.baseCSSPrefix+"touch"),ei.Z.os.deviceType&&o.push(ei.Z.baseCSSPrefix+ei.Z.os.deviceType.toLowerCase()),ei.Z.os.is.BlackBerry&&(o.push(ei.Z.baseCSSPrefix+"bb"),ei.Z.browser.userAgent.match(/Kbd/gi)&&o.push(ei.Z.baseCSSPrefix+"bb-keyboard")),ei.Z.os.is.iOS&&ei.Z.isSafari&&o.push(ei.Z.baseCSSPrefix+"mobile-safari"),ei.Z.os.is.iOS&&ei.Z.browser.is.WebView&&!ei.Z.browser.is.Standalone&&o.push(ei.Z.baseCSSPrefix+"ios-native"),ei.Z.supports.FlexBoxBasisBug&&o.push(ei.Z.baseCSSPrefix+"has-flexbasis-bug"),(r=ei.Z.theme)&&r.getDocCls}),null,{priority:1500})})),ei.Z.define("GRUI.overrides.dom.Element",{override:"GRUI.dom.Element",_positionTopLeft:["position","top","left"],setX:function(e,t){return this.setXY([e,this.getY()],t)},setXY:function(e,t){return t?(ei.Z.isObject(t)||(t={}),this.animate(ei.Z.applyIf({to:{x:e[0],y:e[1]}},t))):this.callParent2(this,"null","GRUI.dom.Element","setXY",this.setXY,arguments),this},setY:function(e,t){return this.setXY([this.getX(),e],t)},translateXY:function(e,t){var n=(a=this).el,r="relative"===(o=n.getStyle(a._positionTopLeft)).position,i=parseFloat(o.left),o=parseFloat(o.top),a=a.getXY();return ei.Z.isArray(e)&&(t=e[1],e=e[0]),isNaN(i)&&(i=r?0:n.dom.offsetLeft),isNaN(o)&&(o=r?0:n.dom.offsetTop),{x:i="number"==typeof e?e-a[0]+i:void 0,y:o="number"==typeof t?t-a[1]+o:void 0}},visit:function(e){var t=this.dom,n=e.skipSelf,r=e.excludeRoot,i=e.callback||e.fn,o=e.scope||this,a=e.reverse,s=e.selector,l=(e=e.include||NodeFilter.SHOW_ELEMENT,document.createTreeWalker(t,e,null,!1)),u=null,c=t;if(a){for(c=t.lastElementChild;c.lastElementChild;c=c.lastElementChild);l.currentNode=c}for(;!1!==u&&c;c=a?l.previousNode():l.nextNode())r&&r.contains(c)||c===t&&n||s&&!c[ei.Z.supports.matchesSelector](s)||(u=ei.Z.callback(i,o,[c]));return u}}),ei.Z.define("GRUI.GlobalEvents",{extend:"GRUI.mixin.Observable",alternateClassName:"GRUI.globalEvents",requires:["GRUI.dom.Element"],observableType:"global",singleton:!0,resizeBuffer:100,idleEventMask:{mousemove:1,touchmove:1,pointermove:1,MSPointerMove:1,unload:1},windowListeners:{resize:{fn:"fireResize"}},constructor:function(){var e=this;this.callParent2(this,"GRUI.mixin.Observable","null","constructor",this.constructor,arguments),ei.Z.onInternalReady((function(){e.attachListeners()}))},setPressedComponent:function(e,t){var n=this,r=n.pressedComponent;r&&r.onRelease&&r.onRelease(t),n.pressedComponent=e,n.pressedScrollStart=e?ei.Z.on({scrollstart:function(){n.setPressedComponent(null,t)},destroyable:!0}):ei.Z.destroy(n.pressedScrollStart)},attachListeners:function(){var e=this,t=ei.Z.getWin(),n=e.windowListeners;e.onlineState=ei.Z.isOnline(),e.curHeight=ei.Z.Element.getViewportHeight(),e.curWidth=ei.Z.Element.getViewportWidth(),t.on({scope:e,online:"handleOnlineChange",offline:"handleOnlineChange"}),n&&(n.scope=e,ei.Z.isModern?n.resize.onFrame=!0:n.resize.buffer=e.resizeBuffer,t.on(n)),ei.Z.getDoc().on({touchstart:"fireMouseDown",mousedown:"fireMouseDown",mouseup:"fireMouseUp",touchend:"fireMouseUp",drop:"fireMouseUp",dragend:"fireMouseUp",scope:e})},fireMouseDown:function(e){this.fireEvent("mousedown",e),ei.Z.ComponentManager.handleDocumentMouseDown(e)},fireMouseUp:function(e){this.fireEvent("mouseup",e),this.setPressedComponent(null,e)},fireResize:function(){var e=this,t=(n=ei.Z.Element).getViewportWidth(),n=n.getViewportHeight();e.curHeight===n&&e.curWidth===t||(e.curHeight=n,e.curWidth=t,e.hasListeners.resize&&e.fireEvent("resize",t,n))},handleOnlineChange:function(){var e=ei.Z.isOnline();e!==this.onlineState&&(this.onlineState=e,this.fireEvent("onlinechange",e))}},(function(e){ei.Z.hasListeners=e.hasListeners,ei.Z.on=function(){return e.addListener.apply(e,arguments)},ei.Z.un=function(){return e.removeListener.apply(e,arguments)},ei.Z.fireEvent=function(){return e.fireEvent.apply(e,arguments)},ei.Z.fireIdle=function(){e.hasListeners.idle&&!ei.Z._suppressIdle&&e.fireEventArgs("idle"),ei.Z._suppressIdle=!1},ei.Z._suppressIdle=!1})),ei.Z.define("GRUI.Glyph",{isGlyph:!0,constructor:function(e){e&&this.setGlyph(e)},setGlyph:function(e){var t;return"string"==typeof(this.glyphConfig=e)?(t=e.split("@"),e=isNaN(t[0])?parseInt("0"+t[0],16):parseInt(t[0],10),!isNaN(e)&&e||(e=t[0].charCodeAt(0)),this.fontFamily=t[1]||ei.Z._glyphFontFamily):this.fontFamily=ei.Z._glyphFontFamily,this.codepoint=e,this.character=ei.Z.String.fromCodePoint(this.codepoint),this},getStyle:function(){return{"font-family":this.fontFamily}},isEqual:function(e){return e&&e.isGlyph&&e.codepoint===this.codepoint&&e.fontFamily===this.fontFamily},statics:function(){var e;return{fly:function(t){return t.isGlyph?t:(e=e||new ei.Z.Glyph).setGlyph(t)}}}()});__webpack_require__(48264);ei.Z.define("GRUI.mixin.Inheritable",{extend:"GRUI.Mixin",mixinConfig:{id:"inheritable"},getInherited:function(e){var t,n,r,i,o=this,a=e&&o.inheritedStateInner||o.inheritedState,s=o.getRefOwner(),l=o.isContainer;return a&&!a.invalid||(t=o.getRefOwner(),i=o.ownerLayout,s&&(r=!i||i===s.layout),o.inheritedState=a=ei.Z.Object.chain(t?t.getInherited(r):ei.Z.rootInheritedState),l&&(o.inheritedStateInner=n=ei.Z.Object.chain(a)),o.initInheritedState(a,n),a=l&&e?o.inheritedStateInner:o.inheritedState),a},getInheritedConfig:function(e,t){var n=this.inheritedState,r=(n=n&&!n.invalid?n:this.getInherited())[e];return t&&n.hasOwnProperty(e)&&(t=r,delete n[e],r=n[e],n[e]=t),r},resolveListenerScope:function(e,t){var n,r=this,i="boolean"==typeof t,o=ei.Z._namedScopes[e];return o?o.isController?n=r.getInheritedConfig("controller",i?t:!o.isSelf):o.isOwner?n=r.getRefOwner():o.isSelf?n=r.getInheritedConfig("defaultListenerScope",i&&t)||r:o.isThis&&(n=r):n=r.getInheritedConfig("defaultListenerScope",!i||t)||e||r,n||null},resolveSatelliteListenerScope:function(e,t){var n,r=this,i=ei.Z._namedScopes[t];return i?i.isController?n=r.getInheritedConfig("controller"):i.isSelf?n=r.getInheritedConfig("defaultListenerScope")||e:i.isThis&&(n=e):n=r.getInheritedConfig("defaultListenerScope")||t||r,n||null},lookupNameHolder:function(e){return this.getInheritedConfig("nameHolder",!1!==e)||null},lookupReferenceHolder:function(e){return this.getInheritedConfig("referenceHolder",!1!==e)||null},getRefOwner:function(){var e=this;return e.ownerCmp||e.ownerCt||e.parent||e.$initParent||e.floatParent},bubble:function(e,t,n){for(var r=this;r&&!1!==e.apply(t||r,n||[r]);r=r.getRefOwner());},isDescendantOf:function(e){return!!e&&e.isAncestor(this)},isAncestor:function(e){for(;e;){if(e.getRefOwner()===this)return!0;e=e.getRefOwner()}return!1},invalidateInheritedState:function(){var e=this.inheritedState;e&&(e.invalid=!0,delete this.inheritedState)},privates:{_fixReference:function(){var e,t=this;t.name&&t.nameable&&(e=t.lookupNameHolder())&&!e.destroyed&&e.attachNameRef(t),t.reference&&(e=t.lookupReferenceHolder())&&!e.destroyed&&e.attachReference(t)},onInheritedAdd:function(e,t){this.inheritedState&&t&&this.invalidateInheritedState(),ei.Z.ComponentManager.markReferencesDirty()},onInheritedRemove:function(e){ei.Z.ComponentManager.markReferencesDirty(),this.inheritedState&&!e&&this.invalidateInheritedState()}}},(function(){ei.Z.rootInheritedState={}})),ei.Z.define("GRUI.mixin.Bindable",{mixinId:"bindable",config:{bind:{$value:null,lazy:!0},controller:null,defaultListenerScope:!1,publishes:{$value:null,lazy:!0,merge:function(e,t){return this.mergeSets(e,t)}},session:{$value:null,lazy:!0},twoWayBindable:{$value:null,lazy:!0,merge:function(e,t){return this.mergeSets(e,t)}},viewModel:{$value:null,lazy:!0}},defaultBindProperty:null,nameable:!1,shareableName:!1,reference:null,validRefRe:/^[a-z_][a-z0-9_]*$/i,getReference:function(){return this.reference},initInheritedState:function(e){var t=this,n=t.reference,r=t.getController(),i=t.getConfig("viewModel",!0),o=t.getConfig("session",!0),a=t.getDefaultListenerScope();r&&(e.controller=r),a?e.defaultListenerScope=t:r&&(e.defaultListenerScope=r),i&&(i.isViewModel||(i=t),e.viewModel=i),o&&(o.isSession||(o=t),e.session=o),n&&(t.referenceKey=(e.referencePath||"")+n,t.viewModelKey=(e.viewModelPath||"")+n)},isBound:function(e){var t=this.getBind();return!(!t||!t[e||this.defaultBindProperty])},lookupController:function(e){return this.getInheritedConfig("controller",e)||null},lookupSession:function(e){var t=e?null:this.getSession();return t||(t=this.getInheritedConfig("session",e))&&!t.isSession&&(t=t.getInherited().session=t.getSession()),t||null},lookupViewModel:function(e){var t=e?null:this.getViewModel();return t||(t=this.getInheritedConfig("viewModel",e))&&!t.isViewModel&&(t=t.getInherited().viewModel=t.getViewModel()),t||null},publishState:function(e,t){var n,r,i,o,a=this,s=a.publishedState,l=0;if(!(o=(o=a.getBind())&&e&&o[e])||o.syncing||o.isReadOnly()||(o.calls||null!=t&&t!==a.getInitialConfig()[e])&&o.setValue(t),(o=a.getPublishes())&&(r=a.lookupViewModel())&&(i=a.viewModelKey)){if(s=s||(a.publishedState={}),e){if(!o[e])return;if(!(t&&t.constructor===Object||t instanceof Array)&&s[e]===t)return;i=i+"."+e}else{for(n in o)++l,s[n]=a.getConfig(n);if(!l)return;t=s}r.set(i,t)}},privates:{applyBind:function(e,t){if(!e)return t;var n,r,i,o,a=this,s=a.lookupViewModel(),l=a.getTwoWayBindable(),u=a._getBindTemplateScope;for(i in"string"==typeof e&&(n=e,(e={})[a.defaultBindProperty]=n),e)o=e[i],(n=t&&t[i])&&(n.destroy(),delete t[i]),o&&(!n&&l&&l[i]&&((r=r||{})[i]="_onConfigPropChange"),(n=s.bind(o,a.onBindNotify,a))._config=ei.Z.Config.get(i),n.getTemplateScope=u,(t=t||{})[i]=n);return r&&(r.scope=a).watchConfig(r),a.$bindings=t},applyController:function(e){return e&&(e=ei.Z.Factory.controller(e)).setView(this),this.controller=e},updatePublishes:function(e){var t,n;if(e&&this.lookupViewModel()){for(t in e)e[t]&&((n=n||{})[t]="_onConfigPropChange");n&&(n.scope=this).watchConfig(n)}return e},applySession:function(e){var t,n;return e?(e.isSession||(n=!0===e?{}:e,e=(t=this.lookupSession(!0))?t.spawn(n):new ei.Z.data.Session(n)),e):null},applyViewModel:function(e){var t,n=this;return e?(e.isViewModel||((t={parent:n.lookupViewModel(!0),view:n}).session=n.getSession(),t.parent||(t.session=n.lookupSession()),e&&(e.constructor===Object?ei.Z.apply(t,e):"string"==typeof e&&(t.type=e)),e=ei.Z.Factory.viewModel(t)),e):null},_getBindTemplateScope:function(){return this.scope.resolveListenerScope()},destroyBindable:function(){var e=this,t=e.getConfig("viewModel",!0),n=e.getConfig("session",!0),r=e.getController();t&&t.isViewModel&&(t.destroy(),e.setViewModel(null)),n&&n.isSession&&(n.getAutoDestroy()&&n.destroy(),e.setSession(null)),r&&(e.setController(null),r.destroy())},initBindable:function(){var e=this,t=e.controller;e.initBindable=ei.Z.emptyFn,e.getBind(),e.getPublishes(),e.viewModel||e.getViewModel(),t&&t.initBindings(),e.reference&&e.publishState()},isSyncing:function(e){var t=this.getBind(),n=!1;return t&&(t=t[e])?0<t.syncing:n},notifyIf:function(e){(e=this.lookupViewModel(e))&&e.notify()},onBindNotify:function(e,t,n){n.syncing=n.syncing+1||1,this[n._config.names.set](e),--n.syncing},_onConfigPropChange:function(e,t,n){e.publishState(t,n)},removeBindings:function(){var e,t,n=this.$bindings;if(n)for(t in n)(e=n[t])&&(e.destroy(),e._config=e.getTemplateScope=null,n[t]=null)},updateSession:function(e){var t=this.getInherited();e?t.session=e:delete t.session},updateViewModel:function(e,t){var n=this,r=n.getInherited(),i=n.getController();e?(n.hasVM=!0,(r.viewModel=e).setView(n),i&&i.initViewModel(e)):delete r.viewModel,n.viewModel=e}}}),ei.Z.define("GRUI.mixin.ComponentDelegation",{extend:"GRUI.Mixin",mixinConfig:{id:"componentDelegation"},privates:{addDelegatedListener:function(e,t,n,r,i,o,a){var s=this;e=ei.Z.canonicalEventName(e),!(i=i||r.order)||r&&r.priority||((r=r?ei.Z.Object.chain(r):{}).priority=s.$orderToPriority[i]),((i=s.$delegatedEvents||(s.$delegatedEvents={}))[e]||(i[e]=new ei.Z.util.Event(s,e))).addListener(t,n,r,o,a)&&s.$hasDelegatedListeners._incr_(e)},clearDelegatedListeners:function(){var e,t,n,r=this.$delegatedEvents;if(r)for(e in r)n=(t=r[e]).listeners.length,t.clearListeners(),this.$hasDelegatedListeners._decr_(e,n),delete r[e]},doFireDelegatedEvent:function(e,t){var n,r,i=this,o=!0;if(i.$hasDelegatedListeners[e])for(n=i.getRefOwner();n&&(!(r=n.$delegatedEvents)||!(r=r[e])||!1!==(o=r.fireDelegated(i,t)));)n=n.getRefOwner();return o},removeDelegatedListener:function(e,t,n){var r,i=this.$delegatedEvents;i&&(r=i[e])&&r.removeListener(t,n)&&(this.$hasDelegatedListeners._decr_(e),0===r.listeners.length&&delete i[e])},destroyComponentDelegation:function(){this.clearPropertiesOnDestroy&&(this.$delegatedEvents=null)}},onClassMixedIn:function(e){(e.prototype.HasListeners=e.HasListeners=function(){}).prototype=e.hasListeners=new ei.Z.mixin.ComponentDelegation.HasDelegatedListeners}},(function(e){(e.HasDelegatedListeners=function(){}).prototype=e.prototype.$hasDelegatedListeners=new ei.Z.mixin.Observable.HasListeners})),ei.Z.define("GRUI.plugin.Abstract",{alternateClassName:"GRUI.AbstractPlugin",mixins:["GRUI.mixin.Identifiable"],isPlugin:!0,constructor:function(e){e&&(this.cmp=e.cmp,this.pluginConfig=e,this.initConfig(e))},init:ei.Z.emptyFn,destroy:function(){var e=this;e.destroy=ei.Z.emptyFn,e.destroying=!0,e.cmp=e.pluginConfig=null,e.doDestroy(),this.callParent2(this,"null","null","destroy",this.destroy,arguments)},doDestroy:ei.Z.emptyFn,clonePlugin:function(e){return new this.self(ei.Z.apply({},e,this.pluginConfig))},getCmp:function(){return this.cmp},setCmp:function(e){this.cmp=e},getStatefulOwner:function(){return[this.cmp,"plugins"]},onClassExtended:function(e,t,n){var r=t.alias;e=e.prototype;r&&!t.ptype&&(ei.Z.isArray(r)&&(r=r[0]),e.ptype=r.split("plugin.")[1])},resolveListenerScope:function(e){var t,n=this,r=n.getCmp();return(t=r?r.resolveSatelliteListenerScope(n,e):t)||n.mixins.observable.resolveListenerScope.call(n,e)},statics:{decode:function(e,t,n){if(e){var r,i,o,a,s=ei.Z.typeOf(e);if("string"===s)(o={})[t]=e,e=[o];else if(e.isInstance)e=[e];else if("object"===s)if(e[t])e=[e];else{for(i in o=n?ei.Z.merge(ei.Z.clone(n),e):e,e=[],o)(a=o[i])&&((r={id:i})[t]=i,ei.Z.apply(r,a),e.push(r));ei.Z.sortByWeight(e)}else e=e.slice()}return e}}}),ei.Z.define("GRUI.mixin.Pluggable",(function(e){return{requires:["GRUI.plugin.Abstract"],mixinId:"pluggable",config:{plugins:null},addPlugin:function(e){var t=this,n=t.getPlugins();return n?((e=t.createPlugin(e)).init(t),n.push(e)):(t.setPlugins(e),e=t.getPlugins()[0]),e},destroyPlugin:function(e){return this.removePlugin(e,!0)},findPlugin:function(e){for(var t,n,r=this.getPlugins(),i=r&&r.length,o=0;o<i&&!n;o++)(t=r[o]).type!==e&&t.ptype!==e||(n=t);return n||null},getPlugin:function(e){for(var t,n,r=this.getPlugins(),i=r&&r.length,o=0;o<i&&!n;o++)(t=r[o]).id!==e&&t.pluginId!==e||(n=t);return n||null},removePlugin:function(e,t){for(var n,r=this.getPlugins(),i=r&&r.length||0;0<i--;){if((n=r[i])===e||n.id===e){r.splice(i,1),t?n.destroy&&n.destroy():n.detachCmp&&(n.detachCmp(),n.setCmp&&n.setCmp(null));break}n=null}return n},privates:{statics:{idSeed:0},activatePlugin:function(e){var t,n,r,i=this,o=i.initialConfig,a=o&&o.plugins,s=null;if(a)for(n=i.config.plugins,t=(a=ei.Z.plugin.Abstract.decode(a,"type",n=n&&"object"==typeof n?n:null)).length;0<t--;)if((r=a[t])===e||r.type===e){i.initialConfig=o=ei.Z.apply({},o),(o.plugins=a)[t]=s=i.createPlugin(r);break}return s},applyPlugins:function(e,t){var n,r,i,o=t&&t.length||0;for(e=e&&ei.Z.plugin.Abstract.decode(e,"type"),r=0;r<o;++r)t[r].$dead=!0;for(n=e&&e.length||0,r=0;r<n;++r)e[r]=this.createPlugin(e[r]);for(r=0;r<n;++r)(i=e[r]).$dead?delete i.$dead:i.init(this);for(r=0;r<o;++r)(i=t[r]).$dead&&(delete i.$dead,ei.Z.destroy(i));return e},createPlugin:function(t){var n;return(n=t="string"==typeof t?{type:t}:t).isInstance||(t.cmp=this,n=ei.Z.factory(t,null,null,"plugin"),delete t.cmp),n.id||(n.id=++e.idSeed),n.setCmp&&n.setCmp(this),n}}}})),ei.Z.define("GRUI.mixin.Keyboard",(function(e){return{extend:"GRUI.Mixin",mixinConfig:{id:"keyboard"},config:{keyMap:{$value:null,cached:!0,merge:function(e,t,n,r){var i,o,a,s,l;if(null===e)return e;for(o in i=t&&!n.isInstance?ei.Z.Object.chain(t):{},e)"scope"!==o&&(a=o.toUpperCase(),r&&void 0!==i[a]||((s=e[o])&&(l=(s="string"==typeof s||"function"==typeof s?{handler:s}:ei.Z.apply({handler:s.fn},s)).scope||e.scope||"self",s.scope="controller"===l?"self.controller":l),i[a]=s));return i}},keyMapEnabled:null},keyMapTarget:"el",applyKeyMap:function(t,n){var r=this,i=r.hasOwnProperty("config");return i&&n&&n.$owner!==r&&(n=ei.Z.apply({},n)),t=t?e.combineKeyMaps(n,t,i&&r):null,r._keyMapReady&&r.setKeyMapListener(t&&r.getKeyMapEnabled()),t},initKeyMap:function(){var e=this,t=e.getKeyMapEnabled();e._keyMapReady=!0,null===t?e.setKeyMapEnabled(!0):e.setKeyMapListener(t&&e.getKeyMap())},disableKeyMapGroup:function(e){this.setKeyMapGroupEnabled(e,!1)},enableKeyMapGroup:function(e){this.setKeyMapGroupEnabled(e,!0)},setKeyMapGroupEnabled:function(e,t){(this.disabledKeyMapGroups||(this.disabledKeyMapGroups={}))[e]=!t},updateKeyMapEnabled:function(e){this.setKeyMapListener(e&&this._keyMapReady&&this.getKeyMap())},privates:{_keyMapReady:!1,comparePriorities:function(e,t){return(t.priority||0)-(e.priority||0)},findKeyMapEntries:function(t){var n,r,i,o=this,a=o.disabledKeyMapGroups,s=o.getKeyMap(),l=s&&e.getKeyName(t),u=[];if(l=l&&s[l])for(l.sorted||(ei.Z.Array.sort(l,o.comparePriorities),l.sorted=!0),r=l.length,i=0;i<r;i++)n=l[i],a&&a[n.group]||e.matchEntry(n,t)&&u.push(n);return u},onKeyMapEvent:function(e){var t,n,r,i=this,o=i.getKeyMapEnabled()?i.findKeyMapEntries(e):null,a=o&&o.length;for(i.lastKeyMapEvent=e,t=0;t<a&&!1!==r;t++)n=o[t],r=ei.Z.callback(n.handler,n.scope,[e,this],0,this);return r},setKeyMapListener:function(e){var t=this,n=t._keyMapListener;n&&(n.destroy(),n=null),e&&(n=(e="function"==typeof(e=t[t.keyMapTarget])?e.call(t):e).on({destroyable:!0,scope:t,keydown:"onKeyMapEvent",keypress:"onKeyMapEvent"})),t._keyMapListener=n||null},statics:{_charCodeRe:/^#([\d]+)$/,_keySpecRe:/^(?:(?:(\*)[\+\-])|(?:([a-z\+\-]*)[\+\-]))?(?:([a-z0-9_]+|[\+\-]|(?:#?\d+))(?:\:([a-z]+))?)$/i,_delimiterRe:/-|\+/,_keyMapEvents:{charCode:"keypress",keyCode:"keydown"},combineKeyMaps:function(t,n,r){var i,o,a,s,l=n.scope||"controller";for(o in n)if("scope"!==o){if(a=n[o])a="string"==typeof a||"function"==typeof a?{handler:a,scope:l}:a&&ei.Z.apply({handler:a.fn,scope:l},a),t=t||{};else if(!t)continue;e.parseEntry(o,i=a||{})&&((s=t[i.name])?(r&&s.$owner!==r&&(t[i.name]=s=s.slice(),s.$owner=r),s.push(a),s.sorted=!1):((s=t[i.name]=[a]).$owner=r,s.sorted=!0))}return t&&r&&(t.$owner=r),t||null},getKeyName:function(e){var t;if(e.isEvent){if(t=e.keyCode||e.charCode,e=e.browserEvent,229===t&&"code"in e){if(ei.Z.String.startsWith(e.code,"Key"))return e.key.substr(3);if(ei.Z.String.startsWith(e.code,"Digit"))return e.key.substr(5)}}else t=e;return ei.Z.event.Event.keyCodes[t]||String.fromCharCode(t)},matchEntry:function(e,t){var n,r=t.browserEvent;if(t.type!==e.event)return!1;if(n=e.charCode){if(t.getCharCode()!==n)return!1}else if(e.keyCode!==t.keyCode||!e.ignoreModifiers&&!e.shiftKey!=!r.shiftKey)return!1;return e.ignoreModifiers||!e.ctrlKey==!r.ctrlKey&&!e.altKey==!r.altKey&&!e.metaKey==!r.metaKey&&!e.shiftKey==!r.shiftKey},parseEntry:function(t,n){t=t.toUpperCase();var r,i,o,a,s=ei.Z.event.Event,l=s.keyFlags,u=this._keySpecRe.exec(t);t="keyCode";if(u){if(r=u[3],u[4]&&(n.group=u[4]),!(n.ignoreModifiers=!!u[1])&&u[2])for(a=(u=u[2].split(this._delimiterRe)).length,i=0;i<a;i++)n[l[u[i]]]=!0;return n.name=r,isNaN(s=s[r])&&((o=this._charCodeRe.exec(r))?s=+o[1]:1===r.length&&(s=r.charCodeAt(0)),s?t="charCode":s=+r,n.name=e.getKeyName(s)),n.event=n.event||this._keyMapEvents[t],!isNaN(s)&&(n[t]=s)}}}}}})),ei.Z.define("GRUI.mixin.Focusable",{mixinId:"focusable",$isFocusableEntity:!0,focusable:!1,hasFocus:!1,containsFocus:!1,focusCls:ei.Z.baseCSSPrefix+"focused",focusEl:"el",getFocusEl:function(){var e=this.focusEl;return e&&e.dom?e:null},getFocusClsEl:function(){return this.getFocusEl()},initFocusable:ei.Z.emptyFn,initFocusableEvents:function(e){this.initFocusableElement(e)},enableFocusable:ei.Z.emptyFn,disableFocusable:function(){var e=this;e.hasFocus&&e.revertFocus(),e.removeFocusCls()},destroyFocusable:function(){var e=this;ei.Z.destroy(e.focusListeners),e.focusListeners=e.focusEnterEvent=e.focusTask=null,e.focusEl=e.ariaEl=null},isFocusable:function(e){var t,n=this;return!!(n.focusable||n.isContainer&&e)&&!(!(t=n.getFocusEl())||!n.canFocus())&&t&&!t.destroyed&&t.isFocusable(e)},isDestructing:function(){for(var e=this;e;e=e.getRefOwner())if(e.destroying||e.destroyed)return!0;return!1},canFocus:function(e,t){var n=this,r=(r=n.ownerFocusableContainer)&&r.allowFocusingDisabledChildren;return!n.destroyed&&n.rendered&&!n.isDestructing()&&(n.isContainer||n.focusable)&&(!n.isDisabled()||r)&&(e||n.isVisible(!0))||t&&!!n.findFocusTarget()},focus:function(e){var t,n,r=this;if(!r.focusable&&!r.isContainer||r.destroyed||r.destroying)return!1;if(!r.canFocus()||!(t=r.getFocusEl()))return!(!(t=r.findFocusTarget())||t===r)&&t.focus.apply(t,arguments);if(t.$isFocusableEntity)return t.focus.apply(t,arguments);if(n=t.dom)t.focus(),e&&(r.selectText||n.select)&&(r.selectText?ei.Z.isArray(e)?r.selectText.apply(r,e):r.selectText():n.select());else{if(!t.focus)return!1;t.focus()}return!0},onBlur:function(e){var t=this,n=t.ownerFocusableContainer;t.hasFocus=!1,t.beforeBlur&&!t.beforeBlur.$emptyFn&&t.beforeBlur(e),n&&n.beforeFocusableChildBlur(t,e),t.removeFocusCls(e),t.hasListeners.blur&&t.fireEvent("blur",t,e),t.postBlur&&!t.postBlur.$emptyFn&&t.postBlur(e),n&&n.afterFocusableChildBlur(t,e)},onFocus:function(e){var t=this,n=t.ownerFocusableContainer;t.canFocus()&&(t.beforeFocus&&!t.beforeFocus.$emptyFn&&t.beforeFocus(e),n&&n.beforeFocusableChildFocus(t,e),t.addFocusCls(e),t.hasFocus||(t.hasFocus=!0,t.fireEvent("focus",t,e)),t.postFocus&&!t.postFocus.$emptyFn&&t.postFocus(e),n&&n.afterFocusableChildFocus(t,e))},getTabIndex:function(){var e,t,n=this;if(n.focusable){if(e=n.getFocusEl())if(e.$isFocusableEntity)t=e.getTabIndex();else{if(!e.isElement||!e.dom)return;null!==(t=e.dom.getAttribute("tabIndex"))&&(t-=0)}return"number"!=typeof t?n.tabIndex:t}},setTabIndex:function(e,t){var n=this,r=(r=n.ownerFocusableContainer)&&r.allowFocusingDisabledChildren,i=n.focusable;(i||n.forceTabIndex||null==e)&&(n.tabIndex=e,n.destroying||n.destroyed||n.isDisabled()&&!r||(n.focusable=!0,r=t||n.getFocusEl(),n.focusable=i,r&&(r.$isFocusableEntity||r.isElement&&r.dom)&&r.setTabIndex(e)))},onFocusEnter:function(e){var t=this;t.destroying||t.destroyed||(t.focusEnterEvent=e,t.containsFocus=!0,t.hasListeners.focusenter&&t.fireEvent("focusenter",t,e))},onFocusLeave:function(e){var t=this;t.destroying||t.destroyed||(t.focusEnterEvent=null,t.containsFocus=!1,t.hasListeners.focusleave&&t.fireEvent("focusleave",t,e))},onFocusMove:ei.Z.emptyFn,privates:{forceTabIndex:!1,revertFocus:function(){var e,t,n=this,r=n.focusEnterEvent,i=ei.Z.Element.getActiveElement();r&&!n.preventRefocus&&n.el.contains(i)&&((e=(e=(t=r.fromComponent)&&(t.destroyed||t.isDestructing())?document.body:r.relatedTarget)===document.body&&(t=n.findFocusTarget())?t.getFocusEl():e)&&e.$isFocusableEntity?!e.destroyed&&e.isFocusable()&&e.focus():ei.Z.getDoc().contains(e)&&ei.Z.fly(e).isFocusable()?(t=ei.Z.Component.from(e))?t.revertFocusTo(e):e.focus():r.fromComponent&&r.fromComponent.focus&&(r.fromComponent.focus()||i.blur()))},revertFocusTo:function(e){e.focus()},findFocusTarget:function(){var e,t,n,r,i,o;if(this.preventRefocus)return null;for(e=[],t=this.getRefOwner();t;t=t.getRefOwner())t.isDisabled()||e.unshift(t);for(r=0,n=e.length;r<n;r++)if((t=e[r]).destroying||!t.isVisible()){e.length=r;break}for(r=e.length-1;0<=r;r--){if(t=e[r],(i=ei.Z.ComponentQuery.query(":canfocus()",t)).length)return i[(o=ei.Z.Array.indexOf(i,ei.Z.ComponentManager.getActiveComponent()))+1]||i[o-1]||i[0];if(t.isFocusable&&t.isFocusable())return t}},initFocusableElement:function(e){var t=this,n=t.getTabIndex(),r=t.getFocusEl();r&&!r.$isFocusableEntity&&(null!=n&&(e||t.canFocus(!0))&&t.setTabIndex(n,r),r.dom.hasAttribute("data-componentid")||r.dom.setAttribute("data-componentid",t.id))},addFocusCls:function(e){var t=this.focusCls,n=this.getFocusClsEl();t&&(n=this.getFocusClsEl(e))&&n.addCls(t)},removeFocusCls:function(e){var t=this.focusCls;t&&(e=this.getFocusClsEl(e))&&e.removeCls(t)},handleFocusEvent:function(e){var t,n=this;!n.focusable||n.destroying||n.destroyed||n.isFocusing(e)&&((t=new ei.Z.event.Event(e.event)).type="focus",t.relatedTarget=e.fromElement,t.target=e.toElement,n.onFocus(t))},handleBlurEvent:function(e){var t,n=this;!n.focusable||n.destroying||n.destroyed||e.toElement!==document.body&&!n.isBlurring(e)||((t=new ei.Z.event.Event(e.event)).type="blur",t.target=e.fromElement,t.relatedTarget=e.toElement,n.onBlur(t))},isFocusing:function(e){var t=this.getFocusEl();return!!t&&(t.isFocusing?t.isFocusing(e):t.dom===document.activeElement&&e.toElement===t.dom&&e.fromElement!==e.toElement)},isBlurring:function(e){var t=this.getFocusEl();return!!t&&(t.isFocusing?t.isBlurring(e):t.dom!==document.activeElement&&e.fromElement===t.dom&&e.fromElement!==e.toElement)},blur:function(){var e,t=this;t.focusable&&t.canFocus()&&(e=t.getFocusEl())&&(t.blurring=!0,e.blur(),delete t.blurring)},isTabbable:function(){var e;return!!(this.focusable&&(e=this.getFocusEl())&&e.isTabbable())&&e.isTabbable()},disableTabbing:function(){var e,t=this.el;this.destroying||this.destroyed||(t&&t.saveTabbableState(),(e=this.getFocusEl())&&(e.$isFocusableEntity?e.disableTabbing():e.isElement&&t&&!t.contains(e)&&e.saveTabbableState()))},enableTabbing:function(e){var t,n=this.el;this.destroying||this.destroyed||((t=this.getFocusEl())&&(t.$isFocusableEntity?t.enableTabbing():t.isElement&&n&&!n.contains(t)&&t.restoreTabbableState()),n&&n.restoreTabbableState({reset:e}))}}},(function(){var e=ei.Z.baseCSSPrefix+"keyboard-mode",t=!1;function n(){t!==ei.Z.getBody().hasCls(e)&&ei.Z.setKeyboardMode(t)}ei.Z.enableKeyboardMode=ei.Z.isModern||!ei.Z.os.is.Desktop,ei.Z.setKeyboardMode=ei.Z.setKeyboardMode||function(t){ei.Z.keyboardMode=t,ei.Z.getBody().toggleCls(e,t)},ei.Z.isTouchMode=function(){return ei.Z.now()-ei.Z.lastTouchTime<500},ei.Z.syncKeyboardMode=function(e){var n;ei.Z.enableKeyboardMode&&("pointermove"===(n=e.type)?t=!1:(t="keydown"===n,ei.Z.lastTouchTime="touch"===e.pointerType&&ei.Z.now(),ei.Z.setKeyboardMode(t)))},ei.Z.getEnableKeyboardMode=function(){return ei.Z.enableKeyboardMode},ei.Z.setEnableKeyboardMode=function(e){var t={pointerdown:ei.Z.syncKeyboardMode,pointermove:ei.Z.syncKeyboardMode,keydown:ei.Z.syncKeyboardMode,capture:!0,delegated:!1};ei.Z.enableKeyboardMode=!!e,ei.Z.enableKeyboardMode?(ei.Z.getWin().on(t),ei.Z.on("focus",n)):(ei.Z.getWin().un(t),ei.Z.un("focus",n))},ei.Z.onReady((function(){ei.Z.setEnableKeyboardMode(ei.Z.enableKeyboardMode)}))})),ei.Z.define("GRUI.mixin.Accessible",{extend:"GRUI.Mixin",mixinConfig:{id:"accessible"},config:{ariaAttributes:{$value:null,lazy:!0}},ariaEl:"el",privates:{getAriaLabelEl:function(e){var t,n,r,i,o=[];if(e){if(ei.Z.isFunction(e))return e.call(this);if(ei.Z.isArray(e)||(e=[e]),t=this.lookupReferenceHolder())for(n=0,r=e.length;n<r;n++)(i=t.lookupReference(e[n]))&&o.push(i.ariaEl.id)}return o.length?o.join(" "):null}}}),ei.Z.define("GRUI.Widget",{extend:"GRUI.Evented",xtype:"widget",alternateClassName:"GRUI.Gadget",requires:["GRUI.dom.Element"],mixins:["GRUI.mixin.Inheritable","GRUI.mixin.Bindable","GRUI.mixin.ComponentDelegation","GRUI.mixin.Pluggable","GRUI.mixin.Keyboard","GRUI.mixin.Factoryable","GRUI.mixin.Focusable","GRUI.mixin.Accessible"],isWidget:!0,factoryConfig:{creator:null,defaultProperty:"xtype",defaultType:"component",typeProperty:"xtype"},element:{reference:"element"},observableType:"component",cachedConfig:{cls:null,margin:null,style:null,border:null,touchAction:null,eventHandlers:{focus:"handleFocusEvent",blur:"handleBlurEvent"}},name:null,config:{renderTo:null,ui:null,userCls:null,ripple:null,hideMode:null,instanceCls:null},eventedConfig:{width:null,height:null,hidden:null,disabled:null},template:[],baseCls:null,classCls:null,classClsRoot:!0,classClsList:[],clearPropertiesOnDestroy:"async",focusEl:"element",ariaEl:"element",spaceRe:/\s+/,noBorderCls:ei.Z.baseCSSPrefix+"noborder-trbl",borderedCls:ei.Z.baseCSSPrefix+"bordered",disabledCls:ei.Z.baseCSSPrefix+"disabled",heightedCls:ei.Z.baseCSSPrefix+"heighted",widthedCls:ei.Z.baseCSSPrefix+"widthed",constructor:function(e){var t=this,n=t.baseCls,r=e&&e.renderTo;t.$iid=++ei.Z.$nextIid,null!=n&&!0!==n||(t.baseCls=t.classCls||ei.Z.baseCSSPrefix+t.xtype),(e&&e.controller||t.config.controller)&&(t.referenceHolder=!0),t.initId(e),t.initElement(),r&&delete(e=ei.Z.apply({},e)).renderTo,t.mixins.observable.constructor.call(t,e),t.focusable&&t.initFocusableEvents(!0),t.syncUiCls(),ei.Z.ComponentManager.register(t),(n=t.getController())&&n.init(t),r&&t.setRenderTo(r)},afterCachedConfig:function(){var e,t,n,r=this,i=r.self.prototype,o=r.referenceList,a=r.renderElement;for(i.renderTemplate=i=document.createDocumentFragment(),i.appendChild(a.clone(!0,!0)),e=0,t=(n=i.querySelectorAll("[id]")).length;e<t;e++)n[e].removeAttribute("id");for(e=0,t=o.length;e<t;e++)r[o[e]].dom.removeAttribute("reference")},applyHidden:function(e){return!!e},applyDisabled:function(e){return!!e},updateDisabled:function(e){var t=this,n=t.ownerFocusableContainer;n&&(e?n.beforeFocusableChildDisable.$nullFn||n.beforeFocusableChildDisable(t):n.beforeFocusableChildEnable.$nullFn||n.beforeFocusableChildEnable(t)),t.element.toggleCls(t.disabledCls,e),t.focusable&&(e?t.disableFocusable():t.enableFocusable()),n&&(e?n.onFocusableChildDisable.$nullFn||n.onFocusableChildDisable(t):n.onFocusableChildEnable.$nullFn||n.onFocusableChildEnable(t))},disable:function(){this.setDisabled(!0)},enable:function(){this.setDisabled(!1)},isDisabled:function(){return this.getDisabled()},isEnabled:function(){return!this.getDisabled()},applyTouchAction:function(e,t){return null!=t?ei.Z.merge({},t,e):e},applyWidth:function(e){return this.filterLengthValue(e)},applyHeight:function(e){return this.filterLengthValue(e)},updateBorder:function(e){var t=this;t.toggleCls(t.noBorderCls,!(e=e||null===e)),t.toggleCls(t.borderedCls,!!e)},clearListeners:function(){var e=this;e.mixins.observable.clearListeners.call(e),e.mixins.componentDelegation.clearDelegatedListeners.call(e)},destroy:function(){var e=this;e.isDestroying=e.destroying=!0,e.destroy=ei.Z.emptyFn,e.doDestroy(),e.clearListeners(),e.mixins.componentDelegation.destroyComponentDelegation.call(e),this.callParent2(this,"GRUI.Evented","null","destroy",this.destroy,arguments)},doDestroy:function(){var e,t,n,r=this,i=r.referenceList,o=r.ownerFocusableContainer;for(r.ownerCmp=null,o&&!o.onFocusableChildDestroy.$nullFn&&o.onFocusableChildDestroy(r),e=0,t=i.length;e<t;e++)n=i[e],r.hasOwnProperty(n)&&(r[n].destroy(),r[n]=null);r.destroyBindable(),ei.Z.ComponentManager.unregister(r)},doFireEvent:function(e,t,n){var r,i=this;return!1===(n=i.mixins.observable.doFireEvent.call(i,e,t,n))||i.destroyed||(r=i.events[e])&&r.suspended?n:i.mixins.componentDelegation.doFireDelegatedEvent.call(i,e,t)},getBubbleTarget:function(){return this.getRefOwner()},getElementConfig:function(){var e=this.element;return"children"in e?e:ei.Z.apply({children:this.getTemplate()},e)},getSize:function(){return this.el.getSize()},getTemplate:function(){return ei.Z.clone(this.template)},getClassCls:function(){for(var e,t,n,r,i=this.self.prototype,o=i;o;){if(t=o.hasOwnProperty("classCls")?o.classCls:null)if(t instanceof Array)for(n=0,r=t.length;n<r;n++)(e=e||[]).push(t[n]);else(e=e||[]).push(t);if(o.classClsRoot&&o.hasOwnProperty("classClsRoot"))break;o=o.superclass}return e&&(i.classClsList=e),e},hide:function(){this.setHidden(!0)},initElement:function(){var e,t,n,r,i,o,a,s,l,u,c=this,d=c.self.prototype,f=c.getId(),h=c.referenceList=c.referenceList=[],p=!d.hasOwnProperty("renderTemplate"),g=d.hasOwnProperty("uiReferences")?d.uiReferences:d.uiReferences={element:""};if(p)for(e=document.createDocumentFragment(),d=c.processElementConfig.call(d),t=ei.Z.Element.create(d,!0),e.appendChild(t),i=0,o=(r=e.querySelectorAll("[uiCls]")).length;i<o;i++)s=(a=r[i]).getAttribute("reference"),l=a.getAttribute("uiCls"),g[s]=l,a.removeAttribute("uiCls");else t=(e=c.renderTemplate.cloneNode(!0)).firstChild;for(i=0,o=(r=e.querySelectorAll("[reference]")).length;i<o;i++)s=(a=r[i]).getAttribute("reference"),p||a.removeAttribute("reference"),"element"===s?(a.id=f,(n=c.el=c.addElementReference(s,a)).dom.setAttribute("data-componentid",f),p&&((u=c.getClassCls())&&n.addCls(u),(u=c.baseCls)&&u!==c.classCls&&n.addCls(u))):(l=g[s])&&p?(c.addElementReference(s,a),c.initUiReference(s,l,!1)):c.addElementReferenceOnDemand(s,a),s===c.focusEl&&c.addElementReference("focusEl",a),s===c.ariaEl&&c.addElementReferenceOnDemand("ariaEl",a),h.push(s);t===n.dom?c.renderElement=n:c.addElementReferenceOnDemand("renderElement",t),t.setAttribute(c.dataXid,c.$iid)},dataXid:"data-"+ei.Z.baseCSSPrefix.substr(0,ei.Z.baseCSSPrefix.length-1)+"id",is:function(e){return ei.Z.ComponentQuery.is(this,e)},isHidden:function(e){var t,n=!!this.getHidden();if(!n&&e)for(t=this.getRefOwner();t&&t!==e&&!n;)n=!!t.getHidden(),t=t.getRefOwner();return n},isVisible:function(e){return this.rendered&&!this.destroyed&&!this.isHidden(e)},isXType:function(e,t){return t?-1!==ei.Z.Array.indexOf(this.xtypes,e):!!this.xtypesMap[e]},lookupTpl:function(e){return ei.Z.XTemplate.getTpl(this,e)},owns:function(e){var t=!1;return e.isEvent?e=e.target:e.isElement&&(e=e.dom),(e=ei.Z.Component.from(e))?e===this||!!e.up(this):t},render:function(e,t){e&&e.isWidget&&(e=e.el);var n=this.renderElement.dom;e=ei.Z.getDom(e);ei.Z.isNumber(void 0)&&(t=e.childNodes[t]),t=ei.Z.getDom(t),e&&(t?e.insertBefore(n,t):e.appendChild(n),this.setRendered(ei.Z.getBody().contains(n),!0))},toggleCls:function(e,t){return this.element.toggleCls(e,t),this},resolveListenerScope:function(e,t){return this.mixins.inheritable.resolveListenerScope.call(this,e,t)},setSize:function(e,t){if(e&&"object"==typeof e)return this.setSize(e.width,e.height);void 0!==e&&this.setWidth(e),void 0!==t&&this.setHeight(t)},show:function(){this.setHidden(!1)},addCls:function(e,t,n){this.destroyed||this.el.replaceCls(null,e,t,n)},applyCls:function(e){return e&&ei.Z.dom.Element.splitCls(e)},applyUi:function(e){return this.parseUi(e,!0)},removeCls:function(e,t,n){this.destroyed||this.el.replaceCls(e,null,t,n)},replaceCls:function(e,t,n,r){this.destroyed||this.el.replaceCls(e,t,n,r)},hasCls:function(e){return this.el.hasCls(e)},updateCls:function(e,t){this.element.replaceCls(t,e)},updateHidden:function(e){var t=this,n=t.renderElement,r=t.ownerFocusableContainer;r?e?r.beforeFocusableChildHide.$nullFn||r.beforeFocusableChildHide(t):r.beforeFocusableChildShow.$nullFn||r.beforeFocusableChildShow(t):e&&t.revertFocus(),n&&!n.destroyed&&(e?n.hide():n.show()),t.focusableContainer&&t.activateFocusableContainer&&t.activateFocusableContainer(!e),r&&(e?r.onFocusableChildHide.$nullFn||r.onFocusableChildHide(t):r.onFocusableChildShow.$nullFn||r.onFocusableChildShow(t))},updateMargin:function(e){this.element.setMargin(e)},updateRipple:function(e){var t=this,n=t.el;n&&(n.un("touchstart","onRippleStart",t),n.un("touchend","onRippleStart",t),n.destroyAllRipples(),e.release?n.on("touchend","onRippleStart",t):n.on("touchstart","onRippleStart",t))},shouldRipple:function(e){var t=this,n=t.getDisabled&&t.getDisabled(),r=t.el;return(n=!n&&t.getRipple())&&e&&(e=e.getTarget(t.noRippleSelector))&&(r.dom===e||r.contains(e))?null:n},onRippleStart:function(e){var t=this.shouldRipple(e);0===e.button&&t&&this.el.ripple(e,t)},applyStyle:function(e,t){return t&&e===t&&ei.Z.isObject(t)&&(e=ei.Z.apply({},e)),this.element.applyStyles(e),null},updateRenderTo:function(e){this.render(e)},updateTouchAction:function(e){var t,n,r,i;for(t in e)n=this[t],r=e[t],n&&n.isElement?n.setTouchAction(r):i=!0;i&&this.el.setTouchAction(e)},updateUi:function(){this.isConfiguring||this.syncUiCls()},updateWidth:function(e){var t=this.el;t.setWidth(e),t.toggleCls(this.widthedCls,null!=e&&"auto"!==e)},updateHeight:function(e){var t=this.el;t.setHeight(e),t.toggleCls(this.heightedCls,null!=e&&"auto"!==e)},isWidthed:function(){var e=this.getWidth();return null!=e&&"auto"!==e},isHeighted:function(){var e=this.getHeight();return null!=e&&"auto"!==e},up:function(e,t){var n=this.getRefOwner(),r="string"==typeof t,i="number"==typeof t,o=t&&t.isComponent,a=0;if(e)for(;n;n=n.getRefOwner()){if(n.destroyed)return null;if(a++,e.isComponent||e.isWidget){if(n===e)return n}else if(ei.Z.ComponentQuery.is(n,e))return n;if(r&&n.is(t))return;if(i&&a===t)return;if(o&&n===t)return}return n},updateLayout:ei.Z.emptyFn,updateInstanceCls:function(e,t){var n,r,i,o,a,s,l=this,u=l.el,c=l.classClsList,d=ei.Z.Array,f=l.uiReferences;if(t)for(u.removeCls(t),i=0,o=(t=d.from(t)).length;i<o;i++)for(n in a=t[i],d.remove(c,a),f)r=l[n],s=f[n],r.removeCls(a+"-"+s);if(e)for(u.addCls(e),e=d.from(e),l.classClsList=c.concat(e),i=0,o=e.length;i<o;i++)for(n in a=e[i],f)r=l[n],s=f[n],r.addCls(a+"-"+s);l.isConfiguring||l.syncUiCls()},getBaseCls:function(){return this.baseCls},privates:{_hideModes:{clip:"CLIP",display:"DISPLAY",offsets:"OFFSETS",opacity:"OPACITY",visibility:"VISIBILITY"},noRippleSelector:"."+ei.Z.baseCSSPrefix+"no-ripple",addElementReferenceOnDemand:function(e,t){this._elementListeners[e]?this.addElementReference(e,t):ei.Z.Object.defineProperty(this,e,{get:function(){return this.destroyed?null:(delete this[e],this.addElementReference(e,t))},configurable:!0})},addElementReference:function(e,t){var n,r,i=this,o=(t=i[e]=ei.Z.get(t),i._elementListeners[e]);if(t.skipGarbageCollection=!0,t.component=i,o){for(n in o=ei.Z.clone(o))"object"==typeof(r=o[n])&&(r.scope=i);o.scope=i,t.on(o)}return t},detachFromBody:function(){ei.Z.getDetachedBody().appendChild(this.element,!0),this.isDetached=!0},reattachToBody:function(){this.isDetached&&ei.Z.getDetachedBody().contains(this.element)&&ei.Z.getBody().appendChild(this.element,!0),this.isDetached=!1},doAddListener:function(e,t,n,r,i,o,a){var s,l,u,c=r&&r.element,d=r&&r.delegate;if(c){for(u in(s={})[e]=t,n&&(s.scope=n),l=ei.Z.Element.prototype.$eventOptions,r)l[u]&&(s[u]=r[u]);this.mon(this[c],s)}else d?this.mixins.componentDelegation.addDelegatedListener.call(this,e,t,n,r,i,o,a):this.callParent2(this,"GRUI.Evented","null","doAddListener",this.doAddListener,arguments)},doRemoveListener:function(e,t,n){this.mixins.observable.doRemoveListener.call(this,e,t,n),this.mixins.componentDelegation.removeDelegatedListener.call(this,e,t,n)},filterLengthValue:function(e){return e||0===e?e:null},hasHiddenContent:function(){return this.getHidden()},initElementListeners:function(e){var t,n,r,i=this,o=i.self.superclass._elementListeners,a=e.reference,s=e.children,l=i.hasOwnProperty("_elementListeners")?i._elementListeners:i._elementListeners=o?ei.Z.Object.chain(o):{};if(a&&(t=e.listeners)&&(o&&(o=o[a])&&(t=ei.Z.Object.chain(o),ei.Z.apply(t,e.listeners)),l[a]=t,e.listeners=null),s)for(r=0,n=s.length;r<n;r++)i.initElementListeners(s[r])},initId:function(e){var t=this.config;(e=e&&e.id||t&&t.id)?(this.setId(e),this.id=e):this.getId()},measure:function(e){return this.element.measure(e)},processElementConfig:function(){var e,t=this,n=t.self.superclass;return t.hasOwnProperty("_elementConfig")?e=t._elementConfig:(e=t._elementConfig=t.getElementConfig(),n.isWidget&&t.processElementConfig.call(n),t.initElementListeners(e)),e},parseUi:function(e,t){return e=ei.Z.String.splitWords(e),t?e.join(" "):e},addUi:function(e){this.setUi(this.doAddUi(e,this.getUi()))},doAddUi:function(e,t){var n,r,i,o=null;if(e){for(i=(e=this.parseUi(e)).length,t=this.parseUi(t),n=0;n<i;n++)r=e[n],-1===ei.Z.Array.indexOf(t,r)&&t.push(r);o=t.join(" ")}return o},removeUi:function(e){this.setUi(this.doRemoveUi(e,this.getUi()))},doRemoveUi:function(e,t){var n,r,i,o=null;if(e){for(i=(e=this.parseUi(e)).length,t=this.parseUi(t),n=0;n<i;n++)r=e[n],-1!==(r=ei.Z.Array.indexOf(t,r))&&t.splice(r,1);o=t.join(" ")}return o},initUiReference:function(e,t,n){var r,i,o=this,a=o[e],s=o.baseCls,l=o.classClsList,u=[];if((n=!1!==n)&&(o.hasOwnProperty("uiReferences")||(o.uiReferences=ei.Z.clone(o.uiReferences)),o.uiReferences[e]=t),t="-"+t,s&&s!==o.classCls&&u.push(s+t),l)for(r=0,i=l.length;r<i;r++)u.push(l[r]+t);a.addCls(u),n&&!o.isConfiguring&&o.syncUiCls()},syncUiCls:function(e){var t,n,r,i,o,a,s,l,u,c=this,d=c.getUi(),f=c.currentUiCls||(c.currentUiCls={}),h=c.baseCls,p=e||c.uiReferences,g=c.classClsList,m=g?g.length:0;for(r in d&&(n=(d=c.parseUi(d)).length),p)if(t=[],(i=c[r])&&((o=f[r])&&i.removeCls(o),d)){for(a=(a=p[r])?"-"+a:"",l=0;l<n;l++)if(s="-"+d[l]+a,h&&h!==c.classCls&&t.push(h+s),g)for(u=0;u<m;u++)t.push(g[u]+s);i.addCls(t),f[r]=t}},applyHideMode:function(e){return e||"display"},updateHideMode:function(e){var t=this.el,n=this.getHidden();n&&t.show(),this.renderElement.setVisibilityMode(ei.Z.Element[this._hideModes[e]]),n&&t.hide()},updateUserCls:function(e,t){this.element.replaceCls(t,e)}}},(function(e){((e=e.prototype).$elementEventOptions=ei.Z.Object.chain(ei.Z.Element.prototype.$eventOptions)).element=1,(e.$eventOptions=ei.Z.Object.chain(e.$eventOptions)).delegate=1,ei.Z.updateWidget=ei.Z.Factory.widget.update})),ei.Z.define("GRUI.mixin.Traversable",{extend:"GRUI.Mixin",mixinConfig:{id:"traversable"},setParent:function(e){return this.parent=e,this},hasParent:function(){return Boolean(this.getParent())},is:function(){return!0},getParent:function(){return this.parent||this.$initParent},getAncestors:function(){for(var e=[],t=this.getParent();t;)e.push(t),t=t.getParent();return e},getAncestorIds:function(){for(var e=[],t=this.getParent();t;)e.push(t.getId()),t=t.getParent();return e},previousNode:function(e,t){var n,r,i,o,a=this,s=a.getRefOwner();if(t&&a.is(e))return a;if(s){for(r=s.items.items,i=ei.Z.Array.indexOf(r,a)-1;-1<i;i--){if((o=r[i]).query&&(n=(n=o.query(e))[n.length-1]))return n;if(!e||o.is(e))return o}return s.previousNode(e,!0)}return null},previousSibling:function(e){var t,n,r,i=this.getRefOwner();if(i&&-1!==(n=(t=i.items).indexOf(this)))if(e){for(--n;0<=n;n--)if((r=t.getAt(n)).is(e))return r}else if(n)return t.getAt(--n);return null},nextNode:function(e,t){var n,r,i,o,a=this,s=a.getRefOwner();if(t&&a.is(e))return a;if(s){for(n=s.items.items,i=ei.Z.Array.indexOf(n,a)+1,r=n.length;i<r;i++){if(o=n[i],!e||o.is(e))return o;if(o.down&&(o=o.down(e)))return o}return s.nextNode(e)}return null},nextSibling:function(e){var t,n,r,i,o=this.getRefOwner();if(o&&(r=(t=o.items).indexOf(this)+1))if(e){for(n=t.getCount();r<n;r++)if((i=t.getAt(r)).is(e))return i}else if(r<t.getCount())return t.getAt(r);return null}}),ei.Z.define("GRUI.fx.easing.Abstract",{config:{startTime:0,startValue:0},isEasing:!0,isEnded:!1,constructor:function(e){return this.initConfig(e),this},applyStartTime:function(e){return e||ei.Z.Date.now()},updateStartTime:function(e){this.reset()},reset:function(){this.isEnded=!1},getValue:ei.Z.emptyFn}),ei.Z.define("GRUI.fx.easing.Linear",{extend:"GRUI.fx.easing.Abstract",alias:"easing.linear",config:{duration:0,endValue:0},updateStartValue:function(e){this.distance=this.getEndValue()-e},updateEndValue:function(e){this.distance=e-this.getStartValue()},getValue:function(){var e=ei.Z.Date.now()-this.getStartTime(),t=this.getDuration();return t<e?(this.isEnded=!0,this.getEndValue()):this.getStartValue()+e/t*this.distance}}),ei.Z.define("GRUI.util.translatable.Abstract",{extend:"GRUI.Evented",mixins:["GRUI.mixin.Factoryable"],factoryConfig:{type:"translatable",defaultType:"csstransform"},requires:["GRUI.fx.easing.Linear"],config:{easing:null,easingX:{duration:300},easingY:{duration:300},offsetX:0,offsetY:0},x:0,y:0,activeEasingX:null,activeEasingY:null,isAnimating:!1,isTranslatable:!0,constructor:function(e){this.callParent2(this,"GRUI.Evented","null","constructor",this.constructor,arguments),this.position={x:0,y:0}},factoryEasing:function(e){return ei.Z.factory(e,ei.Z.fx.easing.Linear,null,"easing")},applyEasing:function(e){this.getEasingX()||this.setEasingX(this.factoryEasing(e)),this.getEasingY()||this.setEasingY(this.factoryEasing(e))},applyEasingX:function(e){return this.factoryEasing(e)},applyEasingY:function(e){return this.factoryEasing(e)},updateOffsetX:function(){var e=this;e.isConfiguring||e.isAnimating||e.translateXY(e.x,e.y)},updateOffsetY:function(){var e=this;e.isConfiguring||e.isAnimating||e.translateXY(e.x,e.y)},translate:function(e,t,n){var r=this;if(n)return r.translateAnimated(e,t,n);r.isAnimating&&r.stopAnimation(),isNaN(e)||"number"!=typeof e?e=r.x:r.x=e,isNaN(t)||"number"!=typeof t?t=r.y:r.y=t,r.translateXY(e,t)},translateXY:function(e,t){var n=this;n.destroyed||(n.doTranslate(e+n.getOffsetX(),t+n.getOffsetY()),n.hasListeners.translate&&n.fireEvent("translate",n,e,t))},translateAxis:function(e,t,n){var r,i;return"x"===e?r=t:i=t,this.translate(r,i,n)},getPosition:function(){var e=this,t=e.position;return t.x=-e.x,t.y=-e.y,t},animate:function(e,t){var n=this;return n.activeEasingX=e,n.activeEasingY=t,n.isAnimating=!0,n.ownerCmp&&(n.ownerCmp.isTranslating=!0),n.lastX=null,n.lastY=null,ei.Z.AnimationQueue.start(n.doAnimationFrame,n),n.fireEvent("animationstart",n,n.x,n.y),n},translateAnimated:function(e,t,n){var r,i,o,a=this;return ei.Z.isObject(n)||(n={}),a.isAnimating&&a.stopAnimation(),a.callback=n.callback,a.callbackScope=n.scope,r=ei.Z.Date.now(),o=n.easing,i="number"==typeof e?n.easingX||o||a.getEasingX()||!0:null,o="number"==typeof t?n.easingY||o||a.getEasingY()||!0:null,i&&((i=a.factoryEasing(i)).setStartTime(r),i.setStartValue(a.x),i.setEndValue(e),"duration"in n&&i.setDuration(n.duration)),o&&((o=a.factoryEasing(o)).setStartTime(r),o.setStartValue(a.y),o.setEndValue(t),"duration"in n&&o.setDuration(n.duration)),a.animate(i,o)},doAnimationFrame:function(){var e,t,n=this,r=n.activeEasingX,i=n.activeEasingY,o=Date.now();n.isAnimating&&(n.lastRun=o,null===r&&null===i?n.stopAnimation():(null!==r?(n.x=e=Math.round(r.getValue()),r.isEnded&&(n.activeEasingX=null,n.fireEvent("axisanimationend",n,"x",e))):e=n.x,null!==i?(n.y=t=Math.round(i.getValue()),i.isEnded&&(n.activeEasingY=null,n.fireEvent("axisanimationend",n,"y",t))):t=n.y,n.lastX===e&&n.lastY===t||(n.translateXY(e,t),n.lastX=e,n.lastY=t),n.fireEvent("animationframe",n,e,t)))},stopAnimation:function(){var e=this;e.isAnimating&&(e.activeEasingX=null,e.activeEasingY=null,e.isAnimating=!1,e.ownerCmp&&(e.ownerCmp.isTranslating=!1),ei.Z.AnimationQueue.stop(e.doAnimationFrame,e),e.fireEvent("animationend",e,e.x,e.y),e.callback&&(e.callback.call(e.callbackScope),e.callback=null))},refresh:function(){this.translate(this.x,this.y)},resolveListenerScope:function(){var e=this.ownerCmp;return e?e.resolveListenerScope.apply(e,arguments):this.callParent2(this,"GRUI.Evented","null","resolveListenerScope",this.resolveListenerScope,arguments)},destroy:function(){var e=this;e.destroying=!0,e.isAnimating&&e.stopAnimation(),this.callParent2(this,"GRUI.Evented","null","destroy",this.destroy,arguments),e.destroyed=!0}}),ei.Z.define("GRUI.overrides.Widget",{override:"GRUI.Widget",mixins:["GRUI.mixin.Traversable"],requires:["GRUI.util.translatable.Abstract"],statics:{floatInset:8,onModalMaskTap:function(e){var t=this.topModal;t&&t.onModalMaskTap&&t.onModalMaskTap(e)&&(this.topModal=null)},range:document.createRange()},config:{flex:{evented:!0,$value:null},itemId:void 0,floated:null,relative:null,x:null,y:null,shadow:null,shim:null,alwaysOnTop:null,toFrontOnShow:!0,translatable:{lazy:!0,$value:null},constrainAlign:null,alignSelf:null},inheritUi:!1,floatedCls:ei.Z.baseCSSPrefix+"floated",floatedSelector:"."+ei.Z.baseCSSPrefix+"floated",shadowCls:ei.Z.baseCSSPrefix+"shadow",noShadowCls:ei.Z.baseCSSPrefix+"no-shadow",floatWrapCls:ei.Z.baseCSSPrefix+"float-wrap",shimCls:ei.Z.baseCSSPrefix+"shim",rootCls:ei.Z.baseCSSPrefix+"root",isInner:!0,clearPropertiesOnDestroy:"async",beforeHide:ei.Z.emptyFn,afterHide:function(){var e=this,t=e.getParent();t&&t.afterItemHide&&t.afterItemHide(e),e.getFloated()&&e.syncShim()},beforeShow:ei.Z.emptyFn,afterShow:function(){var e=this.getParent();e&&e.afterItemShow&&e.afterItemShow(this)},applyItemId:function(e){return e||this.getId()},doDestroy:function(){var e=this,t=e.getParent(),n=e.floatWrap;t&&t.remove&&t.remove(e,!1),e.setShim(!1),ei.Z.destroy(e.getTranslatable()),n&&(e.un("resize","syncFloatWrap",e),n.destroy(),e.floatWrap=null),e.removeBindings(),this.callParent2(this,"null","GRUI.Widget","doDestroy",this.doDestroy,arguments)},isInnerItem:function(){return this.isInner},isCentered:function(){return!1},isDocked:function(){return Boolean(this.getDocked())},isPositioned:function(){return!1},getDocked:function(){return this._docked},isHidden:function(e){var t,n=this;return n.isConfiguring?(t=n.getConfig("hidden",!0),n.getConfig("floated",!0)?!1!==t:!!t):this.callParent2(this,"null","GRUI.Widget","isHidden",this.isHidden,arguments)},onAdded:function(e,t){var n=this,r=n.parent;r&&r!==e&&r.remove(n,!1),n.parent=e,n.onInheritedAdd(e,t),n.isDetached=!1,n.getFloated()&&n.findFloatParent(),n.inheritUi&&n.doInheritUi()},onRemoved:function(e){var t=this;t.inheritUi&&!e&&t.doUninheritUi(),t.onInheritedRemove(e),t.parent=null},setIsInner:function(e){var t;e!==this.isInner&&(this.isInner=e,(t=this.initialized&&this.getParent())&&t.onItemInnerStateChange(this,e))},refreshInnerState:function(){this.setIsInner(!(this.getFloated()||this.isCentered()||this.isPositioned()||this.isDocked()))},toFront:function(e){var t=this,n=t.getFloatParent();return t.hasListeners.beforetofront&&!1===t.fireEvent("beforetofront",t)||(t.syncAlwaysOnTop(e),n&&n.getFloated()&&n.toFront(e),t.hasListeners.tofront&&t.fireEvent("tofront",t)),t},applyTranslatable:function(e,t){return ei.Z.Factory.translatable.update(t,e,this,"createTranslatable")},createTranslatable:function(e){var t=this,n=e.listeners;return e=ei.Z.apply({type:"cssposition",ownerCmp:t,element:t.renderElement},e),n&&"this"===n.scope&&(e.listeners=n=ei.Z.apply({},n),n.scope=t),e},ensureTranslatable:function(){var e=this,t=e.getTranslatable();return t||(e.setTranslatable(!0),t=e.getTranslatable()),t},translate:function(){var e=this.ensureTranslatable();e.translate.apply(e,arguments)},getAlignmentInfo:function(e,t){var n=this,r=(e=e.isRegion?e:(e.isWidget?e.renderElement:ei.Z.fly(e)).getBox(),n.renderElement.getBox()),i=(t={alignToBox:e,alignment:t,top:e.top,left:e.left,alignToWidth:e.width||0,alignToHeight:e.height||0,width:r.width,height:r.height,anchor:!(!n.getAnchor||!n.getAnchor())},n.getCurrentAlignmentInfo()),o=!0;return ei.Z.isEmpty(i)?o=!1:ei.Z.Object.each(t,(function(e,t){return!(!ei.Z.isObject(t)&&i[e]!==t)||(o=!1)})),{isAligned:o,stats:t}},getCurrentAlignmentInfo:function(){return this.$currentAlignmentInfo},setCurrentAlignmentInfo:function(e){this.$currentAlignmentInfo=ei.Z.isEmpty(e)?null:ei.Z.merge({},e.stats||e)},alignTo:function(e,t,n){var r,i=this,o=i.getAlignmentInfo(e,t),a=i.initialConfig,s=(l=!i.getFloated())?i.setLeft:i.setX,l=l?i.setTop:i.setY;o.isAligned||("unconstrainedWidth"in i&&i.setWidth(i.unconstrainedWidth),"unconstrainedHeight"in i&&i.setHeight(i.unconstrainedHeight),r=i.getAlignRegion(e,t,n),s.call(i,r.x),l.call(i,r.y),r.constrainWidth&&(i.unconstrainedWidth=a.width||i.self.prototype.width,s=i.el.getHeight(),i.setWidth(o.stats.width=r.getWidth()),0===r.align.position&&l.call(i,r.y+(s-i.el.getHeight()))),r.constrainHeight&&(i.unconstrainedHeight=a.height||i.self.prototype.height,i.setHeight(o.stats.height=r.getHeight())),i.alignToArgs=[e,t,n],i.setCurrentAlignmentInfo(o))},realign:function(e,t,n){var r=this.alignToArgs;this.isVisible()&&this.alignTo.call(this,e||r[0],t||r[1],n||r[2])},getAlignRegion:function(e,t,n){var r,i,o,a,s,l=this,u=l.getAlignmentInfo(e,t);if(!u.isAligned)return i=u.stats.alignToBox,o=l.getConstrainAlignRegion(),a=u.stats.height,s=u.stats.width,"!"===(a=(t=!o||t&&"auto"!==t?t:o.bottom-i.bottom<a?i.top-o.top<a?i.left-o.left<s?"l-r?":"r-l?":"b-t?":"t-b?")[t.length-1])?(r=e.isRegion?e:(e.isWidget?e.renderElement:ei.Z.fly(e)).getBox(),t=t.substr(0,t.length-1)):(r=o,"?"===a&&(t=t.substr(0,t.length-1))),l.el.getRegion().alignTo(ei.Z.apply({target:ei.Z.util.Region.from(u.stats.alignToBox),align:t,inside:r,minWidth:l.getMinWidth&&l.getMinWidth(),minHeight:l.getMinHeight&&l.getMinHeight()},n))},afterRender:ei.Z.emptyFn,onRender:ei.Z.emptyFn,applyFloated:function(e){return Boolean(e)},updateFloated:function(e,t){var n=this,r=n.floatWrap;e?(n.refreshInnerState=ei.Z.emptyFn,n.isPositioned()&&n.resetPositioned(),n.isDocked()&&n.setDocked(!1),delete n.refreshInnerState):r&&(r.dom.removeChild(n.el.dom),n.un("resize","syncFloatWrap",n),r.destroy(),n.floatWrap=null,n.setRendered(!1)),n.refreshInnerState(),n.el.toggleCls(n.floatedCls,e),n.hasOwnProperty("_modal")&&((r=n.getModal&&n.getModal())&&(n.setModal(!1),e?(ei.Z.destroy(r),n.isVisible()&&n.showModalMask()):(r=n.getModalSibling())?r.showModalMask():n.hideModalMask(),n.setModal(!0)),n.getHideOnMaskTap&&n.getHideOnMaskTap()&&(n.setHideOnMaskTap(!1),n.setHideOnMaskTap(!0))),n.syncFloatedState(e,t,n.rendered&&!1===t)},applyUi:function(e){var t=this._inheritedUi;return e=this.callParent2(this,"null","GRUI.Widget","applyUi",this.applyUi,arguments),t?this.doAddUi(t,e):e},updateUi:function(e,t){var n,r,i,o;if(this.callParent2(this,"null","GRUI.Widget","updateUi",this.updateUi,arguments),this.$inheritUiCount&&!this.destroying)for(i=0,o=(r=this.getRefItems()).length;i<o;i++)(n=r[i]).inheritUi&&(n.doUninheritUi(),n.doInheritUi())},updateHidden:function(e,t){var n=ei.Z.GlobalEvents,r=e?"hide":"show";this.callParent2(this,"null","GRUI.Widget","updateHidden",this.updateHidden,arguments),!this.isConfiguring&&n.hasListeners[r]&&n.fireEvent(r,this)},updateAlignSelf:function(e){this.el.setStyle({"align-self":e})},privates:{setRendered:function(e,t){var n,r,i,o,a,s=this;if(!e&&s.rendered&&s.getFloated()&&s.floatWrap.dom.parentNode.removeChild(s.floatWrap.dom),s.rendered=e,!s.destroying&&!s.destroyed){for(e&&s.onRender&&(s.initBindable(),s.initKeyMap(),s.onRender.$nullFn||s.onRender(),s.onRender=null,s.afterRender.$nullFn||(ei.Z._afterRenderQueue||(ei.Z._afterRenderQueue=[])).push(s)),o=(i=s.getRefItems&&s.getRefItems())&&i.length,a=0;a<o;a++)(r=i[a]).setRendered&&s.setChildRendered(e,r);if(s.focusableContainer&&s.initFocusableContainer&&s.initFocusableContainer(),t&&(n=ei.Z._afterRenderQueue))for(;n.length;)(r=n.pop()).destroyed||r.afterRender()}},setChildRendered:function(e,t){e&&t.getFloated()||t.setRendered(e)},hideFromModal:function(){this.hide()},owns:function(e){var t=!1;return e.isEvent?e=e.target:e.isElement&&(e=e.dom),(e=ei.Z.Component.from(e))?e===this||!!e.up(this):t},doInheritUi:function(){var e,t,n=this;n.inheritUi&&(n._ownUi=n.getUi(),(t=(e=n.getRefOwner()).getUi())&&(n.addUi(t),n._inheritedUi=t),e.$inheritUiCount=(e.$inheritUiCount||0)+1)},doUninheritUi:function(){var e,t,n=this;n.inheritUi&&(t=n.getRefOwner(),e=n._ownUi,n._ownUi=null,n._inheritedUi=null,n.setUi(e||null),t.$inheritUiCount&&--t.$inheritUiCount)},getBubbleTarget:function(){return this.getParent()},getConstrainAlignRegion:function(){var e,t,n=this,r=n.getFloated(),i=n.getConstrainAlign();if(!1!==i)return"string"==typeof i&&(i=t=n.up(i)),n.floatParentNode.destroyed&&!n.destroyed&&n.findFloatParent(),(t=i?t:r?n.floatParentNode.getData().component:n.getParent())?e=t.getFloated()&&!t.getRelative()?(i=ei.Z.getBody(),!0):(i=t.getRenderTarget?t.getRenderTarget():t.bodyElement||t.element,t.isViewport):i=i||(r?(e=!0,ei.Z.getBody()):n.element.parent()),i.isRegion||(i=ei.Z.fly(i).getConstrainRegion(),e&&(t=Math.round(ei.Z.Widget.floatInset),i.adjust(t,-t,-t,t))),i},getFloatParent:function(){var e=this.floatParentNode.getData().component;return e&&e.getFloated()?e:null},syncFloatedState:function(e,t,n){var r=this,i=r.isHidden();e?n?(r.isCentered()?(r.getWidth(),r.getHeight(),r.center()):r.syncXYPosition(),i||r.showModalMask()):i?r.setHidden(!0):r.findFloatParent():r.translate(0,0,0)},findFloatParent:function(e){for(var t=this.getRefOwner();t&&!t.getFloated();)t=t.getRefOwner();this.floatParentNode=t?t.getFloatWrap():ei.Z.getFloatRoot(),this.insertFloatedDom(e)},getFloatWrap:function(){var e=this,t=e.floatWrap;return t||(e.floatWrap=t=ei.Z.get(ei.Z.DomHelper.createDom({cls:e.floatWrapCls,id:e.id+"-floatWrap","data-componentId":e.id})),e.on("resize","syncFloatWrap",e),!(t.getData().component=e).isContainer||e.isWidthed()&&e.isHeighted()||e.setAutoSize(!0),t.dom.appendChild(e.element.dom),t.getData().alwaysOnTop=e.element.getData().alwaysOnTop,e.syncFloatWrap()),t},syncFloatWrap:function(){var e=this.floatWrap,t=this.el.getSize();(this.getRelative()||(e=e.getData().modalMask))&&e.setSize(t)},insertFloatedDom:function(e){var t=this,n=t.getFloatWrap(),r=t.floatParentNode;n.dom.parentNode!==r.dom&&(r.dom.appendChild(t.getFloatWrap().dom),e&&(t.setVisibility(!0),t._hidden=!1),t.setRendered(!0,!0),t.syncXYPosition())},applyShim:function(e){return e?ei.Z.getBody().createChild(ei.Z.apply({cls:this.shimCls},e)):(ei.Z.destroy(this.shim),null)},updateShim:function(e,t){var n=this;e?(n.syncShim(),t||n.on("resize","syncShim",n)):t&&n.un("resize","syncShim",n)},hideModalMask:function(){var e,t=ei.Z.getFloatRoot(),n=this.floatParentNode;n&&(e=n.getData(),(n=(e=n===t||e.component.getRelative()?e:t.getData()).modalMask)&&n.dom.parentNode&&(n=n.dom,ei.Z.getDetachedBody().appendChild(n))),ei.Z.Viewport&&ei.Z.Viewport.enableTabbing()},showModalMask:function(){var e,t=this,n=ei.Z.Widget,r=ei.Z.getFloatRoot(),i=t.getFloatWrap(),o=t.getParent(),a=t.floatParentNode,s=a.getData();t.getFloated()&&t.getModal&&t.getModal()&&((e=(s=a===r||s.component.getRelative()?s:r.getData()).modalMask)?i.dom.parentElement===a.dom?a.dom.insertBefore(e.dom,i.dom):a.dom.appendChild(e.dom):((e=s.modalMask=a.createChild({cls:"grui-mask"},i)).on({tap:n.onModalMaskTap,scope:n}),ei.Z.isiOS&&a===r&&e.on({touchmove:function(e){e.preventDefault()}})),n.topModal=t,o&&o.getFloated()&&!o.getRelative()&&o.syncXYPosition(),ei.Z.Viewport&&ei.Z.Viewport.disableTabbing())},syncShim:function(){var e=this,t=e.getShim();t&&(e.isVisible(!0)?(t.show(),e.getFloatWrap().dom.insertBefore(t.dom,e.el.dom),t.setSize(e.getSize())):t.hide())},updateAlwaysOnTop:function(e){var t=this;t.getFloatWrap().getData().alwaysOnTop=Number(e),t.floatParentNode||t.findFloatParent(),t.isConfiguring||t.syncAlwaysOnTop()},syncAlwaysOnTop:function(e){var t,n,r,i,o=this,a=o.getFloatWrap().dom,s=o.floatParentNode,l=s.dom.childNodes,u=l.length,c=Number(o.getAlwaysOnTop()),d=o.statics().range,f=ei.Z.Mask.prototype.baseCls,h=s===ei.Z.floatRoot?0:1,p=o.getModal&&o.getModal()&&a.previousSibling&&ei.Z.fly(a.previousSibling).hasCls(f);if(a.nextSibling){for(t=u-1;h<=t;t--)if(!(n=ei.Z.fly(l[t])).hasCls(o.shimCls)&&!n.hasCls(f)&&l[t]!==a&&c>=(ei.Z.get(l[t]).getData().alwaysOnTop||0)){r=l[t].nextSibling;break}if(r===a)return;t<h&&(r=l[0]),o.containsFocus||e?(d.setStartAfter(a),d.setEndAfter(r||l[u-1]),s.dom.insertBefore(d.extractContents(),a)):s.dom.insertBefore(a,r)}else if(a.previousSibling)for(t=u-2;h<=t;t--)ei.Z.fly(l[t]).is("."+o.shimCls)||l[t]===a||c<(i=ei.Z.get(l[t]).getData().alwaysOnTop)&&(r=l[t],s.dom.insertBefore(r,null),l[t-1]&&ei.Z.fly(l[t-1]).hasCls(f)&&(s.dom.insertBefore(l[t-1],r),--t),c=i);if(p&&o.showModalMask(),o.syncShim(),!r||ei.Z.fly(r).hasCls(f))return!0;ei.Z.Component.from(r).syncShim()},updateRelative:function(){this.syncXYPosition()},updateShadow:function(e){this.el.toggleCls(this.shadowCls,e),this.el.toggleCls(this.noShadowCls,!1===e)},updateX:function(){this.$updatingXY||this.syncXYPosition()},updateY:function(){this.$updatingXY||this.syncXYPosition()},syncXYPosition:function(e){var t,n=this,r=n.getFloatWrap(),i=e,o=n.getX()||0,a=n.getY()||0;n.getRelative()?(r.translate(o,a,e),r.setWidth(n.el.getWidth()),r.setHeight(n.el.getHeight()),n.translate(0,0),(t=r.getData().modalMask)&&t.translate(0,0)):(n.translate(o,a,e),(t=r.getData().modalMask)&&(i&&delete(i=ei.Z.apply({},i)).callback,t.translate(o,a,i))),n.syncShim()}}},(function(e){this.borrow(ei.Z.util.Positionable,["clipTo","clearClip"]),e.createAlias({prev:"previousSibling",next:"nextSibling"}),ei.Z.getFloatRoot=function(){var t=ei.Z.floatRoot,n=e.prototype,r=e.range;return t?t.el.dom.nextSibling&&(t.el.contains(document.activeElement)?(r.setStartBefore(t.el.dom.nextSibling),r.setEndAfter(t.el.dom.parentNode.lastChild),t.el.dom.parentNode.insertBefore(r.extractContents(),t.el.dom)):t.el.dom.parentNode.appendChild(t.dom)):(t=ei.Z.getBody().createChild({cls:n.floatWrapCls+" "+n.rootCls,id:"ext-global-floatWrap","data-sticky":!0}),ei.Z.floatRoot=t),t}})),ei.Z.define("GRUI.util.Bag",{isBag:!0,constructor:function(){this.items=[],this.map={}},generation:0,length:0,beginUpdate:ei.Z.emptyFn,endUpdate:ei.Z.emptyFn,add:function(e){var t,n,r,i,o,a,s=this,l=s.items,u=s.map,c=1;for(ei.Z.isArray(e)&&(t=o=[],c=e.length),n=0;n<c;n++)void 0===(r=u[a=s.getKey(i=t?e[n]:e)])?(l.push(i),u[a]=s.length++,t?t.push(i):o=i):(a=l[r],t?t.push(a):o=a,l[r]=i);return++s.generation,o},clear:function(){var e=this,t=e.generation||e.length,n=t?e.items:[];return t&&(e.items=[],e.length=0,e.map={},++e.generation),n},clone:function(){var e=this,t=new e.self;return e.length&&(ei.Z.apply(t.map,e.map),t.items=e.items.slice(),t.length=e.length),t},contains:function(e){var t,n=!1,r=this.map;return null!=e&&(t=this.getKey(e))in r?this.items[r[t]]===e:n},containsKey:function(e){return e in this.map},destroy:function(){this.items=this.map=null,this.callParent2(this,"null","null","destroy",this.destroy,arguments)},each:function(e,t){var n,r,i=this.items,o=i.length;if(o)for(t=t||this,i=i.slice(0),n=0;n<o&&!1!==(r=e.call(t,i[n],n,o));n++);return r},getAt:function(e){var t=null;return e<this.length?this.items[e]:t},get:function(e){return this.getByKey(e)},getByKey:function(e){var t=this.map;return e in t?this.items[t[e]]:null},indexOfKey:function(e){var t=this.map;return e in t?t[e]:-1},last:function(){return this.items[this.length-1]},updateKey:function(e,t){var n,r=this,i=r.map;e&&t&&((n=r.getKey(e))===t||r.getAt(i[t])!==e||n in i||(r.generation++,i[n]=i[t],delete i[t]))},getCount:function(){return this.length},getKey:function(e){return e.id||e.getId()},getRange:function(e,t){var n=this.items,r=n.length,i=r?(i=ei.Z.Number.clipIndices(r,[e,t]),n.slice(i[0],i[1])):[];return i},remove:function(e){var t,n,r,i,o,a=this,s=a.map,l=a.items,u=null,c=1;if(ei.Z.isArray(e)&&(c=e.length,n=u=[]),a.length){for(r=0;r<c;r++)void 0!==(i=s[o=a.getKey(n?e[r]:e)])&&(delete s[o],o=l[i],n?n.push(o):u=o,o=l.pop(),i<--a.length&&(l[i]=o,s[a.getKey(o)]=i),t=!0);t&&++a.generation}return u},removeByKey:function(e){return(e=this.getByKey(e))&&this.remove(e),e||null},replace:function(e){return this.add(e),e},sort:function(e){var t,n=this,r=n.items,i=r.length;if(i){for(ei.Z.Array.sort(r,e),n.map={};0<i--;)t=r[i],n.map[n.getKey(t)]=i;++n.generation}}}),ei.Z.define("GRUI.state.Provider",(function(e){return{mixins:["GRUI.mixin.Bufferable"],requires:["GRUI.util.Bag","GRUI.GlobalEvents"],statics:{get:function(){return e._default},register:function(t){var n=e._default;n!==t&&((e._default=t)&&(t.global=!0),n&&(n.global=!1),ei.Z.hasListeners.stateproviderchange&&ei.Z.fireEvent("stateproviderchange",t,n))}},bufferableMethods:{saveState:50},constructor:function(e){this.queue=new ei.Z.util.Bag,this.state={},this.initConfig(e)},clear:function(){var e=this;e.cancelSaveState(),e.queue.clear(),e.state={}},get:function(e,t){return void 0===(e=this.state[e])?t:e},remove:function(e){return this.set(e,null)},set:function(e,t){var n=this.state,r=e;for(e in"string"==typeof e&&((r={})[e]=t),r)null==(t=r[e])?(delete n[e],t=null):n[e]=t},decodeValue:function(e){return ei.Z.decode(e)},encodeValue:function(e){return ei.Z.encode(e)},privates:{doSave:function(e){e.$saveStatePending=!1,e.persistState()},doSaveState:function(){var e=this,t=e.queue;t.each(e.doSave,e),t.clear()},save:function(e){e.$saveStatePending=!0,this.queue.add(e),this.saveState()}}}}),(function(e){e.register(new e)})),ei.Z.define("GRUI.state.Stateful",(function(e){return{extend:"GRUI.Mixin",requires:["GRUI.state.Provider"],mixinConfig:{id:"state",configs:!0,before:{destroy:"_flushStateful"},mixed:function(e){e.addConfigTransform("transformStatefulConfig",20)}},isStateful:!0,config:{stateful:{$value:null,merge:function(e,t){return!0===e?t||e:!!e&&this.mergeSets(e,t)}},statefulDefaults:{$value:null,cached:!0,merge:function(e,t){return this.mergeSets(e,t)}},stateId:null},getStatefulOwner:ei.Z.emptyFn,loadState:function(e,t){var n,r,i=t&&e.data;if(i=i&&i.$)for(n in t)t[n]&&n in i&&((r=r||{})[n]=i[n]);return r},saveState:function(e,t){if(t)for(var n in t)e.save(this,n)},applyStateful:function(e,t){var n,r,i=this,o=!1,a="onStatefulChange",s=(e||t)&&i.getConfigWatcher(),l=i.isConfiguring;if(e){for(n in!0===e?(o={},l=!0):"string"==typeof e?(o={})[e]=!0:o=ei.Z.isObject(e)?e:ei.Z.Array.toMap(e),t=t||{},o=(l=l&&i.getStatefulDefaults())?ei.Z.merge({},l,o):o)!(r=o[n])!=!t[n]&&(s[r?"on":"un"](n,a,i),r?t[n]=!0:delete t[n]);o=!ei.Z.Object.isEmpty(t)&&t}else if(t)for(n in t)s.un(n,a,i);return o},privates:{statics:{_configNames:["stateful","stateId"]},_flushStateful:function(){var e;this.$saveStatePending&&(e=ei.Z.state.Provider.get())&&e.isSaveStatePending&&e.flushSaveState()},getStateBuilder:function(e){var t,n,r,i=this,o=i._getStateId(),a=e&&i.$state||null,s=o&&ei.Z.state.Provider.get();if(s&&!a){if(r=i.getStatefulOwner()){if((n=r).isStateful||(n=r[0],t=1),a=n.getStateBuilder(e)){for(;t&&t<r.length;++t)a=a.child(r[t]);a=a.child(o)}}else a=new ei.Z.state.Builder,e&&(a.data=s.get(o));a&&(a.owner=i,a.id=o),i.$state=e?a:null}return a},_getStateId:function(){var e=this,t=e.getStateId();return e._getStateId=e.getStateId,t||(t=e.id||e.getId(),e.autoGenId?t=null:e.setStateId(t)),t},onStatefulChange:function(){var e=this;!e.destroying&&e._getStateId()&&ei.Z.state.Provider.get().save(e)},persistState:function(){var e,t,n,r=this,i=r.getStateBuilder();i&&(t=ei.Z.state.Provider.get(),e=(n=i.root).id,i.parent&&(n.data=t.get(e),i.clear()),r.saveState(i,r.getStateful()),t.set(e,n.data))},readStateObject:function(){var e,t=this,n=t.getStateBuilder(!0);return n&&(n.getData(),e=t.loadState(n,t.getStateful())),e||null},transformStatefulConfig:function(t,n){var r,i,o,a,s=this,l=t;if(n.hoistConfigs(s,t,e._configNames)){if(o=s.readStateObject()){for(i in a=s.getStateful(),r={},o)a[i]?r[i]=!0:delete o[i];o=ei.Z.Object.isEmpty(o)?null:o,s.$statefulConfigs=o&&r}delete(l=o?n.merge(s,l,o,!0):ei.Z.apply({},l)).stateful,delete l.stateId}return l}}}})),ei.Z.define("GRUI.util.Format",(function(){var e,t,n,r;return{requires:["GRUI.Error","GRUI.Number","GRUI.String","GRUI.Date"],singleton:!0,defaultDateFormat:"m/d/Y",thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",currencySpacer:"",percentSign:"%",currencyAtEnd:!1,stripTagsRe:/<\/?[^>]+>/gi,stripScriptsRe:/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,nl2brRe:/\r?\n/g,hashRe:/#+$/,allHashes:/^#+$/,formatPattern:/[\d,.#]+/,formatCleanRe:/[^\d.#]/g,I18NFormatCleanRe:null,formatFns:{},constructor:function(){e=this},nbsp:function(e,t){return((t=!1!==t)?""!==e&&null!=e:e)?e:"\xa0"},undef:function(e){return void 0!==e?e:""},defaultValue:function(e,t){return void 0!==e&&""!==e?e:t},substr:function(e,t,n){return String(e).substr(t,n)},lowercase:function(e){return String(e).toLowerCase()},uppercase:function(e){return String(e).toUpperCase()},usMoney:function(t){return e.currency(t,"$",2)},currency:function(t,n,r,i,o){var a="",s=",0",l=0;for((t=+t)<0&&(t=-t,a="-"),s+=0<(r=ei.Z.isDefined(r)?r:e.currencyPrecision)?".":"";l<r;l++)s+="0";return t=e.number(t,s),null==o&&(o=e.currencySpacer),!0===(i||e.currencyAtEnd)?ei.Z.String.format("{0}{1}{2}{3}",a,t,o,n||e.currencySign):ei.Z.String.format("{0}{1}{2}{3}",a,n||e.currencySign,o,t)},date:function(e,t){return e?(ei.Z.isDate(e)||(e=new Date(Date.parse(e))),ei.Z.Date.dateFormat(e,t||ei.Z.Date.defaultFormat)):""},dateRenderer:function(t){return function(n){return e.date(n,t)}},hex:function(e,t){var n=parseInt(e||0,10).toString(16);if(t)for(t<0&&n.length>(t=-t)&&(n=n.substring(n.length-t));n.length<t;)n="0"+n;return n},or:function(e,t){return e||t},pick:function(e,t,n){var r;return ei.Z.isNumber(e)&&(r=arguments[e+1])?r:e?n:t},lessThanElse:function(e,t,n,r,i){e=ei.Z.Number.from(e,0),t=ei.Z.Number.from(t,0);var o=!ei.Z.isDefined(i);return e<t?n:t<e||o?r:i},sign:function(t,n,r,i){return e.lessThanElse(t,0,n,r,i=void 0===i?r:i)},stripTags:function(t){return t&&String(t).replace(e.stripTagsRe,"")},stripScripts:function(t){return t&&String(t).replace(e.stripScriptsRe,"")},fileSize:(n=1048576,r=1073741824,function(e){return e=e<1024?1===e?"1 byte":e+" bytes":e<n?Math.round(10*e/1024)/10+" KB":e<r?Math.round(10*e/n)/10+" MB":Math.round(10*e/r)/10+" GB"}),math:(t={},function(e,n){return t[n]||(t[n]=ei.Z.functionFactory("v","return v "+n+";")),t[n](e)}),round:function(e,t){var n=Number(e);return"number"==typeof t?(t=Math.pow(10,t),n=Math.round(e*t)/t):void 0===t&&(n=Math.round(n)),n},number:function(t,n){var r,i,o,a,s,l,u,c;return n?isNaN(t)?"":((r=e.formatFns[n])||(i=n,u=e.thousandSeparator,c=e.decimalSeparator,o=0,a="",u="/i"===n.substr(n.length-2)?(e.I18NFormatCleanRe&&e.lastDecimalSeparator===c||(e.I18NFormatCleanRe=new RegExp("[^\\d\\"+c+"#]","g"),e.lastDecimalSeparator=c),s=-1!==(n=n.substr(0,n.length-2)).indexOf(u),n.replace(e.I18NFormatCleanRe,"").split(c)):(s=-1!==n.indexOf(","),n.replace(e.formatCleanRe,"").split(".")),c=n.replace(e.formatPattern,""),2<u.length||2===u.length&&(o=u[1].length,(l=u[1].match(e.hashRe))&&(a='trailingZeroes=new RegExp(GRUI.String.escapeRegex(utilFormat.decimalSeparator) + "*0{0,'+l[0].length+'}$")')),u=["var utilFormat=GRUI.util.Format,extNumber=GRUI.Number,neg,absVal,fnum,parts"+(s?",thousandSeparator,thousands=[],j,n,i":"")+(c?',formatString="'+n+'",formatPattern=/[\\d,\\.#]+/':"")+',trailingZeroes;return function(v){if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";neg=v<0;',"absVal=Math.abs(v);","fnum=GRUI.Number.toFixed(absVal, "+o+");",a,";"],s?(o&&(u[u.length]='parts=fnum.split(".");',u[u.length]="fnum=parts[0];"),u[u.length]="if(absVal>=1000) {",u[u.length]="thousandSeparator=utilFormat.thousandSeparator;thousands.length=0;j=fnum.length;n=fnum.length%3||3;for(i=0;i<j;i+=n){if(i!==0){n=3;}thousands[thousands.length]=fnum.substr(i,n);}fnum=thousands.join(thousandSeparator);}",o&&(u[u.length]="fnum += utilFormat.decimalSeparator+parts[1];")):o&&(u[u.length]='if(utilFormat.decimalSeparator!=="."){parts=fnum.split(".");fnum=parts[0]+utilFormat.decimalSeparator+parts[1];}'),u[u.length]='if(neg&&fnum!=="'+(o?"0."+ei.Z.String.repeat("0",o):"0")+'") { fnum="-"+fnum; }',l&&(u[u.length]='if(fnum.indexOf("e+") === -1)fnum=fnum.replace(trailingZeroes,"");'),u[u.length]="return ",u[u.length]=c?"formatString.replace(formatPattern, fnum);":"fnum;",u[u.length]="};",r=e.formatFns[i]=ei.Z.functionFactory("GRUI",u.join(""))(ei.Z)),r(t)):t},numberRenderer:function(t){return function(n){return e.number(n,t)}},percent:function(t,n){return e.number(100*t,n||"0")+e.percentSign},repeat:function(e,t,n){return ei.Z.String.repeat(t,e,n)},attributes:function(e){var t,n;if("object"==typeof e){for(n in t=[],e)e.hasOwnProperty(n)&&t.push(n,'="',"style"===n?ei.Z.DomHelper.generateStyles(e[n],null,!0):ei.Z.htmlEncode(e[n]),'" ');e=t.join("")}return e||""},plural:function(e,t,n){return e+" "+(1===e?t:n||t+"s")},nl2br:function(t){return ei.Z.isEmpty(t)?"":t.replace(e.nl2brRe,"<br/>")},capitalize:ei.Z.String.capitalize,uncapitalize:ei.Z.String.uncapitalize,ellipsis:ei.Z.String.ellipsis,escape:ei.Z.String.escape,escapeRegex:ei.Z.String.escapeRegex,htmlDecode:ei.Z.String.htmlDecode,htmlEncode:ei.Z.String.htmlEncode,leftPad:ei.Z.String.leftPad,toggle:ei.Z.String.toggle,trim:ei.Z.String.trim,parseBox:function(e){if("number"==typeof(e=e||0))return{top:e,right:e,bottom:e,left:e};var t=(e=e.split(" ")).length;return 1===t?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],10)||0,right:parseInt(e[1],10)||0,bottom:parseInt(e[2],10)||0,left:parseInt(e[3],10)||0}},resource:function(e,t){return ei.Z.resolveResource((t=t||"")+e)},uri:function(e){return encodeURI(e)},uriCmp:function(e){return encodeURIComponent(e)},wordBreakRe:/[\W\s]+/,word:function(t,n,r){return r=r?"string"==typeof r?new RegExp(r):r:e.wordBreakRe,(t||"").split(r)[n||0]||""}}})),ei.Z.define("GRUI.Template",{requires:["GRUI.util.Format"],inheritableStatics:{from:function(e,t){return new this((e=ei.Z.getDom(e)).value||e.innerHTML,t||"")}},useEval:ei.Z.isGecko,constructor:function(e){var t,n,r=this,i=arguments,o=[],a=i.length;if(r.initialConfig={},1<(a=1===a&&ei.Z.isArray(e)?(i=e).length:a))for(t=0;t<a;t++)"object"==typeof(n=i[t])?(ei.Z.apply(r.initialConfig,n),ei.Z.apply(r,n)):o.push(n);else o.push(e);r.html=o.join("")},isTemplate:!0,disableFormats:!1,tokenRe:/\{(?:(?:(\d+)|([a-z_$][\w\-$]*))(?::([a-z_.]+)(?:\(([^)]*?)?\))?)?)\}/gi,apply:function(e){var t=this;if(t.compiled){if(t.fn||t.compile(),!ei.Z.isGecko)return t.fn(e).join("");t.fn="(function (GRUI) {"+t.fn+"})",eval.call(this,t.fn)(ei.Z)}return t.evaluate(e)},evaluate:function(e){var t=this,n=!t.disableFormats,r=ei.Z.util.Format,i=t;return t.html.replace(t.tokenRe,(function(t,o,a,s,l){return null!=a&&""!==a||(a=o),s&&n?(l=l?[e[a]].concat(ei.Z.functionFactory("return ["+l+"];")()):[e[a]],"this."===s.substr(0,5)?i[s.substr(5)].apply(i,l):r[s]?r[s].apply(r,l):t):void 0!==e[a]?e[a]:""}))},applyOut:function(e,t){var n=this;return n.compiled?(n.fn||n.compile(),t.push.apply(t,n.fn(e))):t.push(n.apply(e)),t},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(e,t){var n=this;return n.html=e,n.compiled=!!t,n.fn=null,n},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var e=this,t=e.html.replace(e.compileARe,"\\\\").replace(e.compileBRe,"\\n").replace(e.compileCRe,"\\'").replace(e.tokenRe,e.regexReplaceFn.bind(e));return t=(!0!==this.disableFormats?"var fm=GRUI.util.Format;":"")+(e.useEval?"$=":"return")+" function(v){return ['"+t+"'];};",e.fn=e.useEval?e.evalCompiled(t):new Function("GRUI",t)(ei.Z),e.compiled=!0,e},evalCompiled:function(e){return eval.call(this,"(function (GRUI) {"+e+"})")(ei.Z),e},regexReplaceFn:function(e,t,n,r,i){if(null==t||""===t?t='"'+n+'"':this.stringFormat&&(t=parseInt(t)+1),r&&!0!==this.disableFormats){if(i=i?","+i:"","this."===r.substr(0,5))r+="(";else{if(!ei.Z.util.Format[r])return e;r="fm."+r+"("}return"',"+r+"v["+t+"]"+i+"),'"}return"',v["+t+"] == undefined ? '' : v["+t+"],'"},insertFirst:function(e,t,n){return this.doInsert("afterBegin",e,t,n)},insertBefore:function(e,t,n){return this.doInsert("beforeBegin",e,t,n)},insertAfter:function(e,t,n){return this.doInsert("afterEnd",e,t,n)},append:function(e,t,n){return this.doInsert("beforeEnd",e,t,n)},doInsert:function(e,t,n,r){return e=ei.Z.DomHelper.insertHtml(e,ei.Z.getDom(t),this.apply(n)),r?ei.Z.get(e):e},overwrite:function(e,t,n){return e=ei.Z.DomHelper.overwrite(ei.Z.getDom(e),this.apply(t)),n?ei.Z.get(e):e}},(function(e){var t=/\{\d+\}/,n={useFormat:!1,compiled:!0,stringFormat:!0},r={};ei.Z.String.format=ei.Z.util.Format.format=function(i){var o;return(r[i]||(r[i]=(o=i,t.test(o)?(o=new e(o,n),function(){return o.apply(arguments)}):function(){return o}))).apply(this,arguments)},ei.Z.String.formatEncode=function(){return ei.Z.String.htmlEncode(ei.Z.String.format.apply(this,arguments))}})),ei.Z.define("GRUI.util.XTemplateParser",{requires:["GRUI.String"],constructor:function(e){ei.Z.apply(this,e)},doTpl:ei.Z.emptyFn,parse:function(e){var t,n,r,i,o,a,s,l,u,c,d,f=this,h=e.length,p={elseif:"elif"},g=f.topRe,m=f.actionsRe;for(f.level=0,f.stack=n=[],t=0;t<h;t=l){if(g.lastIndex=t,!(i=g.exec(e))){f.doText(e.substring(t,h));break}if(s=i.index,l=g.lastIndex,t<s&&(r=e.substring(t,s),d&&""===ei.Z.String.trim(r)||f.doText(r)),d=!1,i[1])l=e.indexOf("%}",s+2),f.doEval(e.substring(s+2,l)),l+=2;else if(i[2])l=e.indexOf("]}",s+2),f.doExpr(e.substring(s+2,l)),l+=2;else if(i[3])f.doTag(i[3]);else if(i[4]){for(u=null;null!==(a=m.exec(i[4]));)(r=a[2]||a[3])&&(r=ei.Z.String.htmlDecode(r),"string"==typeof(o=(u=u||{})[a=p[a=a[1]]||a])?u[a]=[o,r]:o?u[a].push(r):u[a]=r);u?u.if?(f.doIf(u.if,u),n.push({type:"if"})):u.switch?(f.doSwitch(u.switch,u),n.push({type:"switch"}),d=!0):u.case?f.doCase(u.case,u):u.elif?f.doElseIf(u.elif,u):u.for?(++f.level,(c=f.propRe.exec(i[4]))&&(u.propName=c[1]||c[2]),f.doFor(u.for,u),n.push({type:"for",actions:u})):u.foreach?(++f.level,(c=f.propRe.exec(i[4]))&&(u.propName=c[1]||c[2]),f.doForEach(u.foreach,u),n.push({type:"foreach",actions:u})):u.exec&&(f.doExec(u.exec,u),n.push({type:"exec",actions:u})):f.elseRe.test(i[4])?f.doElse():f.defaultRe.test(i[4])?f.doDefault():(f.doTpl(),n.push({type:"tpl"}))}else 5===i[0].length?n.push({type:"tpl"}):(s=n.pop(),f.doEnd(s.type,s.actions),"for"!==s.type&&"foreach"!==s.type||--f.level)}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/}),ei.Z.define("GRUI.util.XTemplateCompiler",{extend:"GRUI.util.XTemplateParser",useEval:ei.Z.isGecko,useIndex:ei.Z.isIE8m,useFormat:!0,propNameRe:/^[\w\d$]*$/,compile:function(e){var t=this;e=t.generate(e);return t.useEval?t.evalTpl(e):new Function("GRUI",e)(ei.Z)},generate:function(e){var t=this,n="var fm=GRUI.util.Format,ts=Object.prototype.toString;";return t.maxLevel=0,t.body=["var c0=values, a0="+t.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, k0, v;\n"],t.definitions?"string"==typeof t.definitions?t.definitions=[t.definitions,n]:t.definitions.push(n):t.definitions=[n],t.switches=[],t.parse(e),t.definitions.push((t.useEval?"$=":"return")+" function ("+t.fnArgs+") {",t.body.join(""),"}"),n=t.definitions.join("\n"),t.definitions.length=t.body.length=t.switches.length=0,t.definitions=t.body=t.switches=0,n},doText:function(e){var t=this,n=t.body;e=e.replace(t.aposRe,"\\'").replace(t.newLineRe,"\\n"),t.useIndex?n.push("out[out.length]='",e,"'\n"):n.push("out.push('",e,"')\n")},doExpr:function(e){var t=this.body;t.push("if ((v="+e+") != null) out"),this.useIndex?t.push("[out.length]=v\n"):t.push(".push(v)\n")},doTag:function(e){var t=this.parseTag(e);t?this.doExpr(t):this.doText("{"+e+"}")},doElse:function(){this.body.push("} else {\n")},doEval:function(e){this.body.push(e,"\n")},doIf:function(e,t){var n=this;"."===e?n.body.push("if (values) {\n"):n.propNameRe.test(e)?n.body.push("if (",n.parseTag(e),") {\n"):n.body.push("if (",n.addFn(e),n.callFn,") {\n"),t.exec&&n.doExec(t.exec)},doElseIf:function(e,t){var n=this;"."===e?n.body.push("else if (values) {\n"):n.propNameRe.test(e)?n.body.push("} else if (",n.parseTag(e),") {\n"):n.body.push("} else if (",n.addFn(e),n.callFn,") {\n"),t.exec&&n.doExec(t.exec)},doSwitch:function(e){var t=this;"."===e||"#"===e?t.body.push("switch (","."===e?"values":"xindex",") {\n"):t.propNameRe.test(e)?t.body.push("switch (",t.parseTag(e),") {\n"):t.body.push("switch (",t.addFn(e),t.callFn,") {\n"),t.switches.push(0)},doCase:function(e){var t,n,r=this,i=ei.Z.isArray(e)?e:[e],o=r.switches.length-1;for(r.switches[o]?r.body.push("break;\n"):r.switches[o]++,n=0,o=i.length;n<o;++n)t=r.intRe.exec(i[n]),i[n]=t?t[1]:"'"+i[n].replace(r.aposRe,"\\'")+"'";r.body.push("case ",i.join(": case "),":\n")},doDefault:function(){var e=this,t=e.switches.length-1;e.switches[t]?e.body.push("break;\n"):e.switches[t]++,e.body.push("default:\n")},doEnd:function(e,t){var n=this,r=n.level-1;"for"===e||"foreach"===e?(t.exec&&n.doExec(t.exec),n.body.push("}\n"),n.body.push("parent=p",r,";values=r",1+r,";xcount=n"+r+";xindex=i",r,"+1;xkey=k",r,";\n")):"if"!==e&&"switch"!==e||n.body.push("}\n")},doFor:function(e,t){var n=this,r=n.level,i=r-1,o="."===e?"values":n.propNameRe.test(e)?n.parseTag(e):n.addFn(e)+n.callFn;n.maxLevel<r&&(n.maxLevel=r,n.body.push("var ")),e="."===e?"c"+r:"a"+i+"?c"+i+"[i"+i+"]:c"+i,n.body.push("i",r,"=0,n",r,"=0,c",r,"=",o,",a",r,"=",n.createArrayTest(r),",r",r,"=values,p",r,",k",r,";\n","p",r,"=parent=",e,"\n","if (c",r,"){if(a",r,"){n",r,"=c",r,".length;}else if (c",r,".isMixedCollection){c",r,"=c",r,".items;n",r,"=c",r,".length;}else if(c",r,".isStore){c",r,"=c",r,".data.items;n",r,"=c",r,".length;}else{c",r,"=[c",r,"];n",r,"=1;}}\n","for (xcount=n",r,";i",r,"<n"+r+";++i",r,"){\n","values=c",r,"[i",r,"]"),t.propName&&n.body.push(".",t.propName),n.body.push("\n","xindex=i",r,"+1\n"),t.between&&n.body.push('if(xindex>1){ out.push("',t.between,'"); } \n')},doForEach:function(e,t){var n=this,r=n.level,i=r-1,o="."===e?"values":n.propNameRe.test(e)?n.parseTag(e):n.addFn(e)+n.callFn;n.maxLevel<r&&(n.maxLevel=r,n.body.push("var ")),e="."===e?"c"+r:"a"+i+"?c"+i+"[i"+i+"]:c"+i,n.body.push("i",r,"=-1,n",r,"=0,c",r,"=",o,",a",r,"=",n.createArrayTest(r),",r",r,"=values,p",r,",k",r,";\n","p",r,"=parent=",e,"\n","for(k",r," in c",r,"){\n","xindex=++i",r,"+1;\n","xkey=k",r,";\n","values=c",r,"[k",r,"];"),t.propName&&n.body.push(".",t.propName),t.between&&n.body.push('if(xindex>1){ out.push("',t.between,'"); } \n')},createArrayTest:"isArray"in Array?function(e){return"Array.isArray(c"+e+")"}:function(e){return"ts.call(c"+e+')==="[object Array]"'},doExec:function(e,t){var n=this,r="f"+n.definitions.length,i=n.guards[n.strict?0:1];n.definitions.push("function "+r+"("+n.fnArgs+") {",i.doTry," var $v = values; with($v) {","  "+e," }",i.doCatch,"}"),n.body.push(r+n.callFn+"\n")},guards:[{doTry:"",doCatch:""},{doTry:"try { ",doCatch:" } catch(e) {\n}"}],addFn:function(e){var t=this,n="f"+t.definitions.length,r=t.guards[t.strict?0:1];return"."===e?t.definitions.push("function "+n+"("+t.fnArgs+") {"," return values","}"):".."===e?t.definitions.push("function "+n+"("+t.fnArgs+") {"," return parent","}"):t.definitions.push("function "+n+"("+t.fnArgs+") {",r.doTry," var $v = values; with($v) {","  return("+e+")"," }",r.doCatch,"}"),n},parseTag:function(e){var t,n,r,i=this;return(e=i.tagRe.exec(e))?(r=e[1],t=e[2],n=e[3],e=e[4],r="."===r?(i.validTypes||(i.definitions.push("var validTypes={string:1,number:1,boolean:1};"),i.validTypes=!0),'validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'):"#"===r?"xindex":"$"===r?"xkey":"parent."===r.substr(0,7)?r:isNaN(r)&&-1===r.indexOf("-")&&-1!==r.indexOf(".")?"values."+r:"values['"+r+"']",e&&(r="("+r+e+")"),t&&i.useFormat?(n=n?","+n:"","this."!==t.substr(0,5)?t="fm."+t+"(":t+="(",t+r+n+")"):r):null},evalTpl:function(e){return eval.call(this,"(function (GRUI) {"+e+"})")(ei.Z),e},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},(function(){var e=this.prototype;e.fnArgs="out,values,parent,xindex,xcount,xkey",e.callFn=".call(this,"+e.fnArgs+")"})),ei.Z.define("GRUI.XTemplate",{extend:"GRUI.Template",requires:["GRUI.util.XTemplateCompiler"],isXTemplate:!0,emptyObj:{},fn:null,strict:!1,apply:function(e,t,n,r){return 1===(e=this.applyOut(e,[],t,n,r)).length?e[0]:e.join("")},applyOut:function(e,t,n,r,i){var o,a=this;if(a.fn||(o=new ei.Z.util.XTemplateCompiler({useFormat:!0!==a.disableFormats,definitions:a.definitions,strict:a.strict}),a.fn=o.compile(a.html)),r=r||1,i=i||1,a.strict)a.fn(t,e,n||a.emptyObj,r,i);else try{a.fn(t,e,n||a.emptyObj,r,i)}catch(e){}return t},compile:function(){return this},statics:{get:function(e,t,n){var r=e;return null==e?t&&n&&(r=this.getTpl(t,n)):!e&&""!==e||e.isTemplate||(r=new this(e)),r},getTpl:function(e,t){var n,r=e[t];if(r&&!(r=r.isTemplate?r:ei.Z.XTemplate.get(r)).owner){if(e.hasOwnProperty(t))n=e;else for(n=e.self.prototype;n&&!n.hasOwnProperty(t);n=n.superclass);(n[t]=r).owner=n}return r||null}}}),ei.Z.define("GRUI.util.translatable.Dom",{extend:"GRUI.util.translatable.Abstract",alias:"translatable.dom",config:{element:null},applyElement:function(e){if(e)return ei.Z.get(e)},updateElement:function(){this.refresh()},translateXY:function(e,t){var n=this.getElement();n&&!n.destroyed&&this.callParent2(this,"GRUI.util.translatable.Abstract","null","translateXY",this.translateXY,arguments)}}),ei.Z.define("GRUI.util.translatable.CssPosition",{extend:"GRUI.util.translatable.Dom",alias:"translatable.cssposition",doTranslate:function(e,t){var n=this.getElement().dom.style;"number"==typeof e&&(n.left=e+"px"),"number"==typeof t&&(n.top=t+"px")},syncPosition:function(){var e=this.getElement().dom.style;return[this.x=parseFloat(e.left),this.y=parseFloat(e.top)]},destroy:function(){var e=this.getElement().dom.style;e.left=null,e.top=null,this.callParent2(this,"GRUI.util.translatable.Dom","null","destroy",this.destroy,arguments)}}),ei.Z.define("GRUI.util.translatable.CssTransform",{extend:"GRUI.util.translatable.Dom",alias:"translatable.csstransform",isCssTransform:!0,posRegex:/(\d+)px[^\d]*(\d+)px/,doTranslate:function(e,t){this.getElement().translate(e,t)},syncPosition:function(){var e=this.posRegex.exec(this.getElement().dom.style.tranform);return e&&(this.x=parseFloat(e[1]),this.y=parseFloat(e[2])),[this.x,this.y]},destroy:function(){var e=this.getElement();e&&!e.destroyed&&(e.dom.style.webkitTransform=null),this.callParent2(this,"GRUI.util.translatable.Dom","null","destroy",this.destroy,arguments)}}),ei.Z.define("GRUI.scroll.Scroller",{extend:"GRUI.Evented",alias:"scroller.scroller",uses:["GRUI.scroll.NativeScroller","GRUI.scroll.VirtualScroller"],mixins:["GRUI.mixin.Factoryable","GRUI.mixin.Bufferable"],isScroller:!0,factoryConfig:{defaultType:"native"},bufferableMethods:{onScrollEnd:100},config:{direction:void 0,element:null,size:null,x:!0,y:!0,touchAction:null,translatable:"scrollposition"},constructor:function(e){this.position={x:0,y:0},this.configuredSize={x:!1,y:!1},this.callParent2(this,"GRUI.Evented","null","constructor",this.constructor,arguments)},destroy:function(){var e=this;e.destroying=!0,e.destroy=ei.Z.emptyFn,e.doDestroy(),this.callParent2(this,"GRUI.Evented","null","destroy",this.destroy,arguments)},doDestroy:function(){var e,t,n=this;if(n.component=null,e=n._partners)for(t in e)n.removePartner(e[t].scroller);n._partners=null,n.setElement(null),n.setTranslatable(null)},addPartner:function(e,t){var n=this,r=n._partners||(n._partners={}),i=e._partners||(e._partners={});t=n.axisConfigs[t||"both"],r[e.getId()]={scroller:e,axes:t,called:!1,calledPrimary:!1},i[n.getId()]={scroller:n,axes:t,called:!1,calledPrimary:!1}},convertX:function(e){return e},ensureVisible:function(e,t){var n,r,i=this,o=i.getPosition();return o=e?(e.element&&!e.isElement&&(e=(t=e).element),n=(t=t||{}).highlight,(r=i.getEnsureVisibleXY(e,t)).y!==o.y||r.x!==o.x?(n&&i.on({scrollend:"doHighlight",scope:i,single:!0,args:[e,n]}),i.doScrollTo(r.x,r.y,t.animation)):(n&&i.doHighlight(e,n),ei.Z.Deferred.getCachedResolved())):ei.Z.Deferred.getCachedRejected()},getPosition:function(){return this.position},isInView:function(e,t){var n=this.component,r={x:!1,y:!1},i=this.getElement();return e&&(!1===t||i.contains(e)||n&&n.owns(e))&&(t=i.getRegion(),n=ei.Z.fly(e).getRegion(),r.x=n.right>t.left&&n.left<t.right,r.y=n.bottom>t.top&&n.top<t.bottom),r},refresh:function(){return this.fireEvent("refresh",this),this},removePartner:function(e){var t=this._partners,n=e._partners;t&&delete t[e.getId()],n&&delete n[this.getId()]},scrollBy:function(e,t,n){var r=this.getPosition();return e&&(e.length?(n=t,t=e[1],e=e[0]):"number"!=typeof e&&(n=t,t=e.y,e=e.x)),e="number"==typeof e?e+r.x:null,t="number"==typeof t?t+r.y:null,this.doScrollTo(e,t,n)},scrollIntoView:function(e,t,n,r){return this.ensureVisible(e,{animation:n,highlight:r,x:t})},scrollTo:function(e,t,n){var r;return e&&(ei.Z.isArray(e)?(n=t,t=e[1],e=e[0]):"number"!=typeof e&&(n=t,t=e.y,e=e.x)),(e<0||t<0)&&(r=this.getMaxPosition(),e<0&&(e+=r.x),t<0&&(t+=r.y)),this.doScrollTo(e,t,n)},applyElement:function(e){return e&&!e.isElement?ei.Z.get(e):e},updateElement:function(e,t){var n=this.scrollerCls;t&&!t.destroyed&&t.removeCls(n),e&&(this.isConfiguring||(t=this.getTouchAction())&&e.setTouchAction(t),e.addCls(n))},updateDirection:function(e){var t,n,r=this;e?("auto"===e?n=t=!0:"vertical"===e?n=!(t=!1):"horizontal"===e?n=!(t=!0):"both"===e&&(n=t="scroll"),r.setX(t),r.setY(n)):(t=r.getX(),n=r.getY(),t&&n?e="scroll"===n&&"scroll"===t?"both":"auto":n?e="vertical":t&&(e="horizontal"),r._direction=e)},applySize:function(e,t){var n,r,i="number",o=this.configuredSize;return null==e||typeof e==i?n=r=e:e&&(n=e.x,r=e.y),typeof n==i?o.x=!0:null===n&&(o.x=!1),typeof r==i?o.y=!0:null===r&&(o.y=!1),void 0===n&&(n=t?t.x:null),void 0===r&&(r=t?t.y:null),t&&n===t.x&&r===t.y?t:{x:n,y:r}},updateTouchAction:function(e){var t=this.getElement();t&&t.setTouchAction(e)},statics:{create:function(e,t){return ei.Z.Factory.scroller(e,t)},getScrollingElement:function(){return ei.Z.get(document.scrollingElement||document.documentElement)}},privates:{scrollerCls:ei.Z.baseCSSPrefix+"scroller",axisConfigs:{x:{x:1,y:0},y:{x:0,y:1},both:{x:1,y:1}},callPartners:function(e,t,n){var r,i,o,a,s,l,u=this._partners;if(!this.suspendSync)for(r in u)(a=(i=u[r]).scroller).isPrimary||i.called||(i.called=!0,l=u[r].axes,o=a.position,s=l.x&&void 0!==t?t:o.x,l=l.y&&void 0!==n?n:o.y,a[e](s,l,s-o.x||0,l-o.y||0),a.callPartners(e,s,l),i.called=!1)},contains:function(e){for(var t=this.getElement(),n=e;n&&n!==ei.Z.Viewport;){if(t.contains(n.el))return!0;n=n.getRefOwner()}return!1},fireScrollStart:function(e,t,n,r){var i=this,o=i.component;i.startX=e-n,i.startY=t-r,i.hasListeners.scrollstart&&i.fireEvent("scrollstart",i,e,t),o&&o.onScrollStart&&o.onScrollStart(e,t),ei.Z.GlobalEvents.fireEvent("scrollstart",i,e,t)},fireScroll:function(e,t,n,r){var i=this,o=i.component;i.hasListeners.scroll&&i.fireEvent("scroll",i,e,t,n,r),o&&o.onScrollMove&&o.onScrollMove(e,t,n,r),ei.Z.fireEvent("scroll",i,e,t,n,r)},fireScrollEnd:function(e,t){var n=this,r=n.component,i=e-n.startX,o=t-n.startY;n.hasListeners.scrollend&&n.fireEvent("scrollend",n,e,t,i,o),r&&r.onScrollEnd&&r.onScrollEnd(e,t,i,o),ei.Z.fireEvent("scrollend",n,e,t,i,o)},getEnsureVisibleXY:function(e,t){var n,r=this.getPosition(),i=this.component?this.component.getScrollableClientRegion():this.getElement();return e&&e.element&&!e.isElement&&(e=(t=e).element),(n=(t=t||{}).align)&&(ei.Z.isString(n)?n={x:!1===t.x?null:n,y:!1===t.y?null:n}:ei.Z.isObject(n)&&(n.x&&!1===t.x&&(n.x=null),n.y&&!1===t.y&&(n.y=null))),(e=ei.Z.fly(e).getScrollIntoViewXY(i,r.x,r.y,n)).x=(!1===t.x?r:e).x,e.y=(!1===t.y?r:e).y,e},onPartnerScroll:function(e,t){this.doScrollTo(e,t)},onPartnerScrollStart:function(e,t,n,r){this.isScrolling=!0,(n||r)&&this.doScrollTo(e,t)},onPartnerScrollEnd:function(){this.isScrolling=!1},restoreState:ei.Z.privateFn,resumePartnerSync:function(e){var t,n=this;n.suspendSync&&n.suspendSync--,!n.suspendSync&&e&&(t=(e=n.position).x,e=e.y,n.callPartners("onPartnerScrollStart",void 0,void 0),n.callPartners("fireScrollStart",void 0,void 0),n.callPartners("onPartnerScroll",t,e),n.callPartners("fireScroll",t,e),n.callPartners("onPartnerScrollEnd"),n.callPartners("fireScrollEnd",t,e))},setPrimary:function(e){var t,n,r,i=this,o=i._partners;if(e){for(r in o)n=(t=o[r]).scroller,t.calledPrimary||(t.calledPrimary=!0,n.setPrimary(!1),t.calledPrimary=!1);i.isScrolling=ei.Z.isScrolling=!0}else i.isScrolling&&(i.cancelOnScrollEnd(),i.doOnScrollEnd());i.isPrimary=e},suspendPartnerSync:function(){this.suspendSync=(this.suspendSync||0)+1},syncWithPartners:function(){var e,t,n,r,i,o,a,s=this,l=s._partners,u=s.position;for(e in l)o=(a=l[e].axes).x,a=a.y,n=(t=l[e].scroller).position,t.setPrimary(!0),r=o?u.x:null,i=a?u.y:null,s.onPartnerScrollStart(r,i,0,0),s.fireScrollStart(r,i,0,0),r=o?n.x:null,i=a?n.y:null,o=null===r?0:r-u.x,a=null===i?0:i-u.y,s.onPartnerScroll(r,i),s.fireScroll(r,i,o,a),s.onPartnerScrollEnd(),s.fireScrollEnd(r,i),t.setPrimary(null)},applyTranslatable:function(e,t){return ei.Z.Factory.translatable.update(t,e,this,"createTranslatable")}},deprecated:{5:{methods:{getScroller:function(){return this}}},"5.1.0":{methods:{scrollToTop:function(e){return this.scrollTo(0,0,e)},scrollToEnd:function(e){return this.scrollTo(1/0,1/0,e)}}}}}),ei.Z.define("GRUI.Component",{extend:"GRUI.Widget",mixins:["GRUI.state.Stateful"],alternateClassName:["GRUI.lib.Component","GRUI.Gadget"],requires:["GRUI.ComponentManager","GRUI.ComponentQuery","GRUI.XTemplate","GRUI.util.translatable.CssPosition","GRUI.util.translatable.CssTransform","GRUI.scroll.Scroller"],xtype:"component",cachedConfig:{padding:null,tabIndex:null},eventedConfig:{left:null,top:null,right:null,bottom:null,minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,scrollable:null,docked:null,centered:{lazy:!0,$value:null}},config:{displayed:null,html:null,draggable:null,zIndex:null,tpl:null,enterAnimation:null,exitAnimation:null,showAnimation:null,hideAnimation:null,tplWriteMode:"overwrite",data:null,contentEl:null,record:null,tooltip:null,axisLock:null,modal:{lazy:!0,$value:null},hideOnMaskTap:null,weight:null,userSelectable:null},modelValidation:null,defaultBindProperty:"html",isComponent:!0,positioned:!1,rendered:!1,activeAnimation:null,dockPositions:{top:!0,right:!0,bottom:!0,left:!0},bodyElement:null,classCls:ei.Z.baseCSSPrefix+"component",floatingCls:ei.Z.baseCSSPrefix+"floating",hiddenCls:ei.Z.baseCSSPrefix+"hidden",_scrollableCfg:{x:{x:!0,y:!1},y:{x:!1,y:!0},horizontal:{x:!0,y:!1},vertical:{x:!1,y:!0},both:{x:!0,y:!0},true:{x:!0,y:!0},false:{x:!1,y:!1}},statics:{from:function(e,t,n){return ei.Z.ComponentManager.from(e,t,n)},fromElement:function(e,t,n){return ei.Z.ComponentManager.from(e,t,n)}},initialConfig:null,$initParent:null,userSelectableClsMap:{true:ei.Z.baseCSSPrefix+"user-selectable-auto",false:ei.Z.baseCSSPrefix+"user-selectable-none",all:ei.Z.baseCSSPrefix+"user-selectable-all",auto:ei.Z.baseCSSPrefix+"user-selectable-auto",text:ei.Z.baseCSSPrefix+"user-selectable-text",none:ei.Z.baseCSSPrefix+"user-selectable-none"},constructor:function(e){var t,n,r,i=this,o=ei.Z.Viewport,a=e&&e.renderTo;i.lastSize={},i.onInitializedListeners=[],e&&(i.initialConfig=e,i.$initParent=e.$initParent),a&&delete(e=ei.Z.apply({},e)).renderTo,this.callParent2(this,"GRUI.Widget","null","constructor",this.constructor,arguments),r=i.el,i.getRefOwner()||r.addCls(i.rootCls),i.refreshPositioned=i.doRefreshPositioned,i.refreshPositionedOnInitialized&&i.refreshPositioned(),i.initialize(),i.triggerInitialized(),i.isCentered()&&i.center(),n=(t=i.hasListeners).resize,i.hasListeners.painted&&r.on("painted","handleElementPainted",i),!n&&!i.onResize||i.isViewport||(n||t._incr_("resize"),r.on({scope:i,resize:"handleElementResize",priority:1e3})),i.fullscreen&&o&&o.setItemFullScreen(i),i.fireEvent("initialize",i),a&&i.setRenderTo(a)},beforeInitConfig:function(e){this.beforeInitialize.apply(this,arguments)},beforeInitialize:ei.Z.emptyFn,initialize:ei.Z.emptyFn,center:function(){var e,t,n,r=this,i=r.getParent();return i&&!i.rendered||!r.shouldRecenter()?r.needsCenter=!0:(e=!!i,t=(i=i?i.bodyElement:ei.Z.getBody()).getConstrainRegion(),n=r.measure(),t=[(t.getWidth()-n.width)/2,(t.getHeight()-n.height)/2],r.needsCenter=!1,r._centering=!0,r.getFloated()?(e&&(t=i.reverseTranslateXY(t)),r.setXY(t)):(r.setLeft(t[0]),r.setTop(t[1])),r._centering=!1),r},shouldRecenter:function(){return this.rendered&&!this.$isShowing&&(this.el.isVisible()||this.el.getVisibilityMode()!==ei.Z.Element.DISPLAY)},getModalSibling:function(){for(var e,t,n,r,i=this,o=ei.Z.getFloatRoot().dom,a=i.floatParentNode&&i.floatParentNode.dom;a;a=a===o||e.getRelative()?null:a.parentNode)for(e=ei.Z.fly(a).getData().component,r=(t=a.childNodes)?t.length:0;0<r--;)if((n=ei.Z.fly(t[r])).hasCls(i.floatWrapCls)&&(n=n.getData().component)&&n!==i&&n.isVisible()&&n.getModal())return n;return null},triggerInitialized:function(){var e,t,n,r,i=this.onInitializedListeners,o=i.length;if(!this.initialized&&(this.initialized=!0,0<o)){for(r=0;r<o;r++)e=(n=i[r]).fn,t=n.scope,n=n.args,("string"==typeof e?t[e]:e).apply(t,n);i.length=0}},onInitialized:function(e,t,n){var r=this,i=r.onInitializedListeners;t=t||r,n?(n=n.slice()).unshift(r):n=[r],r.initialized?("string"==typeof e?t[e]:e).apply(t,n):i.push({fn:e,scope:t,args:n})},initElement:function(){var e=this;this.callParent2(this,"GRUI.Widget","null","initElement",this.initElement,arguments),e.bodyElement||(e.bodyElement=e.element),e.innerElement=e.innerElement||e.bodyElement},initInheritedState:function(e){null!==this.modelValidation&&(e.modelValidation=this.modelValidation),this.callParent2(this,"GRUI.Widget","null","initInheritedState",this.initInheritedState,arguments)},applyScrollable:function(e,t){return"boolean"!=typeof e&&"string"!=typeof e||(e=this._scrollableCfg[e]),ei.Z.Factory.scroller.update(t,e,this,"createScrollable")},applyHidden:function(e){return!e&&this.isConfiguring&&this.getFloated()&&this.preprocessShow(),!!e},createScrollable:function(e){return ei.Z.apply({component:this,element:this.getScrollerTarget()},e)},getScrollerTarget:function(){return this.bodyElement},getScrollableClientRegion:function(){var e=this.getScrollerTarget().getClientRegion(),t=this.getScrollable();return t&&t.isVirtualScroller&&(t=t.getScrollbarSize(),e.adjust(0,-t.width,-t.height,0)),e},updatePadding:function(e){this.bodyElement.setPadding(e)},updateWeight:function(e,t){var n=!this.isConfiguring&&this.getRefOwner();this.weight=e,n&&n.onItemWeightChange&&n.onItemWeightChange(this,e,t)},applyContentEl:function(e){if(e)return ei.Z.get(e)},updateContentEl:function(e,t){t&&(t.hide(),ei.Z.getBody().append(t)),e&&(this.setHtml(e.dom),e.show())},createTranslatable:function(e){var t=this.callParent2(this,"GRUI.Widget","null","createTranslatable",this.createTranslatable,arguments);return e&&!e.type&&this.getFloated()&&(t.type="csstransform"),t},isCentered:function(){return Boolean(this.getCentered())},isPositioned:function(){return this.positioned},isDocked:function(){return Boolean(this.getDocked())},applyTop:function(e){return this.filterLengthValue(e)},applyRight:function(e){return this.filterLengthValue(e)},applyBottom:function(e){return this.filterLengthValue(e)},applyLeft:function(e){return this.filterLengthValue(e)},applyMinWidth:function(e){return this.filterLengthValue(e)},applyMinHeight:function(e){return this.filterLengthValue(e)},applyMaxWidth:function(e){return this.filterLengthValue(e)},applyMaxHeight:function(e){return this.filterLengthValue(e)},updateTop:function(e){this.$updatingXY||this.element.setTop(e),this.refreshPositioned()},updateRight:function(e){this.$updatingXY||this.element.setRight(e),this.refreshPositioned()},updateBottom:function(e){this.$updatingXY||this.element.setBottom(e),this.refreshPositioned()},updateLeft:function(e){this.$updatingXY||this.element.setLeft(e),this.refreshPositioned()},onResize:null,updateMinWidth:function(e){this.element.setMinWidth(e)},updateMinHeight:function(e){this.element.setMinHeight(e)},updateMaxWidth:function(e){this.element.setMaxWidth(e)},updateMaxHeight:function(e){this.element.setMaxHeight(e)},applyCentered:function(e){if(null===this.getLeft()&&null===this.getRight()&&null===this.getTop()&&null===this.getBottom())return!!e},updateCentered:function(e){var t,n=this;n.getFloated()?e?(n.center(),n.centerResizeListener||n.needsCenter||(t=(t=n.floatParentNode)===ei.Z.floatRoot?ei.Z:t,n.centerResizeListener=t.on({resize:"center",scope:n,destroyable:!0}))):n.centerResizeListener=ei.Z.destroy(n.centerResizeListener):(n.el.toggleCls(n.floatingCls,e),e?(n.refreshInnerState=ei.Z.emptyFn,!n.isContainer||n.isWidthed()&&n.isHeighted()||n.setAutoSize(!0),n.isPositioned()&&n.resetPositioned(),n.isDocked()&&n.setDocked(!1),n.setIsInner(!1),delete n.refreshInnerState):n.refreshInnerState())},applyDocked:function(e){var t=this;return e?(t.refreshInnerState=ei.Z.emptyFn,t.isPositioned()&&t.resetPositioned(),t.isCentered()&&t.setCentered(!1),t.setIsInner(!1),delete t.refreshInnerState,e):null},getDisplayed:function(){return!this.getHidden()},setDisplayed:function(e){return e===(!1!==this.getHidden())&&(this._displayed=e,this.updateDisplayed(e,!e)),this},updateDisplayed:function(e){this[e?"show":"hide"]()},updateDocked:function(e,t){this.isConfiguring||(this.fireEvent("afterdockedchange",this,e,t),e||this.refreshInnerState())},updateUserSelectable:function(e,t){var n,r=this.userSelectableClsMap,i=this.el;if("boolean"==typeof t||"string"==typeof t)i.removeCls(r[t]);else for(n in t)this[n].removeCls(r[t[n]]);if("boolean"==typeof e||"string"==typeof e)i.addCls(r[e]);else for(n in e)this[n].addCls(r[e[n]])},resetPositioned:function(){this.setTop(null),this.setRight(null),this.setBottom(null),this.setLeft(null)},refreshPositioned:function(){this.refreshPositionedOnInitialized=!0},doRefreshPositioned:function(){var e=this,t=!e.getConfig("floated",!1,!0)&&(null!==e.getTop()||null!==e.getBottom()||null!==e.getRight()||null!==e.getLeft());t!==this.positioned&&((e.positioned=t)&&(e.refreshInnerState=ei.Z.emptyFn,!e.isContainer||e.isWidthed()&&e.isHeighted()||e.setAutoSize(!0),e.isCentered()&&e.setCentered(!1),e.isDocked()&&e.setDocked(!1),e.setIsInner(!1),delete e.refreshInnerState),e.element.toggleCls(e.floatingCls,t),e.initialized&&(e.fireEvent("floatingchange",e,t),e.fireEvent("positionedchange",e,t)),t||e.refreshInnerState())},applyZIndex:function(e){return null!==(e=e||0===e?e:null)&&(e=Number(e),isNaN(e)&&(e=null)),e},updateZIndex:function(e){var t=this.element,n=!this.getFloated()&&this.getModal();t&&!t.destroyed&&(t=t.dom.style,null!==e?t.setProperty("z-index",e,"important"):t.removeProperty("z-index")),n&&!n.destroyed&&n.setZIndex(e-1)},getInnerHtmlElement:function(){var e=this.innerHtmlElement;return e&&e.dom&&e.dom.parentNode||(this.innerHtmlElement=e=ei.Z.Element.create({cls:ei.Z.baseCSSPrefix+"innerhtml"}),this.getRenderTarget().appendChild(e)),e},updateHtml:function(e){var t;this.destroyed||(t=this.getInnerHtmlElement(),ei.Z.isElement(e)?(t.setHtml(""),t.append(e)):t.setHtml(e))},updateHidden:function(e,t){var n=this,r=n.renderElement,i=n.getModal();n.rendered?(i&&!i.destroyed&&(n.getFloated()?e?(i=n.getModalSibling())?i.showModalMask():n.hideModalMask():n.showModalMask():!0!==i&&(i.setZIndex(n.getZIndex()-1),i.getHidden()!==e&&i.setHidden(e))),n.destroying||!r||r.destroyed||r.toggleCls(n.hiddenCls,e)):r.toggleCls(n.hiddenCls,e),this.callParent2(this,"GRUI.Widget","null","updateHidden",this.updateHidden,arguments),n.isConfiguring||n.destroying||(n.hasListeners[i=e?"hide":"show"]&&n.fireEvent(i,n),n[e?"afterHide":"afterShow"](n))},hide:function(e){var t=this,n=t.activeAnimation;if(t.isVisible()){if(t.hasListeners.beforehide&&!1===t.fireEvent("beforehide",t))return;if(!1===t.beforeHide())return;if(t.viewportResizeListener=ei.Z.destroy(t.viewportResizeListener),t.setCurrentAlignmentInfo(null),n)return n.on({animationend:function(){t.hide(e)},single:!0}),t;t.getHidden()||((e=void 0===e||e&&!ei.Z.isObject(e)?t.getHideAnimation():e)&&t.on({beforehiddenchange:"onBeforeHiddenChange",scope:t,single:!0,args:[e]}),t.setHidden(!0)),t.getFloated()||(n=t.getModal())&&!0!==n&&!n.destroyed&&n.setHidden(!0)}else t.setHidden(!0);return t},preprocessShow:function(e,t,n){var r=this,i=r.getHideMode();r.isContainer&&r.getItems(),r.getHtml(),r.getFloated()&&(i=(!i||"display"===i)&&r.getHidden(),r.rendered?i&&(r.setVisibility(!0),r._hidden=!1):r.findFloatParent(i=!1!==i),e?(r.notifyIf(),r.alignTo(e,t,n)):r.isCentered()?(r.notifyIf(),r.updateCentered(!0)):r.syncXYPosition(),r.getModal()&&r.showModalMask(),r.getToFrontOnShow()?r.toFront():r.syncAlwaysOnTop(),i&&(r.setVisibility(!1),r._hidden=!0))},showBy:function(e,t,n){var r=this;ei.Z.isArray(n)&&(n={offset:n}),r.isVisible()?r.alignTo(e,t,n):(r.getFloated()||(r.getParent()?r.positioned=!0:r.setFloated(!0)),r.alignToArgs=[e,t,n],r.show({animation:!0,alignment:{component:e,alignment:t,options:n}}))},show:function(e,t){var n,r=this,i=r.getHidden(),o=r.getFloated();return e&&"object"==typeof e&&"animation"in e?e=(t=e).animation:t=ei.Z.apply({animation:e},t),(!r.hasListeners.beforeshow||!1!==r.fireEvent("beforeshow",r,t))&&(!1!==r.beforeShow(t)?(n=t.alignment||{},r.preprocessShow(n.component,n.alignment,n.options),r.activeAnimation?r.$isShowing||r.activeAnimation.on({animationend:function(){r.destroying||r.destroyed||r.show(e,t)},single:!0}):(!i&&null!==i||((e=void 0===e||e&&!ei.Z.isObject(e)?r.getShowAnimation():e)&&!r.isConfiguring&&r.on({beforehiddenchange:"onBeforeHiddenChange",scope:r,single:!0,args:[e]}),r.setHidden(!1)),o||(n=r.getModal())&&n.setHidden&&n.setHidden(!1)),r):void 0)},onAnimationStart:function(e,t,n){var r=this,i=r.element,o=n.from.transform;n=n.to.transform;e||(r.renderElement.show(),i.removeCls(r.hiddenCls),r.needsCenter&&r.center()),r.$isShowing=!0,r.getFloated()&&o&&n&&!(o.translateX|n.translateX|o.translateY|n.translateY)&&(o.translateX=n.translateX=null,o.translateY=n.translateY=null)},onBeforeHiddenChange:function(e,t,n,r,i){var o=this;!e||n&&!o.isPainted()||(e.isAnimation||(e=n?o.createHideAnimation(e):o.createShowAnimation(e),e=ei.Z.Factory.animation(e)),(o.activeAnimation=e).on({animationstart:"onAnimationStart",scope:o,single:!0,args:[n]}),ei.Z.isEmpty(n)||(e.setOnEnd((function(){o.activeAnimation=null,o.$isShowing=!1,o.destroyed||(i.resume(),o.destroying||o.destroyed||o.getFloated()&&o.syncXYPosition())})),n||(o._hidden=!1),i.pause()),ei.Z.Animator.run(e))},setVisibility:function(e){this.renderElement.setVisible(e)},isRendered:function(){return this.rendered},isPainted:function(){return this.renderElement.isPainted()},applyTpl:function(e){return ei.Z.XTemplate.get(e)},updateTpl:function(e){this.isConfiguring||(e?this.doUpdateTpl():this.getInnerHtmlElement().setHtml(""))},applyData:function(e){return ei.Z.isObject(e)?ei.Z.apply({},e):e||{}},updateData:function(e){e&&(this.doUpdateTpl(e),this.isConfiguring||this.fireEvent("updatedata",this,e))},applyRecord:function(e){return e&&ei.Z.isObject(e)&&e.isModel?e:null},updateRecord:function(e,t){t&&t.unjoin(this),e?(e.join(this),this.doUpdateTpl(e.getData(!0))):this.updateData("")},afterEdit:function(){this.updateRecord(this.getRecord())},afterErase:function(){this.setRecord(null)},getXTypes:function(){return this.xtypesChain.join("/")},applyDraggable:function(e,t){return t?e?t.setConfig(e):t.destroy():e&&(e=this.createDraggable(e),e=new ei.Z.drag.Source(e),this.initDragConstraints&&e.on("initdragconstraints","initDragConstraints",this)),e},createDraggable:function(e){var t=e.listeners;return e=ei.Z.apply({autoDestroy:!1,component:this,ownerCmp:this,local:!0},e),t&&"this"===t.scope&&(e.listeners=t=ei.Z.apply({},t),t.scope=this),e},updateDraggable:function(e,t){t&&(e?t.setConfig(e):t.destroy())},onModalMaskTap:function(e){this.getHideOnMaskTap()&&this.hide()},translateAxis:function(e,t,n){var r,i;return"x"===e?r=t:i=t,this.translate(r,i,n)},alignTo:function(e,t,n){var r=this;r.viewportResizeListener||(r.viewportResizeListener=ei.Z.on({resize:"onViewportResize",scope:r,destroyable:!0})),r.aligning=!0,this.callParent2(this,"GRUI.Widget","null","alignTo",this.alignTo,arguments),r.aligning=!1},onViewportResize:function(){this.isVisible()&&this.realign()},showAt:function(e,t){var n=this;return(n.getFloated()||n.isPositioned())&&(1===arguments.length&&(e=e.x?(t=e.y,e.x):(t=e[1],e[0])),n.show(),n.isPositioned()?(n.setLeft(e),n.setTop(t)):(n.setX(e),n.setY(t))),n},onAdded:function(e,t){var n,r=this;this.callParent2(this,"GRUI.Widget","null","onAdded",this.onAdded,arguments),r.getFloated()||(n=r.getModal())&&(e.insertBefore(n,r),n.setZIndex(r.getZIndex()-1)),r.el.removeCls(r.rootCls)},onRemoved:function(e){e||this.el.addCls(this.rootCls),this.callParent2(this,"GRUI.Widget","null","onRemoved",this.onRemoved,[e])},applyTooltip:function(e){if(e){if(e.isInstance)return e.setTarget(this),e;(e="string"==typeof e?{html:e}:ei.Z.merge({},e)).autoCreate||!1===e.autoHide?(delete e.autoCreate,e.target=this,e.xtype=e.xtype||"tooltip",e=ei.Z.create(e)):delete e.xtype}return e},updateTooltip:function(e,t){var n=this.el;t&&(t.isInstance?ei.Z.destroy(t):(t=(t=ei.Z.fly(t.target))&&t.peekData())&&delete t.qtip),e&&!e.isInstance&&(n.getData().qtip=e,(t=(t=(t=ei.Z.tip)&&t.Manager)&&t.instance)&&(e=t.tip).currentTarget.dom===n.dom&&t.onBeforeShow(e))},applyModal:function(e,t){var n;return this.getFloated()?!!e:(n=this.isVisible(),!1===e&&(n=!(e=!0)),(t=ei.Z.factory(e,ei.Z.Mask,"boolean"==typeof t?null:t))&&(t.setVisibility(n),t.on("tap","onModalMaskTap",this)),t)},updateModal:function(e){var t=this,n=t.getParent(),r=(t.floatWrap||t.element).dom;t.getFloated()?e?t.isVisible()&&!r.nextSibling&&t.showModalMask():(r=t.getModalSibling())?r.showModalMask():t.hideModalMask():n&&(e?(n.insertBefore(e,t),e.setZIndex(t.getZIndex()-1)):n.remove(e))},applyHideAnimation:function(e,t){return ei.Z.Factory.animation.update(t,e,this,"createHideAnimation")},createHideAnimation:function(e){return ei.Z.apply({type:"fadeOut",element:this.element},e)},applyShowAnimation:function(e,t){return ei.Z.Factory.animation.update(t,e,this,"createShowAnimation")},createShowAnimation:function(e){return ei.Z.apply({type:"fadeIn",element:this.element},e)},renderReactComponent:function(e,n,r){var i;t.isValidElement(e)&&(i=t.forwardRef((function(n,r){return t.cloneElement(e,gt(gt({},n),{},{ref:r}))})),i=t.createElement(i,gt({},r),null),this.renderReactElToDom(i,n))},renderReactElToDom:function(e,t){var r=this.rootElement;this.rootElement||(r=(0,n.createRoot)(t),this.rootElement=r),r.render(e)},doDestroy:function(){var e,t=this;t.isVisible()&&(t.revertFocus(),t.getModal()&&t.getFloated()&&((e=t.getModalSibling())?e.showModalMask():t.hideModalMask())),t.hasListeners.destroy&&t.fireEvent("destroy",t),t.destroyMembers("modal","innerHtmlElement","scrollerElement","scrollable","showAnimation","hideAnimation","centerResizeListener","visibleListener"),t.setPlugins(null),t.setRecord(null),t.setTooltip(null),this.callParent2(this,"GRUI.Widget","null","doDestroy",this.doDestroy,arguments)},privates:{preciseWidth:!1,clearWhenVisible:function(e){var t=this.pendingVisible;t&&(delete t[e],ei.Z.Object.isEmpty(t)&&(this.pendingVisible=null,this.visibleListener=ei.Z.destroy(this.visibleListener)))},convertToLocalXY:function(e){var t=this,n=t.element.getXY(),r=0,i=t.isPositioned()?(r=t.getLeft()||0,t.getTop()||0):(r=t.getX()||0,t.getY()||0);return[e[0]-n[0]+r,e[1]-n[1]+i]},doAddListener:function(e,t,n,r,i,o,a){var s=this,l=s.element;return s.initialized&&("painted"===e?s.hasListeners.painted||l.on("painted","handleElementPainted",s):"resize"!==e||s.isViewport||s.hasListeners.resize||l.on({scope:s,resize:"handleElementResize",priority:1e3})),this.callParent2(this,"GRUI.Widget","null","doAddListener",this.doAddListener,arguments)},doRemoveListener:function(e,t,n){var r=this,i=r.element,o=this.callParent2(this,"GRUI.Widget","null","doRemoveListener",this.doRemoveListener,arguments);return o&&r.initialized&&("painted"===e?r.hasListeners.painted||i.un("painted","handleElementPainted",r):"resize"!==e||r.isViewport||r.hasListeners.resize||i.un("resize","handleElementResize",r)),o},doUpdateTpl:function(e){var t,n=this.getTpl();n&&(t=this.getTplWriteMode(),e=e||this.getData()||{},n[t](this.getInnerHtmlElement(),e))},getRenderTarget:function(){var e=this.getScrollable();return e&&e.isVirtualScroller?e.getInnerElement():this.bodyElement},handleElementPainted:function(e){this.fireEvent("painted",this,e)},handleElementResize:function(e,t){var n,r,i=this,o=Math.ceil,a=i.lastSize,s=a.width||null,l=a.height||null;t.flag&&(n=t.width,r=t.height,0===n&&0===r||(i.preciseWidth||(n=o(n),r=o(r)),a.width=n,a.height=r,i.onResize&&i.onResize(n,r,s,l,t),i.isCentered()&&i.center(),i.fireEvent("resize",this,n,r,s,l,t)))},handleGlobalShow:function(e){this.maybeRunWhenVisible(e)},handleGlobalExpand:function(e){this.maybeRunWhenVisible(e)},maybeRunWhenVisible:function(e){(e===this||this.isDescendantOf(e))&&this.canLayoutChildren()&&this.runWhenVisible()},canLayoutChildren:function(){for(var e=this;e;){if(!e.isVisible()||e.hasHiddenContent())return!1;e=e.getRefOwner()}return!0},runWhenVisible:function(){var e,t=this,n=t.pendingVisible;for(e in t.pendingVisible=null,t.visibleListener=ei.Z.destroy(t.visibleListener),n)t[e].apply(t,n[e])},whenVisible:function(e,t){var n=this,r=n.visibleListener,i=n.pendingVisible,o=n.canLayoutChildren();return t=t||ei.Z.emptyArray,o||r||(n.visibleListener=ei.Z.on({scope:n,show:"handleGlobalShow",expand:"handleGlobalExpand",destroyable:!0})),o?i?(i[e]=t,n.runWhenVisible()):n[e].apply(n,t):(i||(n.pendingVisible=i={}),i[e]=t),o},setXY:function(e,t,n){var r=this,i=r.getFloated();"number"!=typeof e&&(n=t,t=e[1],e=e[0]),r.$updatingXY=!0,i?(null!=e&&r.setX(e),null!=t&&r.setY(t)):(null!=e&&r.setLeft(e),null!=t&&r.setTop(t)),r.$updatingXY=!1,i?r.syncXYPosition(n):r.translate(e,t,n)},syncXYPosition:function(e){this.aligning||(this.viewportResizeListener=ei.Z.destroy(this.viewportResizeListener)),this.callParent2(this,"GRUI.Widget","null","syncXYPosition",this.syncXYPosition,arguments)}},deprecated:{"6.2.0":{methods:{resetFloating:"resetPositioned"}},6.5:{configs:{styleHtmlCls:null,styleHtmlContent:null}}}},(function(e){})),ei.Z.define("GRUI.mixin.Responsive",(function(e){return{extend:"GRUI.Mixin",mixinConfig:{id:"responsive",after:{destroy:"destroy"}},config:{responsiveConfig:{$value:void 0,merge:function(t,n,r,i){var o,a,s,l;if(!t)return n;for(l in s=n?ei.Z.Object.chain(n):{},o=e.context,t)i&&l in s||((a=t[l]).fn!==o&&(a={fn:o,config:a}),s[l]=a);return s}},responsiveFormulas:{$value:null,merge:function(e,t,n,r){return this.mergeNew(e,t,n,r)}}},destroy:function(){e.unregister(this)},privates:{statics:{active:!1,all:{},_configNames:["responsiveConfig","responsiveFormulas"],context:ei.Z.Object.chain(ei.Z.platformTags),count:0,nextId:0,activate:function(){e.active=!0,e.updateContext(),ei.Z.on("resize",e.onResize,e)},deactivate:function(){e.active=!1,ei.Z.un("resize",e.onResize,e)},notify:function(){var t,n=e.all,r=e.context,i=e.timer;for(t in i&&(e.timer=ei.Z.unasap(i)),e.updateContext(),ei.Z.suspendLayouts(),ei.Z.fireEvent("beforeresponsiveupdate",r),n)n[t].setupResponsiveContext();for(t in ei.Z.fireEvent("beginresponsiveupdate",r),n)n[t].updateResponsiveState();ei.Z.fireEvent("responsiveupdate",r),ei.Z.resumeLayouts(!0)},onResize:function(){e.timer||(e.timer=ei.Z.asap(e.onTimer))},onTimer:function(){e.timer=null,e.notify()},register:function(t){var n;t.$responsiveId||(t.$responsiveId=n=++e.nextId,e.all[n]=t,1==++e.count&&e.activate())},unregister:function(t){var n=t.$responsiveId;n in e.all&&(t.$responsiveId=null,delete e.all[n],0==--e.count&&e.deactivate())},updateContext:function(){var t=(n=ei.Z.Element).getViewportWidth(),n=n.getViewportHeight(),r=e.context;r.width=t,r.height=n,r.tall=t<n,r.wide=!r.tall,r.landscape=r.portrait=!1,r.platform||(r.platform=ei.Z.platformTags),r[ei.Z.dom.Element.getOrientation()]=!0}},afterClassMixedIn:function(e){var t,n=e.prototype,r=n.responsiveConfig,i=n.responsiveFormulas;(r||i)&&(t={},r&&(delete n.responsiveConfig,t.responsiveConfig=r),i&&(delete n.responsiveFormulas,t.responsiveFormulas=i),e.getConfigurator().add(t)),e.addConfigTransform("transformResponsiveConfig",10)},applyResponsiveConfig:function(e){for(var t in e)e[t].fn=ei.Z.createRuleFn(t);return e},applyResponsiveFormulas:function(e){var t,n,r;if(e)for(n in r={},e)ei.Z.isString(t=e[n])&&(t=ei.Z.createRuleFn(t)),r[n]=t;return r},getResponsiveState:function(){var t,n,r,i=e.context,o=this.getResponsiveConfig();if(o)for(r in n={},o)(t=o[r]).fn.call(this,i)&&ei.Z.merge(n,t.config);return n},setupResponsiveContext:function(){var t,n=this.getResponsiveFormulas(),r=e.context;if(n)for(t in n)r[t]=n[t].call(this,r)},transformResponsiveConfig:function(t,n){var r=this,i=t;return n.hoistConfigs(r,t,e._configNames)&&(e.register(r),r.setupResponsiveContext(),(n=r.getResponsiveState())&&(delete(i=ei.Z.merge({},t,n)).responsiveConfig,delete i.responsiveFormulas)),i},updateResponsiveState:function(){var e=this.getResponsiveState();this.setConfig(e)}}}})),ei.Z.define("GRUI.Responsive",{override:"GRUI.Widget",mixins:["GRUI.mixin.Responsive"]}),ei.Z.define("GRUI.Stateful",{override:"GRUI.Widget",mixins:["GRUI.state.Stateful"],requires:["GRUI.state.Provider"]}),ei.Z.define("GRUI.fx.State",{isAnimatable:{"background-color":!0,"background-image":!0,"background-position":!0,"border-bottom-color":!0,"border-bottom-width":!0,"border-color":!0,"border-left-color":!0,"border-left-width":!0,"border-right-color":!0,"border-right-width":!0,"border-spacing":!0,"border-top-color":!0,"border-top-width":!0,"border-width":!0,bottom:!0,color:!0,crop:!0,"font-size":!0,"font-weight":!0,height:!0,left:!0,"letter-spacing":!0,"line-height":!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"max-height":!0,"max-width":!0,"min-height":!0,"min-width":!0,opacity:!0,"outline-color":!0,"outline-offset":!0,"outline-width":!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,right:!0,"text-indent":!0,"text-shadow":!0,top:!0,"vertical-align":!0,visibility:!0,width:!0,"word-spacing":!0,"z-index":!0,zoom:!0,transform:!0},constructor:function(e){this.data={},this.set(e)},setConfig:function(e){return this.set(e),this},setRaw:function(e){return this.data=e,this},clear:function(){return this.setRaw({})},setTransform:function(e,t){var n,r,i=this.data,o=ei.Z.isArray(t),a=(a=i.transform)||(i.transform={translateX:0,translateY:0,translateZ:0,scaleX:1,scaleY:1,scaleZ:1,rotate:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0});if("string"==typeof e)switch(e){case"translate":if(o){if(0===(n=t.length))break;if(a.translateX=t[0],1===n)break;if(a.translateY=t[1],2===n)break;a.translateZ=t[2]}else a.translateX=t;break;case"rotate":if(o){if(0===(n=t.length))break;if(a.rotateX=t[0],1===n)break;if(a.rotateY=t[1],2===n)break;a.rotateZ=t[2]}else a.rotate=t;break;case"scale":if(o){if(0===(n=t.length))break;if(a.scaleX=t[0],1===n)break;if(a.scaleY=t[1],2===n)break;a.scaleZ=t[2]}else a.scaleX=t,a.scaleY=t;break;case"skew":if(o){if(0===(n=t.length))break;if(a.skewX=t[0],1===n)break;a.skewY=t[1]}else a.skewX=t;break;default:a[e]=t}else for(r in e)e.hasOwnProperty(r)&&(t=e[r],this.setTransform(r,t))},set:function(e,t){var n,r=this.data;if("string"!=typeof e)for(n in e)t=e[n],"transform"===n?this.setTransform(t):r[n]=t;else"transform"===e?this.setTransform(t):r[e]=t;return this},unset:function(e){var t=this.data;return t.hasOwnProperty(e)&&delete t[e],this},getData:function(){return this.data}}),ei.Z.define("GRUI.fx.animation.Abstract",{extend:"GRUI.Evented",mixins:["GRUI.mixin.Factoryable"],factoryConfig:{type:"animation"},isAnimation:!0,requires:["GRUI.fx.State"],config:{name:"",element:null,before:null,from:{},to:{},after:null,states:{},duration:300,easing:"linear",iteration:1,direction:"normal",delay:0,onBeforeStart:null,callback:null,onEnd:null,onBeforeEnd:null,scope:null,reverse:null,preserveEndState:!1,replacePrevious:!0},STATE_FROM:"0%",STATE_TO:"100%",DIRECTION_UP:"up",DIRECTION_TOP:"top",DIRECTION_DOWN:"down",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",DIRECTION_RIGHT:"right",stateNameRegex:/^(?:[\d.]+)%$/,constructor:function(){return this.states={},this.callParent2(this,"GRUI.Evented","null","constructor",this.constructor,arguments),this},applyElement:function(e){return ei.Z.get(e)},applyBefore:function(e,t){if(e)return ei.Z.factory(e,ei.Z.fx.State,t)},applyAfter:function(e,t){if(e)return ei.Z.factory(e,ei.Z.fx.State,t)},setFrom:function(e){return this.setState(this.STATE_FROM,e)},setTo:function(e){return this.setState(this.STATE_TO,e)},getFrom:function(){return this.getState(this.STATE_FROM)},getTo:function(){return this.getState(this.STATE_TO)},setStates:function(e){var t,n=this.stateNameRegex;for(t in e)n.test(t)&&this.setState(t,e[t]);return this},getStates:function(){return this.states},updateCallback:function(e){e&&this.setOnEnd(e)},end:function(){this.stop()},stop:function(){this.fireEvent("stop",this)},destroy:function(){this.destroying=!0,this.stop(),this.callParent2(this,"GRUI.Evented","null","destroy",this.destroy,arguments),this.destroying=!1,this.destroyed=!0},setState:function(e,t){var n=this.getStates();return(t=ei.Z.factory(t,ei.Z.fx.State,n[e]))&&(n[e]=t),this},getState:function(e){return this.getStates()[e]},getData:function(){var e,t,n=this,r=n.getStates(),i={},o=n.getBefore(),a=n.getAfter(),s=r[n.STATE_FROM],l=r[n.STATE_TO];s=s.getData(),l=l.getData();for(t in r)r.hasOwnProperty(t)&&(e=r[t].getData(),i[t]=e);return{before:o?o.getData():{},after:a?a.getData():{},states:i,from:s,to:l,duration:n.getDuration(),iteration:n.getIteration(),direction:n.getDirection(),easing:n.getEasing(),delay:n.getDelay(),onEnd:n.getOnEnd(),onBeforeEnd:n.getOnBeforeEnd(),onBeforeStart:n.getOnBeforeStart(),scope:n.getScope(),preserveEndState:n.getPreserveEndState(),replacePrevious:n.getReplacePrevious()}}}),ei.Z.define("GRUI.fx.animation.Slide",{extend:"GRUI.fx.animation.Abstract",alternateClassName:"GRUI.fx.animation.SlideIn",alias:["animation.slide","animation.slideIn"],config:{direction:"left",out:!1,offset:0,easing:"auto",containerBox:"auto",elementBox:"auto",isElementBoxFit:!0,useCssTransform:!0},reverseDirectionMap:{up:"down",top:"down",down:"up",bottom:"up",left:"right",right:"left"},applyEasing:function(e){return"auto"===e?"ease-"+(this.getOut()?"in":"out"):e},getContainerBox:function(){var e=this._containerBox;return"auto"===e?this.getElement().getParent().getBox():e},getElementBox:function(){var e=this._elementBox;return this.getIsElementBoxFit()?this.getContainerBox():"auto"===e?this.getElement().getBox():e},getData:function(){var e,t=this.getElementBox(),n=this.getContainerBox(),r=t||n,i=(t=this.getFrom(),this.getTo()),o=this.getOut(),a=this.getOffset(),s=this.getDirection(),l=this.getUseCssTransform(),u=this.getReverse(),c=0,d=0;switch("string"==typeof a&&(e=!0,a=parseFloat(a)),s=u?this.reverseDirectionMap[s]:s){case this.DIRECTION_UP:case this.DIRECTION_TOP:e&&(a=r.height*a/100),d=o?n.top-r.top-r.height-a:n.bottom-r.bottom+r.height+a;break;case this.DIRECTION_DOWN:case this.DIRECTION_BOTTOM:e&&(a=r.height*a/100),d=o?n.bottom-r.bottom+r.height+a:n.top-r.height-r.top-a;break;case this.DIRECTION_RIGHT:e&&(a=r.width*a/100),c=o?n.right-r.right+r.width+a:n.left-r.left-r.width-a;break;case this.DIRECTION_LEFT:e&&(a=r.width*a/100),c=o?n.left-r.left-r.width-a:n.right-r.right+r.width+a}return u=o?0:c,s=o?0:d,l?t.setTransform({translateX:u,translateY:s}):(t.set("left",u),t.set("top",s)),u=o?c:0,t=o?d:0,l?i.setTransform({translateX:u,translateY:t}):(i.set("left",u),i.set("top",t)),this.callParent2(this,"GRUI.fx.animation.Abstract","null","getData",this.getData,arguments)}}),ei.Z.define("GRUI.fx.animation.SlideOut",{extend:"GRUI.fx.animation.Slide",alias:["animation.slideOut"],config:{out:!0}}),ei.Z.define("GRUI.fx.animation.Fade",{extend:"GRUI.fx.animation.Abstract",alternateClassName:"GRUI.fx.animation.FadeIn",alias:["animation.fade","animation.fadeIn"],config:{out:!1,before:{display:null,opacity:0},after:{opacity:null},reverse:null},updateOut:function(e){var t=this.getTo(),n=this.getFrom();e?(n.set("opacity",1),t.set("opacity",0)):(n.set("opacity",0),t.set("opacity",1))}}),ei.Z.define("GRUI.fx.animation.FadeOut",{extend:"GRUI.fx.animation.Fade",alias:"animation.fadeOut",config:{out:!0,before:{}}}),ei.Z.define("GRUI.fx.animation.Flip",{extend:"GRUI.fx.animation.Abstract",alias:"animation.flip",config:{easing:"ease-in",direction:"right",half:!1,out:null},getData:function(){var e=(o=this).getFrom(),t=o.getTo(),n=o.getDirection(),r=o.getOut(),i=o.getHalf()?90:180,o=1,a=1,s=0,l=0,u=0,c=0;switch(r?a=.8:o=.8,n){case this.DIRECTION_UP:case this.DIRECTION_TOP:r?u=i:s=-i;break;case this.DIRECTION_DOWN:case this.DIRECTION_BOTTOM:r?u=-i:s=i;break;case this.DIRECTION_RIGHT:r?c=i:l=-i;break;case this.DIRECTION_LEFT:r?c=-i:l=i}return e.setTransform({rotateX:s,rotateY:l,scale:o}),t.setTransform({rotateX:u,rotateY:c,scale:a}),this.callParent2(this,"GRUI.fx.animation.Abstract","null","getData",this.getData,arguments)}}),ei.Z.define("GRUI.fx.animation.Pop",{extend:"GRUI.fx.animation.Abstract",alias:["animation.pop","animation.popIn"],alternateClassName:"GRUI.fx.animation.PopIn",config:{out:!1,before:{display:null,opacity:0},after:{opacity:null}},getData:function(){var e=this.getTo(),t=this.getFrom();return this.getOut()?(t.set("opacity",1),t.setTransform({scale:1}),e.set("opacity",0),e.setTransform({scale:0})):(t.set("opacity",0),t.setTransform({scale:0}),e.set("opacity",1),e.setTransform({scale:1})),this.callParent2(this,"GRUI.fx.animation.Abstract","null","getData",this.getData,arguments)}}),ei.Z.define("GRUI.fx.animation.PopOut",{extend:"GRUI.fx.animation.Pop",alias:"animation.popOut",config:{out:!0,before:{}}}),ei.Z.define("GRUI.fx.Animation",{requires:["GRUI.fx.animation.Slide","GRUI.fx.animation.SlideOut","GRUI.fx.animation.Fade","GRUI.fx.animation.FadeOut","GRUI.fx.animation.Flip","GRUI.fx.animation.Pop","GRUI.fx.animation.PopOut"],constructor:function(e){var t,n=ei.Z.fx.animation.Abstract;return"string"==typeof e?(t=e,e={}):e&&e.type&&(t=e.type),t&&(n=ei.Z.ClassManager.getByAlias("animation."+t)),ei.Z.factory(e,n)}}),ei.Z.define("GRUI.overrides.Progress",{override:"GRUI.Progress",requires:["GRUI.fx.Animation"],initialize:function(){this.callParent2(this,"null","GRUI.Progress","initialize",this.initialize,arguments),this.on("painted","onPainted",this)},onPainted:function(){this.syncWidth()},onResize:function(e){this.syncWidth(e)},syncWidth:function(e){var t=this;null==e&&(e=t.element.getWidth()),t.backgroundEl.setWidth(e),t.textEl.setWidth(e)},privates:{startBarAnimation:function(e){var t=this;t.barAnim=new ei.Z.fx.Animation(ei.Z.apply(e,{element:t.barEl,preserveEndState:!0,callback:function(){delete t.barAnim}})),ei.Z.Animator.run(t.barAnim)},stopBarAnimation:function(){var e=this.barAnim;e&&e.destroy(),this.barAnim=null}}}),ei.Z.define("GRUI.app.EventDomain",{requires:["GRUI.util.Event"],statics:{instances:{}},isEventDomain:!0,isInstance:!1,constructor:function(){var e=this;e.isInstance||(ei.Z.app.EventDomain.instances[e.type]=e),e.bus={},e.monitoredClasses=[]},dispatch:function(e,t,n){t=ei.Z.canonicalEventName(t);var r,i,o,a,s,l,u,c,d=this,f=d.bus[t];if(!f)return!0;for(r in f)if(f.hasOwnProperty(r)&&d.match(e,r,d.controller))for(o in i=f[r])if(i.hasOwnProperty(o)&&(a=i[o]).controller.isActive())for(l=(s=a.list).length,u=0;u<l;u++)if(!1===(c=s[u]).fire.apply(c,n))return!1;return!0},listen:function(e,t){var n,r,i,o,a,s,l,u,c,d=this,f=d.bus,h=d.idProperty,p=d.monitoredClasses,g=p.length,m=t.getId(),v="component"===d.type,y=v?t.getRefMap():null;for(r in e)if(l=e[r],v&&(r=y[r]||r),l)for(u in h&&(r="*"===r?r:r.substring(1)),l){for(i=null,o=l[u],a=t,u=ei.Z.canonicalEventName(u),s=new ei.Z.util.Event(t,u),ei.Z.isObject(o)&&(o=(i=o).fn,a=i.scope||t,delete i.fn,delete i.scope),"string"==typeof o&&(o=a[o]),s.addListener(o,a,i),n=0;n<g;++n)(c=p[n].hasListeners)&&c._incr_(u);((o=(o=f[u]||(f[u]={}))[r]||(o[r]={}))[m]||(o[m]={controller:t,list:[]})).list.push(s)}},match:function(e,t){var n=this.idProperty;return!!n&&("*"===t||e[n]===t)},monitor:function(e){var t=this,n=e.isInstance?e:e.prototype,r=n.doFireEvent;t.monitoredClasses.push(e),n.doFireEvent=function(e,n){var i=this,o=r.apply(i,arguments);return!1===o||i.destroyed||i.isSuspended(e)?o:t.dispatch(i,e,n)}},unlisten:function(e){var t,n,r,i,o,a,s,l,u,c,d,f=this.bus,h=e,p=this.monitoredClasses,g=p.length;for(n in e.isController&&(h=e.getId()),f)if(n=ei.Z.canonicalEventName(n),f.hasOwnProperty(n)&&(s=f[n]))for(a in s)if((c=(t=s[a])[h])&&(r=c.list)){for(l=0,i=r.length;l<i;++l)for((o=r[l]).clearListeners(),u=0;u<g;++u)(d=p[u].hasListeners)&&d._decr_(o.name);delete t[h]}},destroy:function(){this.monitoredClasses=this.bus=null,this.callParent2(this,"null","null","destroy",this.destroy,arguments)}}),ei.Z.define("GRUI.util.Observable",{extend:"GRUI.mixin.Observable",$applyConfigs:!0},(function(e){var t=ei.Z.mixin.Observable;e.releaseCapture=t.releaseCapture,e.capture=t.capture,e.captureArgs=t.captureArgs,e.observe=e.observeClass=t.observe})),ei.Z.define("GRUI.util.History",{singleton:!0,alternateClassName:"GRUI.History",mixins:{observable:"GRUI.util.Observable"},useTopWindow:!1,hashRe:/^(#?!?)/,constructor:function(){var e=this;e.ready=!1,e.currentToken=null,e.mixins.observable.constructor.call(e)},getHash:function(){return(this.win.location.hash||"").replace(this.hashRe,"")},setHash:function(e,t){var n=this,r=n.hashRe,i=n.win.location;e=e.replace(r,n.hashbang?"#!":"#");try{t?i.replace(e):i.hash=e,n.currentToken=e.replace(r,"")}catch(e){}},handleStateChange:function(e){e=e.replace(this.hashRe,""),this.fireEvent("change",this.currentToken=e)},startUp:function(){var e=this;e.currentToken=e.getHash(),ei.Z.get(e.win).on("hashchange",e.onHashChange,e),e.ready=!0,e.fireEvent("ready",e)},onHashChange:function(){var e=this,t=e.getHash();t!==e.hash&&(e.hash=t,e.handleStateChange(t))},init:function(e,t){var n=this;n.ready?ei.Z.callback(e,t,[n]):ei.Z.isReady?(n.win=n.useTopWindow?window.top:window,n.hash=n.getHash(),e&&n.on("ready",e,t,{single:!0}),n.startUp()):ei.Z.onInternalReady((function(){n.init(e,t)}))},add:function(e,t){var n=!1;return!1!==t&&this.getToken()===e||(this.setHash(e),n=!0),n},replace:function(e,t){var n=!1;return!1!==t&&this.getToken()===e||(this.setHash(e,!0),n=!0),n},back:function(){this.win.history.go(-1)},forward:function(){this.win.history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}}),ei.Z.define("GRUI.app.Util",{},(function(){ei.Z.apply(ei.Z.app,{namespaces:{GRUI:{}},addNamespaces:function(e){for(var t=ei.Z.app.namespaces,n=0,r=(e=ei.Z.isArray(e)?e:[e]).length;n<r;n++)t[e[n]]=!0},clearNamespaces:function(){ei.Z.app.namespaces={}},getNamespace:function(e){var t,n=ei.Z.apply({},ei.Z.ClassManager.paths,ei.Z.app.namespaces),r="";for(t in n)n.hasOwnProperty(t)&&t.length>r.length&&t+"."===e.substring(0,t.length+1)&&(r=t);return""===r?void 0:r},setupPaths:function(e,t,n){var r,i=ei.Z.manifest;if(!e||null===t||(i=i&&i.paths)&&void 0===t||ei.Z.Loader.setPath(e,void 0===t?"app":t),n)for(r in n)n.hasOwnProperty(r)&&ei.Z.Loader.setPath(r,n[r])}}),ei.Z.getNamespace=ei.Z.app.getNamespace})),ei.Z.define("GRUI.util.BasicFilter",{isFilter:!0,config:{id:null,disabled:!1,serializer:null},generation:0,constructor:function(e){this.initConfig(e)},updateDisabled:function(){this.isConfiguring||++this.generation}}),ei.Z.define("GRUI.util.Filter",{extend:"GRUI.util.BasicFilter",config:{property:null,root:null,value:null,filterFn:null,anyMatch:!1,exactMatch:!1,caseSensitive:!1,disableOnEmpty:!1,operator:null,convert:null},scope:null,$configStrict:!1,statics:{createFilterFn:function(e){return e?function(t){for(var n,r=e.isCollection?e.items:e,i=r.length,o=!0,a=0;o&&a<i;a++)(n=r[a]).getDisabled()||(o=n.filter(t));return o}:ei.Z.returnTrue},isEqual:function(e,t){return e.getProperty()===t.getProperty()&&e.getOperator()===t.getOperator()&&(e.getValue()===t.getValue()||!(!ei.Z.isArray(e)||!ei.Z.isArray(t))&&ei.Z.Array.equals(e,t))},isInvalid:function(e){if(!e.filterFn){if(!e.property)return"A Filter requires either a property or a filterFn to be set";if(!e.hasOwnProperty("value")&&!e.operator)return"A Filter requires either a property and value, or a filterFn to be set"}return!1}},preventConvert:{in:1,notin:1},filter:function(e){var t=this,n=t._filterFn||t.getFilterFn(),r=t.getConvert(),i=t._value;return t._filterValue=i,t.isDateValue=ei.Z.isDate(i),t.isDateValue&&(t.dateValue=i.getTime()),r&&!t.preventConvert[t.getOperator()]&&(t._filterValue=r.call(t.scope||t,i)),n.call(t.scope||t,e)},getId:function(){var e=this,t=e._id;return t||(t=(t=e.getProperty())||ei.Z.id(null,"ext-filter-"),e._id=t),t},getFilterFn:function(){var e,t=this,n=t._filterFn;return n||(n=(e=t.getOperator())?t.operatorFns[e]:t.createRegexFilter(),t._filterFn=n,t.generatedFilterFn=!0),n},createRegexFilter:function(){var e=this,t=!!e.getAnyMatch(),n=!!e.getExactMatch(),r=e.getValue(),i=ei.Z.String.createRegex(r,!t,!t&&n,!e.getCaseSensitive());return function(t){return t=e.getPropertyValue(t),i?i.test(t):null==t}},getPropertyValue:function(e){var t=this._root;return(null==t?e:e[t])[this._property]},getState:function(){var e,t=this.getInitialConfig(),n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return delete n.root,n.value=this.getValue(),n},getScope:function(){return this.scope},serialize:function(){var e=this.getState(),t=this.getSerializer();return delete e.id,delete e.serializer,t&&(t=t.call(this,e))?t:e},serializeTo:function(e){var t,n=this;return n.getFilterFn(),n.generatedFilterFn&&(e.push(e=n.serialize()),t=n.primitiveRe.test(typeof e)),!t},updateOperator:function(){this.onConfigMutation()},updateConvert:function(){this.onConfigMutation()},updateProperty:function(){this.onConfigMutation()},updateAnyMatch:function(){this.onConfigMutation()},updateExactMatch:function(){this.onConfigMutation()},updateCaseSensitive:function(){this.onConfigMutation()},updateValue:function(e){this.onConfigMutation(),this.getDisableOnEmpty()&&this.setDisabled(ei.Z.isEmpty(e))},updateFilterFn:function(e){delete this.generatedFilterFn},onConfigMutation:function(){this.generation++,this.generatedFilterFn&&(this._filterFn=null)},updateDisableOnEmpty:function(e){e&&this.setDisabled(ei.Z.isEmpty(this.getValue()))},privates:{primitiveRe:/string|number|boolean/,getCandidateValue:function(e,t,n){var r=this,i=r._convert;e=r.getPropertyValue(e);return i?e=i.call(r.scope||r,e):n||(e=ei.Z.coerce(e,t)),e}}},(function(e){e=e.prototype.operatorFns={"<":function(e){var t=this._filterValue;return this.getCandidateValue(e,t)<t},"<=":function(e){var t=this._filterValue;return this.getCandidateValue(e,t)<=t},"=":function(e){var t=this._filterValue;return e=this.getCandidateValue(e,t),this.isDateValue&&e instanceof Date&&(e=e.getTime(),t=this.dateValue),e==t},"===":function(e){var t=this._filterValue;return e=this.getCandidateValue(e,t,!0),this.isDateValue&&e instanceof Date&&(e=e.getTime(),t=this.dateValue),e===t},">=":function(e){var t=this._filterValue;return this.getCandidateValue(e,t)>=t},">":function(e){var t=this._filterValue;return this.getCandidateValue(e,t)>t},"!=":function(e){var t=this._filterValue;return e=this.getCandidateValue(e,t),this.isDateValue&&e instanceof Date&&(e=e.getTime(),t=this.dateValue),e!=t},"!==":function(e){var t=this._filterValue;return e=this.getCandidateValue(e,t,!0),this.isDateValue&&e instanceof Date&&(e=e.getTime(),t=this.dateValue),e!==t},in:function(e){var t=this._filterValue;return ei.Z.Array.contains(t,this.getCandidateValue(e,t))},notin:function(e){var t=this._filterValue;return!ei.Z.Array.contains(t,this.getCandidateValue(e,t))},like:function(e){var t=this._filterValue;return t&&-1<this.getCandidateValue(e,t).toLowerCase().indexOf(t.toLowerCase())},"/=":function(e){var t=this,n=t._filterValue;if(e=t.getCandidateValue(e,n),n!==t.lastRegExpSource){t.lastRegExpSource=n;try{t.regex=new RegExp(n,"i")}catch(e){t.regex=null}}return!!t.regex&&t.regex.test(e)},empty:function(e){var t=this._filterValue;return null==(e=this.getCandidateValue(e,t,!0))||""===e},nempty:function(e){var t=this._filterValue;return null!=(e=this.getCandidateValue(e,t,!0))&&""!==e}},e["=="]=e["="],e.gt=e[">"],e.ge=e[">="],e.lt=e["<"],e.le=e["<="],e.eq=e["="],e.ne=e["!="]})),ei.Z.define("GRUI.util.AbstractMixedCollection",{requires:["GRUI.util.Filter"],mixins:{observable:"GRUI.util.Observable"},isMixedCollection:!0,generation:0,indexGeneration:0,constructor:function(e,t){var n=this;1===arguments.length&&ei.Z.isObject(e)?(n.initialConfig=e,ei.Z.apply(n,e)):(n.allowFunctions=!0===e,t&&(n.getKey=t),n.initialConfig={allowFunctions:n.allowFunctions,getKey:n.getKey}),n.items=[],n.map={},n.keys=[],n.indexMap={},n.length=0,n.mixins.observable.constructor.call(n)},destroy:function(){var e=this;e.items=e.map=e.keys=e.indexMap=null,this.callParent2(this,"null","null","destroy",this.destroy,arguments)},allowFunctions:!1,add:function(e,t){var n=this.length;return n=1===arguments.length?this.insert(n,e):this.insert(n,e,t)},getKey:function(e){return e.id},replace:function(e,t){var n,r,i=this;return 1===arguments.length&&(t=arguments[0],e=i.getKey(t)),n=i.map[e],null==e||void 0===n?i.add(e,t):(i.generation++,r=i.indexOfKey(e),i.items[r]=t,i.map[e]=t,i.hasListeners.replace&&i.fireEvent("replace",e,n,t),t)},reorder:function(e){var t,n=this,r=n.items,i=0,o=r.length,a=[],s=[];for(t in n.suspendEvents(),e)a[e[t]]=r[t];for(i=0;i<o;i++)null==e[i]&&s.push(r[i]);for(i=0;i<o;i++)null==a[i]&&(a[i]=s.shift());n.clear(),n.addAll(a),n.resumeEvents()},updateKey:function(e,t){var n,r=this,i=r.map,o=r.indexOfKey(e),a=r.indexMap;-1<o&&(n=i[e],delete i[e],delete a[e],i[t]=n,a[t]=o,r.keys[o]=t,r.indexGeneration=++r.generation)},addAll:function(e){var t,n=this;if(1<arguments.length||ei.Z.isArray(e))n.insert(n.length,1<arguments.length?arguments:e);else for(t in e)!e.hasOwnProperty(t)||!n.allowFunctions&&"function"==typeof e[t]||n.add(t,e[t])},each:function(e,t){for(var n,r=ei.Z.Array.push([],this.items),i=0,o=r.length;i<o&&(n=r[i],!1!==e.call(t||n,n,i,o));i++);},eachKey:function(e,t){for(var n=this.keys,r=this.items,i=0,o=n.length;i<o;i++)e.call(t||window,n[i],r[i],i,o)},findBy:function(e,t){for(var n=this.keys,r=this.items,i=0,o=r.length;i<o;i++)if(e.call(t||window,r[i],n[i]))return r[i];return null},find:function(){return ei.Z.isDefined(ei.Z.global.console)&&ei.Z.global.console.warn("GRUI.util.MixedCollection: find has been deprecated. Use findBy instead."),this.findBy.apply(this,arguments)},insert:function(e,t,n){var r=ei.Z.isIterable(t)?this.doInsert(e,t,n):(r=2<arguments.length?this.doInsert(e,[t],[n]):this.doInsert(e,[t]))[0];return r},doInsert:function(e,t,n){var r,i,o,a,s,l,u,c=this,d=t.length,f=d,h=c.hasListeners.add,p={};if(null!=n)c.useLinearSearch=!0;else for(n=t,t=new Array(d),o=0;o<d;o++)t[o]=this.getKey(n[o]);for(c.suspendEvents(),o=0;o<d;o++)r=t[o],-1!==(i=c.indexOfKey(r))&&(i<e&&e--,c.removeAt(i)),null!=r&&(null!=p[r]&&(s=!0,f--),p[r]=o);if(c.resumeEvents(),s){for(r in l=t,u=n,t=new Array(f),n=new Array(f),o=0,p)t[o]=l[p[r]],n[o]=u[p[r]],o++;d=f}for(a=e===c.length&&c.indexGeneration===c.generation,ei.Z.Array.insert(c.items,e,n),ei.Z.Array.insert(c.keys,e,t),c.length+=d,c.generation++,a&&(c.indexGeneration=c.generation),o=0;o<d;o++,e++)null!=(r=t[o])&&(c.map[r]=n[o],a&&(c.indexMap[r]=e)),h&&c.fireEvent("add",e,n[o],r);return n},remove:function(e){var t=this,n=!t.useLinearSearch&&(n=t.getKey(e))?t.indexOfKey(n):ei.Z.Array.indexOf(t.items,e);return-1!==n&&t.removeAt(n)},removeAll:function(e){var t,n=this;if(e||n.hasListeners.remove)if(e)for(t=e.length-1;0<=t;--t)n.remove(e[t]);else for(;n.length;)n.removeAt(0);else n.length=n.items.length=n.keys.length=0,n.map={},n.indexMap={},n.generation++,n.indexGeneration=n.generation},removeAt:function(e){var t,n,r=this;return e<r.length&&0<=e&&(r.length--,t=r.items[e],ei.Z.Array.erase(r.items,e,1),void 0!==(n=r.keys[e])&&delete r.map[n],ei.Z.Array.erase(r.keys,e,1),r.hasListeners.remove&&r.fireEvent("remove",t,n),r.generation++,t)},removeRange:function(e,t){var n,r,i,o,a,s,l=this;if(e<l.length&&0<=e){for(t=t||1,t=(o=Math.min(e+t,l.length))-e,a=(s=o===l.length)&&l.indexGeneration===l.generation,i=e;i<o;i++)null!=(r=l.keys[i])&&(delete l.map[r],a&&delete l.indexMap[r]);return n=l.items[i-1],l.length-=t,l.generation++,a&&(l.indexGeneration=l.generation),s?l.items.length=l.keys.length=l.length:(l.items.splice(e,t),l.keys.splice(e,t)),n}return!1},removeAtKey:function(e){var t,n=this.keys;if(null!=e)return this.removeAt(this.indexOfKey(e));for(t=n.length-1;0<=t;t--)null==n[t]&&this.removeAt(t)},getCount:function(){return this.length},indexOf:function(e){var t;return null!=e?!this.useLinearSearch&&(t=this.getKey(e))?this.indexOfKey(t):ei.Z.Array.indexOf(this.items,e):-1},indexOfKey:function(e){return this.map.hasOwnProperty(e)?(this.indexGeneration!==this.generation&&this.rebuildIndexMap(),this.indexMap[e]):-1},rebuildIndexMap:function(){for(var e=this.indexMap={},t=this.keys,n=t.length,r=0;r<n;r++)e[t[r]]=r;this.indexGeneration=this.generation},get:function(e){var t;return"function"!=typeof(t=void 0!==(t=this.map[e])?t:"number"==typeof e?this.items[e]:void 0)||this.allowFunctions?t:null},getAt:function(e){return this.items[e]},getByKey:function(e){return this.map[e]},contains:function(e){var t;return null!=e&&(!this.useLinearSearch&&(t=this.getKey(e))?null!=this.map[t]:-1!==ei.Z.Array.indexOf(this.items,e))},containsKey:function(e){return this.map.hasOwnProperty(e)},clear:function(){var e=this;e.generation&&(e.length=0,e.items=[],e.keys=[],e.map={},e.indexMap={},e.generation++,e.indexGeneration=e.generation),e.hasListeners.clear&&e.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(e,t,n,r){var i,o=this.extractValues(e,t),a=(e=o.length,0);for(r=r||0===r?r:e-1,i=n=n||0;i<=r;i++)a+=o[i];return a},collect:function(e,t,n){for(var r,i,o=this.extractValues(e,t),a=o.length,s={},l=[],u=0;u<a;u++)r=o[u],i=String(r),!n&&ei.Z.isEmpty(r)||s[i]||(s[i]=!0,l.push(r));return l},extractValues:function(e,t){var n=this.items;return t&&(n=ei.Z.Array.pluck(n,t)),ei.Z.Array.pluck(n,e)},hasRange:function(e,t){return t<this.length},getRange:function(e,t){var n,r,i=this.items,o=[],a=i.length;return a<1||(t<e&&(r=!0,n=e,e=t,t=n),o=i.slice(e=e<0?0:e,(t=null==t||a<=t?a-1:t)+1),r&&o.length&&o.reverse()),o},filter:function(e,t,n,r){var i=[];return ei.Z.isString(e)?i.push(new ei.Z.util.Filter({property:e,value:t,anyMatch:n,caseSensitive:r})):(ei.Z.isArray(e)||e instanceof ei.Z.util.Filter)&&(i=i.concat(e)),this.filterBy(ei.Z.util.Filter.createFilterFn(i))},filterBy:function(e,t){var n,r=this,i=new r.self(r.initialConfig),o=r.keys,a=r.items,s=a.length;for(i.getKey=r.getKey,n=0;n<s;n++)e.call(t||r,a[n],o[n])&&i.add(o[n],a[n]);return i.useLinearSearch=r.useLinearSearch,i},findIndex:function(e,t,n,r,i){return ei.Z.isEmpty(t,!1)?-1:(t=this.createValueMatcher(t,r,i),this.findIndexBy((function(n){return n&&t.test(n[e])}),null,n))},findIndexBy:function(e,t,n){for(var r=this.keys,i=this.items,o=n||0,a=i.length;o<a;o++)if(e.call(t||this,i[o],r[o]))return o;return-1},createValueMatcher:function(e,t,n,r){var i;return e.exec||(i=ei.Z.String.escapeRegex,e=String(e),!0===t?e=i(e):(e="^"+i(e),!0===r&&(e+="$")),e=new RegExp(e,n?"":"i")),e},clone:function(){var e=this,t=new e.self(e.initialConfig);return t.add(e.keys,e.items),t.useLinearSearch=e.useLinearSearch,t}}),ei.Z.define("GRUI.util.Sorter",{isSorter:!0,config:{property:null,sorterFn:null,root:null,transform:null,direction:"ASC",id:void 0},statics:{createComparator:function(e,t){return t=t||0,function(n,r){for(var i,o=e.isCollection?e.items:e,a=o.length,s=0;s<a;++s)if(i=o[s].sort(n,r))return i;return t&&t(n,r)}}},multiplier:1,constructor:function(e){this.initConfig(e)},getId:function(){var e=this._id;return e||(e=(e=this.getProperty())||ei.Z.id(null,"ext-sorter-"),this._id=e),e},sort:function(e,t){return this.sortFn.customSorterfn?this.multiplier*this.sortFn(e&&e.data,t&&t.data):this.multiplier*this.sortFn(e,t)},sortFn:function(e,t){var n=(i=this)._transform,r=i._root,i=i._property;return r&&(e=e[r],t=t[r]),r=e[i],e=t[i],n&&(r=n(r),e=n(e)),e<r?1:r<e?-1:0},applyDirection:function(e){return e||"ASC"},updateDirection:function(e){this.multiplier="DESC"===e.toUpperCase()?-1:1},updateProperty:function(e){e&&delete this.sortFn},updateSorterFn:function(e){this.sortFn=e},toggle:function(){this.setDirection(ei.Z.String.toggle(this.getDirection(),"ASC","DESC"))},getState:function(){var e=this,t={root:e.getRoot(),property:e.getProperty(),direction:e.getDirection()};return e._id&&(t.id=e._id),t},serialize:function(){return{property:this.getProperty(),direction:this.getDirection()}}}),ei.Z.define("GRUI.util.Sortable",{isSortable:!0,$configPrefixed:!1,$configStrict:!1,config:{sorters:null},defaultSortDirection:"ASC",requires:["GRUI.util.Sorter"],multiSortLimit:3,statics:{createComparator:function(e){return e&&e.length?function(t,n){for(var r=e[0].sort(t,n),i=e.length,o=1;!r&&o<i;o++)r=e[o].sort.call(e[o],t,n);return r}:function(){return 0}}},applySorters:function(e){var t=this.getSorters()||new ei.Z.util.MixedCollection(!1,ei.Z.returnId);return e&&t.addAll(this.decodeSorters(e)),t},sort:function(e,t,n,r){var i,o,a=this,s=a.getSorters();if(s||(a.setSorters(null),s=a.getSorters()),ei.Z.isArray(e)?(r=n,n=t):ei.Z.isObject(e)?(e=[e],r=n,n=t):ei.Z.isString(e)&&((i=s.get(e))?null==t?i.toggle():i.setDirection(t):i={property:e,direction:t},e=[i]),e&&e.length)switch(e=a.decodeSorters(e),n){case"multi":s.insert(0,e[0]),0<(o=s.getCount()-a.multiSortLimit)&&s.removeRange(a.multiSortLimit,o);break;case"prepend":s.insert(0,e);break;case"append":s.addAll(e);break;case void 0:case null:case"replace":s.clear(),s.addAll(e)}return!1!==r&&(a.fireEvent("beforesort",a,e),a.onBeforeSort(e),a.getSorterCount()&&a.doSort(a.generateComparator())),e},getSorterCount:function(){return this.getSorters().items.length},generateComparator:function(){var e=this.getSorters().getRange();return e.length?this.createComparator(e):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:ei.Z.emptyFn,decodeSorters:function(e){for(var t,n,r=(e=ei.Z.isArray(e)?e:void 0===e?[]:[e]).length,i=ei.Z.util.Sorter,o=this.getModel?this.getModel():this.model,a=0;a<r;a++)(n=e[a])instanceof i||(ei.Z.isString(n)&&(n={property:n}),ei.Z.applyIf(n,{root:this.sortRoot,direction:"ASC"}),n.fn&&(n.sorterFn=n.fn),"function"==typeof n&&(n={sorterFn:n}),o&&!n.transform&&(t=o.getField(n.property),n.transform=t&&t.sortType!==ei.Z.identityFn?t.sortType:void 0),e[a]=new ei.Z.util.Sorter(n));return e},getFirstSorter:function(){for(var e,t=this.getSorters().items,n=t.length,r=0;r<n;++r)if(!(e=t[r]).isGrouper)return e;return null}},(function(){this.prototype.createComparator=this.createComparator})),ei.Z.define("GRUI.util.MixedCollection",{extend:"GRUI.util.AbstractMixedCollection",mixins:{sortable:"GRUI.util.Sortable"},constructor:function(){this.initConfig(),this.callParent2(this,"GRUI.util.AbstractMixedCollection","null","constructor",this.constructor,arguments)},doSort:function(e){this.sortBy(e)},_sort:function(e,t,n){var r,i,o,a=this,s="DESC"===String(t).toUpperCase()?-1:1,l=[],u=a.keys,c=a.items;for(n=n||function(e,t){return e-t},r=0,i=c.length;r<i;r++)l[l.length]={key:u[r],value:c[r],index:r};for(ei.Z.Array.sort(l,(function(t,r){return n(t[e],r[e])*s||(t.index<r.index?-1:1)})),r=0,i=l.length;r<i;r++)o=l[r],c[r]=o.value,u[r]=o.key,a.indexMap[o.key]=r;a.generation++,a.indexGeneration=a.generation,a.fireEvent("sort",a)},sortBy:function(e){for(var t,n,r=this,i=r.items,o=r.keys,a=i.length,s=0;s<a;s++)i[s].$extCollectionIndex=s;for(ei.Z.Array.sort(i,(function(t,n){return e(t,n)||(t.$extCollectionIndex<n.$extCollectionIndex?-1:1)})),s=0;s<a;s++)t=i[s],n=r.getKey(t),o[s]=n,r.indexMap[n]=s,delete t.$extCollectionIndex;r.generation++,r.indexGeneration=r.generation,r.fireEvent("sort",r,i,o)},findInsertionIndex:function(e,t){var n,r,i=this.items,o=0,a=i.length-1;for(t=t||this.generateComparator();o<=a;)0<=(r=t(e,i[n=o+a>>1]))?o=1+n:r<0&&(a=n-1);return o},reorder:function(e){this.callParent2(this,"GRUI.util.AbstractMixedCollection","null","reorder",this.reorder,arguments),this.fireEvent("sort",this)},sortByKey:function(e,t){this._sort("key",e,t||function(e,t){return e=String(e).toUpperCase(),(t=String(t).toUpperCase())<e?1:e<t?-1:0})}}),ei.Z.define("GRUI.util.CollectionKey",{mixins:["GRUI.mixin.Identifiable"],isCollectionKey:!0,observerPriority:-200,config:{collection:null,keyFn:null,property:null,rootProperty:null,unique:!0},generation:0,map:null,mapRebuilds:0,constructor:function(e){this.initConfig(e)},get:function(e){return(this.map||this.getMap())[e]||null},clear:function(){this.map=null},getRootProperty:function(){var e=this.callParent2(this,"null","null","getRootProperty",this.getRootProperty,arguments);return null!==e?e:this.getCollection().getRootProperty()},indexOf:function(e,t){e=(this.map||this.getMap())[e];var n,r,i,o,a=this.getCollection(),s=a.length;if(!e)return-1;if(void 0===t&&(t=-1),e instanceof Array){for(r=s,o=(i=e).length;0<o--;)(n=a.indexOf(i[o]))<r&&t<n&&(r=n);if(r===s)return-1}else r=a.indexOf(e);return t<r?r:-1},updateKey:function(e,t){var n,r,i=this.map;i&&((n=i[t])instanceof Array?0<=(r=ei.Z.Array.indexOf(n,e))&&(2<n.length?n.splice(r,1):i[t]=n[1-r]):n&&delete i[t],this.add([e]))},onCollectionAdd:function(e,t){this.map&&this.add(t.items)},onCollectionItemChange:function(e,t){this.map=null},onCollectionRefresh:function(){this.map=null},onCollectionRemove:function(e,t){var n,r=this,i=r.map,o=t.items,a=o.length;if(i)if(r.getUnique()&&a<e.length/2)for(n=0;n<a;++n)delete i[r.getKey(o[n])];else r.map=null},add:function(e){for(var t,n,r,i=this,o=i.map,a=e.length,s=i.getUnique(),l=0;l<a;++l)r=i.getKey(n=e[l]),!s&&r in o?((t=o[r])instanceof Array||(o[r]=t=[t]),t.push(n)):o[r]=n},applyKeyFn:function(e){ei.Z.isString(e)?this.getKey=function(t){return t[e]()}:this.getKey=e},updateProperty:function(e){var t=this.getRootProperty();this.getKey=function(n){return(t?n[t]:n)[e]}},getMap:function(){var e=this,t=e.map;return t||(e.map=t={},e.keysByItemKey={},++e.mapRebuilds,e.add(e.getCollection().items)),t},updateCollection:function(e,t){e&&e.addObserver(this),t&&t.removeObserver(this)},clone:function(){return new ei.Z.util.CollectionKey(this.getCurrentConfig())},destroy:function(){this.clear(),this.getCollection().removeObserver(this),this.destroyed=!0}}),ei.Z.define("GRUI.util.Grouper",{extend:"GRUI.util.Sorter",isGrouper:!0,config:{groupFn:null,sortProperty:null,formatter:!1,blankValue:""},_eventToMethodMap:{propertychange:"onGrouperPropertyChange",directionchange:"onGrouperDirectionChange"},constructor:function(e){this.callParent2(this,"GRUI.util.Sorter","null","constructor",this.constructor,arguments)},getGroupString:function(e){return e.$collapsedGroupPlaceholder?e.$groupKey:this.getGroupValue(e).toString()},getGroupValue:function(e){return null!=(e=e.$collapsedGroupPlaceholder?e.$groupValue:this._groupFn(e))&&""!==e?e:this.getBlankValue()},sortFn:function(e,t){var n=(s=this).getGroupValue(e),r=s.getGroupValue(t),i=s._sortProperty,o=s._root,a=s._sorterFn,s=s._transform;if(n===r||ei.Z.Date.isEqual(n,r))return 0;if(i||a){if(a)return a.call(this,e,t);o&&(e=e[o],t=t[o]),n=e[i],r=t[i],s&&(n=s(n),r=s(r))}return r<n?1:n<r?-1:0},standardGroupFn:function(e){var t=this,n=t._root,r=t._formatter;n=(n?e[n]:e)[t._property];return r?r(n,t):n},updateSorterFn:function(){},updateProperty:function(e,t){var n=this;n.getGroupFn()||n.setGroupFn(n.standardGroupFn),n.notify("propertychange",[e,t])},updateDirection:function(e,t){this.callParent2(this,"GRUI.util.Sorter","null","updateDirection",this.updateDirection,arguments),this.notify("directionchange",[e,t])},applyFormatter:function(e){var t;return e?(e=ei.Z.app.bind.Parser.fly(e),t=e.compileFormat(),e.release(),function(e,n){return t(e,n)}):null},addObserver:function(e){var t=this,n=t.observers;n||(t.observers=n=[]),ei.Z.Array.contains(n,e)&&ei.Z.Error.raise("Observer already added"),t.notifying&&(t.observers=n=n.slice(0)),n.push(e),1<n.length&&ei.Z.Array.sort(n,t.prioritySortFn),t.dirtyObservers=!0},prioritySortFn:function(e,t){return e=+e.observerPriority,t=+t.observerPriority,(e=isNaN(e)?0:e)-(isNaN(t)?0:t)},removeObserver:function(e){var t=this.observers;t&&(ei.Z.Array.remove(t,e),this.dirtyObservers=!0)},clearObservers:function(){this.observers=null},notify:function(e,t){var n,r,i,o,a=this,s=a.observers,l=a._eventToMethodMap[e],u=0;if(t=t||[],s&&l){for(a.notifying=!0,a.dirtyObservers&&1<s.length&&(ei.Z.Array.sort(s,a.prioritySortFn),a.dirtyObservers=!1),n=0,r=s.length;n<r;++n)(i=(o=s[n])[l])&&(u++||t.unshift(a),i.apply(o,t));a.notifying=!1}}}),ei.Z.define("GRUI.util.Collection",{mixins:["GRUI.mixin.Observable"],requires:["GRUI.util.CollectionKey","GRUI.util.Filter","GRUI.util.Sorter","GRUI.util.Grouper"],uses:["GRUI.util.SorterCollection","GRUI.util.FilterCollection","GRUI.util.GroupCollection","GRUI.util.GrouperCollection"],isCollection:!0,config:{autoFilter:!0,autoSort:!0,autoGroup:!0,decoder:null,extraKeys:null,filters:null,grouper:null,groupers:null,groups:null,groupConfig:null,rootProperty:null,sorters:null,multiSortLimit:3,defaultSortDirection:"ASC",source:null,trackGroups:!0},generation:0,indices:null,indexRebuilds:0,updating:0,grouped:!1,sorted:!1,filtered:!1,$endUpdatePriority:1001,manageSorters:!0,constructor:function(e){var t=this;t.items=[],t.map={},t.length=0,e&&e.keyFn&&(t.getKey=e.keyFn),t.mixins.observable.constructor.call(t,e)},destroy:function(){var e=this,t=e._filters,n=e._sorters,r=e._groupers,i=e.lastMonitoredGroupers;t&&(t.destroy(),e._filters=null),n&&(e.grouped=e.sorted=!1,e.setSorters(null),e.manageSorters&&n.destroy()),i&&i.removeGroupersObserver(e),r&&(r.destroy(),e._groupers=null),e.setGroups(null),e.setSource(null),e.observers=e.items=e.map=null,this.callParent2(this,"null","null","destroy",this.destroy,arguments)},add:function(e){var t=this,n=t.decodeItems(arguments,0),r=n;return n.length&&(t.splice(t.length,0,n),r=1===n.length?n[0]:n),r},replaceAll:function(){var e=this,t=e.decodeItems(arguments,0),n=t;return t.length?(e.splice(0,e.length,t),n=1===t.length?t[0]:t):e.removeAll(),n},aggregate:function(e,t,n,r,i){var o=this,a=ei.Z.Array.slice(arguments);return a.unshift(o.items),o.aggregateItems.apply(o,a)},aggregateByGroup:function(e,t,n){var r=this.getGroups();return this.aggregateGroups(r,e,t,n)},aggregateItems:function(e,t,n,r,i,o){var a,s,l,u,c,d,f,h=this,p=ei.Z.Number.clipIndices(e.length,[r,i]),g=0!==r&&i!==e.length;if(r=p[0],i=p[1],!ei.Z.isFunction(n))return(n=h._aggregators[n]).call(h,e,r,i,t,h.getRootProperty());for(u=h.getRootProperty(),d=new Array(l),f=g?new Array(l):e,a=r,s=0;a<i;++a,s++)g&&(f[s]=c=e[a]),d[s]=(u?c[u]:c)[t];return n.call(o||h,e,d,0)},aggregateGroups:function(e,t,n,r){for(var i,o,a=e.items,s=a.length,l=!ei.Z.isFunction(n),u={},c=0;c<s;++c)i=a[c],o=l?i[n](t):this.aggregateItems(i.items,t,n,null,null,r),u[i.getGroupKey()]=o;return u},beginUpdate:function(){this.updating++||this.notify("beginupdate")},clear:function(){var e,t,n=this,r=n.generation,i=r?n.items:[];if(r&&(n.items.length=n.length=0,n.map={},n.indices={},n.generation++,e=n.getExtraKeys()))for(t in e)e[t].clear();return i},clone:function(){var e=new this.self(this.initialConfig);return e.add(this.items),e},collect:function(e,t,n){for(var r,i,o=this.items,a=o.length,s={},l=[],u=0;u<a;++u)i=o[u],i=(t?i[t]:i)[e],r=String(i),!n&&ei.Z.isEmpty(i)||s[r]||(s[r]=1,l.push(i));return l},contains:function(e){var t,n=!1;return null!=e&&(t=this.getKey(e),n=this.map[t]===e),n},containsAll:function(e){for(var t=ei.Z.isArray(e)?e:arguments,n=t.length;0<n--;)if(!this.contains(t[n]))return!1;return!0},containsKey:function(e){return e in this.map},createFiltered:function(e,t,n,r,i){var o,a,s,l,u,c=this,d=new c.self(ei.Z.applyIf({source:null},c.initialConfig)),f=c.getRootProperty(),h=c.items;if(ei.Z.isFunction(e))l=e,u=t;else{if(ei.Z.isString(e))s=[new ei.Z.util.Filter({property:e,value:t,root:f,anyMatch:n,caseSensitive:r,exactMatch:i})];else if(e instanceof ei.Z.util.Filter)s=[e],e.setRoot(f);else if(ei.Z.isArray(e))for(o=(s=e.slice(a=0)).length;a<o;++a)s[a].setRoot(f);l=ei.Z.util.Filter.createFilterFn(s)}for(u=u||c,a=0,o=h.length;a<o;a++)l.call(u,h[a])&&d.add(h[a]);return d},filterBy:function(e,t){return this.createFiltered(e,t)},each:function(e,t){var n,r,i=this.items,o=i.length;if(o)for(t=t||this,i=i.slice(0),n=0;n<o&&!1!==(r=e.call(t,i[n],n,o));n++);return r},eachKey:function(e,t){var n,r,i,o,a=this.items,s=a.length;if(s)for(t=t||this,a=a.slice(0),n=0;n<s&&(i=this.getKey(r=a[n]),!1!==(o=e.call(t,i,r,n,s)));n++);return o},endUpdate:function(){--this.updating||this.notify("endupdate")},find:function(e,t,n,r,i,o){var a,s;return ei.Z.isEmpty(t,!1)?null:(a=ei.Z.String.createRegex(t,r,i,o),s=this.getRootProperty(),this.findBy((function(t){return t&&a.test((s?t[s]:t)[e])}),null,n))},findBy:function(e,t,n){var r,i,o,a=this.items,s=a.length;for(t=t||this,r=n||0;r<s;r++)if(o=this.getKey(i=a[r]),e.call(t,i,o))return a[r];return null},findIndex:function(e,t,n,r,i,o){return(e=this.find(e,t,n,r,i,o))?this.indexOf(e):-1},findIndexBy:function(e,t,n){return(e=this.findBy(e,t,n))?this.indexOf(e):-1},first:function(e){return(e=e?this.getGroups():void 0)?this.aggregateGroups(e,null,"first"):this.items[0]},last:function(e){return(e=e?this.getGroups():void 0)?this.aggregateGroups(e,null,"last"):this.items[this.length-1]},get:function(e){return this.map[e]},getAt:function(e){return this.items[e]},getByKey:function(e){return this.map[e]},getCount:function(){return this.length},getKey:function(e){var t=e.id;return 0===t||t||0===(t=e._id)||t?t:e.getId()},getRange:function(e,t){var n=this.items,r=n.length,i=r?(i=ei.Z.Number.clipIndices(r,[e,t]),n.slice(i[0],i[1])):[];return i},getValues:function(e,t,n,r){var i,o=this.items,a=[],s=(n=ei.Z.Number.clipIndices(o.length,[n,r]))[0];for(r=n[1];s<r;++s)i=o[s],i=(t?i[t]:i)[e],a.push(i);return a},indexOf:function(e){return e?(e=this.getKey(e),this.indexOfKey(e)):-1},indexOfKey:function(e){var t=this.indices;return e in this.map?(t=t||this.getIndices())[e]:-1},insert:function(e,t){var n=this.decodeItems(arguments,1),r=n;return n.length&&(this.splice(e,0,n),r=1===n.length?n[0]:n),r},itemChanged:function(e,t,n,r){var i,o,a,s=this,l=void 0!==n,u=s.filtered&&s.getAutoFilter(),c=!1,d=0,f=s.items,h=s.length-1,p=s.sorted&&0<h&&s.getAutoSort(),g=s.getSource(),m=0,v=!1,y=!1;g&&!g.updating?(s.sourceUpdating=!0,g.itemChanged(e,t,n,r),s.sourceUpdating=!1):(g=s.getKey(e),(c=u?(y=(o=s.indexOfKey(l?n:g))<0)!==(v=s.isItemFiltered(e)):c)?a=v?(m=[e],-1):(i=[e],s.length):p&&!v&&(u||(o=s.indexOfKey(l?n:g)),p=s.getSortFn(),-1!==o&&(o&&0<p(f[o-1],f[o])?(d=-1,a=ei.Z.Array.binarySearch(f,e,0,o,p)):o<h&&0<p(f[o],f[o+1])&&(a=ei.Z.Array.binarySearch(f,e,o+(d=1),p)),d&&(i=[e]))),u={item:e,key:g,index:a,filterChanged:c,keyChanged:l,indexChanged:!!d,filtered:v,oldIndex:o,newIndex:a,wasFiltered:y,meta:r},l&&(u.oldKey=n),t&&(u.modified=t),++s.generation,s.beginUpdate(),s.notify("beforeitemchange",[u]),l&&s.updateKey(e,n,u),(i||m)&&s.splice(a,m,i),0<d?u.newIndex--:d<0&&u.oldIndex++,s.notify(v?"filtereditemchange":"itemchange",[u]),s.endUpdate())},remove:function(e){var t=this.decodeRemoveItems(arguments,0),n=this.length;return this.splice(0,t),n-this.length},removeAll:function(){var e=this.length;return this.generation&&e&&this.splice(0,e),this},removeAt:function(e,t){var n,r=this.length;t=(e=(n=ei.Z.Number).clipIndices(r,[e,void 0===t?1:t],n.Clip.COUNT))[0],e=1==(n=e[1]-t)&&this.getAt(t);return this.splice(t,n),t=this.length-r,e&&t?e:t},removeByKey:function(e){return!(!(e=this.getByKey(e))||!this.remove(e))&&e},replace:function(e){var t=this.indexOf(e);-1===t?this.add(e):this.insert(t,e)},splice:function(e,t,n){var r,i,o,a,s,l,u,c,d,f,h,p,g,m,v,y,b=this,C=b.sorted&&b.getAutoSort(),S=b.map,x=b.items,I=b.length,R=t instanceof Array?b.decodeRemoveItems(t):null,w=!R,E=(y=(y=ei.Z.Number).clipIndices(I,[e,w?t:0],y.Clip.COUNT))[0],Z=y[1],P=Z-E,T=b.decodeItems(arguments,2),A=T?T.length:0,M=E,k=b.indices||(A||R?b.getIndices():null),G=null,F=P?[E]:null,_=null;if((y=b.getSource())&&!y.updating){if(w)for(R=[],u=0;u<P;++u)R.push(x[E+u]);return u=E<I?y.indexOf(x[E]):y.length,b.requestedIndex=e,y.splice(u,R,T),delete b.requestedIndex,b}if(A){for(r=T,_=[],i={},C&&(v=b.getSorters(),1<A&&(r.$cloned||(T=r=r.slice(0)),b.sortData(r))),u=0;u<A;++u)void 0!==(f=i[h=b.getKey(c=T[u])])?(m=m||{})[f]=1:((d=k[h])<E||Z<=d)&&(F=F||[]).push(d),i[h]=u,_.push(h);if(m){for(p=_,_=[],(r=[]).$cloned=!0,u=0;u<A;++u)m[u]||(c=T[u],r.push(c),_.push(p[u]));A=r.length}G={items:r,keys:_}}for(u=R?R.length:0;0<u--;)void 0!==(d=k[h=b.getKey(R[u])])&&(F=F||[]).push(d);if(!G&&!F)return b;if(b.beginUpdate(),F){for(a=null,l=[],o={},1<F.length&&F.sort(ei.Z.Array.numericSortFn),u=0,g=F.length;u<g;++u)(h=b.getKey(c=x[d=F[u]]))in S&&(delete S[h],(!a||d>a.at+s.length)&&(l.push(a={at:d,items:s=[],keys:p=[],map:o,next:a,replacement:G}),G&&(G.replaced=a)),s.push(o[h]=c),p.push(h),d<M&&--M,1<P&&d===E&&(--P,F[u--]=++E));for(G&&(G.at=M),f=l.length;0<f--;){if((u=(a=l[f]).at)+(g=a.items.length)<I&&(b.indices=k=null),b.length=I-=g,x.splice(u,g),k)for(p=a.keys,u=0;u<g;++u)delete k[p[u]];++b.generation,b.notify("remove",[a])}}if(G)if(C&&1<A&&I)b.spliceMerge(r,_);else{if(C&&(1<A?(M=0,b.indices=k=null):M=v.findInsertionIndex(G.items[0],x,b.getSortFn(),e)),M===I){for(Z=M,u=r.length-1;0<=u;--u)x[Z+u]=r[u];if(k=b.indices)for(u=0;u<A;++u)k[_[u]]=M+u}else b.indices=null,ei.Z.Array.insert(x,M,r);for(u=0;u<A;++u)S[_[u]]=r[u];b.length+=A,G.at=M,G.atItem=0===M?null:x[M-1],++b.generation,b.notify("add",[G])}return b.endUpdate(),b},update:function(e,t){this.beginUpdate();try{return e.call(t||this,this)}catch(e){throw e}finally{this.endUpdate()}},updateKey:function(e,t,n){var r=this,i=r.map,o=r.indices,a=r.getSource();a&&!a.updating?a.updateKey(e,t):(a=r.getKey(e))===t||i[t]!==e||a in i||(delete i[t],r.updating++,r.generation++,i[a]=e,o&&(o[a]=o[t],delete o[t]),r.notify("updatekey",[ei.Z.apply({item:e,newKey:a,oldKey:t},n)]),r.updating--)},findInsertIndex:function(e,t){for(var n,r=this.getSource(),i=r.items,o=r.indexOf(e)-1;-1<o;){if(n=i[o],-1<(n=this.indexOf(n)))return n+1;--o}return t},onCollectionAdd:function(e,t){var n,r,i,o,a,s,l=this,u=t.atItem,c=l.transformItems(t.items),d=l.requestedIndex;if(void 0!==d?r=d:-1<(r=(a=u||e.items[1])?l.indexOf(a):-1)?u&&++r:l.sorted||(r=l.findInsertIndex(c[0],t.at?l.length:0)),l.getAutoFilter()&&l.filtered)for(o=0,s=c.length;o<s;++o)a=c[o],l.isItemFiltered(a)?(i=i||c.slice(0,o),(n=n||[]).push(a)):i&&i.push(a);l.splice(r<0?l.length:r,0,i||c),n&&l.notify("filteradd",[n])},onCollectionBeforeItemChange:function(e,t){this.onCollectionUpdateKey=null,this.sourceUpdating||this.notify("beforeitemchange",[t])},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(e,t){delete this.onCollectionUpdateKey,this.itemChanged(t.item,t.modified,t.oldKey,t.meta)},onCollectionFilteredItemChange:function(){delete this.onCollectionUpdateKey},onCollectionRefresh:function(e){var t,n,r,i,o,a=this,s={},l={},u=a.items,c=a.transformItems(e.items),d=a.getFilterFn();if(a.filtered&&a.getAutoFilter()){for(o=t=0,i=c.length;t<i;t++)d(c[t])&&(u[o++]=c[t]);u.length=o}else u.length=0,u.push.apply(u,c);for(a.sorted&&a.sortData(u),a.length=i=u.length,a.map=s,a.indices=l,t=0;t<i;++t)s[r=a.getKey(n=u[t])]=n,l[r]=t;++a.generation,a.notify("refresh")},onCollectionRemove:function(e,t){this.splice(0,t.items)},onCollectionUpdateKey:function(e,t){this.updateKey(t.item,t.oldKey,t)},_aggregators:{average:function(e,t,n,r,i){var o=n-t;return o&&this._aggregators.sum.call(this,e,t,n,r,i)/o},bounds:function(e,t,n,r,i){for(var o,a,s,l=t;l<n;++l)o=e[l],(o=(i?o[i]:o)[r])<a||(a=o),s<o||(s=o);return[s,a]},count:function(e){return e.length},extremes:function(e,t,n,r,i){for(var o,a,s,l,u=null,c=null,d=t;d<n;++d)o=e[d],(l=(i?o[i]:o)[r])<a||(a=l,u=o),s<l||(s=l,c=o);return[c,u]},max:function(e,t,n,r,i){return this._aggregators.bounds.call(this,e,t,n,r,i)[1]},maxItem:function(e,t,n,r,i){return this._aggregators.extremes.call(this,e,t,n,r,i)[1]},min:function(e,t,n,r,i){return this._aggregators.bounds.call(this,e,t,n,r,i)[0]},minItem:function(e,t,n,r,i){return this._aggregators.extremes.call(this,e,t,n,r,i)[0]},sum:function(e,t,n,r,i){for(var o,a=0,s=t;s<n;++s)o=e[s],a+=o=(i?o[i]:o)[r];return a}},_eventToMethodMap:{add:"onCollectionAdd",beforeitemchange:"onCollectionBeforeItemChange",beginupdate:"onCollectionBeginUpdate",endupdate:"onCollectionEndUpdate",itemchange:"onCollectionItemChange",filtereditemchange:"onCollectionFilteredItemChange",refresh:"onCollectionRefresh",remove:"onCollectionRemove",beforesort:"beforeCollectionSort",sort:"onCollectionSort",beforegroup:"onCollectionBeforeGroup",group:"onCollectionGroup",filter:"onCollectionFilter",filteradd:"onCollectionFilterAdd",updatekey:"onCollectionUpdateKey"},addObserver:function(e){var t=this,n=t.observers;n||(t.observers=n=[]),t.notifying&&(t.observers=n=n.slice(0)),n.push(e),1<n.length&&ei.Z.Array.sort(n,t.prioritySortFn)},prioritySortFn:function(e,t){return(e.observerPriority||0)-(t.observerPriority||0)},applyExtraKeys:function(e,t){var n,r,i,o=t||{};for(r in e)(i=e[r]).isCollectionKey?i.setCollection(this):(n={collection:this},ei.Z.isString(i)?n.property=i:n=ei.Z.apply(n,i),i=new ei.Z.util.CollectionKey(n)),(o[r]=this[r]=i).name=r;return o},applyGrouper:function(e){return e&&!e.isGrouper?this.getGroupers(!0).decodeGrouper(e):e},decodeItems:function(e,t){var n,r,i,o=void 0===t?e:e[t];if(!o||!o.$cloned){if((n=e.length>t+1||!ei.Z.isIterable(o))&&1===(o=ei.Z.Array.slice(e,t)).length&&void 0===o[0]&&(o.length=0),r=this.getDecoder())for(n||(o=o.slice(0),n=!0),i=o.length;0<i--;)!1===(o[i]=r.call(this,o[i]))&&o.splice(i,1);n&&(o.$cloned=!0)}return o},getIndices:function(){var e,t=this,n=t.indices,r=t.items,i=r.length;if(!n)for(t.indices=n={},++t.indexRebuilds,e=0;e<i;++e)n[t.getKey(r[e])]=e;return n},notify:function(e,t){var n,r,i,o,a=this,s=a.observers,l=a._eventToMethodMap[e],u=0;if(t=t||[],s&&l){for(a.notifying=!0,n=0,r=s.length;n<r;++n)(i=(o=s[n])[l])&&(u++||t.unshift(a),i.apply(o,t));a.notifying=!1}a.hasListeners&&a.hasListeners[e]&&(u||t.unshift(a),a.fireEventArgs(e,t))},getFilterFn:function(){return this.getFilters().getFilterFn()},getFilters:function(e){var t=this._filters;return t||!1===e||(t=new ei.Z.util.FilterCollection,this.setFilters(t)),t},isItemFiltered:function(e){return!this.getFilters().filterFn(e)},onFilterChange:function(e){var t,n,r,i=this,o=i.getSource();if(o){if(o.destroyed)return;(o.length||i.length)&&i.onCollectionRefresh(o)}else{if(t=i.getExtraKeys())for(r in n={},t)n[r]=t[r].clone(i);o=new ei.Z.util.Collection({keyFn:i.getKey,extraKeys:n,rootProperty:i.getRootProperty()}),i.length&&o.add(i.items),i.setSource(o),i.autoSource=o}i.notify("filter")},applyFilters:function(e,t){return!e||e.isFilterCollection?e:(e&&(t=t||this.getFilters()).splice(0,t.length,e),t)},updateFilters:function(e,t){var n=this;t&&t.un("endupdate","onEndUpdateFilters",n),e&&(e.on({endupdate:"onEndUpdateFilters",scope:n,priority:n.$endUpdatePriority}),e.$filterable=n),n.onEndUpdateFilters(e)},onEndUpdateFilters:function(e){var t=this.filtered,n=!!e&&0<e.getFilterCount();(t||n)&&(this.filtered=n,this.onFilterChange(e))},getSortFn:function(){return this._sortFn||this.createSortFn()},getSorters:function(e){var t=this._sorters;return t||!1===e||(t=new ei.Z.util.SorterCollection,this.setSorters(t)),t},onSortChange:function(){this.sorted&&this.sortItems()},sort:function(e,t,n){var r=this.getSorters();return r.addSort.apply(r,arguments),this},sortData:function(e){return ei.Z.Array.sort(e,this.getSortFn()),e},sortItems:function(e){var t=this;t.sorted&&(e=t.getSortFn()),t.indices=null,t.notify("beforesort",[t.getSorters(!1)]),t.length&&ei.Z.Array.sort(t.items,e),t.notify("sort")},sortBy:function(e){return this.sortItems(e)},findInsertionIndex:function(e,t,n,r){return ei.Z.Array.findInsertionIndex(e,t||this.items,n||this.getSortFn(),r)},applySorters:function(e,t){return!e||e.isSorterCollection?e:(e&&(t=t||this.getSorters()).splice(0,t.length,e),t)},createSortFn:function(){var e=this.getGroupers(!1),t=this.getSorters(!1),n=t?t.getSortFn():null,r=e?e.getSortFn():null;return e?function(e,t){var i=r(e,t);return!i&&n?n(e,t):i}:n},getGrouper:function(){var e=this.getGroupers(!1);return e&&e.length?e.getAt(0):null},updateGrouper:function(e){var t=this.getGroupers(!1);e?((t=t||this.getGroupers(!0)).clear(),t.add(e)):this.setGroupers(null)},updateSorters:function(e,t){var n=this;t&&!t.destroyed&&t.un("endupdate","onEndUpdateSorters",n),e&&(e.on({endupdate:"onEndUpdateSorters",scope:n,priority:n.$endUpdatePriority}),n.manageSorters&&(e.$sortable=n)),n.onSorterChange(),n.onEndUpdateSorters(e)},onSorterChange:function(){this._sortFn=null},onEndUpdateSorters:function(e){var t=this,n=t.sorted,r=t.grouped&&t.getAutoGroup()||e&&0<e.length;(n||r)&&(t.sorted=!!r,t.onSortChange(e))},getGroupers:function(e){var t=this._groupers;return t||!1===e||(t=new ei.Z.util.GrouperCollection({rootProperty:this.getRootProperty()}),this.setGroupers(t)),t},applyGroupers:function(e,t){return null==e||e&&e.isGrouperCollection?e:(e&&(t=t||this.getGroupers()).splice(0,t.length,e),t)},updateGroupers:function(e,t){var n,r=this,i=r.getGroups(),o=r.getSorters();t&&t.un("endupdate","onEndUpdateGroupers",r),e?(r.getTrackGroups()&&(i||(i=new ei.Z.util.GroupCollection({itemRoot:r.getRootProperty(),autoGroup:r.getAutoGroup(),autoSort:r.getAutoSort(),groupConfig:r.getGroupConfig()}),r.setGroups(i)),n=!0),e.on("endupdate","onEndUpdateGroupers",r,{prepend:!0})):r.setGroups(null),r.onEndUpdateGroupers(e),o.updating||r.onEndUpdateSorters(o),n&&i.onCollectionRefresh(r)},onEndUpdateGroupers:function(e){var t=this,n=t.grouped,r=t.getSorters(),i=e&&0<e.length;t.lastMonitoredGroupers&&(t.lastMonitoredGroupers.removeGroupersObserver(t),t.lastMonitoredGroupers=null),(n||i)&&(t.grouped=!!i,t.onSorterChange(),r&&!r.updating&&t.onEndUpdateSorters(e),t.onGroupChange(e),e&&(t.lastMonitoredGroupers=e).addGroupersObserver(t))},onGrouperDirectionChange:function(){this.onEndUpdateSorters(this.getSorters()),this.notify("group",[this.getGroupers(!1)])},onGroupChange:function(e){var t=this.getGroups();t?(t.onCollectionGroupersChanged(this),this.groupItems()):this.notify("group",[e])},groupItems:function(){var e=this,t=e.getGroupers(!1),n=e.getGroups();e.notify("beforegroup",[t]),e.length&&n&&n.onCollectionRefresh(e),e.notify("group",[t])},removeObserver:function(e){var t=this.observers;t&&ei.Z.Array.remove(t,e)},spliceMerge:function(e,t){var n,r,i,o,a,s,l=this,u=l.map,c=e.length,d=0,f=l.items,h=f.length,p=[],g=0,m=[],v=l.getSortFn();for(l.items=m,s=0;s<c;s=r){for(o=e[s];d<h&&!(v(o,a=f[d])<0);++d)m.push(a);if(d===h){for(p[g++]={at:m.length,itemAt:m[m.length-1],items:n=[]},1<g&&(p[g-2].next=p[g-1]);s<c;++s)n.push(o=e[s]),m.push(o);break}for(p[g++]={at:m.length,itemAt:m[m.length-1],items:n=[o]},1<g&&(p[g-2].next=p[g-1]),m.push(o),r=s+1;r<c&&!(0<=v(o=e[r],a));++r)m.push(o),n.push(o)}for(;d<h;++d)m.push(f[d]);for(i=0;i<c;++i)u[t[i]]=e[i];for(l.length=m.length,++l.generation,l.indices=null,i=0;i<g;++i)l.notify("add",[p[i]])},transformItems:ei.Z.identityFn,getGroups:function(){return this.callParent2(this,"null","null","getGroups",this.getGroups,arguments)||null},updateAutoGroup:function(e){var t=this.getGroups();t&&t.setAutoGroup(e),this.onEndUpdateSorters(this._sorters)},updateGroups:function(e,t){t&&(this.removeObserver(t),t.destroy()),e&&this.addObserver(e)},updateSource:function(e,t){var n=this,r=n.autoSource;t&&(t.destroyed||t.removeObserver(n),t===r&&(r.destroy(),n.autoSource=null)),e&&(e.addObserver(n),(e.length||n.length)&&n.onCollectionRefresh(e))}},(function(){var e=this.prototype;e.removeAtKey=e.removeByKey,e.decodeRemoveItems=e.decodeItems,ei.Z.Object.each(e._aggregators,(function(t){e[t]=function(e,n,r){return this.aggregate(e,t,n,r)},e[t+"ByGroup"]=function(e){return this.aggregateByGroup(e,t)}}))})),ei.Z.define("GRUI.util.SorterCollection",{extend:"GRUI.util.Collection",requires:["GRUI.util.Sorter"],isSorterCollection:!0,$sortable:null,sortFn:null,config:{sorterOptionsFn:null,sorterOptionsScope:null},constructor:function(e){var t=this;t.sortFn=ei.Z.util.Sorter.createComparator(t),this.callParent2(this,"GRUI.util.Collection","null","constructor",this.constructor,arguments),t.setDecoder(t.decodeSorter)},addSort:function(e,t,n){var r,i,o,a,s,l=this;e?(o=l.getOptions(),e instanceof Array?(s=e,n=t,t=null):ei.Z.isString(e)?s=(a=l.get(e))?[a]:[{property:e,direction:t||o.getDefaultSortDirection()}]:ei.Z.isFunction(e)?s=[{sorterFn:e,direction:t||o.getDefaultSortDirection()}]:(s=[e],n=t,t=null),n=l._sortModes[n||"replace"],e=l.getAt(0),r=l.length,i=n.append?r:0,l.beginUpdate(),l.splice(i,n.replace?r:0,s),n.multi&&(r=l.length,(s=o.getMultiSortLimit())<r&&l.removeAt(s,r)),a&&t?a.setDirection(t):0===i&&e&&e===l.getAt(0)&&e.toggle()):l.beginUpdate(),l.endUpdate()},clear:function(){this.beginUpdate(),this.callParent2(this,"GRUI.util.Collection","null","clear",this.clear,arguments),this.endUpdate(this.items)},getSortFn:function(){return this.sortFn},getByProperty:function(e){for(var t,n=this.items,r=n.length,i=0;i<r;++i)if((t=n[i]).getProperty()===e)return t;return null},_sortModes:{append:{append:1},multi:{multi:1},prepend:{prepend:1},replace:{replace:1}},decodeSorter:function(e,t){var n,r=this,i=r.getOptions(),o=i.getRootProperty(),a=r.getSorterOptionsFn();if(e.isSorter)e.getRoot()||e.setRoot(o);else{if(i={direction:i.getDefaultSortDirection(),root:o},"string"==(o=typeof e)){if(n=r.get(e))return n;i.property=e}else"function"==o?i.sorterFn=e:(i=ei.Z.apply(i,e)).fn&&(i.sorterFn=i.fn,delete i.fn);e=ei.Z.create(t||ei.Z.util.Sorter,i)}return a&&a.call(r.getSorterOptionsScope()||r,e),e},setSorterConfigure:function(e,t){this.setSorterOptionsFn(e),this.setSorterOptionsScope(t)},decodeRemoveItems:function(e,t){var n=void 0===t?e:e[t];if(!n||!n.$cloned){(e.length>t+1||!ei.Z.isIterable(n))&&(n=ei.Z.Array.slice(e,t));for(var r,i,o,a,s=this.items,l=n.length,u=[],c=0;c<l;c++)if((o=n[c])&&o.isSorter)u.push(o);else if("string"==(a=typeof o))(o=this.get(o))&&u.push(o);else if("function"==a)for(i=s.length;0<i--;)(r=s[i]).getSorterFn()===o&&u.push(r);(n=u).$cloned=!0}return n},getOptions:function(){return this.$sortable||this}}),ei.Z.define("GRUI.util.GrouperCollection",{extend:"GRUI.util.SorterCollection",requires:["GRUI.util.Grouper"],isGrouperCollection:!0,constructor:function(e){this.callParent2(this,"GRUI.util.SorterCollection","null","constructor",this.constructor,arguments),this.setDecoder(this.decodeGrouper)},decodeGrouper:function(e){return e="function"==typeof e?{groupFn:e}:e,this.decodeSorter(e,"GRUI.util.Grouper")},addGroupersObserver:function(e){for(var t=this.items,n=t.length,r=0;r<n;r++)t[r].addObserver(e)},removeGroupersObserver:function(e){for(var t=this.items,n=t.length,r=0;r<n;r++)t[r].removeObserver(e)}}),ei.Z.define("GRUI.data.Range",{requires:["GRUI.util.DelayedTask","GRUI.Deferred"],isDataRange:!0,begin:0,buffer:0,end:0,length:0,store:null,waitTimeout:1e4,activeWait:null,constructor:function(e){var t,n,r=this;ei.Z.apply(r,e),(t=(n=r.store).activeRanges)||(n.activeRanges=t=[]),t.push(r),r.refresh(),"begin"in e&&(r.begin=r.end=0,r.goto(e.begin,e.end).catch((function(){})))},destroy:function(){var e=this,t=(t=e.store)&&t.activeRanges;ei.Z.destroy(e.storeListeners),t&&ei.Z.Array.remove(t,e),e.cancelActiveWait(),this.callParent2(this,"null","null","destroy",this.destroy,arguments)},goto:function(e,t){var n=this,r=n.buffer,i=n.task;return n.begin=e,n.end=t,n.length=t-e,n.cancelActiveWait(),n.activeWait=n.setupWait(e,t),e=n.activeWait.promise,n.resolveWaitIfSatisfied(),0<r?(i||(n.task=i=new ei.Z.util.DelayedTask(n.doGoto,n)),i.delay(r)):n.doGoto(),e},privates:{lastBegin:0,lastEnd:0,cancelActiveWait:function(){this.resolveWait(null)},doGoto:ei.Z.privateFn,refresh:function(){this.records=this.store.getData().items},resolveWait:function(e){var t=this.activeWait;return t&&(t.deferred.resolve(e),this.activeWait=null),e},resolveWaitIfSatisfied:function(){this.resolveWait(this)},setupWait:function(e,t){var n=this,r=n.waitTimeout,i=new ei.Z.Deferred,o=i.promise;return{deferred:i,promise:o=r?ei.Z.Deferred.timeout(o,r).catch((function(){return n.resolveWait(null)})):o}}}}),ei.Z.define("GRUI.util.ObjectTemplate",{requires:["GRUI.XTemplate"],isObjectTemplate:!0,excludeProperties:{},valueRe:/^[{][a-z.]+[}]$/i,statics:{create:function(e,t){return e.isObjectTemplate?e:new ei.Z.util.ObjectTemplate(e,t)}},constructor:function(e,t){ei.Z.apply(this,t),this.template=e},apply:function(e){var t=this;return delete t.apply,t.apply=t.compile(t.template),t.apply(e)},privates:{compile:function(e){var t,n,r,i,o=this,a=o.excludeProperties;if(ei.Z.isString(e))i=e.indexOf("{")<0?function(){return e}:o.valueRe.test(e)?(e=e.substring(1,e.length-1).split("."),function(t){for(var n=t,r=0;n&&r<e.length;++r)n=n[e[r]];return n}):(e=new ei.Z.XTemplate(e),function(t){return e.apply(t)});else if(!e||ei.Z.isPrimitive(e)||ei.Z.isFunction(e))i=function(){return e};else if(e instanceof Array){for(t=[],n=0,r=e.length;n<r;++n)t[n]=o.compile(e[n]);i=function(e){for(var n=[],i=0;i<r;++i)n[i]=t[i](e);return n}}else{for(n in t={},e)a[n]||(t[n]=o.compile(e[n]));i=function(n){var r,i,o={};for(r in e)void 0!==(i=a[r]?e[r]:t[r](n))&&(o[r]=i);return o}}return i}}}),ei.Z.define("GRUI.data.schema.Role",{isRole:!0,left:!0,owner:!1,side:"left",isMany:!1,defaultReaderType:"json",_internalReadOptions:{recordsOnly:!0,asRoot:!0},constructor:function(e,t){var n=this,r=t.extra;ei.Z.apply(n,t),r&&(delete(r=ei.Z.apply({},r)).type,ei.Z.apply(n,r),delete n.extra),(n.association=e).owner===n.side&&((e.owner=n).owner=!0)},processUpdate:function(){ei.Z.raise('Only the "many" for an association may be processed. "'+this.role+'" is not valid.')},processLoad:function(e,t,n,r){return n},checkMembership:ei.Z.emptyFn,adoptAssociated:function(e,t){(e=this.getAssociatedItem(e))&&t.adopt(e)},$roleFilterId:"$associationRoleFilter",createAssociationStore:function(e,t,n,r){var i=this,o=(a=i.association).getFieldName(),a=a.isManyToMany,s=i.storeConfig,l=t.getId();t={asynchronousLoad:!1,model:i.cls,role:i,session:e,associatedEntity:t,disableMetaChangeEvent:!0,pageSize:null,remoteFilter:!0,trackRemoved:!e};return a?t.filters=[{id:i.$roleFilterId,property:i.inverse.field,value:l,exactMatch:!0}]:o&&(t.filters=[{id:i.$roleFilterId,property:o,value:l,exactMatch:!0}],t.foreignKeyName=o),s&&ei.Z.apply(t,s),o=ei.Z.Factory.store(t),i.onStoreCreate(o,e,l),a&&!e||o.on({scope:i,add:"onAddToMany",remove:"onRemoveFromMany",clear:"onRemoveFromMany"}),n&&o.loadData(n),o.complete=!!r,o},onStoreCreate:ei.Z.emptyFn,getAssociatedStore:function(e,t,n,r,i){var o,a,s,l,u,c,d,f=this,h=f.getStoreName(),p=e[h],g=p,m=e.session,v=t&&t.reload,y=e.$source,b=!1,C=!1;if(!p){if(m){if(y&&(C=y.phantom),!r&&y&&(c=y[h])&&!c.isLoading()){for(r=[],a=0,s=(l=c.getData().items).length;a<s;++a)u=l[a],r.push(m.getRecord(u.self,u.id));b=!!c.complete,d=!0}d||(y=!!r,r=f.findRecords(m,e,r,i),y||r&&r.length||(r=null),b=C||y)}else b=!!r;(p=f.createAssociationStore(m,e,r,b||e.phantom)).$source=c,r||!f.autoLoad&&!t||(v=!0),e[h]=p}return t&&(v||p.isLoading()?p.on("load",(function(r,i,a,s){o=[r,s],n=n||t.scope||e,a?ei.Z.callback(t.success,n,o):ei.Z.callback(t.failure,n,o),o.push(a),ei.Z.callback(t,n,o),ei.Z.callback(t.callback,n,o)}),null,{single:!0}):(o=[p,null],n=n||t.scope||e,ei.Z.callback(t.success,n,o),o.push(!0),ei.Z.callback(t,n,o),ei.Z.callback(t.callback,n,o))),d=p.isLoading(),v?d||p.load():g&&r&&!d&&p.loadData(r),p},getAssociatedItem:function(e){return e[this.isMany?this.getStoreName():this.getInstanceName()]||null},onDrop:ei.Z.emptyFn,onIdChanged:ei.Z.emptyFn,getReaderRoot:function(){var e=this;return e.associationKey||(e.associationKey=e.association.schema.getNamer().readerRoot(e.role))},getReader:function(){var e=this,t=e.reader,n=e.cls,r=!e.associationKey,i=this.getReaderRoot();return t&&!t.isReader&&(ei.Z.isString(t)&&(t={type:t}),ei.Z.applyIf(t,{model:n,rootProperty:i,useSimpleAccessors:r,type:e.defaultReaderType}),t=e.reader=ei.Z.createByAlias("reader."+t.type,t)),t},getInstanceName:function(){return this.instanceName||(this.instanceName=this.association.schema.getNamer().instanceName(this.role))},getOldInstanceName:function(){return this.oldInstanceName||(this.oldInstanceName="$old"+this.getInstanceName())},getStoreName:function(){return this.storeName||(this.storeName=this.association.schema.getNamer().storeName(this.role))},constructReader:function(e){var t,n=this,r=n.getReader(),i=n.cls,o=!n.associationKey,a=n.getReaderRoot();return r||((t=i.getProxy())?((r=new((t=t.getReader()).self)).copyFrom(t),r.setRootProperty(a)):r=new e.self({model:i,useSimpleAccessors:o,rootProperty:a}),n.reader=r),r},read:function(e,t,n,r){if(t=(n=this.constructReader(n)).getRoot(t))return n.readRecords(t,r,this._internalReadOptions)},getCallbackOptions:function(e,t,n){return"function"==typeof e?e={callback:e,scope:t||n}:e&&((e=ei.Z.apply({},e)).scope=t||e.scope||n),e},doGetFK:function(e,t,n){var r,i=this.cls,o=this.association.getFieldName(),a=this.getInstanceName(),s=e[a],l=t&&t.reload,u=void 0!==s&&!l,c=e.session;return u?s&&(u=!s.isLoading()):c?(r=e.get(o))||0===r?(u=c.peekRecord(i,r,!0)&&!l,s=c.getRecord(i,r,!1)):(u=!0,e[a]=s=null):o?(r=e.get(o))||0===r?s=s||i.createWithId(r):(u=!0,e[a]=s=null):(u=!0,s=null),u?t&&(n=n||t.scope||e,ei.Z.callback(t.success,n,l=[s,null]),l.push(!0),ei.Z.callback(t,n,l),ei.Z.callback(t.callback,n,l)):(e[a]=s,t=this.getCallbackOptions(t,n,e),s.load(t)),s},doSetFK:function(e,t,n,r){var i,o=this,a=o.association.getFieldName(),s=o.getInstanceName(),l=e[s],u=o.inverse,c=u.setterName;if(t&&t.isEntity?l!==t&&(e[i=o.getOldInstanceName()]=l,e[s]=t,l&&l.isEntity&&(l[u.getInstanceName()]=void 0),a&&e.set(a,t.getId()),delete e[i],e.onAssociatedRecordSet(t,o),c&&t[c](e)):(e.changingKey&&!u.isMany||e.set(a,t))&&l&&l.isEntity&&!l.isEqual(l.getId(),t)&&(e[s]=void 0,u.isMany||(l[u.getInstanceName()]=void 0)),n)return ei.Z.isFunction(n)&&(n={callback:n,scope:r||e}),e.save(n)}}),ei.Z.define("GRUI.data.schema.Association",{requires:["GRUI.data.schema.Role"],isOneToOne:!1,isManyToOne:!1,isManyToMany:!1,owner:null,field:null,constructor:function(e){var t=this;ei.Z.apply(t,e),t.left=e=new t.Left(t,t.left),t.right=t=new t.Right(t,t.right),(e.inverse=t).inverse=e},hasField:function(){return!!this.field},getFieldName:function(){var e=this.field;return e?e.name:""}}),ei.Z.define("GRUI.data.schema.OneToOne",{extend:"GRUI.data.schema.Association",isOneToOne:!0,isToOne:!0,kind:"one-to-one",Left:ei.Z.define(null,{extend:"GRUI.data.schema.Role",onDrop:function(e,t){var n=this.getAssociatedItem(e);e[this.getInstanceName()]=null,n&&(n[this.inverse.getInstanceName()]=null)},onIdChanged:function(e,t,n){var r=this.getAssociatedItem(e),i=this.association.getFieldName();!e.session&&r&&i&&r.set(i,n)},createGetter:function(){var e=this;return function(){return e.doGet(this)}},createSetter:function(){var e=this;return function(t){return e.doSet(this,t)}},doGet:function(e){var t=e[this.getInstanceName()];return e.session,t||null},doSet:function(e,t){var n=this.getInstanceName(),r=e[n],i=this.inverse.setterName;return r!==t&&(e[n]=t,i&&t[i](e),e.onAssociatedRecordSet(t,this)),r},read:function(e,t,n,r){var i=this,o=this.callParent2(this,"GRUI.data.schema.Role","null","read",this.read,arguments);o&&(o=o[0])&&((o[i.inverse.getInstanceName()]=e)[i.getInstanceName()]=o,delete e.data[i.role])}}),Right:ei.Z.define(null,{extend:"GRUI.data.schema.Role",left:!1,side:"right",createGetter:function(){var e=this;return function(t,n){return e.doGetFK(this,t,n)}},createSetter:function(){var e=this;return function(t,n,r){return e.doSetFK(this,t,n,r)}},onDrop:function(e,t){var n,r=this,i=r.association.field,o=r.getAssociatedItem(e);r.inverse.owner&&(t&&i?((n=e.get(i.name))||0===n)&&(o=t.getEntry(r.cls,n).record)&&o.drop():o&&o.drop()),i&&e.set(i.name,null),e[r.getInstanceName()]=null,o&&(o[r.inverse.getInstanceName()]=null)},onValueChange:function(e,t,n){var r=this,i=e[r.getOldInstanceName()]||r.getAssociatedItem(e),o=n||0===n,a=r.getInstanceName(),s=r.cls;e.changingKey=!0,r.doSetFK(e,n),o?t&&s&&(e[a]=t.peekRecord(s,n)||void 0):e[a]=null,r.inverse.owner&&i&&r.association.schema.queueKeyCheck(i,r),e.changingKey=!1},checkKeyForDrop:function(e){this.inverse.getAssociatedItem(e)||e.drop()},read:function(e,t,n,r){var i,o,a,s,l,u,c=this.callParent2(this,"GRUI.data.schema.Role","null","read",this.read,arguments);c&&(c=c[0],(i=this.association.field)&&(o=i.name),a=e.session,u=e.data,c&&(a&&!((l=a.getRefs(c,this.inverse,!0))&&l[e.id]||void 0===u[o])||(i&&(l=u[o])!==(s=c.id)&&(u[o]=s,a&&a.updateReference(e,i,s,l)),(c[this.inverse.getInstanceName()]=e)[this.getInstanceName()]=c),delete u[this.role]))}})}),ei.Z.define("GRUI.data.schema.ManyToOne",{extend:"GRUI.data.schema.Association",isManyToOne:!0,isToOne:!0,kind:"many-to-one",Left:ei.Z.define(null,{extend:"GRUI.data.schema.Role",isMany:!0,onDrop:function(e,t){var n,r,i,o,a=this,s=a.getAssociatedItem(e);if(s){if((n=s.removeAll())&&a.inverse.owner)for(i=0,r=n.length;i<r;++i)n[i].drop();s.destroy(),e[a.getStoreName()]=null}else if(t&&(n=t.getRefs(e,a)))for(o in n)n[o].drop()},onIdChanged:function(e,t,n){var r,i,o,a,s=this.association.getFieldName(),l=this.getAssociatedItem(e);if(l&&((a=l.getFilters().get(this.$roleFilterId))&&a.setValue(n),!e.session&&s))for(i=0,o=(r=l.getDataSource().items).length;i<o;++i)r[i].set(s,n)},processUpdate:function(e,t){var n,r,i,o,a=this,s=a.inverse.cls,l=t.R;if(l)for(n in l)(r=e.peekRecord(s,n))?(o=e.getEntityList(a.cls,l[n]),(i=a.getAssociatedItem(r))?(i.loadData(o),i.complete=!0):r[a.getterName](null,null,o)):e.onInvalidAssociationEntity(s,n)},findRecords:function(e,t,n,r){var i,o,a,s,l,u,c=n,d=e.getRefs(t,this,!0),f=this.association.field;if(f&&(d||r)){if(i=f.name,c=[],n)for(u={},s=0,l=n.length;s<l;++s)a=(o=n[s]).id,d&&d[a]?c.push(o):r&&void 0===o.data[i]&&(c.push(o),o.data[i]=t.id,e.updateReference(o,f,t.id,void 0)),u[a]=!0;if(d)for(a in d)u&&u[a]||c.push(d[a])}return c},processLoad:function(e,t,n,r){var i=n;return r&&(i=this.findRecords(r,t,n,!0)),this.onLoadMany(t,i,r),i},adoptAssociated:function(e,t){var n,r,i;if(e=this.getAssociatedItem(e))for(e.setSession(t),r=0,i=(n=e.getData().items).length;r<i;++r)t.adopt(n[r])},createGetter:function(){var e=this;return function(t,n,r){return e.getAssociatedStore(this,t,n,r,!0)}},createSetter:null,onAddToMany:function(e,t){e=e.getAssociatedEntity(),this.association.field?this.syncFK(t,e,!1):this.setInstances(e,t)},onLoadMany:function(e,t,n){this.setInstances(e,t,n)},onRemoveFromMany:function(e,t){this.association.field?this.syncFK(t,e.getAssociatedEntity(),!0):this.setInstances(null,t)},read:function(e,t,n,r){var i,o,a,s=this.inverse.getInstanceName(),l=this.callParent2(this,"GRUI.data.schema.Role","null","read",this.read,arguments);if(l)for(i=e[this.getterName](null,null,l),delete e.data[this.role],a=0,o=(l=i.getData().items).length;a<o;++a)l[a][s]=e},setInstances:function(e,t,n){for(var r,i,o,a,s=this.inverse.getInstanceName(),l=e?e.getId():null,u=this.association.field,c=t.length,d=0;d<c;++d)(r=t[d])[s]=e,u&&(a=u.name,(i=(o=r.data)[a])!==l&&(o[a]=l,n&&n.updateReference(r,u,l,i)))},syncFK:function(e,t,n){for(var r,i,o=this.association.getFieldName(),a=this.inverse,s=a.setterName,l=a.getInstanceName(),u=e.length,c=t.getId();0<u--;)i=n?null:t,!(r=e[u]).isEqual(c,r.get(o))!==n?(r.changingKey=!0,r[s](i),r.changingKey=!1):r[l]=i}}),Right:ei.Z.define(null,{extend:"GRUI.data.schema.Role",left:!1,side:"right",onDrop:function(e,t){var n=this.association.field;n&&e.set(n.name,null),e[this.getInstanceName()]=null},createGetter:function(){var e=this;return function(t,n){return e.doGetFK(this,t,n)}},createSetter:function(){var e=this;return function(t,n,r){return e.doSetFK(this,t,n,r)}},checkMembership:function(e,t){var n=this.association.field;n&&(e=this.getSessionStore(e,t.get(n.name)))&&!e.contains(t)&&e.add(t)},onValueChange:function(e,t,n,r){var i,o,a,s,l,u,c=this,d=c.getInstanceName(),f=c.cls;if(!e.changingKey)if((i=n||0===n)||(e[d]=null),t)(a=c.getSessionStore(t,r))&&a.remove(e),i&&((a=c.getSessionStore(t,n))&&!a.isLoading()&&a.add(e),f&&(u=t.peekRecord(f,n)),e[d]=u||void 0);else if(o=e.joined)for(s=o.length-1;0<=s;s--)(a=o[s]).isStore&&(l=a.getAssociatedEntity())&&l.self===c.cls&&l.getId()===r&&a.remove(e);c.owner&&null===n&&c.association.schema.queueKeyCheck(e,c)},checkKeyForDrop:function(e){var t=this.association.field;null===e.get(t.name)&&e.drop()},getSessionStore:function(e,t){var n=this.cls;if(n&&(e=e.peekRecord(n,t)))return this.inverse.getAssociatedItem(e)},read:function(e,t,n,r){var i=this.callParent2(this,"GRUI.data.schema.Role","null","read",this.read,arguments);i&&(i=i[0])&&(e[this.getInstanceName()]=i,delete e.data[this.role])}})}),ei.Z.define("GRUI.data.schema.ManyToMany",{extend:"GRUI.data.schema.Association",isManyToMany:!0,isToMany:!0,kind:"many-to-many",Left:ei.Z.define(null,{extend:"GRUI.data.schema.Role",isMany:!0,digitRe:/^\d+$/,findRecords:function(e,t,n){var r,i,o,a,s,l,u=e.getMatrixSlice(this.inverse,t.id).members,c=[],d=this.cls;if(n)for(r={},i=0,o=n.length;i<o;++i)(s=u[a=(l=n[i]).id])&&-1===s[2]||c.push(l),r[a]=!0;for(a in u)s=u[a],(!r||!r[a]&&s&&-1!==s[2])&&(l=e.peekRecord(d,a))&&c.push(l);return c},onIdChanged:function(e,t,n){(e=this.getAssociatedItem(e))&&e.getFilters().get(this.$roleFilterId).setValue(n)},processLoad:function(e,t,n,r){var i=n;return r&&(i=this.findRecords(r,t,n),this.onAddToMany(e,i,!0)),i},processUpdate:function(e,t){var n,r,i,o,a=this,s=a.inverse.cls,l=t.R;if(l)for(n in l)(r=e.peekRecord(s,n))?(o=e.getEntityList(a.cls,l[n]),(i=a.getAssociatedItem(r))?(i.loadData(o),i.complete=!0):r[a.getterName](null,null,o)):e.onInvalidAssociationEntity(s,n);a.processMatrixBlock(e,t.C,1),a.processMatrixBlock(e,t.D,-1)},checkMembership:function(e,t){var n,r,i,o,a,s,l=e.getMatrix(this.association,!0);if(l&&(n=(l=this.left?l.right:l.left).inverse.role.cls,r=this.inverse,(l=l.slices)&&(i=l[t.id])))for(o in a=i.members)-1!==a[o][2]&&(s=e.peekRecord(n,o))&&(s=r.getAssociatedItem(s))&&(s.matrixUpdate=1,s.add(t),s.matrixUpdate=0)},onStoreCreate:function(e,t,n){var r=this;t&&((t=t.getMatrixSlice(r.inverse,n)).attach(e),t.notify=r.onMatrixUpdate,t.scope=r)},processMatrixBlock:function(e,t,n){var r,i=this.inverse,o=this.digitRe;if(t)for(r in t)o.test(r)&&(r=parseInt(r,10)),e.getMatrixSlice(i,r).update(t[r],n)},createGetter:function(){var e=this;return function(t,n,r){return e.getAssociatedStore(this,t,n,r,!1)}},onAddToMany:function(e,t,n){e.matrixUpdate||(e.matrixUpdate=1,e.matrix.update(t,!0===n?0:1),e.matrixUpdate=0)},onRemoveFromMany:function(e,t){e.matrixUpdate||(e.matrixUpdate=1,e.matrix.update(t,-1),e.matrixUpdate=0)},read:function(e,t,n,r){var i=this.callParent2(this,"GRUI.data.schema.Role","null","read",this.read,arguments);i&&(e[this.getterName](null,null,i),delete e.data[this.role])},onMatrixUpdate:function(e,t,n){var r;!(e=e.store)||e.loading||e.matrixUpdate||(e.matrixUpdate=1,r=e.indexOfId(t),n<0?0<=r&&e.remove([r]):r<0&&(r=(n=e.getSession().getEntry(this.type,t))&&n.record)&&e.add(r),e.matrixUpdate=0)},adoptAssociated:function(e,t){var n,r,i,o=this.getAssociatedItem(e);if(o)for(o.setSession(t),this.onStoreCreate(o,t,e.getId()),r=0,i=(n=o.getData().items).length;r<i;++r)t.adopt(n[r])}},(function(){var e=this;ei.Z.ClassManager.onCreated((function(){ei.Z.data.schema.ManyToMany.prototype.Right=ei.Z.define(null,{extend:e,left:!1,side:"right"})}),null,"GRUI.data.schema.ManyToMany")}))}),ei.Z.define("GRUI.util.Inflector",{singleton:!0,plurals:[[/(quiz)$/i,"$1zes"],[/^(ox)$/i,"$1en"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)ix|ex$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(hive)$/i,"$1s"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat|potat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status|sex)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/^(p)erson$/i,"$1eople"],[/^(m)an$/i,"$1en"],[/(.*)(child)(ren)?$/i,"$1$2ren"],[/s$/i,"s"],[/$/,"s"]],singulars:[[/(address)$/i,"$1"],[/(quiz)zes$/i,"$1"],[/(matr)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/^(ox)en/i,"$1"],[/(alias|status)es$/i,"$1"],[/(octop|vir)i$/i,"$1us"],[/(cris|ax|test)es$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)es$/i,"$1"],[/([m|l])ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,"$1fe"],[/(^analy)ses$/i,"$1sis"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"],[/([ti])a$/i,"$1um"],[/(n)ews$/i,"$1ews"],[/(p)eople$/i,"$1erson"],[/s$/i,""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(e,t){this.singulars.unshift([e,t])},plural:function(e,t){this.plurals.unshift([e,t])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(e){return-1!==ei.Z.Array.indexOf(this.uncountable,e)},pluralize:function(e){if(this.isTransnumeral(e))return e;for(var t,n,r=this.plurals,i=r.length,o=0;o<i;o++)if((n=(t=r[o])[0])==e||n.test&&n.test(e))return e.replace(n,t[1]);return e},singularize:function(e){if(this.isTransnumeral(e))return e;for(var t,n,r=this.singulars,i=r.length,o=0;o<i;o++)if((n=(t=r[o])[0])==e||n.test&&n.test(e))return e.replace(n,t[1]);return e},classify:function(e){return ei.Z.String.capitalize(this.singularize(e))},ordinalize:function(e){var t=parseInt(e,10),n=t%100;if(11<=n&&n<=13)return e+"th";switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd";default:return e+"th"}}},(function(){var e,t={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"};for(e in t)t.hasOwnProperty(e)&&(this.plural(e,t[e]),this.singular(t[e],e))})),ei.Z.define("GRUI.data.schema.Namer",{mixins:["GRUI.mixin.Factoryable"],requires:["GRUI.util.Inflector"],alias:"namer.default",isNamer:!0,capitalize:function(e){return ei.Z.String.capitalize(e)},fieldRole:function(e){var t=e.match(this.endsWithIdRe,"");return t&&(e=e.substr(0,e.length-(t[1]||t[2]).length)),this.apply("uncapitalize",e)},idField:function(e){return this.apply("uncapitalize,singularize",e)+"Id"},instanceName:function(e){return this.apply("underscore",e)},multiRole:function(e){return this.apply("undotted,uncapitalize,pluralize",e)},pluralize:function(e){return ei.Z.util.Inflector.pluralize(e)},readerRoot:function(e){return this.apply("uncapitalize",e)},singularize:function(e){return ei.Z.util.Inflector.singularize(e)},storeName:function(e){return this.apply("underscore",e)},uncapitalize:function(e){return ei.Z.String.uncapitalize(e)},underscore:function(e){return"_"+e},uniRole:function(e){return this.apply("undotted,uncapitalize,singularize",e)},undotted:function(e){var t,n;if(e.indexOf(".")<0)return e;for(n=(t=e.split(".")).length;1<n--;)t[n]=this.apply("capitalize",t[n]);return t.join("")},getterName:function(e){var t=e.role;return e&&e.isMany?t:"get"+this.apply("capitalize",t)},inverseFieldRole:function(e,t,n,r){var i=this;t=i.apply(t?"uniRole":"multiRole",e),e=i.apply("pluralize",n),r=i.apply("undotted,pluralize",r);return e.toLowerCase()!==r.toLowerCase()?n+i.apply("capitalize",t):t},manyToMany:function(e,t,n){var r=this;t=r.apply("undotted,capitalize,singularize",t)+r.apply("undotted,capitalize,pluralize",n);return e?r.apply("capitalize",e+t):t},manyToOne:function(e,t,n,r){return this.apply("capitalize,singularize",n)+this.apply("capitalize",t)},matrixRole:function(e,t){return t=this.apply(e?"multiRole,capitalize":"multiRole",t),e?e+t:t},oneToOne:function(e,t,n,r){return this.apply("undotted,capitalize,singularize",n)+this.apply("capitalize",t)},setterName:function(e){return"set"+this.apply("capitalize",e.role)},endsWithIdRe:/(?:(_id)|[^A-Z](Id))$/,cache:{},apply:function(e,t){var n,r,i,o,a=this,s=(o=(o=a.cache)[t]||(o[t]={}))[e];if(!s){if(e.indexOf(",")<0)s=a[e](t);else for(r=(i=e.split(",")).length,s=t,n=0;n<r;++n)s=a.apply(i[n],s);o[e]=s}return s}}),ei.Z.define("GRUI.data.schema.Schema",{mixins:["GRUI.mixin.Factoryable"],requires:["GRUI.util.ObjectTemplate","GRUI.data.schema.OneToOne","GRUI.data.schema.ManyToOne","GRUI.data.schema.ManyToMany","GRUI.data.schema.Namer"],alias:"schema.default",aliasPrefix:"schema.",isSchema:!0,type:"default",statics:{instances:{},get:function(e){var t,n=this.instances,r="default",i=e&&ei.Z.isString(e);if(e){if(e.isSchema)return e;r=i?e:e.id||r}return(t=n[r])?e&&!i&&(i=ei.Z.merge({},t.config),ei.Z.merge(i,e),t.setConfig(i),t.config=i):(n[r]=t=this.create(e),t.id=r),t},lookupEntity:function(e){var t,n,r=null,i=this.instances;if(e)if(e.isEntity)r=e.self;else if(ei.Z.isFunction(e))r=e;else if(ei.Z.isString(e)){if(!(r=!(r=ei.Z.ClassManager.get(e))||r.prototype&&r.prototype.isEntity?r:null))for(n in i)(t=i[n].getEntity(e))&&(r&&ei.Z.raise('Ambiguous entity name "'+e+'". Defined by schema "'+r.schema.type+'" and "'+n+'"'),r=t);r||ei.Z.raise('No such Entity "'+e+'".')}return r}},assocCount:0,entityCount:0,config:{defaultIdentifier:null,keyCheckDelay:10,namer:"default",namespace:null,proxy:{type:"ajax",url:"{prefix}/{entityName}"},urlPrefix:""},onClassExtended:function(e,t){var n=t.alias;n&&!t.type&&(ei.Z.isString(n)||(n=n[0]),e.prototype.type=n.substring(this.prototype.aliasPrefix.length))},constructor:function(e){this.initConfig(e),this.clear()},applyDefaultIdentifier:function(e){return e&&ei.Z.Factory.dataIdentifier(e)},applyNamer:function(e){return(e=ei.Z.data.schema.Namer.create(e)).schema=this,e},applyNamespace:function(e){var t;return e&&(t=e.length-1,"."!==e.charAt(t)&&(e+=".")),e},applyProxy:function(e){return ei.Z.util.ObjectTemplate.create(e)},eachAssociation:function(e,t){var n,r=this.associations;for(n in r)if(r.hasOwnProperty(n)&&!1===e.call(t,n,r[n]))break},eachEntity:function(e,t){var n,r=this.entities;for(n in r)if(r.hasOwnProperty(n)&&!1===e.call(t,n,r[n].cls))break},getAssociation:function(e){return this.associations[e]||null},getEntity:function(e){return(e=this.entityClasses[e]||this.entities[e])&&e.cls||null},getEntityName:function(e){var t,n=this.getNamespace();if(e="string"==typeof e?e:e.$className||null){if(n&&(t=n.length,e.substring(0,t)!==n))return e;t&&(e=e.substring(t))}return e},hasAssociations:function(e){return e=e.entityName||e,!!this.associationEntityMap[e]},hasEntity:function(e){return e=this.getEntityName(e),!(!this.entities[e]&&!this.entityClasses[e])},addMatrix:function(e,t,n,r,i){var o=this,a=o.getNamer(),s=o.associations,l=o.entities,u=r.type,c=i.type,d=r.field||a.apply("idField",u),f=i.field||a.apply("idField",c),h=r.role||a.matrixRole(n,u);a=i.role||a.matrixRole(n,c),n=l[u]||(l[u]={cls:null,name:u,associations:{}}),l=l[c]||(l[c]={cls:null,name:c,associations:{}});++o.assocCount,s[t]=s=new ei.Z.data.schema.ManyToMany({name:t,schema:o,definedBy:e,left:{cls:n.cls,type:u,role:h,field:d,associationKey:r.associationKey},right:{cls:l.cls,type:c,role:a,field:f,associationKey:i.associationKey}}),n.associations[s.right.role]=s.right,l.associations[s.left.role]=s.left,n.cls&&(o.associationEntityMap[n.cls.entityName]=!0),l.cls&&(o.associationEntityMap[l.cls.entityName]=!0),o.decorateModel(s)},addReference:function(e,t,n,r,i){var o=this,a=o.getNamer(),s=o.entities,l=o.associations,u=e.entityName,c=n.association,d=n.child,f=n.parent,h=n.role,p=n.type||f||d,g=n.inverse,m=(g=ei.Z.isString(g)?{role:g}:g)&&g.role;h=h||(!t||n.legacy?a.apply("uncapitalize",p):a.apply("fieldRole",t.name)),m=m||a.inverseFieldRole(u,r,h,p),c=c||(r?a.oneToOne(e,m,p,h):a.manyToOne(e,m,p,h));i&&c in l&&!1!==i(l[c],c,m,h)||(a=s[p]||(s[p]={cls:null,name:p,associations:{}}),c=new(r?ei.Z.data.schema.OneToOne:ei.Z.data.schema.ManyToOne)({name:c,owner:d?"left":f?"right":null,definedBy:e,schema:o,field:t,nullable:!t||!!t.allowBlank,left:{cls:e,type:u,role:m,extra:g},right:{cls:a.cls,type:p,role:h,extra:n},meta:n}),e.associations[h]=c.right,a.associations[m]=c.left,t&&(t.reference=c.right,e.references.push(t)),++o.assocCount,o.associationEntityMap[u]=!0,a.cls&&(o.associationEntityMap[a.cls.entityName]=!0),(l[c.name]=c).right.cls&&o.decorateModel(c))},privates:{addEntity:function(e){var t,n,r,i,o,a=this,s=a.entities,l=e.entityName,u=s[l],c=e.fields;if(u)for(o in t=u.associations)t[o].inverse.cls=e,a.associationEntityMap[l]=!0,a.decorateModel(t[o].association);else s[l]=u={name:l,associations:{}};for((u.cls=e).prototype.associations=e.associations=u.associations,a.entityClasses[e.$className]=u,++a.entityCount,r=0,i=c.length;r<i;++r)(n=c[r]).reference&&a.addReferenceDescr(e,n)},addMatrices:function(e,t){var n,r,i;if(ei.Z.isString(t))this.addMatrixDescr(e,null,t);else if(t[0])for(n=0,r=t.length;n<r;++n)this.addMatrixDescr(e,null,t[n]);else for(i in t)this.addMatrixDescr(e,i,t[i])},addMatrixDescr:function(e,t,n){var r,i,o=e.entityName,a=this.associations,s=this.getNamer(),l=n.left,u=n.right;ei.Z.isString(n)?u="#"===n.charAt(0)?(l={type:o},{type:n.substring(1)}):"#"===n.charAt(r=n.length-1)?(l={type:n.substring(0,r)},{type:o}):s.apply("multiRole",o)<s.apply("multiRole",n)?(l={type:o},{type:n}):(l={type:n},{type:o}):(i=n.relation,l||!u&&s.apply("multiRole",o)<s.apply("multiRole",n.type)?(l=l&&!0!==l?ei.Z.apply({type:o},l):{type:o},u=n):(u=u&&!0!==u?ei.Z.apply({type:o},u):{type:o},l=n)),(t=t||s.manyToMany(i,l.type,u.type))in a||this.addMatrix(e,t,i,l,u)},addReferenceDescr:function(e,t){var n=t.$reference;n=ei.Z.isString(n)?{type:n}:ei.Z.apply({},n);this.addReference(e,t,n,t.unique)},addBelongsTo:function(e,t){this.addKeylessSingle(e,t,!1)},addHasOne:function(e,t){this.addKeylessSingle(e,t,!0)},addKeylessSingle:function(e,t,n){var r;(t=ei.Z.apply({},this.checkLegacyAssociation(e,t))).type=this.getEntityName(t.child||t.parent||t.type),r=t.foreignKey||t.type.toLowerCase()+"_id",r=e.getField(r),t.fromSingle=!0,r&&(r.$reference=t,r.unique=!0,t.legacy=!0),this.addReference(e,r,t,n)},addHasMany:function(e,t){var n,r,i,o,a=this.entities,s=this.pending;(t=ei.Z.apply({},this.checkLegacyAssociation(e,t))).type=this.getEntityName(t.child||t.parent||t.type),(n=(n=a[a=t.type])&&n.cls)?(a=e.entityName,r=t.foreignKey||a.toLowerCase()+"_id",delete t.foreignKey,o=ei.Z.apply({},t.inverse),delete t.inverse,delete(i=ei.Z.apply({},t)).type,t=ei.Z.apply({type:a,inverse:i},o),i.child&&(delete i.child,t.parent=a),(o=n.getField(r))&&((o.$reference=t).legacy=!0),this.addReference(n,o,t,!1)):(s[a]||(s[a]=[]),s[a].push([e,t]))},checkLegacyAssociation:function(e,t){var n;return(t=ei.Z.isString(t)?{type:t}:ei.Z.apply({},t)).model&&(t.type=t.model,delete t.model),(n=t.associatedName||t.name)&&(delete t.associatedName,delete t.name,t.role=n),t},afterKeylessAssociations:function(e){var t,n,r=this.pending,i=r[e=e.entityName];if(i){for(t=0,n=i.length;t<n;++t)this.addHasMany.apply(this,i[t]);delete r[e]}},clear:function(e){var t=this,n=t.timer;delete t.setConfig,n&&(window.clearTimeout(n),t.timer=null),t.associations={},t.associationEntityMap={},t.entities={},t.entityClasses={},t.pending={},t.assocCount=t.entityCount=0,e&&t.setNamespace(null)},constructProxy:function(e){e=ei.Z.Object.chain(e);var t=this.getProxy();return e.schema=this,e.prefix=this.getUrlPrefix(),t.apply(e)},applyDecoration:function(e){var t,n=e.inverse.cls,r=this.getNamer();n&&!e.decorated&&(e.decorated=!0,n=n.prototype,(t=e.getterName)||(e.getterName=t=r.getterName(e)),n[t]=e.createGetter(),e.createSetter&&((t=e.setterName)||(e.setterName=t=r.setterName(e)),n[t]=e.createSetter()))},decorateModel:function(e){this.applyDecoration(e.left),this.applyDecoration(e.right)},processKeyChecks:function(e){var t,n,r,i=this,o=i.keyCheckQueue,a=i.timer;if(a&&(window.clearTimeout(a),i.timer=null),o)do{for(o=i.keyCheckQueue,i.keyCheckQueue=[],n=0,t=o.length;n<t;++n)(r=o[n]).role.checkKeyForDrop(r.record)}while(e&&i.keyCheckQueue.length)},queueKeyCheck:function(e,t){var n=this,r=n.keyCheckQueue,i=n.timer;r||(n.keyCheckQueue=r=[]),r.push({record:e,role:t}),i||(n.timer=ei.Z.defer(n.processKeyChecks,n.getKeyCheckDelay(),n))},rankEntities:function(){var e,t,n=this.entities,r=ei.Z.Object.getKeys(n),i=r.length;for(this.nextRank=1,r.sort(),t=0;t<i;++t)(e=n[r[t]].cls).rank||this.rankEntity(e)},rankEntity:function(e){var t,n,r=e.associations;for(n in r)(t=r[n]).left||!t.association.field||(t=t.cls).rank||this.rankEntity(t);e.rank=this.nextRank++}}}),ei.Z.define("GRUI.data.AbstractStore",{mixins:["GRUI.mixin.Observable","GRUI.mixin.Factoryable"],requires:["GRUI.util.Collection","GRUI.data.Range","GRUI.data.schema.Schema","GRUI.util.Filter"],factoryConfig:{defaultType:"store",type:"store"},$configPrefixed:!1,$configStrict:!1,config:{filters:null,autoDestroy:void 0,storeId:null,statefulFilters:!1,sorters:null,remoteSort:{lazy:!0,$value:!1},remoteFilter:{lazy:!0,$value:!1},remoteSummary:{lazy:!0,$value:!1},groupField:void 0,groupDir:"ASC",grouper:null,groupers:void 0,pageSize:25,autoSort:null,reloadOnClearSorters:!1},currentPage:1,loading:!1,isStore:!0,updating:0,observerPriority:0,constructor:function(e){var t,n=this;n.isInitializing=!0,n.mixins.observable.constructor.call(n,e),n.isInitializing=!1,!(t=n.getStoreId())&&e&&e.id&&n.setStoreId(t=e.id),t&&ei.Z.data.StoreManager.register(n)},createActiveRange:function(e){return e=ei.Z.apply({store:this},e),new ei.Z.data.Range(e)},syncActiveRanges:function(){for(var e=this.activeRanges,t=e&&e.length,n=0;n<t;n++)e[n].refresh()},getCount:function(){var e=this.getData();return e?e.getCount():0},rangeCached:function(e,t){return this.getData().getCount()>=Math.max(e,t)},find:function(e,t,n,r,i,o){return o=!(!(r=!r)||!o),this.getData().findIndex(e,t,n,r,o,!i)},findRecord:function(){var e=this,t=e.find.apply(e,arguments);return-1!==t?e.getAt(t):null},findExact:function(e,t,n){return this.getData().findIndexBy((function(n){return n.isEqual(n.get(e),t)}),this,n)},findBy:function(e,t,n){return this.getData().findIndexBy(e,t,n)},getAt:function(e){return this.getData().getAt(e)||null},getRange:function(e,t,n){var r=this.getData().getRange(e,ei.Z.isNumber(t)?t+1:t);return n&&n.callback&&n.callback.call(n.scope||this,r,e,t,n),r},getFilters:function(e){var t=this.callParent2(this,"null","null","getFilters",this.getFilters,arguments);return t||!1===e||(this.setFilters([]),t=this.callParent2(this,"null","null","getFilters",this.getFilters,arguments)),t},applyFilters:function(e,t){var n=this,r=!t;return e!==(t=r?n.createFiltersCollection():t)&&(e&&e.isCollection&&(e=e.items.slice()),t.add(e),r&&n.onRemoteFilterSet(t,n.getRemoteFilter())),t},getSorters:function(e){var t=this.callParent2(this,"null","null","getSorters",this.getSorters,arguments);return t||!1===e||(this.setSorters([]),t=this.callParent2(this,"null","null","getSorters",this.getSorters,arguments)),t},applySorters:function(e,t){var n,r=this;return t||(t=r.createSortersCollection(),n=!0),t.add(e),n&&r.onRemoteSortSet(t,r.getRemoteSort()),t},filter:function(e,t,n){ei.Z.isString(e)&&(e={property:e,value:t}),this.suppressNextFilter=!!n,this.getFilters().add(e),this.suppressNextFilter=!1},removeFilter:function(e,t){var n=this,r=n.getFilters();n.suppressNextFilter=!!t,e instanceof ei.Z.util.Filter?r.remove(e):r.removeByKey(e),n.suppressNextFilter=!1},updateAutoSort:function(e){this.getData().setAutoSort(e)},updateRemoteSort:function(e){this.onRemoteSortSet(this.getSorters(!1),e)},updateRemoteFilter:function(e){this.onRemoteFilterSet(this.getFilters(!1),e)},addFilter:function(e,t){this.suppressNextFilter=!!t,this.getFilters().add(e),this.suppressNextFilter=!1},filterBy:function(e,t){this.getFilters().add({filterFn:e,scope:t||this})},clearFilter:function(e){var t=this.getFilters(!1);t&&0!==t.getCount()&&(this.suppressNextFilter=!!e,t.removeAll(),this.suppressNextFilter=!1)},isFiltered:function(){return 0<this.getFilters().getCount()},isSorted:function(){var e=this.getSorters(!1);return!!(e&&0<e.length)||this.isGrouped()},addFieldTransform:function(e){var t,n,r;e.getTransform()||(t=e.getProperty(),(r=(n=this.getModel())?(n=n.getField(t))?n.getSortType():null:r)&&r!==ei.Z.identityFn&&e.setTransform(r))},beginUpdate:function(){!this.updating++&&this.hasListeners.beginupdate&&this.fireEvent("beginupdate")},endUpdate:function(){this.updating&&!--this.updating&&(this.hasListeners.endupdate&&this.fireEvent("endupdate"),this.onEndUpdate())},getState:function(){var e,t,n,r=this,i=[],o=r.getFilters(),a=r.getGrouper(),s=[],l=r.getGroupers(!1);return r.getSorters().each((function(e){i[i.length]=e.getState(),t=!0})),r.statefulFilters&&r.saveStatefulFilters&&(t=!0,e=[],o.each((function(t){e[e.length]=t.getState()}))),a?t=!0:l&&l.each((function(e){s[s.length]=e.getState(),t=!0})),t&&(n={},i.length&&(n.sorters=i),e&&(n.filters=e),a?n.grouper=a.getState():s.length&&(n.groupers=s)),n},applyState:function(e){var t=this,n=e.sorters,r=e.filters,i=e.grouper;e=e.groupers;n&&t.getSorters().replaceAll(n),r&&(t.saveStatefulFilters=!0,t.getFilters().replaceAll(r)),i?t.setGrouper(i):e&&t.setGroupers(e)},hasPendingLoad:ei.Z.emptyFn,isLoaded:ei.Z.emptyFn,isLoading:ei.Z.emptyFn,destroy:function(){var e=this;e.hasListeners.beforedestroy&&e.fireEvent("beforedestroy",e),e.destroying=!0,e.getStoreId()&&ei.Z.data.StoreManager.unregister(e),e.doDestroy(),e.hasListeners.destroy&&e.fireEvent("destroy",e),this.callParent2(this,"null","null","destroy",this.destroy,arguments)},doDestroy:ei.Z.emptyFn,sort:function(e,t,n){0===arguments.length?this.getRemoteSort()?this.load():this.forceLocalSort():this.getSorters().addSort(e,t,n)},onBeforeCollectionSort:function(e,t){t&&this.fireEvent("beforesort",this,t.getRange())},onSorterEndUpdate:function(){var e,t=this,n=!0,r=t.getSorters(!1);!t.settingGroups&&r&&(e=(r=r.getRange()).length,t.getRemoteSort()?(r.length||t.getReloadOnClearSorters())&&(n=!1,t.load({callback:function(){t.fireEvent("sort",t,r)}})):e&&(t.fireEvent("datachanged",t),t.fireEvent("refresh",t)),n&&t.fireEvent("sort",t,r))},onFilterEndUpdate:function(){var e=this,t=e.suppressNextFilter;e.getFilters(!1)&&(e.getRemoteFilter()?(e.currentPage=1,t||e.load()):t||(e.fireEvent("datachanged",e),e.fireEvent("refresh",e)),e.trackStateChanges&&(e.saveStatefulFilters=!0),e.fireEvent("filterchange",e,e.getFilters().getRange()))},updateGroupField:function(e){e?this.setGrouper({property:e,direction:this.getGroupDir()}):this.setGrouper(null)},getGrouper:function(){return this.getData().getGrouper()},setGrouper:function(e){(!this.isConfiguring||this.isConfiguring&&e)&&(this.usesGroupers=!1,this.group(e))},getGroupers:function(e){var t=this.getData();return t&&t.isCollection?t.getGroupers(e):null},setGroupers:function(e){(!this.isConfiguring||this.isConfiguring&&e)&&(this.usesGroupers=!0,this.group(e))},group:function(e,t){var n,r,i,o=this,a=o.getData();o.usesGroupers&&o.fireEvent("beforegroupschange",o),o.settingGroups=!0,n=a.getGroupers(),e?(ei.Z.isArray(e)?i=e:ei.Z.isObject(e)?i=[e]:ei.Z.isString(e)&&((r=n.get(e))?void 0===t?r.toggle():r.setDirection(t):i=[r={property:e,direction:t||o.getGroupDir()}]),i&&i.length&&n.replaceAll(i)):(a.setGrouper(null),a.setGroupers(null)),delete o.settingGroups},fireGroupChange:function(e){var t=this;t.isConfiguring||t.destroying||t.destroyed||(t.usesGroupers?t.fireEvent("groupschange",t,t.getGroupers(!1)):t.fireGroupChangeEvent(e||t.getGrouper()))},fireGroupChangeEvent:function(e){this.fireEvent("groupchange",this,e)},clearGrouping:function(){this.group(null)},getGroupField:function(){var e=this.getGroupers(!1),t="";return e&&e.length?e.getAt(0).getProperty():t},isGrouped:function(){var e=this.getGroupers(!1);return!!(e&&0<e.length)},getGroups:function(){return this.getData().getGroups()},onGroupersEndUpdate:function(){var e=this,t=e.getData().getGroupers(!1),n=e.getSorters(!1);t&&t.addGroupersObserver(e),t&&t.length||n&&n.length?e.getRemoteSort()?e.isInitializing||e.load({scope:e,callback:function(){e.fireGroupChange()}}):(e.fireEvent("datachanged",e),e.fireEvent("refresh",e),e.fireGroupChange()):e.fireGroupChange()},onGrouperDirectionChange:function(){var e=this;e.fireEvent("beforegroupschange",e),e.getRemoteSort()?e.isInitializing||e.load({scope:e,callback:function(){e.fireGroupChange()}}):ei.Z.asap(e.delayedDirectionChange,e)},delayedDirectionChange:function(){this.destroyed||this.fireGroupChange()},onEndUpdate:ei.Z.emptyFn,privates:{_metaProperties:{count:"getCount",first:"first",last:"last",loading:"hasPendingLoad",totalCount:"getTotalCount"},interpret:function(e){return(e=this._metaProperties[e])&&this[e]()},loadsSynchronously:ei.Z.privateFn,onRemoteFilterSet:function(e,t){e&&e[t?"on":"un"]("endupdate","onFilterEndUpdate",this)},onRemoteSortSet:function(e,t){e&&(e[t?"on":"un"]("endupdate","onSorterEndUpdate",this),(e=this.getData())&&e[t?"un":"on"]("beforesort","onBeforeCollectionSort",this))}},deprecated:{5:{methods:{destroyStore:function(){this.destroy()}}}}}),ei.Z.define("GRUI.data.Error",{isError:!0,$configPrefixed:!1,config:{field:null,message:""},constructor:function(e){this.initConfig(e),this.msg=this.message}}),ei.Z.define("GRUI.data.ErrorCollection",{extend:"GRUI.util.MixedCollection",alternateClassName:"GRUI.data.Errors",requires:["GRUI.data.Error"],init:function(e){for(var t,n,r,i,o=this,a=e.fields,s=e.data,l=0,u=a.length;l<u;++l)r=s[i=(n=a[l]).name],n.validate&&!n.validate.$nullFn&&(t=o.length,n=n.validate(r,null,o,e),t===o.length&&!0!==n&&o.add(i,n));return o},add:function(e,t){var n=ei.Z.data.field.Field.defaultInvalidMessage,r=e;if(ei.Z.isString(e)?r=new ei.Z.data.Error({field:e,message:t||n}):e=(r=r.isError?r:new ei.Z.data.Error({field:r.field||r.name,message:r.error||r.message||r.msg||n})).field,n=this.get(e)){if(ei.Z.isArray(n))return n.push(r),n;this.removeAtKey(e),(r=[n,r]).field=e,r=[r]}return this.callParent2(this,"GRUI.util.MixedCollection","null","add",this.add,arguments)},getKey:function(e){return e.field},isValid:function(){return 0===this.length},getByField:function(e){return(e=(e=this.get(e))&&!ei.Z.isArray(e)?[e]:e)||[]}}),ei.Z.define("GRUI.data.operation.Operation",{alternateClassName:"GRUI.data.Operation",isOperation:!0,config:{synchronous:!1,url:"",params:void 0,callback:void 0,scope:void 0,resultSet:null,response:null,request:null,records:null,id:void 0,proxy:null,batch:null,recordCreator:null,internalCallback:null,internalScope:null},order:0,foreignKeyDirection:1,started:!1,running:!1,complete:!1,success:void 0,exception:!1,error:void 0,idPrefix:"ext-operation-",constructor:function(e){var t=e&&e.scope;this.initConfig(e),e&&(e.scope=t),t&&(this.setScope(t),this.initialConfig.scope=t),this._internalId=ei.Z.id(this,this.idPrefix)},getAction:function(){return this.action},execute:function(){var e,t=this;return delete t.error,delete t.success,t.complete=t.exception=!1,t.setStarted(),t.request=e=t.doExecute(),e&&e.setOperation(t),e},doExecute:ei.Z.emptyFn,abort:function(){var e,t=this,n=t.request;t.aborted=!0,t.running&&n&&((e=t.getProxy())&&!e.destroyed&&e.abort(n),t.request=null),t.running=!1},process:function(e,t,n,r){var i=this;r=!1!==r,i.setResponse(n),i.setResultSet(e),e.getSuccess()?(i.doProcess(e,t,n),i.setSuccessful(r)):r&&i.setException(e.getMessage())},_commitSetOptions:{convert:!0,commit:!0},doProcess:function(e,t,n){var r,i,o,a,s=this._commitSetOptions,l=this.getRecords(),u=l.length,c=l[0].clientIdProperty,d=e.getRecords(),f=d?d.length:0;if(f&&c){for(r=ei.Z.Array.toValueMap(l,"id"),a=0;a<f;++a)(o=r[(i=d[a])[c]])&&(delete r[o.id],delete i[c],o.set(i,s));for(a in r)r[a].commit()}else for(a=0;a<u;++a)o=l[a],0!==f&&(i=d[a])?o.set(i,s):o.commit()},setStarted:function(){this.started=this.running=!0},setCompleted:function(){var e,t=this;t.complete=!0,t.running=!1,t.destroying||t.triggerCallbacks(),t.destroyed||(e=t.getProxy())&&!e.destroyed&&e.completeOperation(t)},setSuccessful:function(e){this.success=!0,e&&this.setCompleted()},setException:function(e){var t=this;t.exception=!0,t.success=t.running=!1,t.error=e,t.setCompleted()},triggerCallbacks:function(){var e=this,t=e.getInternalCallback();if(t){if(t.call(e.getInternalScope()||e,e),e.destroyed)return;e.setInternalCallback(null),e.setInternalScope(null)}(t=e.getCallback())&&(t.call(e.getScope()||e,e.getRecords(),e,e.wasSuccessful()),e.destroyed||(e.setCallback(null),e.setScope(null)))},hasException:function(){return this.exception},getError:function(){return this.error},getRecords:function(){var e;return this._records||((e=this.getResultSet())?e.getRecords():null)},isStarted:function(){return this.started},isRunning:function(){return this.running},isComplete:function(){return this.complete},wasSuccessful:function(){return this.isComplete()&&!0===this.success},allowWrite:function(){return!0},destroy:function(){var e=this;e.destroying=!0,e.running&&e.abort(),e._params=e._callback=e._scope=e._resultSet=e._response=null,e.request=e._request=e._records=e._proxy=e._batch=null,e._recordCreator=e._internalCallback=e._internalScope=null,this.callParent2(this,"null","null","destroy",this.destroy,arguments)}}),ei.Z.define("GRUI.data.operation.Create",{extend:"GRUI.data.operation.Operation",alias:"data.operation.create",action:"create",isCreateOperation:!0,order:10,config:{recordCreator:ei.Z.identityFn},doExecute:function(){return this.getProxy().create(this)}}),ei.Z.define("GRUI.data.operation.Destroy",{extend:"GRUI.data.operation.Operation",alias:"data.operation.destroy",action:"destroy",isDestroyOperation:!0,order:30,foreignKeyDirection:-1,doProcess:function(){for(var e=this.getRecords(),t=e.length,n=0;n<t;++n)e[n].setErased()},doExecute:function(){return this.getProxy().erase(this)},getRecordData:function(e,t){var n={};return n[e.idField[this.getNameProperty()||"name"]]=e.id,n}}),ei.Z.define("GRUI.data.operation.Read",{extend:"GRUI.data.operation.Operation",alias:"data.operation.read",action:"read",isReadOperation:!0,config:{filters:void 0,sorters:void 0,groupers:void 0,summaries:void 0,grouper:void 0,start:void 0,limit:void 0,page:void 0,addRecords:!1},doExecute:function(){return this.getProxy().read(this)},doProcess:ei.Z.emptyFn,allowWrite:function(){return!1}}),ei.Z.define("GRUI.data.operation.Update",{extend:"GRUI.data.operation.Operation",alias:"data.operation.update",action:"update",isUpdateOperation:!0,order:20,config:{recordCreator:ei.Z.identityFn},doExecute:function(){return this.getProxy().update(this)}}),ei.Z.define("GRUI.data.SortTypes",(function(){var e;return{singleton:!0,constructor:function(){e=this},none:ei.Z.identityFn,stripCommasRe:/,/g,stripTagsRE:/<\/?[^>]+>/gi,asText:function(t){return null!=t?String(t).replace(e.stripTagsRE,""):"\0"},asUCText:function(t){return null!=t?String(t).toUpperCase().replace(e.stripTagsRE,""):"\0"},asUCString:function(e){return null!=e?String(e).toUpperCase():"\0"},asDate:function(e){return e?ei.Z.isDate(e)?e.getTime():Date.parse(String(e)):0},asFloat:function(t){return t=parseFloat(String(t).replace(e.stripCommasRe,"")),isNaN(t)?0:t},asInt:function(t){return t=parseInt(String(t).replace(e.stripCommasRe,""),10),isNaN(t)?0:t}}})),ei.Z.define("GRUI.data.validator.Validator",{mixins:["GRUI.mixin.Factoryable"],alias:"data.validator.base",isValidator:!0,factoryConfig:{cacheable:!0},type:"base",constructor:function(e){"function"==typeof e?(this.fnOnly=!0,this.validate=e):this.initConfig(e)},validate:function(){return!0},clone:function(){var e=this;return e.fnOnly?new ei.Z.data.validator.Validator(e.validate):new e.self(e.getCurrentConfig())}},(function(e){ei.Z.Factory.validator=ei.Z.Factory.dataValidator})),ei.Z.define("GRUI.data.field.Field",{mixins:["GRUI.mixin.Factoryable"],requires:["GRUI.data.SortTypes","GRUI.data.validator.Validator","GRUI.data.summary.*"],alternateClassName:"GRUI.data.Field",alias:"data.field.auto",aliasPrefix:"data.field.",type:"auto",factoryConfig:{defaultProperty:"name"},isDataField:!0,isField:!0,allowBlank:!0,allowNull:!1,critical:!1,defaultInvalidMessage:"This field is invalid",defaultValue:void 0,definedBy:null,depends:null,dependents:null,mapping:null,name:null,ordinal:void 0,persist:null,reference:null,summary:null,summaryField:"",unique:!1,rank:null,stripRe:/[$,%]/g,calculated:!1,evil:!1,identifier:!1,onClassExtended:function(e,t){var n=t.sortType,r=(e=e.prototype).validators,i=t.validators,o=t.alias;(o=o&&("string"!=typeof o?o[0]:o))&&(e.type=o.substr(o.lastIndexOf(".")+1)),n&&ei.Z.isString(n)&&(e.sortType=ei.Z.data.SortTypes[n]),i&&(ei.Z.isArray(i)||(i=[i]),delete t.validators,r&&(i=r.concat(i)),e.validators=i)},argumentNamesRe:/^function\s*\(\s*([^,\)\s]+)/,calculateRe:/[^.a-z0-9_]([a-z_][a-z_0-9]*)\.([a-z_][a-z_0-9]*)/gi,constructor:function(e){var t,n,r,i,o,a,s,l,u=this,c=u.calculateRe;if(e&&(ei.Z.isString(e)?u.name=e:((l=e.validators)&&(delete e.validators,u.instanceValidators=l),ei.Z.apply(u,e))),u.allowNull||(u.allowNull=!!u.reference),l=u.calculate,n=u.depends,l&&(u.convert=u.doCalculate,!n)){if(!(n=l.$depends))for(r={},a=ei.Z.Function.toCode(l),l.$depends=n=[],o=(i=u.argumentNamesRe.exec(a))?i[1]:"data";i=c.exec(a);)o!==i[1]||r[s=i[2]]||(r[s]=1,n.push(s));u.depends=n}e=u.defaultValue,u.convert&&(u.calculated=t=1<u.convert.length,u.evil=t&&!n),null===u.persist&&(u.persist=!l),t=u.sortType,u.sortType?ei.Z.isString(t)&&(u.sortType=ei.Z.data.SortTypes[t]):u.sortType=ei.Z.data.SortTypes.none,n&&"string"==typeof n&&(u.depends=[n]),u.cloneDefaultValue=void 0!==e&&(ei.Z.isDate(e)||ei.Z.isArray(e)||ei.Z.isObject(e))},setModelValidators:function(e){this._validators=null,this.modelValidators=e},constructValidators:function(e){var t,n,r,i,o;if(e){for(e instanceof Array||(e=[e]),t=this._validators,r=0,n=e.length;r<n;++r)(i=e[r]).fn&&(i=i.fn),(i=ei.Z.Factory.dataValidator(i)).isPresence?o=i:t.push(i);o&&(this.presence=[o])}},collate:function(e,t){var n=this;return n.sortType&&(e=n.sortType(e),t=n.sortType(t)),e===t?0:e<t?-1:1},compare:function(e,t){return e===t?0:e<t?-1:1},isEqual:function(e,t){return 0===this.compare(e,t)},convert:null,serialize:null,validate:function(e,t,n,r){var i=this,o=i.getValidators(),a=this.presence;return!a||null!=e&&""!==e||!0===(a=i.validateGroup(a,e,t,n,r))?i.validateGroup(o,e,t,n,r):a},validateGroup:function(e,t,n,r,i){for(var o,a="",s=0,l=e.length;s<l;++s)if(!0!==(o=e[s].validate(t,i)))if(o=o||this.defaultInvalidMessage,r)r.isMixedCollection?r.add(this.name,o):r.isCollection?r.add(o):r.push(o),a=a||o;else{if(!n){a=o;break}a&&(a+=n),a+=o}return a||!0},doCalculate:function(e,t){return t?this.calculate(t.data):e},getName:function(){return this.name},getAllowBlank:function(){return this.allowBlank},getAllowNull:function(){return this.allowNull},getConvert:function(){return this.convert},getDefaultValue:function(){return this.defaultValue},getDepends:function(){return this.depends},getMapping:function(){return this.mapping},hasMapping:function(){var e=this.mapping;return!(!e&&0!==e)},getPersist:function(){return this.persist},getSortType:function(){return this.sortType},getSummary:function(){var e=this.doneSummary,t=this.summary;return e||(this.doneSummary=!0,t&&(this.summary=t=ei.Z.Factory.dataSummary(t))),t||null},getType:function(){return"auto"},privates:{getValidators:function(){var e=this,t=e._validators;return t||(e._validators=t=[],e.constructValidators(e.validators),e.constructValidators(e.modelValidators),e.constructValidators(e.instanceValidators)),t}},deprecated:{5.1:{methods:{getSortDir:function(){return this.sortDir}}}}}),ei.Z.define("GRUI.data.field.Array",{extend:"GRUI.data.field.Field",alias:"data.field.array",isArrayField:!0,itemType:{type:"auto"},getType:function(){return"array"},collate:function(e,t){return this.collateOrCompare(e,t,"collate")},compare:function(e,t){return this.collateOrCompare(e,t,"compare")},convert:function(e){return this.doForEach(!e&&0!==e||ei.Z.isArray(e)?e:[e],"convert")},serialize:function(e){return this.doForEach(e,"serialize")},getItemField:function(){var e=this,t=e.itemType;return e.itemField||("string"==typeof t?t={type:t}:t&&t.isDataField||(t=ei.Z.apply({type:"auto"},t)),e.itemField=ei.Z.data.field.Field.create(t)),e.itemField},doForEach:function(e,t){if(!e)return this.allowNull?null:[];for(var n=e.length,r=Array(n),i=this.getItemField(),o=0;o<n;++o)r[o]=i[t]?i[t](e[o]):e[o];return r},collateOrCompare:function(e,t,n){var r,i,o,a,s,l=this.getItemField();if(!e&&!t||e===t)return 0;if(!e||!t)return e?1:-1;for(i=e.length,o=t.length,a=Math.min(i,o),r=0;r<a;++r)if(0!==(s=l[n](e[r],t[r])))return s;return i===o?0:i<o?-1:1}}),ei.Z.define("GRUI.data.field.Boolean",{extend:"GRUI.data.field.Field",alias:["data.field.bool","data.field.boolean"],isBooleanField:!0,trueRe:/^\s*(?:true|yes|on|1)\s*$/i,convert:function(e){return"boolean"==typeof e?e:!this.allowNull||null!=e&&""!==e?this.trueRe.test(String(e)):null},getType:function(){return"bool"}}),ei.Z.define("GRUI.data.field.Date",{extend:"GRUI.data.field.Field",alias:"data.field.date",sortType:"asDate",isDateField:!0,dateFormat:null,dateReadFormat:null,dateWriteFormat:null,compare:function(e,t){var n=e instanceof Date,r=t instanceof Date,i=r&&n?0===(i=e.getTime()-t.getTime())?0:i<0?-1:1:n==r?0:n?1:-1;return i},convert:function(e){if(!e)return null;if(e instanceof Date)return e;var t=this.dateReadFormat||this.dateFormat;return t?ei.Z.Date.parse(e,t,this.useStrict):(t=Date.parse(e))?new Date(t):null},serialize:function(e){var t,n=null;return ei.Z.isDate(e)?(t=this.getDateWriteFormat())?ei.Z.Date.format(e,t):e:n},getDateFormat:function(){return this.dateFormat},getDateReadFormat:function(){return this.dateReadFormat},getDateWriteFormat:function(){var e=this;return e.hasOwnProperty("dateWriteFormat")?e.dateWriteFormat:e.hasOwnProperty("dateFormat")?e.dateFormat:e.dateWriteFormat||e.dateFormat||"timestamp"},getType:function(){return"date"}}),ei.Z.define("GRUI.data.field.Integer",{extend:"GRUI.data.field.Field",alias:["data.field.int","data.field.integer"],isNumeric:!0,isIntegerField:!0,numericType:"int",convert:function(e){if("number"==typeof e)return this.getNumber(e);var t,n=this.allowNull;return null==e||""===e?t=n?null:0:(t=this.parse(e),n&&isNaN(t)&&(t=null)),t},getNumber:function(e){return parseInt(e,10)},getType:function(){return this.numericType},parse:function(e){return parseInt(String(e).replace(this.stripRe,""),10)},sortType:function(e){return null==e?1/0:e}}),ei.Z.define("GRUI.data.field.Number",{extend:"GRUI.data.field.Integer",alias:["data.field.float","data.field.number"],isIntegerField:!1,isNumberField:!0,numericType:"float",getNumber:ei.Z.identityFn,parse:function(e){return parseFloat(String(e).replace(this.stripRe,""))}}),ei.Z.define("GRUI.data.field.String",{extend:"GRUI.data.field.Field",alias:"data.field.string",sortType:"asUCString",isStringField:!0,convert:function(e){var t=this.allowNull?null:"";return null==e?t:String(e)},getType:function(){return"string"}}),ei.Z.define("GRUI.data.identifier.Generator",{abstract:!0,mixins:["GRUI.mixin.Factoryable"],alias:"data.identifier.default",factoryConfig:{defaultType:"sequential"},isGenerator:!0,config:{id:null},constructor:function(e){var t=this;t.initConfig(e),(e=t.getId())&&(ei.Z.data.identifier.Generator.all[e]=t)},privates:{clone:function(e){var t=this.getInitialConfig();t=e?ei.Z.apply({},e,t):t;return new this.self(t)},statics:{all:{}}}},(function(){var e=this,t=ei.Z.Factory,n=t.dataIdentifier;t.dataIdentifier=function(t){var r=ei.Z.isString(t)?t:t&&t.id;return r&&e.all[r]||n(t)}})),ei.Z.define("GRUI.data.identifier.Sequential",{extend:"GRUI.data.identifier.Generator",alias:"data.identifier.sequential",config:{increment:1,prefix:null,seed:1},generate:function(){var e=this,t=e._seed,n=e._prefix;return e._seed+=e._increment,null!==n?n+t:t}}),ei.Z.define("GRUI.data.Model",{alternateClassName:"GRUI.data.Record",requires:["GRUI.data.ErrorCollection","GRUI.data.operation.*","GRUI.data.field.*","GRUI.data.validator.Validator","GRUI.data.schema.Schema","GRUI.data.identifier.Generator","GRUI.data.identifier.Sequential"],uses:["GRUI.data.Validation"],isEntity:!0,isModel:!0,validIdRe:null,erasing:!1,loadOperation:null,loadCount:0,observableType:"record",crudState:"R",crudStateWas:null,constructor:function(e,t,n){var r,i,o,a,s,l,u=this,c=u.self,d=c.identifier,f=ei.Z.data.Model,h=f.identifier,p=u.idField.name;if(u.data=u.data=e=e||{},u.internalId=o=h.generate(),(r=e)instanceof Array)for(u.data=e={},l=u.getFields(),a=Math.min(l.length,r.length),s=0;s<a;++s)e[l[s].name]=r[s];(i=c.initializeFn)||(c.initializeFn=i=f.makeInitializeFn(c)),i.$nullFn||c.initializeFn(u),u.isSummaryModel||((u.id=f=e[p])||0===f||(f=t?(d=t.getIdentifier(c)).generate():h===d?o:d.generate(),e[p]=u.id=f,u.phantom=!0,u.crudState="C"),t&&!n&&t.add(u),u.phantom&&(u.crudStateWas="C")),u.init&&ei.Z.isFunction(u.init)&&u.init()},editing:!1,dirty:!1,session:null,dropped:!1,erased:!1,clientIdProperty:null,evented:!1,phantom:!1,idProperty:"id",manyToMany:null,identifier:null,previousValues:void 0,proxy:void 0,schema:"default",summary:null,versionProperty:null,generation:1,validationSeparator:null,convertOnSet:!0,beginEdit:function(){var e=this,t=e.modified,n=e.previousValues;e.editing||(e.editing=!0,e.editMemento={dirty:e.dirty,data:ei.Z.apply({},e.data),generation:e.generation,modified:t&&ei.Z.apply({},t),previousValues:n&&ei.Z.apply({},n)})},calculateSummary:function(e){for(var t,n,r,i,o=this.getFields(),a=o.length,s=e.length,l=0;l<a;++l)(n=(i=o[l]).getSummary())&&(t=t||{},r=i.name,i=i.summaryField||r,"id"!==r&&(t[r]=n?n.calculate(e,i,"data",0,s):void 0));t&&this.set(t,this._commitOptions)},cancelEdit:function(){var e=this,t=e.editMemento,n=e.validation;t&&(e.editing=!1,ei.Z.apply(e,t),e.editMemento=null,n&&n.syncGeneration!==e.generation&&(n.syncGeneration=0))},endEdit:function(e,t){var n=this,r=n.editMemento;r&&(n.editing=!1,n.editMemento=null,n.previousValues=r.previousValues,e||(t=t||n.getModifiedFieldNames(r.data),(n.dirty||t&&t.length)&&n.callJoined("afterEdit",[t])))},getField:function(e){return this.self.getField(e)},getFields:function(){return this.self.getFields()},getFieldsMap:function(){return this.fieldsMap},getIdProperty:function(){return this.idProperty},getId:function(){return this.id},getObservableId:function(){return this.internalId},setId:function(e,t){this.set(this.idProperty,e,t)},getPrevious:function(e){var t=this.previousValues;return t&&t[e]},isModified:function(e){var t=this.modified;return!(!t||!t.hasOwnProperty(e))},getModified:function(e){var t;return this.isModified(e)?this.modified[e]:t},get:function(e){return this.data[e]},_singleProp:{},_rejectOptions:{convert:!1,silent:!0},set:function(e,t,n){var r,i,o,a,s,l,u,c,d,f,h,p,g,m,v,y,b,C=this,S=C.self,x=C.data,I=C.modified,R=C.previousValues,w=C.session,E=ei.Z.isString(e),Z=(n=E?n:t)?!1!==n.convert:C.convertOnSet,P=C.fieldsMap,T=n&&n.silent,A=n&&n.commit,M=!(n&&!1===n.refs)&&w,k=!(n&&!1===n.dirty&&!A),G=null,F=0,_=C.associations;for(E?(y=C._singleProp)[e]=t:y=e,h=(g=(g=S.rankedFields)?g:S.rankFields()).length;;){for(s in y)if(v=y[s],r=x[s],u=C,m=(i=P[s])?(Z&&i.convert&&(v=i.convert(v,C)),(u=i).reference):null,!u.isEqual(r,v)){for(x[s]=v,(G=G||[]).push(s),(R||(C.previousValues=R={}))[s]=r,m&&m.cls&&(M&&w.updateReference(C,i,v,r),m.onValueChange(C,w,v,r)),f=(d=i&&i.dependents)&&d.length;0<f--;)(c=d[f]).dirty=!0,F=F?Math.min(F,c.rank):c.rank;i&&!i.persist||(I&&I.hasOwnProperty(s)?k&&!u.isEqual(I[s],v)||(delete I[s],C.dirty=-1):k&&(I||(C.modified=I={}),C.dirty=!0,I[s]=r)),s===C.idField.name&&(o=!0,l=r,p=v)}if(!F)break;for((i=g[F-1]).dirty=!1,E?delete y[e]:(y=C._singleProp,E=!0),y[e=i.name]=x[e],Z=!0;F<h&&!g[F].dirty;++F);F<h?++F:F=0}if(C.dirty<0)for(a in C.dirty=!1,I)if(I.hasOwnProperty(a)){C.dirty=!0;break}if(E&&delete y[e],++C.generation,o&&(C.id=p,C.onIdChanged(p,l),C.callJoined("onIdChanged",[l,p]),_))for(b in _)_[b].onIdChanged(C,l,p);return A?C.commit(T,G):T||C.editing||!G||C.callJoined("afterEdit",[G]),G},reject:function(e){var t=this,n=t.modified;n&&t.set(n,t._rejectOptions),t.dropped=!1,t.clearState(),e||t.callJoined("afterReject")},commit:function(e,t){var n,r=this,i=r.versionProperty,o=r.data;r.clearState(),!i||r.phantom||isNaN(o[i])||++o[i],r.phantom=!1,r.dropped&&(r.erased=n=!0),e||(n?r.callJoined("afterErase"):r.callJoined("afterCommit",[t]))},clearState:function(){this.dirty=this.editing=!1,this.editMemento=this.modified=null},drop:function(e){var t,n=this,r=n.associations,i=n.session;if(!n.erased&&!n.dropped){if(n.dropped=!0,r&&!1!==e)for(t in r)r[t].onDrop(n,i);n.callJoined("afterDrop"),n.phantom&&n.setErased()}},join:function(e){var t=this.joined;t?t.length?ei.Z.Array.include(t,e):t[0]=e:t=this.joined=[e],e.isStore&&!this.store&&(this.store=e)},unjoin:function(e){var t,n=this,r=n.joined,i=r&&r.length,o=n.store;if(e===n.session)n.session=null;else if(1===i&&r[0]===e?r.length=0:i&&ei.Z.Array.remove(r,e),o===e){if(o=null,r)for(t=0,i=r.length;t<i;++t)if((e=r[t]).isStore){o=e;break}n.store=o}},clone:function(e){var t=this,n=t.modified;e=t.copy(t.id,e);return n&&(e.modified=ei.Z.apply({},n)),e.dirty=t.dirty,e.dropped=t.dropped,e.phantom=t.phantom,e},copy:function(e,t){var n=ei.Z.apply({},this.data),r=this.idProperty,i=this.self;return e||0===e?n[r]=e:null===e&&delete n[r],new i(n,t)},getProxy:function(){return this.self.getProxy()},getValidation:function(e){var t=this.validation;return t||(this.validation=t=new ei.Z.data.Validation,t.attach(this)),(!0===e||!1!==e&&t.syncGeneration!==this.generation)&&t.refresh(e),t},validate:function(){return(new ei.Z.data.ErrorCollection).init(this)},isValid:function(){return this.getValidation().isValid()},toUrl:function(){var e=this.$className.split(".");return e[e.length-1].toLowerCase()+"/"+this.getId()},erase:function(e){return this.erasing=!0,this.drop(),this.erasing=!1,this.save(e)},setErased:function(){this.erased=!0,this.callJoined("afterErase")},getChanges:function(){return this.getData(this._getChangesOptions)},getCriticalFields:function(){var e=this.self,t=e.criticalFields;return t||(e.rankFields(),t=e.criticalFields),t},getAssociatedData:function(e,t){var n,r,i,o,a,s,l,u,c,d,f,h=this,p=h.associations;for(u in e=e||{},h.$gathering=1,t=t&&ei.Z.apply({},t),p)if((i=p[u].getAssociatedItem(h))&&!i.$gathering){if(i.isStore){for(i.$gathering=1,s=(o=i.getData().items).length,a=[],r=0;r<s;++r)n=!(l=o[r]).$gathering,l.$gathering=1,c=t?(void 0===(f=t.associated)?(t.associated=n,d=!0):n||(d=!(t.associated=!1)),t):n?h._getAssociatedOptions:h._getNotAssociatedOptions,a.push(l.getData(c)),d&&(t.associated=f,d=!1),delete l.$gathering;delete i.$gathering}else c=t||h._getAssociatedOptions,t&&void 0===t.associated&&(c.associated=!0),a=i.getData(c);e[u]=a}return delete h.$gathering,e},getData:function(e){var t,n,r,i,o,a=this,s={},l=(e=!0===e?a._getAssociatedOptions:e||s,a.data),u=e.associated,c=(d=e.changes)&&e.critical,d=d?a.modified:l,f=a.fieldsMap,h=e.persist,p=e.serialize;if(d)for(i in d){if(o=l[i],n=f[i]){if(h&&!n.persist)continue;p&&n.serialize&&(o=n.serialize(o,a))}s[i]=o}if(c)for(r=(t=a.self.criticalFields||a.getCriticalFields()).length;0<r--;)(i=(n=t[r]).name)in s||(o=l[i],p&&n.serialize&&(o=n.serialize(o,a)),s[i]=o);return u&&("object"==typeof u?a.getNestedData(e,s):a.getAssociatedData(s,e)),s},getNestedData:function(e,t){var n,r,i,o,a,s,l,u,c=this.associations,d=e.associated;for(l in t=t||{},d)if(s=c[l],!0===(u=d[l])?delete e.associated:e.associated=u,u=s.getAssociatedItem(this)){if(u.isStore)for(o=(r=u.getData().items).length,i=[],n=0;n<o;++n)a=r[n],i.push(a.getData(e));else i=u.getData(e);t[l]=i}return e.associated=d,t},getTransientFields:function(){var e=this.self,t=e.transientFields;return t||(e.rankFields(),t=e.transientFields),t},isLoading:function(){return!!this.loadOperation},abort:function(){var e=this.loadOperation;e&&e.abort()},load:function(e){e=ei.Z.apply({},e);var t=this,n=e.scope||t,r=t.getProxy(),i=e.callback,o=t.loadOperation,a=t.getId();return o?(o.extraCalls||(o.extraCalls=[])).push(e):(e.id=a,e.recordCreator=function(e,n,r){var i=t.session;return r&&(r.recordCreator=i?i.recordCreator:null),t.set(e,t._commitOptions),t},e.internalCallback=function(r){var o,a,s=r.wasSuccessful()&&0<r.getRecords().length,l=t.loadOperation.extraCalls,u=[t,r],c=[t,r,s];if(t.loadOperation=null,++t.loadCount,s?ei.Z.callback(e.success,n,u):ei.Z.callback(e.failure,n,u),ei.Z.callback(i,n,c),l)for(o=0,a=l.length;o<a;++o)e=l[o],s?ei.Z.callback(e.success,n,u):ei.Z.callback(e.failure,n,u),ei.Z.callback(e.callback,n,c);t.callJoined("afterLoad")},delete e.callback,t.loadOperation=o=r.createOperation("read",e),o.execute()),o},mergeData:function(e){this.dirty||this.set(e,this._commitOptions)},save:function(e){e=ei.Z.apply({},e);var t=this,n=t.phantom,r=t.dropped,i=r?"destroy":n?"create":"update",o=e.scope||t,a=e.callback,s=t.getProxy();return e.records=[t],e.internalCallback=function(n){var r=[t,n];(n=n.wasSuccessful())?ei.Z.callback(e.success,o,r):ei.Z.callback(e.failure,o,r),r.push(n),ei.Z.callback(a,o,r)},delete e.callback,s=s.createOperation(i,e),r&&n?(t.setErased(),s.setSuccessful(!0)):s.execute(),s},statics:{defaultProxy:"memory"},inheritableStatics:{_associatedReadOptions:{recordsOnly:!0,asRoot:!0},loadData:function(e,t){return e=e?this.getProxy().getReader().readRecords([e],t?{recordCreator:t.recordCreator}:void 0,this._associatedReadOptions)[0]:new this(e,t)},getSummaryModel:function(){var e=this.prototype,t=this.summaryModel;return t||((t=ei.Z.define(null,{extend:this,fields:e.summaryFields||[],isSummaryModel:!0})).isSummaryModel=!0,this.summaryModel=e.summaryModel=t),t||null},setSummaryField:function(e,t){var n=this.getField(e);n?n.doneSummary&&t&&t.isAggregator?n.summary=t:(n.summary=t,n.doneSummary=!1):this.addFields([{name:e,type:"auto",summary:t,doneSummary:t&&t.isAggregator}])},addFields:function(e){this.replaceFields(e)},replaceFields:function(e,t){var n,r,i,o,a,s,l=this,u=l.prototype,c=ei.Z.data.field.Field,d=l.fields,f=l.fieldsMap,h=l.fieldOrdinals;if(!0===t)d.length=0,l.fieldsMap=f={},l.fieldOrdinals=h={},s=!0;else if(t){for(r=t.length;0<r--;)(o=t[r])in h&&(delete h[o],delete f[o]);for(r=0,i=d.length;r<i;++r)(o=(n=d[r]).name)in h?h[o]=r:(d.splice(r,1),--r,--i)}for(r=0,i=e?e.length:0;r<i;r++)(o=(n=e[r]).name)in h||(h[o]=a=d.length,d.push(n=c.create(n)),(f[o]=n).ordinal=a,n.definedBy=n.owner=this);if(!s)for(r=0,i=d.length;r<i;++r)d[r].rank=null;l.idField=u.idField=s=f[u.idProperty],s&&(s.allowNull=s.critical=s.identifier=!0,s.defaultValue=null),l.initializeFn=l.rankedFields=l.transientFields=l.criticalFields=null},removeFields:function(e){this.replaceFields(null,e)},getIdFromData:function(e){var t=this.idField;return t.calculated?new this(e).id:e[t.name]},createWithId:function(e,t,n){var r=t;return!e&&0!==e||(r={},t&&ei.Z.apply(r,t),r[this.idField.name]=e),new this(r,n)},getFields:function(){return this.fields},getFieldsMap:function(){return this.fieldsMap},getField:function(e){return this.fieldsMap[e]||null},getProxy:function(){var e=this,t=e.proxy,n=e.defaultProxy;return t||((t=!(t=e.proxyConfig)&&n?n:t)&&t.isProxy||("string"==typeof t&&(t={type:t}),n=ei.Z.merge(e.schema.constructProxy(e),t),t=t&&t.type&&!1===t.schema?t:n),t=e.setProxy(t)),t},setProxy:function(e){var t;return e&&(e.isProxy?(t=e.getModel())&&t!==this&&(e=e.clone()):e=ei.Z.Factory.proxy(e),e.setModel(this)),this.prototype.proxy=this.proxy=e},load:function(e,t,n){var r,i={};return(r=n?n.peekRecord(this,e):r)||(i[this.prototype.idProperty]=e,r=new this(i,n)),r.load(t),r}},deprecated:{5:{methods:{hasId:null,markDirty:null,setDirty:null,eachStore:function(e,t){for(var n=this.stores,r=n.length,i=0;i<r;++i)e.call(t,n[i])},join:function(e){var t=this,n=t.stores,r=t.joined;r?r.push(e):r=t.joined=[e],e.isStore&&(t.store=t.store||e,(n=n||(t.stores=[])).push(e))},unjoin:function(e){var t=this.stores,n=this.joined;1===n.length?n.length=0:ei.Z.Array.remove(n,e),e.isStore&&(ei.Z.Array.remove(t,e),this.store=t[0]||null)}},properties:{persistenceProperty:null},inheritableStatics:{methods:{setFields:null}}}},privates:{_commitOptions:{commit:!0},_getChangesOptions:{changes:!0},_getAssociatedOptions:{associated:!0},_getNotAssociatedOptions:{associated:!1},_metaProperties:{dirty:"isDirty",phantom:"isPhantom",valid:"isValid"},copyFrom:function(e){var t,n,r,i,o=this,a=o.fields,s=a.length,l=[],u=o.idProperty,c=0;if(e){for(t=o.data,n=e.data;c<s;c++)(r=a[c].name)===u||void 0===(i=n[r])||o.isEqual(t[r],i)||(t[r]=i,l.push(r));o.phantom&&!e.phantom&&(o.beginEdit(),o.setId(e.getId()),o.endEdit(!0),o.commit(!0))}return l},callJoined:function(e,t){var n,r,i,o,a=this,s=a.joined,l=a.session,u=a.dropped?"D":a.phantom?"C":a.dirty?"U":"R";if(a.crudState=u,(s||l)&&(t?t.unshift(a):t=[a],(i=l&&l[e])&&i.apply(l,t),s))for(n=0,r=s.length;n<r;++n)(o=s[n])&&(i=o[e])&&i.apply(o,t);a.crudStateWas=u},hasPendingLoad:function(){return this.isLoading()},interpret:function(e){var t=this._metaProperties[e];return(t=t||(t=this.associations)&&t[e]&&t[e].getterName)?this[t]():this.data[e]},isDirty:function(){return this.dirty},isPhantom:function(){return this.phantom},onAssociatedRecordSet:function(e,t){this.callJoined("afterAssociatedRecordSet",[e,t])},onIdChanged:ei.Z.privateFn,setSession:function(e){(this.session=e)&&e.add(this)},getModifiedFieldNames:function(e){var t,n=this.data,r=[],i=e||this.editMemento.data;for(t in n)!n.hasOwnProperty(t)||this.isEqual(n[t],i[t],t)||r.push(t);return r},isEqual:function(e,t,n){return n&&(n=n.isField?n:this.fieldsMap[n])?n.isEqual(e,t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e===t},statics:{EDIT:"edit",REJECT:"reject",COMMIT:"commit",rankFields:function(){var e,t,n,r=this,i=r.prototype,o=r.fields,a=o.length,s=[],l=[],u=[];for(r.rankedFields=i.rankedFields=s,r.criticalFields=i.criticalFields=l,r.transientFields=i.transientFields=u,n=0;n<a;++n)(t=o[n]).critical&&l.push(t),t.persist||u.push(t),t.evil?(e=e||[]).push(t):t.depends||(s.push(t),t.rank=s.length);for(n=0;n<a;++n)(t=o[n]).rank||t.evil||r.topoAdd(t);if(e)for(n=0,a=e.length;n<a;++n)s.push(t=e[n]),t.rank=s.length;return s},topoAdd:function(e){for(var t,n=e.depends,r=n?n.length:0,i=this.rankedFields,o=0;o<r;++o)((t=this.fieldsMap[n[o]]).dependents||(t.dependents=[])).push(e),t.rank||this.topoAdd(t);i.push(e),e.rank=i.length},initFields:function(e,t,n){var r,i,o,a,s,l,u,c,d,f,h=ei.Z.data.field.Field,p=e.fields,g=[],m={},v={},y=n.fields,b=e.versionProperty||n.versionProperty,C=t.idProperty;if(t.fields=n.fields=g,t.fieldOrdinals=n.fieldOrdinals=m,t.fieldsMap=n.fieldsMap=v,t.references=n.references=[],y)for(i=0,o=y.length;i<o;++i)g[i]=r=ei.Z.Object.chain(y[i]),r.dependents=null,r.owner=t,m[a=r.name]=i,(v[a]=r).rank=null,r.generated&&(c=(u=r).name);if(delete e.fields,p)for(i=0,o=p.length;i<o;++i)(l=(r=p[i]).reference)&&"string"!=typeof l&&(l=ei.Z.merge({},l),r.$reference=l),void 0===(s=m[a=(r=h.create(p[i])).name])&&(m[a]=s=g.length),v[a]=r,(g[s]=r).definedBy=r.owner=t,r.ordinal=s,a===C&&(f=r),a===c&&(d=!0);if(e=v[C]){if(f&&!d&&u&&u.generated)for(ei.Z.Array.remove(g,u),delete v[c],delete m[c],v[C]=f,i=0,o=g.length;i<o;++i)r=g[i],g.ordinal=i,m[r.name]=i}else s=u&&u.generated?u.ordinal:g.length,delete v[c],delete m[c],e=new h(C),g[s]=e,m[C]=s,(v[C]=e).definedBy=t,e.ordinal=s,e.generated=!0;e.allowNull=e.critical=e.identifier=!0,e.defaultValue=null,t.idField=n.idField=e,b&&((r=v[b])||(s=g.length,r=new h({name:b,type:"int"}),g[s]=r,m[b]=s,(v[b]=r).definedBy=t,r.ordinal=s,r.generated=!0),r.defaultValue=1,r.critical=!0)},initSummaries:function(e,t,n){var r,i,o,a,s,l,u,c,d,f,h=e.summary,p=n.fields,g=n.summaryFields;if(g)for(u=[],c={},i=0,s=g.length;i<s;++i)d=g[i],u.push(d),c[d.name]=i;for(i=0,s=p.length;i<s;++i)(r=p[i]).summary&&r.definedBy===t&&((a=a||{})[r.name]=r.summary);if(h=a?ei.Z.apply(a,h):h)for(l in delete e.summary,u=u||[],c=c||{},h)f=typeof(d=h[l]),o=c[l],(r=(d=ei.Z.apply({name:l},d="function"!=f&&"string"!=f?d:{summary:d})).field)&&(delete d.field,d.summaryField=r),f=d.summaryField,(r=n.fieldsMap[f||l])&&!d.type&&(d.type=r.type),void 0===o&&(o=u.length,c[l]=o),u[o]=d;u&&(n.summaryFields=u)},initValidators:function(e,t,n){var r,i,o,a,s,l,u,c,d,f,h=n.validators;if(h)for(i in r={},h)r[i]=ei.Z.Array.clone(h[i]);if(a=e.validators||e.validations){if(delete e.validators,r=r||{},ei.Z.isArray(a)){for(o={},s=0,l=a.length;s<l;++s)o[c=(f=a[s]).field]||(o[c]=[]),f=f.fn||f,o[c].push(f);a=o}for(c in a)u=a[c],ei.Z.isArray(u)||(u=[u]),(d=r[c])?ei.Z.Array.push(d,u):r[c]=u}if(r)for(c in r)(i=t.getField(c))&&i.setModelValidators(r[c]);t.validators=n.validators=r},initAssociations:function(e,t,n){var r,i,o,a,s=t.associations,l=t.belongsTo,u=t.hasMany,c=t.hasOne,d=t.manyToMany;if(delete t.associations,delete t.belongsTo,delete t.hasMany,delete t.hasOne,delete t.manyToMany,d&&e.addMatrices(n,d),s)for(r=0,i=(s=ei.Z.isArray(s)?s:[s]).length;r<i;++r)switch(o=s[r],delete(a=ei.Z.apply({},o)).type,o.type){case"belongsTo":e.addBelongsTo(n,a);break;case"hasMany":e.addHasMany(n,a);break;case"hasOne":e.addHasOne(n,a)}if(l)for(r=0,i=(l=ei.Z.isArray(l)?l:[l]).length;r<i;++r)e.addBelongsTo(n,l[r]);if(u)for(r=0,i=(u=ei.Z.isArray(u)?u:[u]).length;r<i;++r)e.addHasMany(n,u[r]);if(c)for(r=0,i=(c=ei.Z.isArray(c)?c:[c]).length;r<i;++r)e.addHasOne(n,c[r]);e.afterKeylessAssociations(n)},initIdentifier:function(e,t,n){var r=e.identifier||e.idgen,i=n.identifier||t.schema._defaultIdentifier;r?(delete e.identifier,delete e.idgen,r=ei.Z.Factory.dataIdentifier(r)):i&&(r=i.clone&&!i.getId()?i.clone():i.isGenerator?i:ei.Z.Factory.dataIdentifier(i)),(t.identifier=n.identifier=r)||(e=(e=t.entityName)||ei.Z.id(null,"extModel"),t.identifier=ei.Z.Factory.dataIdentifier({type:"sequential",prefix:e+"-"}))},findValidator:function(e,t,n){var r,i,o,a=n.type||n,s=e[t];if(s)for(i=0,r=s.length;i<r;++i)if((o=s[i]).type===a)return o;return null},makeInitializeFn:function(e){for(var t,n,r,i,o,a,s,l,u=["var "],c=["\nreturn function (e) {\n    var data = e.data, v;\n"],d=0,f=0,h=(a=(a=e.rankedFields)?a:e.rankFields()).length;f<h;++f)s="f"+f,r=(o=a[f]).convert,f&&u.push(",  \n    "),u.push(s," = $fields["+f+"]"),((l=void 0!==o.defaultValue)||r)&&(i='data["'+o.name+'"]',++d,t=n="",o.cloneDefaultValue&&(t="GRUI.clone(",n=")"),c.push("\n"),r&&l?c.push("    v = ",i,";\n    if (v !== undefined) {\n        v = ",s,".convert(v, e);\n    }\n    if (v === undefined) {\n        v = ",t,s,".defaultValue",n,";\n    }\n    ",i," = v;"):r?c.push("    v = ",s,".convert(",i,",e);\n    if (v !== undefined) {\n        ",i," = v;\n    }\n"):l&&c.push("    if (",i," === undefined) {\n        ",i," = ",t,s,".defaultValue",n,";\n    }\n"));return d?(u.push(";\n"),u.push.apply(u,c),u.push("}"),u=u.join(""),new Function("$fields","GRUI",u)(a,ei.Z)):ei.Z.emptyFn}}}},(function(){var e,t=this,n=t.prototype,r=ei.Z.data.schema.Schema;t.proxyConfig=n.proxy,delete n.proxy,t.fields=[],t.fieldsMap=n.fieldsMap={},t.schema=n.schema=r.get(n.schema),n.idField=new ei.Z.data.field.Field(n.idProperty),t.identifier=new ei.Z.data.identifier.Sequential,t.onExtended((function(n,i){var o,a=n.prototype,s=i.schema,l=a.superclass.self;n.idProperty=i.idProperty||a.idProperty,s?(delete i.schema,o=r.get(s)):(o=a.schema)||(o=e=e||r.get("default")),n.rankFields=t.rankFields,n.topoAdd=t.topoAdd,a.schema=n.schema=o,(s=i.entityName)||(a.entityName=s=o.getEntityName(n)),n.entityName=s,n.fieldExtractors={},t.initIdentifier(i,n,a),t.initFields(i,n,a),t.initValidators(i,n,a),i.isSummaryModel||t.initSummaries(i,n,a),n.fields.items=n.fields,s&&(o.addEntity(n),t.initAssociations(o,i,n)),(a=i.proxy)?delete i.proxy:l!==t&&(a=l.proxyConfig||l.proxy),n.proxyConfig=a}))})),ei.Z.define("GRUI.data.ResultSet",{isResultSet:!0,$configPrefixed:!1,config:{loaded:!0,count:null,total:null,remoteTotal:null,success:!1,records:null,message:null,metadata:null,groupData:null,summaryData:null},constructor:function(e){this.initConfig(e)},getCount:function(){var e,t=this.callParent2(this,"null","null","getCount",this.getCount,arguments);return t||(e=this.getRecords())&&(t=e.length),t}}),ei.Z.define("GRUI.data.reader.Reader",{alternateClassName:["GRUI.data.Reader","GRUI.data.DataReader"],requires:["GRUI.data.ResultSet","GRUI.XTemplate","GRUI.util.LruCache"],mixins:["GRUI.mixin.Observable","GRUI.mixin.Factoryable"],alias:"reader.base",factoryConfig:{defaultType:null},config:{groupRootProperty:"",implicitIncludes:!0,keepRawData:null,messageProperty:"",model:null,proxy:null,readRecordsOnFailure:!0,rootProperty:"",successProperty:"success",summaryRootProperty:"",totalProperty:"total",transform:null,typeProperty:""},isReader:!0,constructor:function(e){var t=this;e&&e.hasOwnProperty("root")&&((e=ei.Z.apply({},e)).rootProperty=e.root,delete e.root),t.duringInit=1,t.mixins.observable.constructor.call(t,e),--t.duringInit,t.buildExtractors()},forceBuildExtractors:function(){this.duringInit||this.buildExtractors(!0)},updateGroupRootProperty:function(){this.forceBuildExtractors()},updateMessageProperty:function(){this.forceBuildExtractors()},applyModel:function(e){return ei.Z.data.schema.Schema.lookupEntity(e)},updateSuccessProperty:function(){this.forceBuildExtractors()},updateSummaryRootProperty:function(){this.forceBuildExtractors()},updateTotalProperty:function(){this.forceBuildExtractors()},applyTransform:function(e){return e&&(ei.Z.isFunction(e)?e={fn:e}:e.charAt&&(e={fn:this[e]}),e.fn.bind(e.scope||this))},read:function(e,t){var n,r;if(e)if(r=e.responseText,e.responseType||r){if((n=this.getResponseData(e))&&n.__$isError)return new ei.Z.data.ResultSet({total:0,count:0,records:[],success:!1,message:n.msg});n=this.readRecords(n,t)}else""!==r&&(n=this.readRecords(e,t));return n||this.nullResultSet},getNullResultSet:function(){return this.nullResultSet},createReadError:function(e){return{__$isError:!0,msg:e}},readRecords:function(e,t,n){var r,i,o,a,s,l,u,c,d=this,f=n&&n.recordsOnly,h=(n=n&&n.asRoot,null),p=null,g=d.getMeta?d.getMeta(e):e.metaData;return g&&d.onMetaChange(g),(u=d.getTransform())&&(e=u(e)),d.buildExtractors(),d.getKeepRawData()&&(d.rawData=e),d.hasListeners.rawdata&&d.fireEventArgs("rawdata",[e]),e=d.getData(e),u=!0,r=0,i=[],!d.getSuccessProperty()||!1!==(s=d.getSuccess(e))&&"false"!==s||(u=!1),d.getMessageProperty()&&(l=d.getMessage(e)),(u||d.getReadRecordsOnFailure())&&((n=n||ei.Z.isArray(e)?e:d.getRoot(e))&&(a=n.length),d.getTotalProperty()&&(s=parseInt(d.getTotal(e),10),isNaN(s)||(o=a=s)),n&&(r=(i=d.extractData(n,t)).length),d.getGroupRootProperty()&&(n=d.getGroupRoot(e))&&(c={includes:!1,model:d.getModel().getSummaryModel()},h=d.extractData(n,c)||null),d.getSummaryRootProperty()&&(n=d.getSummaryRoot(e))&&(c=c||{includes:!1,model:d.getModel().getSummaryModel()},p=(p=d.extractData(n,c)||null)&&p[0])),f?i:new ei.Z.data.ResultSet({total:a||r,remoteTotal:o,metadata:g,count:r,records:i,success:u,message:l,groupData:h,summaryData:p})},extractData:function(e,t){var n,r,i,o,a,s=this,l=t&&t.model?ei.Z.data.schema.Schema.lookupEntity(t.model):s.getModel(),u=l.schema,c=t&&"includes"in t?t.includes:u.hasAssociations(l)&&s.getImplicitIncludes(),d=s.getFieldExtractorInfo(l),f=e.length,h=new Array(f),p=s.getTypeProperty();for(!f&&ei.Z.isObject(e)&&(e=[e],f=1),a=0;a<f;a++)(o=e[a]).isModel||(r=o,(o=p&&(i=s.getChildType(u,r,p))?(n=i.getProxy().getReader()).extractRecord(r,t,i,u.hasAssociations(i)&&n.getImplicitIncludes(),n.getFieldExtractorInfo(i)):s.extractRecord(r,t,l,c,d)).isModel&&o.isNode&&(o.raw=r)),o.onLoad&&o.onLoad(),h[a]=o;return h},getChildType:function(e,t,n){var r;switch(typeof n){case"string":return e.getEntity(t[n]);case"object":return r=n.namespace,e.getEntity((r?r+".":"")+t[n.name]);case"function":return e.getEntity(n(t))}},extractRecordData:function(e,t){var n=t&&t.model?ei.Z.data.schema.Schema.lookupEntity(t.model):this.getModel(),r=this.getFieldExtractorInfo(n);return this.extractRecord(e,t,n,!1,r)},extractRecord:function(e,t,n,r,i){var o=this,a=t&&t.recordCreator||o.defaultRecordCreator;i=o.extractModelData(e,i),a=a.call(o,i,n||o.getModel(),t);return r&&a.isModel&&o.readAssociated(a,e,t),a},getFieldExtractorInfo:function(e){var t,n,r=e.fieldExtractors;if(r)return void 0===(n=r[t=this.$className])&&(r[t]=n=this.buildFieldExtractors(e)),n},buildFieldExtractors:function(e){for(var t,n,r=e.getFields(),i=r.length,o=[],a=[],s=(e=null,0),l=0;l<i;++l)t=r[l],(n=this.createFieldAccessor(t))&&(t=t.name,o.push("val = extractors["+s+"](raw, self); if (val !== undefined) { data['"+t+"'] = val; }"),a.push(n),++s);return o.length?{extractors:a,fn:new Function("raw","data","extractors","self","var val;"+o.join("\n"))}:e},defaultRecordCreator:function(e,t){return new t(e)},defaultRecordCreatorFromServer:function(e,t){return(t=new t(e)).phantom=!1,t},getModelData:function(e){return{}},extractModelData:function(e,t){var n=this.getModelData(e);return t&&(0,t.fn)(e,n,t.extractors,this),n},readAssociated:function(e,t,n){var r,i,o=e.associations;for(r in o)o.hasOwnProperty(r)&&(i=o[r],e.phantom||!n||n.recordCreator||ei.Z.apply(n,{recordCreator:this.defaultRecordCreatorFromServer}),i.cls&&i.read(e,t,this,n))},getData:ei.Z.identityFn,getRoot:ei.Z.identityFn,getResponseData:function(e){},onMetaChange:function(e){var t,n=this,r=e.fields;(n.metaData=e).root&&n.setRootProperty(e.root),e.totalProperty&&n.setTotalProperty(e.totalProperty),e.successProperty&&n.setSuccessProperty(e.successProperty),e.messageProperty&&n.setMessageProperty(e.messageProperty),e=e.clientIdProperty,r?(r=ei.Z.define(null,{extend:"GRUI.data.Model",fields:r,clientIdProperty:e}),n.setModel(r),(t=n.getProxy())&&t.setModel(r)):e&&(t=n.getModel())&&(t.self.prototype.clientIdProperty=e)},buildExtractors:function(e){var t,n,r=this;if(e||!r.hasExtractors)return e=r.getTotalProperty(),t=r.getSuccessProperty(),n=r.getMessageProperty(),e&&(r.getTotal=r.getAccessor(e)),t&&(r.getSuccess=r.getAccessor(t)),n&&(r.getMessage=r.getAccessor(n)),r.hasExtractors=!0},getAccessor:function(e){var t,n,r=this.extractorCache;return"string"==typeof e?(t=(n=this.getAccessorKey(e))?r.get(n):t)||(t=this.createAccessor(e),n&&r.add(n,t)):t=this.createAccessor(e),t},getAccessorKey:function(e){var t=this.$className;return t?t+e:""},createAccessor:ei.Z.emptyFn,createFieldAccessor:ei.Z.emptyFn,destroy:function(){var e=this;e.model=e.getTotal=e.getSuccess=e.getMessage=e.rawData=null,e.onMetaChange=null,e.transform=null,this.callParent2(this,"GRUI.data.Model","null","destroy",this.destroy,arguments)},privates:{copyFrom:function(e){var t=this;e.buildExtractors(),t.getTotal=e.getTotal,t.getSuccess=e.getSuccess,t.getMessage=e.getMessage,++t.duringInit,t.setConfig(e.getConfig()),--t.duringInit,t.hasExtractors=!0}}},(function(e){e=e.prototype,ei.Z.apply(e,{nullResultSet:new ei.Z.data.ResultSet({total:0,count:0,records:[],success:!0,message:""})}),e.extractorCache=new ei.Z.util.LruCache})),ei.Z.define("GRUI.data.writer.Writer",{alias:"writer.base",alternateClassName:["GRUI.data.DataWriter","GRUI.data.Writer"],mixins:["GRUI.mixin.Factoryable"],factoryConfig:{defaultType:null},isWriter:!0,config:{clientIdProperty:null,allDataOptions:{persist:!0},partialDataOptions:{changes:!0,critical:!0},writeAllFields:!1,dateFormat:null,nameProperty:"name",writeRecordId:!0,transform:null},constructor:function(e){this.initConfig(e)},applyTransform:function(e){return e&&(e=ei.Z.isFunction(e)?{fn:e}:e).fn.bind(e.scope||this)},write:function(e){for(var t=e.getOperation(),n=t.getRecords()||[],r=n.length,i=[],o=0;o<r;o++)i.push(this.getRecordData(n[o],t));return this.writeRecords(e,i)},writeRecords:ei.Z.emptyFn,getRecordData:function(e,t){var n,r,i,o,a,s=this,l=s.getNameProperty(),u="name"!==l,c=e.self.idField,d=c?c[l]||c.name:"id",f=e.id,h=s.getWriteAllFields();if(c&&c.serialize&&(f=c.serialize(f)),!h&&t&&t.isDestroyOperation)(n={})[d]=f;else for(d in r=s.getDateFormat(),t=(c=e.phantom)||h?s.getAllDataOptions():s.getPartialDataOptions(),h=c&&s.getClientIdProperty(),i=e.getFieldsMap(),t.serialize=!1,o=e.getData(t),n=u?{}:o,h?(n[h]=f,delete o[d]):s.getWriteRecordId()||delete o[d],o)f=o[d],(a=i[d])?(a.isDateField&&r&&ei.Z.isDate(f)?f=ei.Z.Date.format(f,r):a.serialize&&(f=a.serialize(f,e)),n[d=u&&a[l]||d]=f):u&&(n[d]=f);return n}}),ei.Z.define("GRUI.data.proxy.Proxy",{mixins:["GRUI.mixin.Factoryable","GRUI.mixin.Observable"],$configPrefixed:!1,alias:"proxy.proxy",alternateClassName:["GRUI.data.DataProxy","GRUI.data.Proxy"],requires:["GRUI.data.schema.Schema","GRUI.data.writer.Writer"],uses:["GRUI.data.Batch","GRUI.data.operation.*","GRUI.data.Model"],config:{batchOrder:"create,update,destroy",batchActions:!0,model:void 0,reader:{type:"json"},writer:{type:"json"}},isProxy:!0,isSynchronous:!1,constructor:function(e){this.mixins.observable.constructor.call(this,e),this.pendingOperations={}},applyModel:function(e){return ei.Z.data.schema.Schema.lookupEntity(e)},applyWriter:function(e){var t=this.getReader();return(e=ei.Z.Factory.writer(e)).getRecord&&!e.getRecord()&&t&&t.getRecord&&(t=t.getRecord())&&e.setRecord(t),e},abort:ei.Z.emptyFn,onMetaChange:function(e){this.fireEvent("metachange",this,e)},create:ei.Z.emptyFn,read:ei.Z.emptyFn,update:ei.Z.emptyFn,erase:ei.Z.emptyFn,batch:function(e,t){var n,r,i,o,a,s,l,u,c,d=this,f=d.getBatchActions();for((e=void 0===e.operations?{operations:e,listeners:t}:e).batch?ei.Z.isDefined(e.batch.runOperation)&&(n=ei.Z.applyIf(e.batch,{proxy:d,listeners:{}})):e.batch={proxy:d,listeners:e.listeners||{}},(n=n||new ei.Z.data.Batch(e.batch)).on("complete",ei.Z.bind(d.onBatchComplete,d,[e],0),null,{single:!0,priority:1e3}),n.$destroyOwner=e.$destroyOwner,o=(i=d.getBatchOrder().split(",")).length,s=0;s<o;s++)if(a=i[s],r=e.operations[a])if(f)n.add(d.createOperation(a,{records:r,params:e.params}));else for(u=r.length,l=0;l<u;l++)c=r[l],n.add(d.createOperation(a,{records:[c],params:e.params}));return n.start(),n},onBatchComplete:function(e,t){var n=e.scope||this;t.hasException()?ei.Z.isFunction(e.failure)&&ei.Z.callback(e.failure,n,[t,e]):ei.Z.isFunction(e.success)&&ei.Z.callback(e.success,n,[t,e]),ei.Z.isFunction(e.callback)&&ei.Z.callback(e.callback,n,[t,e]),t.$destroyOwner||t.destroy()},createOperation:function(e,t){return(e=ei.Z.createByAlias("data.operation."+e,t)).setProxy(this),this.pendingOperations[e._internalId]=e},completeOperation:function(e){delete this.pendingOperations[e._internalId]},clone:function(){return new this.self(this.getInitialConfig())},destroy:function(){var e,t,n=this.pendingOperations;for(e in n)(t=n[e])&&t.isRunning()&&t.abort(),t.destroy();this.pendingOperations=null,this.callParent2(this,"null","null","destroy",this.destroy,arguments)}}),ei.Z.define("GRUI.data.proxy.Client",{extend:"GRUI.data.proxy.Proxy",alternateClassName:"GRUI.data.ClientProxy",isSynchronous:!0,clear:function(){}}),ei.Z.define("GRUI.data.proxy.Memory",{extend:"GRUI.data.proxy.Client",alias:"proxy.memory",alternateClassName:"GRUI.data.MemoryProxy",isMemoryProxy:!0,config:{enablePaging:null,data:{$value:null,merge:function(e,t,n,r){return e&&ei.Z.clone(e)}},clearOnRead:null},finishOperation:function(e){for(var t=e.getRecords(),n=t.length,r=0;r<n;r++)t[r].dropped=!!e.isDestroyOperation,t[r].commit();e.setSuccessful(!0)},create:function(e){this.finishOperation(e)},update:function(e){this.finishOperation(e)},erase:function(e){this.finishOperation(e)},read:function(e){var t,n=this,r=(t=(t=n.getReader()).read(n.getData(),{recordCreator:t.defaultRecordCreatorFromServer})).getRecords(),i=e.getSorters(),o=e.getGroupers(),a=e.getGrouper(),s=e.getFilters(),l=e.getStart(),u=e.getLimit();!1!==e.process(t,null,null,!1)&&(e.success&&n.getClearOnRead()&&this.setData(null),s&&s.length&&(t.setRecords(r=ei.Z.Array.filter(r,ei.Z.util.Filter.createFilterFn(s))),t.setTotal(r.length)),o&&o.length?i=i?o.concat(i):o:a&&(i=i&&i.concat(a)),i&&i.length&&t.setRecords(r=ei.Z.Array.sort(r,ei.Z.util.Sortable.createComparator(i))),n.getEnablePaging()&&void 0!==l&&void 0!==u&&(l>=t.getTotal()?t.setConfig({success:!1,records:[],total:0}):t.setRecords(ei.Z.Array.slice(r,l,l+u))),e.setCompleted(),(s=t.getMetadata())&&n.onMetaChange(s))},clear:ei.Z.emptyFn}),ei.Z.define("GRUI.data.ProxyStore",{extend:"GRUI.data.AbstractStore",requires:["GRUI.data.Model","GRUI.data.proxy.Proxy","GRUI.data.proxy.Memory","GRUI.data.operation.*"],config:{model:void 0,fields:null,proxy:void 0,autoLoad:void 0,autoSync:!1,batchUpdateMode:"operation",sortOnLoad:!0,trackRemoved:!0,asynchronousLoad:void 0},onClassExtended:function(e,t,n){var r,i=t.model;"string"==typeof i&&(r=n.onBeforeCreated,n.onBeforeCreated=function(){var e=this,t=arguments;ei.Z.require(i,(function(){r.apply(e,t)}))})},implicitModel:"GRUI.data.Model",autoSyncSuspended:0,removed:null,constructor:function(e){this.callParent2(this,"GRUI.data.AbstractStore","null","constructor",this.constructor,arguments),!1===this.getAsynchronousLoad()&&this.flushLoad()},doDestroy:function(){var e=this,t=e.getProxy();e.clearLoadTask(),ei.Z.destroy(e.getData()),e.data=null,e.setProxy(null),t.autoCreated&&t.destroy(),e.setModel(null),this.callParent2(this,"GRUI.data.AbstractStore","null","doDestroy",this.doDestroy,arguments)},applyAsynchronousLoad:function(e){return null==e?!this.loadsSynchronously():e},updateAutoLoad:function(e){this.getData(),e&&this.load(ei.Z.isObject(e)?e:void 0)},getTotalCount:function(){return this.totalCount||0},applyFields:function(e){e&&this.createImplicitModel(e)},applyModel:function(e){return e?e=ei.Z.data.schema.Schema.lookupEntity(e):this.destroying||(this.getFields(),e=this.getModel()||this.createImplicitModel()),e},applyProxy:function(e){var t=this.getModel();return null!==e&&(e?e.isProxy?e.setModel(t):(ei.Z.isString(e)?e={type:e,model:t}:e.model||(e=ei.Z.apply({model:t},e)),(e=ei.Z.createByAlias("proxy."+e.type,e)).autoCreated=!0):t&&(e=t.getProxy(),this.useModelProxy=!0),e||((e=ei.Z.createByAlias("proxy.memory")).autoCreated=!0)),e},applyState:function(e){var t=this;this.callParent2(this,"GRUI.data.AbstractStore","null","applyState",this.applyState,arguments),(t.getAutoLoad()||t.isLoaded())&&(t.getRemoteSort()||t.getRemoteFilter())&&t.load()},updateProxy:function(e,t){this.proxyListeners=ei.Z.destroy(this.proxyListeners)},updateTrackRemoved:function(e){this.cleanRemoved(),this.removed=e?[]:null},onMetaChange:function(e,t){this.fireEvent("metachange",this,t)},create:function(e,t){var n=this;e=new(n.getModel())(e);return(t=ei.Z.apply({},t)).records||(t.records=[e]),t.internalScope=n,t.internalCallback=n.onProxyWrite,n.createOperation("create",t).execute()},read:function(){return this.load.apply(this,arguments)},update:function(e){var t=this;return(e=ei.Z.apply({},e)).records||(e.records=t.getUpdatedRecords()),e.internalScope=t,e.internalCallback=t.onProxyWrite,t.createOperation("update",e).execute()},onProxyWrite:function(e){var t=this,n=e.wasSuccessful(),r=e.getRecords();switch(e.getAction()){case"create":t.onCreateRecords(r,e,n);break;case"update":t.onUpdateRecords(r,e,n);break;case"destroy":t.onDestroyRecords(r,e,n)}n&&(t.fireEvent("write",t,e),t.fireEvent("datachanged",t))},onCreateRecords:ei.Z.emptyFn,onUpdateRecords:ei.Z.emptyFn,onDestroyRecords:function(e,t,n){n&&this.cleanRemoved()},erase:function(e){var t=this;return(e=ei.Z.apply({},e)).records||(e.records=t.getRemovedRecords()),e.internalScope=t,e.internalCallback=t.onProxyWrite,t.createOperation("destroy",e).execute()},onBatchOperationComplete:function(e,t){return this.onProxyWrite(t)},onBatchComplete:function(e,t){var n,r=this,i=e.operations,o=i.length;if("operation"!==r.batchUpdateMode){for(r.suspendEvents(),n=0;n<o;n++)r.onProxyWrite(i[n]);r.resumeEvents()}r.isSyncing=!1,e.$destroyOwner===r&&e.destroy(),r.fireEvent("datachanged",r)},onBatchException:function(e,t){},filterNew:function(e){return e.phantom&&e.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(e){return e.dirty&&!e.phantom&&e.isValid()},getRemovedRecords:function(){var e=this.getRawRemovedRecords();return e?ei.Z.Array.clone(e):[]},sync:function(e){var t=this,n={},r=t.getNewRecords(),i=t.getUpdatedRecords(),o=t.getRemovedRecords(),a=!1;return t.needsSync=!1,0<r.length&&(n.create=r,a=!0),0<i.length&&(n.update=i,a=!0),0<o.length&&(n.destroy=o,a=!0),a&&!1!==t.fireEvent("beforesync",n)&&(t.isSyncing=!0,t.proxy.batch(ei.Z.apply(e=e||{},{operations:n,listeners:t.getBatchListeners(),$destroyOwner:t}))),t},getBatchListeners:function(){var e=this,t={scope:e,exception:e.onBatchException,complete:e.onBatchComplete};return"operation"===e.batchUpdateMode&&(t.operationcomplete=e.onBatchOperationComplete),t},save:function(){return this.sync.apply(this,arguments)},load:function(e){var t=this;return e="function"==typeof e?{callback:e}:e?ei.Z.Object.chain(e):{},t.pendingLoadOptions=e,t.getAsynchronousLoad()?t.loadTimer||(t.loadTimer=ei.Z.asap(t.flushLoad,t)):t.flushLoad(),t},flushLoad:function(){var e=this,t=e.pendingLoadOptions;e.destroying||e.destroyed||(e.clearLoadTask(),t&&(e.setLoadOptions(t),e.getRemoteSort()&&t.sorters&&e.fireEvent("beforesort",e,t.sorters),e.getRowData?"function"==typeof e.getRowData?(e.fireEvent("beforeload"),e.getRowData(t).then((function(t){e.totalCount=t[e.countProperty||e.totalCount],t=e.rootProperty?t[e.rootProperty]:t,e.loadData(t),e.fireEvent("load")}))):e.loadData(e.getRowData):(t=ei.Z.apply({internalScope:e,internalCallback:e.onProxyLoad,scope:e},t),e.lastOptions=t,t=e.createOperation("read",t),!1!==e.fireEvent("beforeload",e,t)?(e.onBeforeLoad(t),e.loading=!0,e.hasListeners.beginload&&e.fireEvent("beginload",e,t),t.execute()):(e.getAsynchronousLoad()&&t.abort(),t.setCompleted()))))},reload:function(e){return this.load(ei.Z.apply({},e,this.lastOptions))},onEndUpdate:function(){this.needsSync&&this.autoSync&&!this.autoSyncSuspended&&this.sync()},afterReject:function(e){var t=this;t.contains(e)&&(t.onUpdate(e,ei.Z.data.Model.REJECT,null),t.fireEvent("update",t,e,ei.Z.data.Model.REJECT,null),t.fireEvent("datachanged",t))},afterCommit:function(e,t){var n=this;t=t||null,n.contains(e)&&(n.onUpdate(e,ei.Z.data.Model.COMMIT,t),n.fireEvent("update",n,e,ei.Z.data.Model.COMMIT,t),n.fireEvent("datachanged",n))},afterErase:function(e){this.onErase(e)},onErase:ei.Z.emptyFn,onUpdate:ei.Z.emptyFn,hasPendingLoad:function(){return!!this.pendingLoadOptions||this.isLoading()},isLoading:function(){return!!this.loading},isLoaded:function(){return 0<this.loadCount},suspendAutoSync:function(){++this.autoSyncSuspended},resumeAutoSync:function(e){this.autoSyncSuspended&&!--this.autoSyncSuspended&&e&&this.sync()},removeAll:ei.Z.emptyFn,clearData:ei.Z.emptyFn,privates:{getRawRemovedRecords:function(){return this.removed},onExtraParamsChanged:function(){},clearLoadTask:function(){this.pendingLoadOptions=this.loadTimer=ei.Z.unasap(this.loadTimer)},cleanRemoved:function(){var e,t,n=this.getRawRemovedRecords();if(n){for(t=0,e=n.length;t<e;++t)n[t].unjoin(this);n.length=0}},createOperation:function(e,t){var n,r=this,i=r.getProxy();return r.proxyListeners||(n={scope:r,destroyable:!0,beginprocessresponse:r.beginUpdate,endprocessresponse:r.endUpdate},r.disableMetaChangeEvent||(n.metachange=r.onMetaChange),r.proxyListeners=i.on(n)),i.createOperation(e,t)},createImplicitModel:function(e){var t={extend:this.implicitModel,statics:{defaultProxy:"memory"}};e&&(t.fields=e),e=ei.Z.define(null,t),this.setModel(e),(t=this.getProxy())?e.setProxy(t):this.setProxy(e.getProxy())},loadsSynchronously:function(){return this.getProxy().isSynchronous},onBeforeLoad:ei.Z.privateFn,removeFromRemoved:function(e){var t=this.getRawRemovedRecords();t&&(ei.Z.Array.remove(t,e),e.unjoin(this))},setLoadOptions:function(e){var t;this.getRemoteFilter()&&(t=this.getFilters(!1))&&t.getCount()&&(e.filters=t.getRange()),this.getRemoteSort()&&(t=this.getSorters(!1))&&t.getCount()&&(e.sorters=t.getRange())}}}),ei.Z.define("GRUI.util.Group",{extend:"GRUI.util.Collection",isGroup:!0,config:{level:1,path:null,data:null,grouper:null,label:null,groupKey:null,groupValue:null,parent:null},pathSeparator:"<||>",$endUpdatePriority:2001,manageSorters:!1,constructor:function(e){this.callParent2(this,"GRUI.util.Collection","null","constructor",this.constructor,arguments),this.on("remove","onGroupItemsRemove",this)},destroy:function(){var e,t=this.getParent();t&&(t.isGroup?e=t.getGroups():t.isGroupCollection&&(e=t),e&&e.remove(this)),this.callParent2(this,"GRUI.util.Collection","null","destroy",this.destroy,arguments)},clear:function(){var e,t,n=this.getGroups(),r=this.callParent2(this,"GRUI.util.Collection","null","clear",this.clear,arguments);if(n){for(e=n.length,t=0;t<e;t++)n.items[t].clear();n.clear()}return r},getData:function(){var e=this._data;return e||this.setData(e={}),e},setCustomData:function(e,t){this.getData()[e]=t},getCustomData:function(e){return this.getData()[e]},updateLabel:function(e){var t=this,n=t.getGrouper();n?t.setCustomData(n.getProperty(),e):t.setData({}),t.setGroupValue(e)},getGrouper:function(){return this._grouper},updateGrouper:ei.Z.emptyFn,updateSorters:function(e,t){var n,r,i=this.getGroups();if(this.callParent2(this,"GRUI.util.Collection","null","updateSorters",this.updateSorters,arguments),i&&!this.ejectTime)for(n=i.length,r=0;r<n;r++)i.items[r].setSorters(e)},updateGroupKey:function(){this.refreshPath()},updateParent:function(){this.refreshPath()},refreshPath:function(){var e,t,n=this,r=1;n.refreshingPath||(n.refreshingPath=!0,e=n.getParent(),t=n.getGroupKey(),e&&e.isGroup&&(r+=e.getLevel(),t=e.getPath()+n.pathSeparator+t),n.setLevel(r),n.setPath(t),n.refreshingPath=!1)},isFirst:function(){var e,t=!1;return(e=(e=this.getParent())?e.isGroup?e.getGroups():e:null)?0===e.indexOf(this):t},isLast:function(){var e,t=!1;return(e=(e=this.getParent())?e.isGroup?e.getGroups():e:null)?e.indexOf(this)===e.length-1:t},groupItems:function(){if(!this.ejectTime)return this.callParent2(this,"GRUI.util.Collection","null","groupItems",this.groupItems,arguments)},sortItems:function(){if(!this.ejectTime)return this.callParent2(this,"GRUI.util.Collection","null","sortItems",this.sortItems,arguments)},eject:function(){this.ejectTime=ei.Z.now(),this.setConfig({sorters:null,groupers:null,parent:null,grouper:null,groups:null})},privates:{canOwnItem:function(e){return this.getGroupKey()===this.getGrouper().getGroupString(e)},removeItems:function(e){for(var t,n=this.getGroups(),r=n?n.length:0,i=[],o=0;o<r;++o)(t=n.items[o]).remove(e),t.length||i.push(t);i.length&&n.remove(i)},onGroupItemsRemove:function(e,t){this.removeItems(t.items)}}}),ei.Z.define("GRUI.data.Group",{extend:"GRUI.util.Group",isDataGroup:!0,store:null,isCollapsed:!1,updateParent:function(e,t){!this.isCollapsed&&e&&e.isGroup&&(this.isCollapsed=e.isCollapsed),this.callParent2(this,"GRUI.util.Group","null","updateParent",this.updateParent,arguments)},expand:function(e){this.doExpandCollapse(!0,e)},collapse:function(e){this.doExpandCollapse(!1,e)},doExpandCollapse:function(e,t){var n,r,i=this.getGroups();if(this.isCollapsed=!e,t&&i)for(n=i.length,r=0;r<n;r++)i.items[r].doExpandCollapse(e,t)},toggleCollapsed:function(){this.doExpandCollapse(this.isCollapsed)},getGroupRecord:function(){var e=this.getNewSummaryRecord("groupRecord",!0);return e.isGroup=!0,e},getSummaryRecord:function(){var e=this.getNewSummaryRecord("summaryRecord",!0);return e.isSummary=!0,e},getNewSummaryRecord:function(e,t){var n,r,i=this,o=i[e],a=i.store,s=a.getData().generation;return o||(r=(n=a.getModel()).getSummaryModel(),i[e]=o=new r,e=n.idField.name,o.data[e]=o.id=n.identifier.generate(),o.group=i,o.commit()),a.getRemoteSummary()||o.isRemote||o.summaryGeneration===s||!0!==t?a.getRemoteSummary()&&o.isRemote&&i.fixRemoteSummary(o):(o.calculateSummary(i.items),o.summaryGeneration=s),o.isNonData=!0,o},fixRemoteSummary:function(e){for(var t,n,r,i=e.getFields(),o=i.length,a=0;a<o;++a)n=(r=i[a]).getSummary(),t=t||{},"id"===(r=r.name)||n||(t[r]=null);t&&e.set(t,e._commitOptions)},recalculateSummaries:function(){var e=this.items;this.getGroupRecord().calculateSummary(e),this.getSummaryRecord().calculateSummary(e)},eject:function(){var e=this;this.callParent2(this,"GRUI.util.Group","null","eject",this.eject,arguments),e.groupRecord&&(e.groupRecord.summaryGeneration=0),e.summaryRecord&&(e.summaryRecord.summaryGeneration=0)}}),ei.Z.define("GRUI.data.LocalStore",{extend:"GRUI.Mixin",requires:["GRUI.data.Group"],mixinConfig:{id:"localstore",after:{fireGroupChangeEvent:"onGrouperChange"}},config:{extraKeys:null},applyExtraKeys:function(e){var t,n=this.getData();for(t in n.setExtraKeys(e),e=n.getExtraKeys())this[t]=e[t]},add:function(e){return this.insert(this.getCount(),1===arguments.length?e:arguments)},constructDataCollection:function(){var e=new ei.Z.util.Collection({rootProperty:"data",groupConfig:{xclass:"GRUI.data.Group",store:this}});return e.addObserver(this),e},createModel:function(e){var t=this.getSession();return e.isModel?e:new(this.getModel())(e,t)},createFiltersCollection:function(){return this.getData().getFilters()},createSortersCollection:function(){var e=this.getData().getSorters();return e.setSorterConfigure(this.addFieldTransform,this),e},getSummaryRecord:function(){var e,t,n=this,r=n.summaryRecord,i=n.getData(),o=i.generation;return r||(t=(e=n.getModel()).getSummaryModel(),n.summaryRecord=r=new t,n=e.idField.name,r.data[n]=r.id=e.identifier.generate(),r.commit(),r.isNonData=!0),r.isRemote||r.summaryGeneration===o||(r.calculateSummary(i.items),r.summaryGeneration=o),r},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionSort:function(){this.onSorterEndUpdate()},onCollectionFilter:function(){this.onFilterEndUpdate()},onCollectionGroup:function(){this.onGroupersEndUpdate()},onGrouperChange:function(e){this.callObservers("GrouperChange",[e])},notifySorterChange:function(){this.getData().onSorterChange()},forceLocalSort:function(){var e=this.getSorters();e.beginUpdate(),e.endUpdate()},contains:function(e){return-1<this.indexOf(e)},each:function(e,t,n){for(var r,i=this.getData(),o=n,a=(i=(i=(o="object"==typeof n?n.filtered:o)&&i.filtered?i.getSource():i).items.slice(0)).length,s=0;s<a&&(r=i[s],!1!==e.call(t||r,r,s,a));++s);},collect:function(e,t,n){var r=t,i=this.getData();return"object"==typeof t&&(n=t.filtered,r=t.allowNull),(i=n&&i.filtered?i.getSource():i).collect(e,"data",r)},getById:function(e){var t=this.getData();return(t=t.filtered?t.getSource():t).get(e)||null},getByInternalId:function(e){var t,n=this.getData();return n.filtered&&(n.$hasExtraKeys||(t=this.makeInternalKeyCfg(),n.setExtraKeys(t),n.$hasExtraKeys=!0),n=n.getSource()),n.$hasExtraKeys||(n.setExtraKeys(t||this.makeInternalKeyCfg()),n.$hasExtraKeys=!0),n.byInternalId.get(e)||null},getDataSource:function(){var e=this.getData();return e.getSource()||e},indexOf:function(e){return this.getData().indexOf(e)},indexOfId:function(e){return this.indexOf(this.getById(e))},insert:function(e,t){var n,r;if(!(n=t?(t=ei.Z.isIterable(t)?ei.Z.Array.clone(t):[t]).length:n))return[];for(r=0;r<n;++r)t[r]=this.createModel(t[r]);return this.getData().insert(e,t),t},queryBy:function(e,t){var n=this.getData();return(n.getSource()||n).createFiltered(e,t)},query:function(e,t,n,r,i){var o=this.getData();return(o.getSource()||o).createFiltered(e,t,n,r,i)},first:function(e){return this.getData().first(e)||null},last:function(e){return this.getData().last(e)||null},sum:function(e,t){var n=this.getData();return t&&this.isGrouped()?n.sumByGroup(e):n.sum(e)},count:function(e){var t=this.getData();return e&&this.isGrouped()?t.countByGroup():t.count()},min:function(e,t){var n=this.getData();return t&&this.isGrouped()?n.minByGroup(e):n.min(e)},max:function(e,t){var n=this.getData();return t&&this.isGrouped()?n.maxByGroup(e):n.max(e)},average:function(e,t){var n=this.getData();return t&&this.isGrouped()?n.averageByGroup(e):n.average(e)},aggregate:function(e,t,n,r){var i,o,a,s,l,u=this;if(n&&u.isGrouped()){for(o=(i=u.getGroups().items).length,a={},l=0;l<o;++l)a[(s=i[l]).getGroupKey()]=u.getAggregate(e,t||u,s.items,r);return a}return u.getAggregate(e,t,u.getData().items,r)},getAggregate:function(e,t,n,r){for(var i=[],o=n.length,a=0;a<o;++a)i[a]=n[a].get(r);return e.call(t||this,n,i)},addObserver:function(e){var t=this.observers;t||(this.observers=t=new ei.Z.util.Collection),t.add(e)},removeObserver:function(e){var t=this.observers;t&&t.remove(e)},callObservers:function(e,t){var n,r,i,o,a,s=this.observers;if(s)for(r=s.items,t?t.unshift(this):t=[this],i=0,n=r.length;i<n;++i)(a=r[i])[o="onSource"+e]&&a[o].apply(a,t)},queryRecordsBy:function(e,t){var n,r,i,o=this.getData(),a=[];for(t=t||this,r=0,n=(o=(o.getSource()||o).items).length;r<n;++r)i=o[r],!0===e.call(t,i)&&a.push(i);return a},queryRecords:function(e,t){for(var n,r=this.getData(),i=[],o=0,a=(r=(r.getSource()||r).items).length;o<a;++o)(n=r[o]).get(e)===t&&i.push(n);return i},privates:{isLast:function(e){return e===this.last()},makeInternalKeyCfg:function(){return{byInternalId:{property:"internalId",rootProperty:""}}}}}),ei.Z.define("GRUI.data.reader.Json",{extend:"GRUI.data.reader.Reader",alternateClassName:"GRUI.data.JsonReader",alias:"reader.json",requires:["GRUI.JSON"],config:{record:null,metaProperty:"metaData",useSimpleAccessors:!1,preserveRawData:!1},responseType:"json",updateRootProperty:function(){this.forceBuildExtractors()},updateMetaProperty:function(){this.forceBuildExtractors()},getResponseData:function(e){var t;if("object"==typeof e.responseJson)return e.responseJson;try{return ei.Z.decode(e.responseText)}catch(pe){return t=this.createReadError(pe.message),ei.Z.Logger.warn("Unable to parse the JSON returned by the server"),this.fireEvent("exception",this,e,t),t}},buildExtractors:function(e){var t=this,n=ei.Z.emptyFn;this.callParent2(this,"GRUI.data.reader.Reader","null","buildExtractors",this.buildExtractors,arguments)&&(t.getRoot=t.setupExtractor(t.getRootProperty(),ei.Z.identityFn),t.getGroupRoot=t.setupExtractor(t.getGroupRootProperty(),n),t.getSummaryRoot=t.setupExtractor(t.getSummaryRootProperty(),n),t.getMeta=t.setupExtractor(t.getMetaProperty(),n))},extractData:function(e,t){var n,r,i=this.getRecord(),o=[];if(i)for(!(n=e.length)&&ei.Z.isObject(e)&&(n=1,e=[e]),r=0;r<n;r++)o[r]=e[r][i];else o=e;return this.callParent2(this,"GRUI.data.reader.Reader","null","extractData",this.extractData,arguments)},getModelData:function(e){return this.getPreserveRawData()?ei.Z.apply({},e):e},createAccessor:function(){var e=/[\[\.]/;return function(t){var n,r,i,o,a,s,l,u,c,d,f,h,p=this.getUseSimpleAccessors();if(t||0===t){if("function"==typeof t)return t;if(p||(n=String(t).search(e)),!0===p||n<0)r=function(e){return null==e?null:e[t]};else{for(i="raw",o=[],a="",h=t.length,d=s=0;d<=h;++d)l="["===(f=t[d]),u="]"===f,!(c="."===f||l||u||!f)||1<s||s&&!u?a+=f:c&&(f=!1,l?++s:u&&(--s,f=!0),a&&(i+=a=f?"["+a+"]":"."+a,o.push(""+i),a=""));r=o.join(" && "),r=ei.Z.functionFactory("raw","return "+r)}return r}}}(),createFieldAccessor:function(e){var t=(n=e.mapping)||0===n,n=t?n:e.name;if(t)return"function"==typeof n?function(t,n){return e.mapping(t,n)}:this.createAccessor(n)},getAccessorKey:function(e){return this.getUseSimpleAccessors(),this.callParent2(this,"GRUI.data.reader.Reader","null","getAccessorKey",this.getAccessorKey,arguments)},privates:{copyFrom:function(e){this.callParent2(this,"GRUI.data.reader.Reader","null","copyFrom",this.copyFrom,arguments),this.getRoot=e.getRoot},getGroupRoot:function(e){return this.buildExtractors(),this.getGroupRoot(e)},getSummaryRoot:function(e){return this.buildExtractors(),this.getSummaryRoot(e)},setupExtractor:function(e,t){return e?this.getAccessor(e):t}}}),ei.Z.define("GRUI.data.writer.Json",{extend:"GRUI.data.writer.Writer",alternateClassName:"GRUI.data.JsonWriter",alias:"writer.json",config:{rootProperty:void 0,encode:!1,allowSingle:!0,expandData:!1},getExpandedData:function(e){for(var t,n,r,i,o,a=e.length,s=0,l=function(e,t){var n={};return n[e]=t,n};s<a;s++)for(n in t=e[s])if(t.hasOwnProperty(n)&&0<(i=(r=n.split(".")).length-1)){for(o=t[n];0<i;i--)o=l(r[i],o);t[r[0]]=t[r[0]]||{},ei.Z.Object.merge(t[r[0]],o),delete t[n]}return e},writeRecords:function(e,t){var n,r,i=this,o=i.getRootProperty();return i.getExpandData()&&(t=i.getExpandedData(t)),i.getAllowSingle()&&1===t.length&&(t=t[0],n=!0),(r=this.getTransform())&&(t=r(t,e)),i.getEncode()?o&&e.setParam(o,ei.Z.encode(t)):(n||t&&t.length)&&(r=e.getJsonData()||{},o?r[o]=t:r=t,e.setJsonData(r)),e}}),ei.Z.define("GRUI.util.FilterCollection",{extend:"GRUI.util.Collection",requires:["GRUI.util.Filter"],isFilterCollection:!0,$filterable:null,filterFn:null,constructor:function(e){var t=this;t.filterFn=ei.Z.util.Filter.createFilterFn(t),this.callParent2(this,"GRUI.util.Collection","null","constructor",this.constructor,arguments),t.setDecoder(t.decodeFilter)},filterData:function(e){return this.filtered?ei.Z.Array.filter(e,this.filterFn):e},getFilterFn:function(){return this.filterFn},isItemFiltered:function(e){return!this.filterFn(e)},getFilterCount:function(){for(var e=this.items,t=e.length,n=t-1;0<=n;n--)e[n].getDisabled()&&t--;return t},decodeFilter:function(e){var t=this.getOptions().getRootProperty();if(e.isFilter)e.setRoot&&!e.getRoot()&&e.setRoot(t);else{if(t={root:t},ei.Z.isFunction(e))t.filterFn=e;else if((t=ei.Z.apply(t,e)).fn&&(t.filterFn=t.fn,delete t.fn),ei.Z.util.Filter.isInvalid(t))return!1;e=new ei.Z.util.Filter(t)}return e},decodeRemoveItems:function(e,t){var n=void 0===t?e:e[t];if(!n.$cloned){(e.length>t+1||!ei.Z.isIterable(n))&&(n=ei.Z.Array.slice(e,t));for(var r,i,o,a,s,l,u,c,d=this.items,f=n.length,h=[],p=0;p<f;p++)if((r=n[p])&&r.isFilter)h.push(r);else for(i="function"==(c=typeof r),o=void 0!==r.property&&void 0!==r.value,a="string"==c,u=d.length;0<u--;)s=d[u],l=!1,a?l=s.getProperty()===r:i?l=s.getFilterFn()===r:o&&(l=s.getProperty()===r.property&&s.getValue()===r.value),l&&h.push(s);(n=h).$cloned=!0}return n},getOptions:function(){return this.$filterable||this}}),ei.Z.define("GRUI.util.GroupCollection",{extend:"GRUI.util.Collection",requires:["GRUI.util.Group","GRUI.util.SorterCollection","GRUI.util.FilterCollection","GRUI.util.GrouperCollection"],isGroupCollection:!0,config:{grouper:null,groupConfig:null,itemRoot:null},observerPriority:-100,emptyGroupRetainTime:3e5,rootProperty:"_data",constructor:function(e){this.emptyGroups={},this.callParent2(this,"GRUI.util.Collection","null","constructor",this.constructor,arguments),this.on("remove","onGroupRemove",this)},getItemGroup:function(e){var t,n=this.lastMonitoredGrouper;return(n=!n&&this.items.length?this.items[0].getGrouper():n)&&(n=n.getGroupString(e),t=this.get(n)),t},getByPath:function(e){var t,n=e?String(e).split(ei.Z.util.Group.prototype.pathSeparator):[],r=n.length,i=this,o=!1;for(r||(o=i.get(e)),t=0;t<r&&i&&0!==i.length;t++)(o=i.get(n[t]))&&(i=o.getGroups());return o||!1},getGroupsByItem:function(e){var t,n,r=[],i=this.items.length;if(e)for(t=0;t<i;t++)if(0<=(n=this.items[t]).indexOf(e)&&(r.push(n),n=n.getGroups()))return ei.Z.Array.insert(r,r.length,n.getGroupsByItem(e));return r},onCollectionAdd:function(e,t){this.isConfiguring||this.addItemsToGroups(e,t.items,t.at)},onCollectionBeforeItemChange:function(e,t){this.changeDetails=t},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(e,t){t.indexChanged||this.syncItemGrouping(e,t),this.changeDetails=null},onCollectionRefresh:function(e){if(e.generation){var t,n,r,i,o,a,s,l=this,u=l.itemGroupKeys={};for(l.groupersChanged=!0,i=0,o=(n=(t=l.createEntries(e,e.items)).entries).length;i<o;++i)for((a=n[i]).group.splice(0,1e99,a.items),s=0;s<a.items.length;s++)u[e.getKey(a.items[s])]=a.group;for(r in n=null,l.map)r in t.groups||(n=n||[]).push(l.map[r]);n&&l.remove(n),l.sortItems(),l.groupersChanged=!1}},onCollectionRemove:function(e,t){var n,r,i,o,a,s,l,u=this,c=e.getGroupers(),d=u.changeDetails,f=u.itemGroupKeys||(u.itemGroupKeys={});if(c&&c.length){if(e.getCount()){d?(c=d.item||d.items[0],(n=u.createEntries(e,[c],!1).entries)[0].group=f["oldKey"in t?t.oldKey:e.getKey(c)]):n=u.createEntries(e,t.items,!1).entries;for(o=0,a=n.length;o<a;++o){for((i=(r=n[o]).group)&&i.remove(r.items),s=0;s<r.items.length;s++)delete f[e.getKey(r.items[s])];i&&!i.length&&(l=l||[]).push(i)}}else for(u.itemGroupKeys={},o=0,a=(l=u.items).length;o<a;++o)l[o].clear();l&&u.remove(l)}},onCollectionSort:function(e){var t,n,r,i,o=e.getSorters(!1);if(o)for(t=this.items,n=this.length,r=0;r<n;++r)(i=t[r]).getSorters()===o?i.sortItems():i.setSorters(o)},onCollectionUpdateKey:function(e,t){t.indexChanged||(t.oldIndex=e.indexOf(t.item),this.syncItemGrouping(e,t))},onCollectionGroupersChanged:function(e){var t=this;0<(e=e.getGroupers()).length?(e=e.items[0],t.changeSorterFn(e),t.lastMonitoredGrouper&&t.lastMonitoredGrouper.removeObserver(t),(t.lastMonitoredGrouper=e).addObserver(t)):t.removeAll()},onGrouperDirectionChange:function(e){this.changeSorterFn(e),this.onEndUpdateSorters(this.getSorters())},onEndUpdateSorters:function(e){var t=this,n=t.sorted,r=t.grouped&&t.getAutoGroup()||t.getAutoSort()&&e&&0<e.length;(n||r)&&(t.sorted=!!r,t.onSortChange(e))},changeSorterFn:function(e){var t=this.getSorters(),n={root:this.getRootProperty()};n.direction=e.getDirection(),e&&(n.id=e.getProperty(),e.initialConfig.sorterFn?n.sorterFn=e.initialConfig.sorterFn:n.property=e.getSortProperty()||e.getProperty()),n.property||n.sorterFn?0===t.length?t.add(n):t.items[0].setConfig(n):t.clear()},addItemsToGroups:function(e,t,n,r){for(var i,o,a,s,l,u=this,c=u.itemGroupKeys||(u.itemGroupKeys={}),d=u.createEntries(e,t).entries,f=-1,h=0,p=d.length;h<p;++h)if(a=(i=d[h]).group,r||0===r)l=t[0],-1===(f=0<a.getCount()&&0===e.getSorters().getCount()?r<(s=e.indexOf(a.items[0]))?0:r-s:f)?a.add(l):a.insert(f,l);else for(1<u.length&&n&&(s=e.indexOf(d[0].group.getAt(0)),n=Math.max(n-s,0)),i.group.insert(null!=n?n:a.items.length,i.items),o=0;o<i.items.length;o++)c[e.getKey(i.items[o])]=i.group;u.sortItems()},createEntries:function(e,t,n){var r,i,o,a,s,l,u,c={},d=[],f=e.getGroupers().getRange();if(f.length)for(r=f.shift(),f=f.length?ei.Z.clone(f):null,s=0,u=t.length;s<u;++s)(i=c[a=r.getGroupString(l=t[s])])||(o=this.getGroup(e,l,r,f,n),d.push(c[a]=i={group:o,items:[]})),i.items.push(l);return{groups:c,entries:d}},syncItemGrouping:function(e,t){var n,r,i,o,a=this,s=a.itemGroupKeys||(a.itemGroupKeys={}),l=t.item,u=e.getGroupers().getRange();u.length&&(o=u.shift(),u=u.length?ei.Z.clone(u):null,r=e.getKey(l),i=s[n="oldKey"in t?t.oldKey:r],o=a.getGroup(e,l,o,u),t.group=o,t.oldGroup=i,t.groupChanged=o!==i,o===i?i.itemChanged(l,t.modified,t.oldKey,t):(i&&(i.updateKey(l,n,r),i.remove(l),i.length||a.remove(i)),a.addItemsToGroups(e,[l],null,t.oldIndex)),delete s[n],s[r]=o)},getGroup:function(e,t,n,r,i){var o,a=this,s=n.getGroupString(t),l=n.getSortProperty(),u=n.getRoot(),c=a.get(s),d=a.getAutoSort();return c?(c.setSorters(e.getSorters()),a.groupersChanged&&(o=c.getLabel(),c.setLabel(null),c.setGroupers(r),c.setGrouper(n),c.setParent(e.isGroup?e:a),c.setLabel(o))):!1!==i&&((c=a.emptyGroups[s])&&c.destroyed&&(delete a.emptyGroups[s],c=null),c?c.setLabel(null):c=ei.Z.create(ei.Z.apply({xclass:"GRUI.util.Group",groupConfig:a.getGroupConfig()},a.getGroupConfig())),a.setAutoSort(!1),c.setConfig({groupKey:s,grouper:n,groupers:r,label:s,rootProperty:a.getItemRoot(),sorters:e.getSorters(),autoSort:d,autoGroup:a.getAutoGroup(),parent:e.isGroup?e:a}),c.ejectTime=null,a.add(c),a.setAutoSort(d),l&&c.setCustomData(l,(u?t[u]:t)[l])),c},getKey:function(e){return e.getGroupKey()},createSortFn:function(){return this.getSorters().getSortFn()},getGrouper:function(){return this.lastMonitoredGrouper},updateGrouper:ei.Z.emptyFn,updateAutoGroup:function(e){var t,n=this.length;for(this.setAutoSort(e),t=0;t<n;t++)this.items[t].setAutoGroup(e);this.onEndUpdateSorters(this._sorters)},destroy:function(){var e=this,t=e.lastMonitoredGrouper;t&&t.removeObserver(e),e.$groupable=null,e.destroyGroups(e.items),ei.Z.undefer(e.checkRemoveQueueTimer),this.callParent2(this,"GRUI.util.Collection","null","destroy",this.destroy,arguments)},privates:{destroyGroups:function(e){for(var t=e.length-1;0<=t;t--)e[t].destroy()},onGroupRemove:function(e,t){for(var n,r=t.items,i=this.emptyGroups,o=0,a=(r=ei.Z.Array.from(r)).length;o<a;o++)(n=r[o]).eject(),i[n.getGroupKey()]=n;this.checkRemoveQueue()},checkRemoveQueue:function(){var e,t,n,r=this,i=r.emptyGroups;for(e in i)!(t=i[e])||t.destroyed?delete i[e]:!t.length&&ei.Z.now()-t.ejectTime>r.emptyGroupRetainTime?(ei.Z.destroy(t),delete i[e]):n=!0;n&&(ei.Z.undefer(r.checkRemoveQueueTimer),r.checkRemoveQueueTimer=ei.Z.defer(r.checkRemoveQueue,r.emptyGroupRetainTime,r))}}}),ei.Z.define("GRUI.data.Store",{extend:"GRUI.data.ProxyStore",alias:"store.store",mixins:["GRUI.data.LocalStore"],requires:["GRUI.data.Model","GRUI.data.writer.Json","GRUI.util.GroupCollection","GRUI.util.DelayedTask"],uses:["GRUI.data.StoreManager","GRUI.util.Grouper"],config:{data:void 0,clearRemovedOnLoad:!0,clearOnPageLoad:!0,associatedEntity:null,role:null,session:null},onDataChanged:ei.Z.privateFn,onAdd:ei.Z.privateFn,onRemove:ei.Z.privateFn,onLoad:ei.Z.privateFn,addRecordsOptions:{addRecords:!0},loadCount:0,complete:!1,moveMapCount:0,constructor:function(e){var t,n=this;if(e&&e.buffered)return new ei.Z.data.BufferedStore(e);this.callParent2(this,"GRUI.data.ProxyStore","null","constructor",this.constructor,arguments),(t=n.inlineData)&&(delete n.inlineData,n.loadInlineData(t)),n.getRowData&&this.on({datachanged:this.eventDataChanged,add:this.eventAdd,remove:this.eventRemove,load:this.eventLoad})},applyData:function(e,t){var n=this;return n.getFields(),n.getModel(),e&&e.isCollection?(e.setRootProperty("data"),(t=e).addObserver(this),e.getCount()&&(n.afterLoadRecords(e.items),n.hasListeners.load&&n.fireEvent("load",n,e.items,!0))):(t=t||n.constructDataCollection(),e&&(n.isInitializing?n.inlineData=e:n.loadData(e))),t},loadInlineData:function(e){var t=this;t.removeAll(!0),t.suspendEvents(),t.loadData(e),t.resumeEvents()},onCollectionAdd:function(e,t){this.loadCount=this.loadCount||1,this.onCollectionAddItems(e,t.items,t)},onCollectionFilterAdd:function(e,t){this.onCollectionAddItems(e,t)},onCollectionAddItems:function(e,t,n){var r,i,o,a,s=this,l=t.length,u=!!n&&!n.next,c=s.removed,d=s.ignoreCollectionAdd,f=s.getSession(),h=n&&n.replaced;for(s.activeRanges&&s.syncActiveRanges(),r=0;r<l;++r)o=t[r],f&&f.adopt(o),d||(o.join(s),c&&c.length&&ei.Z.Array.remove(c,o),i=i||o.phantom||o.dirty);if(!d){if(h){for(a=[];ei.Z.Array.push(a,h.items),h=h.next;);s.setMoving(a,!0)}n&&(n.replaced?u&&(s.fireEvent("datachanged",s),s.fireEvent("refresh",s)):(s.fireEvent("add",s,t,n.at),u&&s.fireEvent("datachanged",s))),a&&s.setMoving(a,!1),s.needsSync=s.needsSync||i}},onCollectionBeforeItemChange:function(e,t){var n=t.item,r=t.modified||null,i=t.meta;this.fireEvent("beforeupdate",this,n,i,r,t)},onCollectionFilteredItemChange:function(){this.onCollectionItemChange.apply(this,arguments)},onCollectionItemChange:function(e,t){var n=this,r=t.item,i=t.modified||null,o=t.meta;n.fireChangeEvent(r)&&(n.onUpdate(r,o,i,t),n.fireEvent("update",n,r,o,i,t),n.fireEvent("datachanged",n))},afterChange:function(e,t,n){this.getData().itemChanged(e,t||null,void 0,n)},afterCommit:function(e,t){this.afterChange(e,t,ei.Z.data.Model.COMMIT)},afterEdit:function(e,t){this.needsSync=this.needsSync||e.dirty,this.afterChange(e,t,ei.Z.data.Model.EDIT)},afterReject:function(e){this.afterChange(e,null,ei.Z.data.Model.REJECT)},afterDrop:function(e){this.getData().remove(e)},afterErase:function(e){this.removeFromRemoved(e)},addSorted:function(e){var t,n=this,r=n.getRemoteSort(),i=n.getData();return r&&i.setSorters(n.getSorters()),t=i.findInsertionIndex(e),r&&i.setSorters(null),n.insert(t,e)},remove:function(e,t,n){var r,i,o,a,s=this.getDataSource();if(e)if(e.isModel)r=-1<s.indexOf(e)?(o=[e],1):0;else{for(o=[],i=0,r=e.length;i<r;++i){if((a=e[i])&&a.isEntity){if(!s.contains(a))continue}else if(!(a=s.getAt(a)))continue;o.push(a)}r=o.length}return r?(this.removeIsMove=!0===t,this.removeIsSilent=n,s.remove(o),this.removeIsSilent=!1,o):[]},onCollectionRemove:function(e,t){var n,r,i=this,o=i.removed,a=t.items,s=a.length,l=t.at,u=t.replacement,c=i.removeIsMove||u&&ei.Z.Array.equals(a,u.items),d=i.removeIsSilent,f=(t=!t.next,i.getDataSource());if(!i.ignoreCollectionRemove){for(u&&i.setMoving(u.items,!0),n=s-1;0<=n;n--)r=a[n],f.contains(r)||(!o||c||r.phantom||r.erasing?r.unjoin(i):(r.removedFrom=l+n,o.push(r),i.needsSync=!0));d||u&&u.items.length||(i.fireEvent("remove",i,a,l,c),t&&i.fireEvent("datachanged",i)),u&&i.setMoving(u.items,!1)}},onFilterEndUpdate:function(){var e=this;e.destroying||e.destroyed||(e.activeRanges&&e.syncActiveRanges(),this.callParent2(this,"GRUI.data.ProxyStore","null","onFilterEndUpdate",this.onFilterEndUpdate,arguments),e.callObservers("Filter"))},removeAt:function(e,t){var n=this.getData();if((e=Math.max(e,0))<n.length){if(1===arguments.length)t=1;else if(!t)return;n.removeAt(e,t)}},removeAll:function(e){var t=this,n=t.getData(),r=n.getRange();return n.length&&(t.removeIsSilent=!0,t.callObservers("BeforeRemoveAll"),n.removeAll(),t.removeIsSilent=!1,e||(t.fireEvent("clear",t,r),t.fireEvent("datachanged",t)),t.callObservers("AfterRemoveAll",[!!e])),r},setRecords:function(e){var t=this.getCount();++this.loadCount,t?this.getData().splice(0,t,e):this.add(e)},splice:function(e,t,n){return this.getData().splice(e,t,n)},onProxyLoad:function(e){var t=this,n=e.getResultSet(),r=e.getRecords(),i=e.wasSuccessful();t.destroyed||(n&&(t.totalCount=n.getTotal()),i?(r=t.processAssociation(r),t.loadRecords(r,e.getAddRecords()?{addRecords:!0}:void 0),t.attachSummaryRecord(n)):t.loading=!1,t.hasListeners.load&&t.fireEvent("load",t,r,i,e),t.callObservers("AfterLoad",[r,i,e]))},onProxyWrite:function(e){e.wasSuccessful()&&this.attachSummaryRecord(e.getResultSet()),this.callParent2(this,"GRUI.data.ProxyStore","null","onProxyWrite",this.onProxyWrite,arguments)},filterDataSource:function(e){for(var t=this.getDataSource(),n=t.items,r=n.length,i=[],o=0;o<r;o++)e.call(t,n[o])&&i.push(n[o]);return i},getNewRecords:function(){return this.filterDataSource(this.filterNew)},getRejectRecords:function(){return this.filterDataSource(this.filterRejects)},getUpdatedRecords:function(){return this.filterDataSource(this.filterUpdated)},loadData:function(e,t){for(var n=e.length,r=[],i=0;i<n;i++)r.push(this.createModel(e[i]));r=this.processAssociation(r),this.loadRecords(r,t?this.addRecordsOptions:void 0)},loadRawData:function(e,t){var n=this,r=n.getSession(),i=(r=(e=n.getProxy().getReader().read(e,r?{recordCreator:r.recordCreator}:void 0)).getRecords(),e.getSuccess());return i&&(n.totalCount=e.getTotal(),n.loadRecords(r,t?n.addRecordsOptions:void 0)),i},loadRecords:function(e,t){var n,r,i=this,o=i.getData();t&&(n=t.addRecords),i.getRemoteSort()||i.getSortOnLoad()||o.setAutoSort(!(r=!0)),n||i.clearData(!0),i.loading=!1,i.ignoreCollectionAdd=!0,i.callObservers("BeforePopulate"),o.add(e),i.ignoreCollectionAdd=!1,r&&o.setAutoSort(!0),i.afterLoadRecords(e)},afterLoadRecords:function(e){for(var t=this,n=e.length,r=0;r<n;r++)e[r].join(t);t.isEmptyStore||(++t.loadCount,t.complete=!0),t.hasListeners.datachanged&&t.fireEvent("datachanged",t),t.hasListeners.refresh&&t.fireEvent("refresh",t),t.callObservers("AfterPopulate")},loadPage:function(e,t){var n=this.getPageSize();this.currentPage=e,t=ei.Z.apply({page:e,start:(e-1)*n,limit:n,addRecords:!this.getClearOnPageLoad()},t),this.read(t)},nextPage:function(e){this.loadPage(this.currentPage+1,e)},previousPage:function(e){this.loadPage(this.currentPage-1,e)},clearData:function(e){var t,n,r,i,o=this,a=o.removed,s=o.getDataSource(),l=o.getClearRemovedOnLoad(),u=a&&e&&!l;if(s){for(r=0,i=(t=s.items).length;r<i;++r)n=t[r],u&&ei.Z.Array.contains(a,n)||n.unjoin(o);o.ignoreCollectionRemove=!0,o.callObservers("BeforeClear"),s.removeAll(),o.ignoreCollectionRemove=!1,o.callObservers("AfterClear")}!a||e&&!l||(a.length=0)},onIdChanged:function(e,t,n){this.getData().updateKey(e,t),this.fireEvent("idchanged",this,e,t,n)},commitChanges:function(){var e=this,t=e.getModifiedRecords(),n=t.length,r=0;for(ei.Z.suspendLayouts(),e.beginUpdate();r<n;r++)t[r].commit();e.cleanRemoved(),e.endUpdate(),ei.Z.resumeLayouts(!0),e.fireEvent("commit",e)},filterNewOnly:function(e){return!0===e.phantom},filterRejects:function(e){return e.phantom||e.dirty},rejectChanges:function(){var e,t,n,r,i,o,a=this,s=a.getRejectRecords(),l=s.length;for(ei.Z.suspendLayouts(),a.beginUpdate(),e=0;e<l;e++)(t=s[e]).phantom?(n=n||[]).push(t):t.reject();if(n)for(a.remove(n),e=0,l=n.length;e<l;++e)n[e].reject();if(s=a.getRawRemovedRecords()){for(l=s.length,(r=!a.getRemoteSort()&&a.isSorted())&&(o=(i=a.getData()).getAutoSort(),i.setAutoSort(!1)),e=l-1;0<=e;e--)(t=s[e]).reject(),r||a.insert(t.removedFrom||0,t);r&&(i.setAutoSort(o),a.add(s)),s.length=0}a.endUpdate(),ei.Z.resumeLayouts(!0),a.fireEvent("reject",a)},doDestroy:function(){var e=this,t=e.loadTask,n=e.getData().getSource();e.clearData(),e.setSession(null),e.observers=null,t&&(t.cancel(),e.loadTask=null),n&&n.destroy(),this.callParent2(this,"GRUI.data.ProxyStore","null","doDestroy",this.doDestroy,arguments)},setFieldsSummaries:function(e){var t,n=this,r=n.model.getSummaryModel();if(r&&!n.isDestroyed){for(t in e)r.setSummaryField(t,e[t]);n.getRemoteSummary()?n.reload():(n.getSummaryRecord().calculateSummary(n.getData().items),n.recalculateSummaries(n.getGroups()),n.fireEvent("summarieschanged",n),n.fireEvent("datachanged",n))}},setFieldSummary:function(e,t){var n=this,r=n.model.getSummaryModel();r&&!n.isDestroyed&&(r.setSummaryField(e,t),n.getRemoteSummary()?n.reload():(n.getSummaryRecord().calculateSummary(n.getData().items),n.recalculateSummaries(n.getGroups()),n.fireEvent("summarieschanged",n),n.fireEvent("datachanged",n)))},recalculateSummaries:function(e){for(var t,n=e?e.length:0,r=0;r<n;r++)(t=e.items[r]).recalculateSummaries(),this.recalculateSummaries(t.getGroups())},privates:{commitOptions:{commit:!0},attachSummaryRecord:function(e){if(e){var t,n,r,i,o,a,s,l=this,u=e.getSummaryData(),c=l.getGroupers(),d=l.summaryRecord,f=l.commitOptions,h=!1;if(u&&(h=!0,d?(d.data={},d.set(u.data,f)):(l.summaryRecord=u).isRemote=!0),c&&c.length&&(h=!0,u=e.getGroupData()))for(t=l.getGroups(),r=0,n=u.length;r<n;++r)if(i=u[r],o=t.getItemGroup(i)){for(a=o.getGroups();a;)a=(s=a.getItemGroup(i))&&ei.Z.isDefined(i.data[s.getGrouper().getProperty()])?(o=s).getGroups():null;delete i.data.id,(d=o.getGroupRecord()).set(i.data,f),d.isRemote=!0,(d=o.getSummaryRecord()).set(i.data,f),d.isRemote=!0}h&&l.hasListeners.remotesummarieschanged&&l.fireEvent("remotesummarieschanged",l)}},fetch:function(e){e=ei.Z.apply({},e),this.setLoadOptions(e),this.createOperation("read",e).execute()},fireChangeEvent:function(e){return this.getDataSource().contains(e)},onBeforeLoad:function(e){this.callObservers("BeforeLoad",[e])},onRemoteFilterSet:function(e,t){e&&this.getData().setFilters(t?null:e),this.callParent2(this,"GRUI.data.ProxyStore","null","onRemoteFilterSet",this.onRemoteFilterSet,arguments)},onRemoteSortSet:function(e,t){var n=this.getData();e&&n.setSorters(t?null:e),n.setAutoGroup(!t),this.callParent2(this,"GRUI.data.ProxyStore","null","onRemoteSortSet",this.onRemoteSortSet,arguments)},isMoving:function(e,t){var n,r,i=this.moveMap,o=0;if(i)if(e)if(ei.Z.isArray(e))for(r=0,n=e.length;r<n;++r)o+=i[e[r].id]?1:0;else i[e.id]&&++o;else o=t?i:this.moveMapCount;return o},setLoadOptions:function(e){var t,n,r,i,o,a=this,s=a.getPageSize(),l=[],u=a.getGroupers(!1);if((a.getRemoteSort()||a.getRemoteSummary())&&(e.grouper?e.groupers||u&&u.length&&(e.groupers=u.getRange()):(t=a.getGrouper())&&(e.grouper=t)),a.getRemoteSummary()){for(i=(n=a.getModel().getSummaryModel().getFields()).length,o=0;o<i;o++)r=n[o],u&&!u.get(r.name)&&l.push(r);e.summaries=l}(s||"start"in e||"limit"in e||"page"in e)&&(e.page=null!=e.page?e.page:a.currentPage,e.start=void 0!==e.start?e.start:(e.page-1)*s,e.limit=null!=e.limit?e.limit:s,a.currentPage=e.page),e.addRecords=e.addRecords||!1,e.recordCreator||(t=a.getSession())&&(e.recordCreator=t.recordCreator),this.callParent2(this,"GRUI.data.ProxyStore","null","setLoadOptions",this.setLoadOptions,arguments)},setMoving:function(e,t){for(var n,r=this,i=r.moveMap||(r.moveMap={}),o=e.length,a=0;a<o;++a)n=e[a].id,t?i[n]?++i[n]:(i[n]=1,++r.moveMapCount):0==--i[n]&&(delete i[n],--r.moveMapCount);0===r.moveMapCount&&(r.moveMap=null)},processAssociation:function(e){var t=this.getAssociatedEntity();return t?this.getRole().processLoad(this,t,e,this.getSession()):e},eventAdd:function(){var e;this.onAdd&&(e=this.onAdd).call.apply(e,[this].concat(Array.prototype.slice.call(arguments)))},eventLoad:function(){var e;this.onLoad&&(e=this.onLoad).call.apply(e,[this].concat(Array.prototype.slice.call(arguments)))},eventRemove:function(){var e;this.onRemove&&(e=this.onRemove).call.apply(e,[this].concat(Array.prototype.slice.call(arguments)))},eventDataChanged:function(){var e;this.onDataChanged&&(e=this.onDataChanged).call.apply(e,[this].concat(Array.prototype.slice.call(arguments)))}}}),ei.Z.define("GRUI.data.ArrayStore",{extend:"GRUI.data.Store",alias:"store.array",alternateClassName:["GRUI.data.SimpleStore"],requires:["GRUI.data.proxy.Memory"],config:{proxy:{type:"memory",reader:"array"}},loadData:function(e,t){if(this.expandData){for(var n=[],r=0,i=e.length;r<i;r++)n[n.length]=[e[r]];e=n}this.callParent2(this,"GRUI.data.Store","null","loadData",this.loadData,arguments)}}),ei.Z.define("GRUI.data.StoreManager",{extend:"GRUI.util.MixedCollection",alternateClassName:["GRUI.StoreMgr","GRUI.data.StoreMgr","GRUI.StoreManager"],singleton:!0,requires:["GRUI.data.ArrayStore"],register:function(){for(var e,t=0;e=arguments[t];t++)this.add(e)},unregister:function(){for(var e,t=0;e=arguments[t];t++)this.remove(this.lookup(e))},lookup:function(e,t){var n,r,i,o,a,s;if(ei.Z.isArray(e)){if(n=e[0],r=e,!ei.Z.isObject(n)){if(o=["field1"],i=ei.Z.isArray(n))for(a=2,s=n.length;a<=s;++a)o.push("field"+a);else for(r=[],a=0,s=e.length;a<s;++a)r.push([e[a]]);return new ei.Z.data.ArrayStore({data:r,fields:o,autoDestroy:!0,autoCreated:!0,expanded:!i})}e={data:r}}return ei.Z.isString(e)?this.get(e):ei.Z.Factory.store(e,t)},getKey:function(e){return e.storeId},addEmptyStore:function(){var e=this.$emptyStore,t={destroy:ei.Z.emptyFn};e||((e=this.$emptyStore=ei.Z.regStore("ext-empty-store",{proxy:"memory",useModelWarning:!1})).isEmptyStore=!0,e.on=e.addListener=function(){return t},e.un=e.removeListener=ei.Z.emptyFn),this.add(e)},clear:function(){this.callParent2(this,"GRUI.util.MixedCollection","null","clear",this.clear,arguments),this.addEmptyStore()}},(function(){ei.Z.regStore=function(e,t){if(ei.Z.isObject(e))t=e;else{if(ei.Z.data.StoreManager.containsKey(e))return ei.Z.data.StoreManager.lookup(e);t.storeId=e}return e=t instanceof ei.Z.data.Store?t:new ei.Z.data.Store(t),ei.Z.data.StoreManager.register(e),e},ei.Z.getStore=function(e){return ei.Z.data.StoreManager.lookup(e)},ei.Z.data.StoreManager.addEmptyStore()})),ei.Z.define("GRUI.app.domain.Store",{extend:"GRUI.app.EventDomain",singleton:!0,requires:["GRUI.data.AbstractStore"],type:"store",prefix:"store.",idMatchRe:/^#/,constructor:function(){this.callParent2(this,"GRUI.app.EventDomain","null","constructor",this.constructor,arguments),this.monitor(ei.Z.data.AbstractStore)},match:function(e,t){var n=!1,r=e.alias;return"*"===t?n=!0:this.idMatchRe.test(t)?n=e.getStoreId()===t.substring(1):r&&(n=-1<ei.Z.Array.indexOf(r,this.prefix+t)),n}}),ei.Z.define("GRUI.util.ItemCollection",{extend:"GRUI.util.MixedCollection",alternateClassName:"GRUI.ItemCollection",getKey:function(e){return e.getItemId&&e.getItemId()},has:function(e){return this.map.hasOwnProperty(e.getId())}}),ei.Z.define("GRUI.mixin.Queryable",{mixinId:"queryable",isQueryable:!0,query:function(e){return ei.Z.ComponentQuery.query(e=e||"*",this.getQueryRoot())},queryBy:function(e,t){for(var n,r=[],i=this.getQueryRoot().getRefItems(!0),o=0,a=i.length;o<a;++o)n=i[o],!1!==e.call(t||n,n)&&r.push(n);return r},queryById:function(e){return this.down(ei.Z.makeIdSelector(e))},child:function(e){var t=this.getQueryRoot().getRefItems();return e&&e.isComponent?this.matchById(t,e.getItemId()):(t=e?ei.Z.ComponentQuery.query(e,t):t).length?t[0]:null},down:function(e){return e&&e.isComponent?this.matchById(this.getRefItems(!0),e.getItemId()):this.query(e=e||"")[0]||null},visitPreOrder:function(e,t,n,r){ei.Z.ComponentQuery._visit(!0,e,this.getQueryRoot(),t,n,r)},visitPostOrder:function(e,t,n,r){ei.Z.ComponentQuery._visit(!1,e,this.getQueryRoot(),t,n,r)},getRefItems:function(){return[]},getQueryRoot:function(){return this},privates:{matchById:function(e,t){for(var n,r=e.length,i=0;i<r;++i)if((n=e[i]).getItemId()===t)return n;return null}}}),ei.Z.define("GRUI.mixin.Container",{extend:"GRUI.Mixin",mixinConfig:{id:"container"},isContainer:!0,nameHolder:!1,referenceHolder:!1,getNamedItems:function(){return ei.Z.referencesDirty&&ei.Z.fixReferences(),this.nameRefs||null},getReferences:function(){return ei.Z.referencesDirty&&ei.Z.fixReferences(),this.refs||null},lookup:function(e){var t=this.getReferences();return t&&t[e]||null},lookupName:function(e){var t=this.getNamedItems();return t&&t[e]||null},lookupReference:function(e){return this.lookup(e)},privates:{attachNameRef:function(e){var t,n=this,r=e.name||e._name;!r||n.destroying||n.destroyed||((t=(n=n.nameRefs||(n.nameRefs={}))[r])?t.isInstance||t.push(e):t=e.shareableName?[e]:e,n[r]=t)},attachReference:function(e){var t=this;t.destroying||t.destroyed||((t.refs||(t.refs={}))[e.referenceKey]=e)},containerOnAdded:function(e,t){ei.Z.ComponentManager.markReferencesDirty()},containerOnRemoved:function(e){e||ei.Z.ComponentManager.markReferencesDirty()},initContainerInheritedState:function(e,t){var n=this,r=n.getController(),i=n.getSession(),o=n.getConfig("viewModel",!0),a=n.reference,s=n.referenceHolder;n.nameHolder&&(e.nameHolder=n),r?(e.referenceHolder=r,s=!0):s&&(e.referenceHolder=n),s?e.referencePath="":a&&n.isParentReference&&(e.referencePath=n.referenceKey+"."),i&&(e.session=i),o?e.viewModelPath="":a&&n.isParentReference&&(e.viewModelPath=n.viewModelKey+".")},setupReference:function(e){var t;return e&&">"===e.charAt(t=e.length-1)&&(this.isParentReference=!0,e=e.substring(0,t)),e}}}),ei.Z.define("GRUI.util.KeyMap",{alternateClassName:"GRUI.KeyMap",eventName:"keydown",constructor:function(e){var t=this;ei.Z.apply(t,e),t.bindings=[],t.target.isComponent||(t.target=ei.Z.get(t.target)),t.binding?t.addBinding(t.binding):e.key&&t.addBinding(e),t.enable()},addBinding:function(e){var t,n,r=this,i=e.key;if(r.processing&&(r.bindings=r.bindings.slice(0)),ei.Z.isArray(e))for(t=0,n=e.length;t<n;t++)r.addBinding(e[t]);else r.bindings.push(ei.Z.apply({keyCode:r.processKeys(i)},e))},removeBinding:function(e){var t,n,r,i=this,o=i.bindings,a=o.length;for(i.processing&&(i.bindings=o.slice(0)),r=i.processKeys(e.key),t=0;t<a;t++)if(((n=o[t]).fn||n.handler)===(e.fn||e.handler)&&n.scope===e.scope&&e.alt===n.alt&&e.ctrl===n.ctrl&&e.shift===n.shift&&ei.Z.Array.equals(n.keyCode,r))return void ei.Z.Array.erase(i.bindings,t,1)},processKeys:function(e){var t,n,r,i,o,a=!1;if(e.test)return e;if(ei.Z.isString(e)){for(n=[],o=0,i=(r=e.toUpperCase()).length;o<i;o++)n.push(r.charCodeAt(o));e=n,a=!0}if(ei.Z.isArray(e)||(e=[e]),!a)for(o=0,i=e.length;o<i;o++)t=e[o],ei.Z.isString(t)&&(e[o]=t.toUpperCase().charCodeAt(0));return e},handleTargetEvent:function(e){var t,n,r,i,o=this;if(o.enabled&&(t=o.bindings,(e=o.processEvent.apply(o.processEventScope||o,arguments))&&(o.lastKeyEvent=e,!o.ignoreInputFields||!ei.Z.fly(e.target).isInputField()))){if(!e.getKey)return e;for(o.processing=!0,n=0,r=t.length;n<r;n++)if(!1===(i=o.processBinding(t[n],e)))return o.processing=!1,i;o.processing=!1}},processEvent:ei.Z.identityFn,processBinding:function(e,t){if(this.checkModifiers(e,t)){var n,r,i,o=t.getKey(),a=e.fn||e.handler,s=e.scope||this,l=e.keyCode,u=e.defaultEventAction;if(l.test){if(l.test(String.fromCharCode(t.getCharCode()))&&(!0!==(i=a.call(s,o,t))&&u&&t[u](),!1===i))return i}else if(l.length)for(n=0,r=l.length;n<r;n++)if(o===l[n]){if(!0!==(i=a.call(s,o,t))&&u&&t[u](),!1===i)return i;break}}},checkModifiers:function(e,t){for(var n,r,i=["shift","ctrl","alt"],o=0,a=i.length;o<a;o++)if(void 0!==(n=e[r=i[o]])&&n!==t[r+"Key"])return!1;return!0},on:function(e,t,n){var r,i,o,a;ei.Z.isObject(e)&&!ei.Z.isArray(e)?(r=e.key,i=e.shift,o=e.ctrl,a=e.alt):r=e,this.addBinding({key:r,shift:i,ctrl:o,alt:a,fn:t,scope:n})},un:function(e,t,n){var r,i,o,a;ei.Z.isObject(e)&&!ei.Z.isArray(e)?(r=e.key,i=e.shift,o=e.ctrl,a=e.alt):r=e,this.removeBinding({key:r,shift:i,ctrl:o,alt:a,fn:t,scope:n})},isEnabled:function(){return!!this.enabled},enable:function(){var e=this;e.enabled||(e.target.on(e.eventName,e.handleTargetEvent,e,{capture:e.capture,priority:e.priority}),e.enabled=!0)},disable:function(){var e=this;e.enabled&&(e.target.destroyed||e.target.removeListener(e.eventName,e.handleTargetEvent,e),e.enabled=!1)},setDisabled:function(e){e?this.disable():this.enable()},destroy:function(e){var t=this.target;this.bindings=[],this.disable(),this.target=null,e&&(t.destroy(),ei.Z.raise("Using removeTarget argument in KeyMap destructor is not supported.")),this.callParent2(this,"null","null","destroy",this.destroy,arguments)}}),ei.Z.define("GRUI.util.KeyNav",{alternateClassName:"GRUI.KeyNav",requires:["GRUI.util.KeyMap"],disabled:!1,defaultEventAction:!1,forceKeyDown:!1,eventName:"keypress",statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(e){var t,n=this,r={target:(e=e||{}).target,ignoreInputFields:e.ignoreInputFields,eventName:n.getKeyEvent(("forceKeyDown"in e?e:n).forceKeyDown,e.eventName),capture:e.capture};n.map&&n.map.destroy(),n.initConfig(e),e.processEvent&&(r.processEvent=e.processEvent,r.processEventScope=e.processEventScope||n),e.priority&&(r.priority=e.priority),e.keyMap?t=n.map=e.keyMap:(t=n.map=new ei.Z.util.KeyMap(r),n.destroyKeyMap=!0),n.addBindings(e),t.disable(),e.disabled||t.enable()},addBindings:function(e){var t,n,r,i=this,o=i.map,a=ei.Z.util.KeyNav.keyOptions,s=ei.Z.event.Event,l=e.scope||i;for(n in e)t=e[n],null!=(r=1===n.length?n.charCodeAt(0):a[n]||s[n.toUpperCase()])&&(n=r),!t||1!==n.length&&isNaN(n=parseInt(n,10))||("function"==typeof t&&(t={handler:t,defaultEventAction:(void 0!==e.defaultEventAction?e:i).defaultEventAction}),o.addBinding({key:n,ctrl:t.ctrl,shift:t.shift,alt:t.alt,handler:ei.Z.Function.bind(i.handleEvent,t.scope||l,[t.handler||t.fn,i],!0),defaultEventAction:(void 0!==t.defaultEventAction?t:i).defaultEventAction}))},handleEvent:function(e,t,n,r){return r.lastKeyEvent=t,n.call(this,t)},destroy:function(e){var t=this;e&&ei.Z.raise("removeEl argument in KeyNav destructor is not supported anymore."),t.destroyKeyMap&&t.map.destroy(e),t.map=null,this.callParent2(this,"null","null","destroy",this.destroy,arguments)},enable:function(){this.map&&(this.map.enable(),this.disabled=!1)},disable:function(){this.map&&this.map.disable(),this.disabled=!0},setDisabled:function(e){this.map.setDisabled(e),this.disabled=e},isEnabled:function(){return!this.disabled},getKeyEvent:function(e,t){return e||ei.Z.supports.SpecialKeyDownRepeat&&!t?"keydown":t||this.eventName}}),ei.Z.define("GRUI.mixin.FocusableContainer",{extend:"GRUI.Mixin",requires:["GRUI.util.KeyNav"],mixinConfig:{id:"focusablecontainer"},isFocusableContainer:!0,focusableContainer:!1,resetFocusPosition:!1,activeChildTabIndex:0,inactiveChildTabIndex:-1,allowFocusingDisabledChildren:!1,focusableContainerEl:"el",privates:{initFocusableContainer:function(e){var t,n,r;if(this.focusableContainer)this.doInitFocusableContainer(e=null==e||e);else for(n=0,r=(t=this.getFocusables()).length;n<r;n++)t[n].ownerFocusableContainer=null},doInitFocusableContainer:function(e){var t,n=this,r=n.focusableContainerEl;r.isElement||(r=n.focusableContainerEl=n[r]),n.initFocusableContainerKeyNav&&n.initFocusableContainerKeyNav(r),e&&(n.clearFocusables(),n.isDisabled()||(t=n.findNextFocusableChild({step:1})||n.findNextFocusableChild({beforeRender:!0}))&&n.activateFocusable(t)),t=n.findNextFocusableChild({firstTabbable:!0}),n.activateFocusableContainer(!!t&&!n.isDisabled())},initFocusableContainerKeyNav:function(e){var t=this;t.focusableKeyNav||(e=e||t.focusableContainerEl,t.focusableKeyNav=new ei.Z.util.KeyNav({target:e,disabled:!0,eventName:"keydown",processEvent:t.processFocusableContainerKeyEvent,processEventScope:t,scope:t,tab:t.onFocusableContainerTabKey,enter:{handler:t.onFocusableContainerEnterKey,ctrl:!1,shift:!1,alt:!1},space:{handler:t.onFocusableContainerSpaceKey,ctrl:!1,shift:!1,alt:!1},up:{handler:t.onFocusableContainerUpKey,ctrl:!1,shift:!1,alt:!1},down:{handler:t.onFocusableContainerDownKey,ctrl:!1,shift:!1,alt:!1},left:{handler:t.onFocusableContainerLeftKey,ctrl:!1,shift:!1,alt:!1},right:{handler:t.onFocusableContainerRightKey,ctrl:!1,shift:!1,alt:!1}}))},destroyFocusableContainer:function(){this.focusableKeyNav=ei.Z.destroy(this.focusableKeyNav)},activateFocusableContainer:function(e){var t=this.focusableKeyNav;t&&t.setDisabled(!e)},isFocusableContainerActive:function(){var e=this.focusableKeyNav;return!!e&&!e.disabled},getFocusables:function(){return this.items.items},initDefaultFocusable:function(){var e,t,n=this,r=!1,i=n.getFocusables(),o=i.length;if(o){for(t=0;t<o;t++)if(!(e=i[t]).isDisabled()&&e.isFocusable()){r=!0;break}if(r)return(e=n.findNextFocusableChild({items:i,step:!0}))&&n.activateFocusable(e),e}},clearFocusables:function(e){for(var t,n=this.getFocusables(),r=n.length,i=0;i<r;i++)!(t=n[i]).destroyed&&t.focusable&&t.isTabbable()&&this.deactivateFocusable(t)},processFocusableContainerKeyEvent:function(e){if(!ei.Z.fly(e.target).isInputField())return e},activateFocusable:function(e){e.setTabIndex(this.activeChildTabIndex)},deactivateFocusable:function(e){e.setTabIndex(this.inactiveChildTabIndex)},onFocusableContainerTabKey:function(){return!0},onFocusableContainerEnterKey:function(){return!0},onFocusableContainerSpaceKey:function(){return!0},onFocusableContainerUpKey:function(e){return e.preventDefault(),this.moveChildFocus(e,!1)},onFocusableContainerDownKey:function(e){return e.preventDefault(),this.moveChildFocus(e,!0)},onFocusableContainerLeftKey:function(e){return e.preventDefault(),this.moveChildFocus(e,!1)},onFocusableContainerRightKey:function(e){return e.preventDefault(),this.moveChildFocus(e,!0)},getFocusableFromEvent:function(e){return ei.Z.Component.from(e)},moveChildFocus:function(e,t){var n=this.getFocusableFromEvent(e);return this.focusChild(n,t,e)},focusChild:function(e,t){return(e=this.findNextFocusableChild({child:e,step:t}))&&e.focus(),e},findNextFocusableChild:function(e){for(var t,n=e.beforeRender,r=e.firstTabbable,i=e.items||this.getFocusables(),o=null!=e.step?e.step:1,a=(e=e.child,!!this.allowFocusingDisabledChildren),s=ei.Z.Array.indexOf(i,e),l=i.length,u=0<(o=!0===o?1:!1===o?-1:o)?s<l?s+o:0:0<s?s+o:l-1;;u+=o){if(s<0&&(l<=u||u<0))return null;if(l<=u)u=-1;else if(u<0)u=l;else{if(u===s)return null;if((t=i[u])&&t.focusable&&(!t.isDisabled()||a))if(r){if(t.isTabbable&&t.isTabbable())return t}else if(n||t.isFocusable&&t.isFocusable())return t}}return null},onFocusEnter:function(e){var t=this;e.toComponent===t&&(e=t.initDefaultFocusable())&&e.focus(),t.activateFocusableContainer(!0)},onFocusLeave:function(e){this.resetFocusPosition&&(this.clearFocusables(),this.initDefaultFocusable())},beforeFocusableChildBlur:ei.Z.privateFn,afterFocusableChildBlur:ei.Z.privateFn,beforeFocusableChildFocus:function(e){var t=this;!t.focusableContainer||t.destroying||t.destroyed||(t.clearFocusables(),t.activateFocusable(e))},afterFocusableChildFocus:function(e){!this.focusableContainer||this.destroying||this.destroyed||(this.lastFocusedChild=e)},onFocusableChildAdd:function(e){e.focusable&&(e.ownerFocusableContainer=this)},onFocusableChildRemove:function(e){var t,n=this;e.ownerFocusableContainer=null,e===n.lastFocusedChild&&(n.lastFocusedChild=null,t=n.initDefaultFocusable(),e.hasFocus&&(t=t||e.findFocusTarget())&&t.focus()),(e=t||n.findNextFocusableChild({step:1,beforeRender:!0}))||n.activateFocusableContainer(!1)},beforeFocusableChildEnable:ei.Z.privateFn,onFocusableChildEnable:function(e){var t,n=this;!n.focusableContainer||n.destroying||n.destroyed||(n.containsFocus?(t=ei.Z.ComponentManager.getActiveComponent(),n.clearFocusables(),n.activateFocusable(t)):n.resetFocusPosition||null==n.lastFocusedChild?(n.clearFocusables(),e.hasFocus&&(n.activateFocusable(e),t=e)):(n.deactivateFocusable(e),e===n.lastFocusedChild&&(n.clearFocusables(),n.activateFocusable(e)),t=n.findNextFocusableChild({firstTabbable:!0})),t||n.initDefaultFocusable(),n.activateFocusableContainer(!0))},beforeFocusableChildDisable:function(e){!this.focusableContainer||this.destroying||this.destroyed||e.hasFocus&&(e=this.findNextFocusableChild({child:e})||e.findFocusTarget())&&e.focus()},onFocusableChildDisable:function(e){var t=this;!t.focusableContainer||t.destroying||t.destroyed||t.findNextFocusableChild({firstTabbable:!0})||t.initDefaultFocusable()||t.activateFocusableContainer(!1)},beforeFocusableChildHide:function(e){return this.beforeFocusableChildDisable(e)},onFocusableChildHide:function(e){return this.onFocusableChildDisable(e)},beforeFocusableChildShow:function(e){return this.beforeFocusableChildEnable(e)},onFocusableChildShow:function(e){return this.onFocusableChildEnable(e)},onFocusableChildMasked:ei.Z.privateFn,onFocusableChildDestroy:ei.Z.privateFn,onFocusableChildUpdate:ei.Z.privateFn},deprecated:{7:{configs:{enableFocusableContainer:"focusableContainer"}}}}),ei.Z.define("GRUI.Container",{extend:"GRUI.Component",alternateClassName:["GRUI.lib.Container","GRUI.container.Container"],requires:["GRUI.util.ItemCollection"],xtype:"container",isContainer:!0,mixins:["GRUI.mixin.Queryable","GRUI.mixin.Container","GRUI.mixin.FocusableContainer"],uses:["GRUI.layout.Auto"],eventedConfig:{activeItem:0},config:{activeItemIndex:null,autoSize:null,bodyCls:null,layout:"auto",control:null,defaults:null,items:null,autoDestroy:!0,defaultType:null,defaultFocus:{$value:null,lazy:!0},innerCls:null,masked:null},weighted:!1,manageBorders:!1,classCls:ei.Z.baseCSSPrefix+"container",managedBordersCls:ei.Z.baseCSSPrefix+"managed-borders",template:[{reference:"bodyElement",cls:ei.Z.baseCSSPrefix+"body-el",uiCls:"body-el"}],constructor:function(e){var t=this;t._items=t.items=new ei.Z.util.ItemCollection,t.innerItems=[],t.getReferences=t.getFirstReferences,t.onItemAdd=t.onFirstItemAdd,this.callParent2(this,"GRUI.Component","null","constructor",this.constructor,arguments),delete t.getReferences},initialize:function(){var e=this;e.reference=e.setupReference(e.reference),this.callParent2(this,"GRUI.Component","null","initialize",this.initialize,arguments),e.manageBorders&&e.addCls(e.managedBordersCls),e.getLayout()},applyMasked:function(e){var t=!0;return!1===e?t=!(e=!0):ei.Z.isString(e)?e={xtype:"loadmask",message:e}:e&&!e.isComponent&&e.hidden&&(t=!1),(e=ei.Z.factory(e,ei.Z.Mask,this.getMasked()))&&(e.sender=this,e.setHidden(!t),e.render(this.el)),e},mask:function(e){this.setMasked(e||!0)},unmask:function(){this.setMasked(!1)},initInheritedState:function(e,t){this.callParent2(this,"GRUI.Component","null","initInheritedState",this.initInheritedState,arguments),this.initContainerInheritedState(e,t)},onAdded:function(e,t){this.callParent2(this,"GRUI.Component","null","onAdded",this.onAdded,arguments),this.containerOnAdded(e,t)},onRemoved:function(e){this.containerOnRemoved(e),this.callParent2(this,"GRUI.Component","null","onRemoved",this.onRemoved,arguments)},afterItemShow:function(e){e.getDocked()&&(e=this.getLayout(),this.items.generation++,e.handleDockedItemBorders())},afterItemHide:function(e){e.getDocked()&&(e=this.getLayout(),this.items.generation++,e.handleDockedItemBorders())},applyBodyCls:function(e){return e&&ei.Z.dom.Element.splitCls(e)},updateBodyCls:function(e,t){this.bodyElement.replaceCls(t,e)},applyItems:function(e,t){var n=this;e&&(n.getDefaultType(),n.getDefaults(),n.initialized&&0<t.length&&n.removeAll(),!n.weighted||e.isWidget||e.xtype||(e=ei.Z.convertKeyedItems(e)),n.add(e),n.initialized&&(t=n.initialConfig.activeItem||n.config.activeItem||0,n.setActiveItem(t)))},applyControl:function(e){var t,n,r,i;for(t in e){for(n in i=e[t])r=i[n],ei.Z.isObject(r)&&(r.delegate=t);i.delegate=t,this.addListener(i)}return e},updateDisabled:function(e){var t=this;this.callParent2(this,"GRUI.Component","null","updateDisabled",this.updateDisabled,arguments),t.focusableContainer&&(t.getItems(),e?t.element.saveTabbableState():t.element.restoreTabbableState(),t.activateFocusableContainer(!e),e||t.initDefaultFocusable())},onFirstItemAdd:function(e){var t=this;return delete t.onItemAdd,e.isInner&&t.innerHtmlElement&&!t.getHtml()&&!t.getTpl()&&(t.innerHtmlElement.destroy(),delete t.innerHtmlElement),t.onItemAdd.apply(t,arguments)},applyLayout:function(e,t){return"string"==typeof e&&(e={type:e}),t?(e&&!e.isLayout&&t.setConfig(e),t):(e&&e.isLayout||(e=ei.Z.Factory.layout(ei.Z.apply({container:this},e),ei.Z.layout.Auto)),this.link("layout",e),e)},updateDefaultType:function(e){this.defaultItemClass=ei.Z.ClassManager.getByAlias("widget."+e)},factoryItem:function(e){var t=this,n=e;return(e=t.applyItemDefaults(e)).isComponent||(t.$hasCachedDefaultItemClass||(t.getDefaultType(),t.$hasCachedDefaultItemClass=!0),e=ei.Z.factory(e,t.defaultItemClass)),delete n.$initParent,e},add:function(e){var t,n,r,i,o,a=this,s=a.getItems(),l=a.weighted,u=!0,c=[];for(ei.Z.isArray(e)||(u=!(e=[e])),l&&(s.length?t=!0:ei.Z.sortByWeight(e)),n=0,r=e.length;n<r;n++)(i=e[n])&&((o=i.isWidget)||(i.$initParent=a),i=a.factoryItem(i),t?a.doInsert(s.findInsertionIndex(i,ei.Z.weightSortFn),i,o):a.doAdd(i,o),delete i.$initParent,a.focusableContainer&&a.onFocusableChildAdd(i),c.push(i));return(a.isConfiguring||!a.getActiveItem())&&0<a.innerItems.length&&a.setActiveItem(a.initialConfig.activeItem||0),a.rendered&&r&&a.focusableContainer&&a.initFocusableContainer(),u?c:c[0]},onItemWeightChange:function(e){var t,n=this.getItems(),r=n.indexOf(e);n.remove(e),t=n.findInsertionIndex(e,ei.Z.weightSortFn),n.insert(t,e),this.insertInner(e,t),this.onItemMove(e,t,r)},doAdd:function(e,t){var n,r=this,i=r.getItems();i.has(e)||(n=i.length,i.add(e),e.isInnerItem()&&r.insertInner(e,n),e.onAdded(r,!!t),r.focusableContainer&&r.onFocusableChildAdd(e),r.onItemAdd(e,n))},remove:function(e,t){var n,r,i,o,a,s=this,l=s.getComponent(e);if(void 0===t&&(t=s.getAutoDestroy()),l)return r=s.indexOf(l),i=s.getInnerItems(),-1!==r&&(!s.removingAll&&1<i.length&&l===s.getActiveItem()?(s.on({activeitemchange:"doRemove",scope:s,single:!0,order:"after",args:[l,r,t]}),s.doResetActiveItem(i.indexOf(l))):(s.doRemove(l,r,t),0===i.length&&s.setActiveItem(null))),l;for(n=s.getActiveItem(),r=0;r<e.length;++r)(o=s.getComponent(e[r]))===n?a=!0:o&&s.remove(o,t);return a&&s.remove(n,t),e},doResetActiveItem:function(e){0===e?this.setActiveItem(1):this.setActiveItem(0)},doRemove:function(e,t,n){var r=this;r.destroying||(r.items.remove(e),e.isInnerItem()&&r.removeInner(e),r.onItemRemove(e,t,n)),e.destroyed||e.onRemoved(e.destroying||n),!r.focusableContainer||r.destroying||r.destroyed||r.onFocusableChildRemove(e,n),n&&!e.destroyed&&e.destroy()},removeAll:function(e,t){var n,r,i=this,o=i.destroying,a=i.items,s=o?null:[],l=a.length;for("boolean"!=typeof e&&(e=this.getAutoDestroy()),i.removingAll=!0,n=0;n<l;n++)(r=a.getAt(n))&&(t||r.isInnerItem())&&(i.doRemove(r,n,e),o||(n--,l--)),s&&s.push(r);return o||i.setActiveItem(null),i.removingAll=!1,s},getAt:function(e){return this.items.getAt(e)},getInnerAt:function(e){return this.innerItems[e]},removeAt:function(e,t){return(e=this.getAt(e))&&this.remove(e,t),e},removeInnerAt:function(e){return(e=this.getInnerItems()[e])&&this.remove(e),e},has:function(e){return-1!==this.getItems().indexOf(e)},hasInnerItem:function(e){return-1!==this.innerItems.indexOf(e)},indexOf:function(e){return this.getItems().indexOf(e)},innerIndexOf:function(e){return this.innerItems.indexOf(e)},insertInner:function(e,t){var n,r=this.getItems().items,i=this.innerItems,o=i.indexOf(e),a=-1;if(-1!==o&&i.splice(o,1),"number"==typeof t){for(;(n=r[++t])&&!n.isInnerItem(););n&&(a=i.indexOf(n),i.splice(a,0,e))}return-1===a&&(i.push(e),a=i.length-1),-1!==o&&this.onInnerItemMove(e,a,o),this},onInnerItemMove:ei.Z.emptyFn,removeInner:function(e){return ei.Z.Array.remove(this.innerItems,e),this},insert:function(e,t){var n,r,i=this;if(ei.Z.isArray(t)){for(r=t.length-1;0<=r;r--)i.insert(e,t[r]);return i}return(n=t.isWidget)||(t.$initParent=i),t=i.factoryItem(t),i.doInsert(e,t,n),delete t.$initParent,t},doInsert:function(e,t,n){var r=this,i=r.items,o=i.length,a=t.isInnerItem();i[(e=o<e?o:e)-1]!==t&&(-1!==(o=r.indexOf(t))&&i.removeAt(o),i.insert(e,t),-1===o&&t.onAdded(r,!!n),a&&r.insertInner(t,e),-1!==o?r.onItemMove(t,e,o):r.onItemAdd(t,e))},insertFirst:function(e){return this.insert(0,e)},insertLast:function(e){return this.insert(this.getItems().length,e)},insertBefore:function(e,t){var n=this.getItems();return n=null===t?this.add(e):(t=n.indexOf(t),-1!==(n=n.indexOf(e))&&n<t&&--t,this.insert(t,e))},insertAfter:function(e,t){return-1!==(t=this.indexOf(t))&&this.insert(t+1,e),this},onItemAdd:function(e,t){var n=this;n.doItemLayoutAdd(e,t),n.initialized&&(e.hasListeners.added&&e.fireEvent("added",e,n,t),n.hasListeners.add&&n.fireEvent("add",n,e,t))},doItemLayoutAdd:function(e,t){var n=this.getLayout();this.rendered&&!e.rendered?e.fireAction("renderedchange",[this,e,!0],"onItemAdd",n,{args:[e,t]}):n.onItemAdd(e,t)},onItemRemove:function(e,t,n){var r=this;r.doItemLayoutRemove(e,t,n),e.hasListeners.removed&&e.fireEvent("removed",e,r,t),r.hasListeners.remove&&r.fireEvent("remove",r,e,t)},doItemLayoutRemove:function(e,t,n){var r=this.getLayout();e.rendered?(e.setRendered(!1),e.fireAction("renderedchange",[this,e,!1],"onItemRemove",r,{args:[e,t,n]})):r.onItemRemove(e,t,n)},onItemMove:function(e,t,n){var r=this;r.doItemLayoutMove(e,t,n),e.hasListeners.moved&&e.fireEvent("moved",e,r,t,n),r.hasListeners.move&&r.fireEvent("move",r,e,t,n)},doItemLayoutMove:function(e,t,n){this.getLayout().onItemMove(e,t,n)},onItemInnerStateChange:function(e,t){var n=this.getLayout();t?this.insertInner(e,this.items.indexOf(e)):this.removeInner(e),n.onItemInnerStateChange.apply(n,arguments)},onItemFloatedChange:function(e,t){this.getLayout().onItemFloatedChange(e,t)},getInnerItems:function(){return this.innerItems},getDockedItems:function(){for(var e,t=this.getItems().items,n=[],r=t.length,i=0;i<r;i++)(e=t[i]).isDocked()&&n.push(e);return n},applyActiveItem:function(e,t){var n=this,r=n.getInnerItems(),i=n.initialConfig,o=i.activeItem||e;return n.getItems(),(e=n.isConfiguring&&!i.activeItem?o:e)||0!==r.length?"number"==typeof e?(e=r[e=Math.max(0,Math.min(e,r.length-1))])?e:t?null:void 0:e?(i="string"==typeof e?n.child(e):e.isComponent?e:(e=ei.Z.apply({$initParent:n},e),n.factoryItem(e)))?(n.pendingActiveItem=i,n.has(i)||n.add(i),delete i.$initParent,i):null:void 0:0},animateActiveItem:function(e,t){var n,r=this.getLayout();return this.activeItemAnimation&&this.activeItemAnimation.destroy(),this.activeItemAnimation=t=new ei.Z.Factory.layoutCardFx(t),t&&r.isCard&&(t.setLayout(r),(n=r.getAnimation())&&n.disable(),t.on("animationend",(function(){n&&n.enable(),t.destroy()}),this)),this.setActiveItem(e)},updateActiveItem:function(e,t){delete this.pendingActiveItem,t&&!t.destroyed&&t.fireEvent("deactivate",t,this,e),e&&e.fireEvent("activate",e,this,t),this.setActiveItemIndex(this.innerItems.indexOf(e))},updateActiveItemIndex:function(e){this.setActiveItem(this.innerItems[e])},getRefItems:function(e){var t,n,r,i,o=this.getItems().items;if(o)if(e)for(t=[],r=0,n=o.length;r<n;r++)i=o[r],(t[t.length]=i).getRefItems&&t.push.apply(t,i.getRefItems(!0));else t=o.slice();return t||[]},getComponent:function(e){return"number"==typeof e?this.getItems().getAt(e):(ei.Z.isObject(e)&&(e=e.getItemId()),this.getItems().get(e))},getDockedComponent:function(e){var t,n,r,i;if(ei.Z.isObject(e)&&(e=e.getItemId()),n=(t=this.getDockedItems()).length,ei.Z.isNumber(e))return t[e];for(i=0;i<n;i++)if((r=t[i]).id===e)return r;return!1},doDestroy:function(){var e=this;e.focusableContainer&&e.destroyFocusableContainer(),e.removeAll(!0,!0),ei.Z.destroy(e.items,e.getMasked()),e.items=null,e._layout&&(e._layout=ei.Z.destroy(e._layout)),this.callParent2(this,"GRUI.Component","null","doDestroy",this.doDestroy,arguments)},getFocusEl:function(){var e=this.findDefaultFocus();return e?e.isWidget?e.getFocusEl():e:this.focusable?this.focusEl:void 0},findDefaultFocus:function(){var e=this.getDefaultFocus();if(!e||e.isWidget||!(e=this.down(e))||e.canFocus())return e},onFocusEnter:function(e){var t=this;this.callParent2(this,"GRUI.Component","null","onFocusEnter",this.onFocusEnter,arguments),!t.focusableContainer||t.destroying||t.destroyed||t.mixins.focusablecontainer.onFocusEnter.call(t,e)},onFocusLeave:function(e){var t=this;this.callParent2(this,"GRUI.Component","null","onFocusLeave",this.onFocusLeave,arguments),!t.focusableContainer||t.destroying||t.destroyed||t.mixins.focusablecontainer.onFocusLeave.call(t,e)},updateInnerCls:function(e,t){this.getRenderTarget().replaceCls(t,e)},updateAutoSize:function(e){var t=this,n=t.bodySizerElement;!1===e?n||(t.bodySizerElement=t.bodyElement.wrap({cls:ei.Z.baseCSSPrefix+"body-sizer-el"})):n&&(t.bodyElement.unwrap(),n.destroy(),t.bodySizerElement=null)},updateMaxHeight:function(e,t){this.callParent2(this,"GRUI.Component","null","updateMaxHeight",this.updateMaxHeight,arguments)},privates:{getFirstReferences:function(){return delete this.getReferences,this.getItems(),this.getReferences.apply(this,arguments)},getPositionedItemTarget:function(){return this.getRenderTarget()},applyItemDefaults:function(e){var t=this.getDefaults();return t&&!e.ignoreDefaults&&(e.isComponent?e.isInnerItem()&&!this.has(e)&&(ei.Z.isFunction(t)&&(t=t(e)),e.setConfig(t,null,{defaults:!0})):(ei.Z.isFunction(t)&&(t=t(e)),e=ei.Z.merge({},t,e))),e},setChildRendered:function(e,t){t.isInnerItem()?this.getLayout().renderInnerItem(t):e&&t.getFloated()||t.setRendered(e)},getMaxHeightElement:function(){var e,t,n,r,i=this.el,o=this.maxHeightElement;if(!o)for(this.maxHeightElement=o=i.insertFirst({cls:ei.Z.baseCSSPrefix+"max-height-el"}),n=1,r=(e=ei.Z.Array.clone(i.dom.childNodes)).length;n<r;n++)t=e[n],ei.Z.fly(t).is(".grui-dock,.grui-panelheader,.grui-body-el,.grui-body-wrap-el,.grui-tab-guard-el")&&o.appendChild(t);return o}}},(function(){this.prototype.defaultItemClass=this})),ei.Z.define("GRUI.mixin.Hookable",{extend:"GRUI.Mixin",mixinConfig:{id:"hookable"},bindHook:function(e,t,n,r,i){return e.afterMethod(t,n||t,this,r,i),this},unbindHook:function(e,t,n){return e.removeMethodListener(t,n||t,this),this}}),ei.Z.define("GRUI.util.Wrapper",{mixins:["GRUI.mixin.Hookable"],constructor:function(e,t){e=this.link("element",ei.Z.Element.create(e)),t&&(e.insertBefore(t),this.wrap(t))},bindSize:function(e){var t,n=this.wrappedElement;this.boundSizeName=e,this.boundMethodName=t="width"===e?"setWidth":"setHeight",this.bindHook(n,t,"onBoundSizeChange"),n[t].call(n,n.getStyleValue(e))},onBoundSizeChange:function(e,t){var n=this.element;"string"==typeof e&&"%"===e.substr(-1)?t[0]="100%":e="",n[this.boundMethodName].call(n,e)},wrap:function(e){var t,n=this.element;for(this.wrappedElement=e,t=n.dom;null!==t.firstElementChild;)t=t.firstElementChild;t.appendChild(e.dom)},destroy:function(){var e=this,t=e.element,n=t.dom,r=e.wrappedElement,i=e.boundMethodName,o=n.parentNode;i&&(e.unbindHook(r,i,"onBoundSizeChange"),(t=t.getStyle(e.boundSizeName))&&r[i].call(r,t)),o&&(r.destroyed||o.replaceChild(n.firstElementChild,n),delete e.wrappedElement),this.callParent2(this,"null","null","destroy",this.destroy,arguments)}}),ei.Z.define("GRUI.layout.wrapper.BoxDock",{config:{direction:"horizontal",element:{className:ei.Z.baseCSSPrefix+"dock"},innerWrapper:null,container:null,manageBorders:null},positionMap:{top:"start",left:"start",bottom:"end",right:"end"},managedBordersCls:ei.Z.baseCSSPrefix+"managed-borders",constructor:function(e){this.items={start:[],end:[]},this.itemsCount=0,this.initConfig(e)},addItems:function(e){for(var t,n=0,r=e.length;n<r;n++)t=e[n],this.addItem(t)},addItem:function(e){var t,n,r,i,o=e.getDocked(),a=this.positionMap[o],s=e.$dockWrapper,l=this.getContainer(),u=l.indexOf(e),c=e.element,d=this.items[a];for(s&&s.removeItem(e),e.$dockWrapper=this,e.addCls(ei.Z.baseCSSPrefix+"dock-item"),e.addCls(ei.Z.baseCSSPrefix+"docked-"+o),t=0,n=d.length;t<n;t++)if(r=d[t],u<l.indexOf(r)){i=r.element,d.splice(t,0,e);break}i||(d.push(e),i=this.getInnerWrapper().getElement()),this.itemsCount++,"start"===a?c.insertBefore(i):c.insertAfter(i)},removeItem:function(e,t){var n=this,r=(t=t||e.getDocked(),n.items[n.positionMap[t]]);ei.Z.Array.remove(r,e),e.element.detach(),delete e.$dockWrapper,e.removeCls(ei.Z.baseCSSPrefix+"dock-item"),e.removeCls(ei.Z.baseCSSPrefix+"docked-"+t),0==--n.itemsCount&&n.destroy()},getItemsSlice:function(e){for(var t,n=this.getContainer(),r=this.items,i=[],o=r.start,a=0,s=o.length;a<s;a++)t=o[a],n.indexOf(t)>e&&i.push(t);for(a=0,s=(o=r.end).length;a<s;a++)t=o[a],n.indexOf(t)>e&&i.push(t);return i},applyElement:function(e){return ei.Z.Element.create(e)},updateElement:function(e){e.addCls(ei.Z.baseCSSPrefix+"dock-"+this.getDirection())},updateInnerWrapper:function(e,t){t?(e.getElement().replace(t.getElement(),!1),t.$outerWrapper=null):this.getElement().append(e.getElement()),e.setManageBorders(this.getManageBorders()),e.$outerWrapper=this},updateManageBorders:function(e){var t=this,n=t.getInnerWrapper();t.getElement().toggleCls(t.managedBordersCls,e),n&&n.setManageBorders(e)},destroy:function(){var e=this,t=e.getInnerWrapper(),n=e.$outerWrapper;t&&(n?n.setInnerWrapper(t):((n=t.getElement()).destroyed||n.replace(e.getElement()),delete t.$outerWrapper)),delete e.$outerWrapper,e.unlink(["_element"]),this.callParent2(this,"null","null","destroy",this.destroy,arguments)}}),ei.Z.define("GRUI.layout.wrapper.Inner",{config:{container:null,manageBorders:null},constructor:function(e){this.initConfig(e)},getElement:function(){var e=this.getContainer();return e.boxScrollerElement||e.bodySizerElement||e.bodyElement},setInnerWrapper:ei.Z.emptyFn,getInnerWrapper:ei.Z.emptyFn}),ei.Z.define("GRUI.layout.Auto",{alias:["layout.default","layout.auto"],alternateClassName:"GRUI.layout.Default",requires:["GRUI.container.Container","GRUI.util.Wrapper","GRUI.layout.wrapper.BoxDock","GRUI.layout.wrapper.Inner"],mixins:["GRUI.mixin.Observable","GRUI.mixin.Factoryable"],factoryConfig:{type:"layout",defaultType:"auto",instanceProp:"isLayout"},isLayout:!0,config:{animation:null,container:null},centerCls:ei.Z.baseCSSPrefix+"center",cls:ei.Z.baseCSSPrefix+"layout-auto",itemCls:ei.Z.baseCSSPrefix+"layout-auto-item",spaceRe:/\s+/,positionMap:{top:"start",left:"start",middle:"center",bottom:"end",right:"end"},positionDirectionMap:{top:"vertical",bottom:"vertical",left:"horizontal",right:"horizontal"},constructor:function(e){this.mixins.observable.constructor.call(this,e)},updateContainer:function(e,t){var n=this;n.dockedItems=[],e.getRenderTarget().addCls(n.cls),e.initialized?n.onContainerInitialized(e):e.onInitialized("onContainerInitialized",n)},onContainerInitialized:function(e){this.handleDockedItemBorders(),e.on({delegate:"> component",beforecenteredchange:"onItemCenteredChange",positionedchange:"onItemPositionedChange",afterdockedchange:"onAfterItemDockedChange",scope:this})},onItemAdd:function(e){var t=this,n=t.getContainer(),r=e.getFloated();null!=e.getDocked()?t.dockItem(e):e.isCentered()?t.onItemCenteredChange(e,!0):e.isPositioned()?t.onItemPositionedChange(e,!0):r||t.onItemInnerStateChange(e,!0),n.rendered&&!r&&(e.isInnerItem()?t.renderInnerItem(e,!0):e.setRendered(!0,!0))},onItemInnerStateChange:function(e,t,n){var r=this.itemCls;t?(this.insertInnerItem(e,this.getContainer().innerIndexOf(e)),e.addCls(r)):(this.removeInnerItem(e),e.removeCls(r))},insertInnerItem:function(e,t){var n=e.element.dom,r=this.getContainer(),i=(e=r.getRenderTarget(e),null);-1!==t&&(i=e===r.getRenderTarget()?(i=r.getInnerAt(t+1))?i.element.dom:null:e.dom.childNodes[t]),e.dom.insertBefore(n,i)},insertPositionedItem:function(e){var t=this,n=t.getContainer().getPositionedItemTarget(e).dom;return null===e.getZIndex()&&e.setZIndex(2*(t.getContainer().indexOf(e)+1)),n.insertBefore(e.element.dom,n.firstChild),t},removeInnerItem:function(e){e.element.detach()},removePositionedItem:function(e){e.setZIndex(null),e.element.detach()},onItemRemove:function(e,t,n){var r=this;e.getDocked()?r.undockItem(e):e.isCentered()?r.onItemCenteredChange(e,!1):e.isPositioned()?r.onItemPositionedChange(e,!1):e.getFloated()||r.onItemInnerStateChange(e,!1,n)},onItemMove:function(e,t,n){e.isCentered()||e.isPositioned()?e.setZIndex(2*(t+1)):e.isInnerItem()?this.insertInnerItem(e,this.getContainer().innerIndexOf(e)):(this.undockItem(e),this.dockItem(e))},onItemCenteredChange:function(e,t){var n="$centerWrapper";e.getFloated()?e.center():t?(this.insertPositionedItem(e),e.link(n,new ei.Z.util.Wrapper({className:this.centerCls},e.element))):(e.unlink([n]),this.removePositionedItem(e))},onItemPositionedChange:function(e,t){t?this.insertPositionedItem(e):this.removePositionedItem(e)},onAfterItemDockedChange:function(e,t,n){e.initialized&&(n&&this.undockItem(e,n),t&&this.dockItem(e))},dockItem:function(e){var t,n,r,i,o,a,s,l,u,c=this,d=ei.Z.layout.wrapper.BoxDock,f=c.dockedItems,h=f.length,p=c.getContainer(),g=p.indexOf(e),m=c.positionDirectionMap,v=m[e.getDocked()],y=c.dockInnerWrapper,b=!y;if(b&&(y=new ei.Z.layout.wrapper.Inner({container:p})),0===h)f.push(e),(s=new d({container:p,direction:v,manageBorders:p.manageBorders})).getElement().replace(y.getElement(),!1),s.setInnerWrapper(y),s.addItem(e);else{for(t=0;t<h;t++){if(n=f[t],g<p.indexOf(n)){i=r||f[0],f.splice(t,0,e);break}r=n}i||(i=f[h-1],f.push(e)),o=i.getDocked(),a=i.$dockWrapper,v===(m=m[o])?a.addItem(e):(o=a.getItemsSlice(g),s=new d({container:p,direction:v}),0<o.length?o.length===a.itemsCount?(l=a,s.getElement().replace(l.getElement(),!1),s.setInnerWrapper(l)):(l=new d({container:p,direction:m}),u=a.getInnerWrapper(),s.setInnerWrapper(l),a.setInnerWrapper(s),l.setInnerWrapper(u),l.addItems(o)):(u=a.getInnerWrapper(),a.setInnerWrapper(s),s.setInnerWrapper(u)),s.addItem(e))}s&&c.link("dockOuterWrapper",s),b&&c.link("dockInnerWrapper",y),p.initialized&&c.handleDockedItemBorders()},getDockWrapper:function(){var e=this.dockedItems;return 0<e.length?e[0].$dockWrapper:null},undockItem:function(e,t){var n=this,r=n.dockedItems,i=e.$dockWrapper;i&&i.removeItem(e,t),n.getContainer().initialized&&(i=e.lastBorderMask,t=e.lastBorderCollapse,i&&(e.lastBorderMask=0,e.removeCls(n.noBorderClassTable[i])),t&&(e.lastBorderCollapse=0,e.removeCls(n.getBorderCollapseTable()[t])),n.handleDockedItemBorders()),ei.Z.Array.remove(r,e)},destroy:function(){this.dockedItems=null,ei.Z.destroy(this.getAnimation()),this.callParent2(this,"null","null","destroy",this.destroy,arguments)},noBorderClassTable:[0,ei.Z.baseCSSPrefix+"noborder-l",ei.Z.baseCSSPrefix+"noborder-b",ei.Z.baseCSSPrefix+"noborder-bl",ei.Z.baseCSSPrefix+"noborder-r",ei.Z.baseCSSPrefix+"noborder-rl",ei.Z.baseCSSPrefix+"noborder-rb",ei.Z.baseCSSPrefix+"noborder-rbl",ei.Z.baseCSSPrefix+"noborder-t",ei.Z.baseCSSPrefix+"noborder-tl",ei.Z.baseCSSPrefix+"noborder-tb",ei.Z.baseCSSPrefix+"noborder-tbl",ei.Z.baseCSSPrefix+"noborder-tr",ei.Z.baseCSSPrefix+"noborder-trl",ei.Z.baseCSSPrefix+"noborder-trb",ei.Z.baseCSSPrefix+"noborder-trbl"],edgeMasks:{top:8,right:4,bottom:2,left:1},handleDockedItemBorders:function(e){var t,n,r,i,o,a,s,l,u,c,d,f,h=this,p=0,g=h.getContainer(),m=g.getBodyBorder&&g.getBodyBorder(),v=g.getBorder(),y=h.collapsed,b=h.edgeMasks,C=h.noBorderClassTable,S=g.items.generation,x=g.boxScrollerElement||g.bodyElement;if((e||h.initializedBorders!==S)&&g.manageBorders){for(d=[],f=[],n=h.getBorderCollapseTable(),C=h.getBorderClassTable?h.getBorderClassTable():C,h.initializedBorders=S,h.collapsed=!1,r=g.getDockedItems(),h.collapsed=y,o=0,a=(r=(e=g.getHeader&&g.getHeader())?[e].concat(r):r).length;o<a;o++)(s=r[o]).getHidden()||(l=s.isPanelHeader?s.getPosition():s.getDocked(),c=i=0,d.length=0,f.length=0,"bottom"!==l&&(8&p?t=s.border:!1!==(t=v)&&(i+=8),!1===t&&(c+=8)),"left"!==l&&(4&p?t=s.border:!1!==(t=v)&&(i+=4),!1===t&&(c+=4)),"top"!==l&&(2&p?t=s.border:!1!==(t=v)&&(i+=2),!1===t&&(c+=2)),"right"!==l&&(1&p?t=s.border:!1!==(t=v)&&(i+=1),!1===t&&(c+=1)),(u=s.lastBorderMask)!==c&&(s.lastBorderMask=c,u&&(f[0]=C[u]),c&&(d[0]=C[c])),(u=s.lastBorderCollapse)!==i&&(s.lastBorderCollapse=i,u&&f.push.apply(f,n[u]),i&&d.push.apply(d,n[i])),f.length&&s.removeCls(f),d.length&&s.addCls(d),p|=b[l]);c=i=0,d.length=0,f.length=0,8&p?t=m:!1!==(t=v)&&(i+=8),!1===t&&(c+=8),4&p?t=m:!1!==(t=v)&&(i+=4),!1===t&&(c+=4),2&p?t=m:!1!==(t=v)&&(i+=2),!1===t&&(c+=2),1&p?t=m:!1!==(t=v)&&(i+=1),!1===t&&(c+=1),(u=h.lastBodyBorderMask)!==c&&(h.lastBodyBorderMask=c,u&&(f[0]=C[u]),c&&(d[0]=C[c])),(u=h.lastBodyBorderCollapse)!==i&&(h.lastBodyBorderCollapse=i,u&&f.push.apply(f,n[u]),i&&d.push.apply(d,n[i])),f.length&&x.removeCls(f),d.length&&x.addCls(d)}},borderCollapseMap:{},getBorderCollapseTable:function(){var e,t,n,r,i,o,a,s=this.borderCollapseMap,l=this.getContainer(),u=l.classCls,c=l.getUi(),d=c||"default",f=(s=s[u]||(s[u]={}))[d];if(!f)for(t=l.classClsList,s[d]=f=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],e=[0],a=(e=c?e.concat(c.split(this.spaceRe)):e).length,r=0,i=t.length;r<i;r++)for(u=t[r],o=0;o<a;o++)c=e[o],f[1].push((n=u+(c?"-"+c:"")+"-outer-border-")+"l"),f[2].push(n+"b"),f[3].push(n+"bl"),f[4].push(n+"r"),f[5].push(n+"rl"),f[6].push(n+"rb"),f[7].push(n+"rbl"),f[8].push(n+"t"),f[9].push(n+"tl"),f[10].push(n+"tb"),f[11].push(n+"tbl"),f[12].push(n+"tr"),f[13].push(n+"trl"),f[14].push(n+"trb"),f[15].push(n+"trbl");return f},setConfig:function(e,t,n){var r=e,i=this.alias,o=r.type;return e&&("string"==typeof e?(r={})[e]=t:n=t,(!o||i&&-1<i.indexOf("layout."+o))&&this.callParent2(this,"null","null","setConfig",this.setConfig,arguments)),this},privates:{renderInnerItem:function(e,t){e.setRendered(!0,t)}}}),ei.Z.define("GRUI.Indicator",{extend:"GRUI.Component",xtype:"indicator",config:{activeIndex:null,count:null,direction:"horizontal",tapMode:"direction"},activeCls:ei.Z.baseCSSPrefix+"indicator-active",baseCls:ei.Z.baseCSSPrefix+"indicator",itemCls:ei.Z.baseCSSPrefix+"indicator-item",defaultBindProperty:"activeIndex",twoWayBindable:["activeIndex"],isIndicator:!0,constructor:function(e){this.indicators=[],this.callParent2(this,"GRUI.Component","null","constructor",this.constructor,arguments)},initialize:function(){this.callParent2(this,"GRUI.Component","null","initialize",this.initialize,arguments),this.element.on({tap:"onTap",scope:this})},doDestroy:function(){ei.Z.destroy(this.indicators),this.callParent2(this,"GRUI.Component","null","doDestroy",this.doDestroy,arguments)},updateActiveIndex:function(e,t){var n=this.activeCls,r=(t=(r=this.indicators)[t],r[e]);t&&t.removeCls(n),r&&r.addCls(n)},updateCount:function(e){for(var t=this.indicators;t.length<e;)this.doAdd();for(;t.length>e;)this.doRemove()},updateDirection:function(e,t){this.element.replaceCls(t,e,this.baseCls)},sync:function(e,t){return ei.Z.isNumber(e)&&this.setCount(e),ei.Z.isNumber(t)&&this.setActiveIndex(t),this},add:function(){var e=this.getCount();return this.setCount(++e)},removeAll:function(){return this.setCount(0)},remove:function(){var e=this.getCount();return this.setCount(--e)},doAdd:function(){return this.indicators.push(this.element.createChild({tag:"span",cls:this.itemCls})),this},doRemove:function(){var e=this.indicators.pop();return e&&e.destroy(),this},onTap:function(e){"item"===this.getTapMode()?this.onTapItem(e):this.onTapDirection(e)},onTapItem:function(e){var t,n=this,r=e.getTarget("."+n.itemCls,1,!0);r?-1!==(t=n.indicators.indexOf(r))&&n.fireEvent("indicatortap",n,t,r):n.onTapDirection(e)},onTapDirection:function(e){var t=this,n=t.getDirection(),r=(e=e.touch,(i=t.element.getBox()).left+i.width/2),i=i.top+i.height/2;r="horizontal"===n&&e.pageX>=r||"vertical"===n&&e.pageY>=i?"next":"previous";t.fireEvent(r,t)}}),ei.Z.define("GRUI.layout.Card",{extend:"GRUI.layout.Auto",alias:"layout.card",type:"card",isCard:!0,config:{indicator:{lazy:!0,$value:{xtype:"indicator",flex:1}}},deferRender:!0,cls:ei.Z.baseCSSPrefix+"layout-card",itemCls:ei.Z.baseCSSPrefix+"layout-card-item",requires:["GRUI.Indicator","GRUI.layout.card.fx.*"],applyAnimation:function(e){return e?new ei.Z.Factory.layoutCardFx(e):null},updateAnimation:function(e,t){var n,r=this;r.autoDirection=null,e&&e.isAnimation&&(e.setLayout(r),(n=e.getDirection())&&!r.autoDirectionMap[n]||(r.autoDirection=n||"horizontal",e.setDirection(null))),t&&t.destroy()},applyIndicator:function(e,t){return ei.Z.updateWidget(t,e,this,"createIndicator")},createIndicator:function(e){return ei.Z.apply({ownerCmp:this.getContainer()},e)},updateIndicator:function(e){var t,n;e&&(t=(n=this.getContainer()).getInnerItems(),n=n.getActiveItem(),e.sync(t.length,t.indexOf(n)).on({indicatortap:"onIndicatorTap",next:"next",previous:"previous",scope:this}))},onContainerInitialized:function(e){var t=e.getInnerAt(0),n=e.getActiveItem();e.getMinHeight(),this.callParent2(this,"GRUI.layout.Auto","null","onContainerInitialized",this.onContainerInitialized,arguments),n&&(n.show(),t&&t!==n&&t.hide()),e.on("activeitemchange","onContainerActiveItemChange",this)},onContainerActiveItemChange:function(e,t,n){var r=this,i=(e=e.getInnerItems()).indexOf(t),o=(e=e.indexOf(n),r.getAnimation()),a=r.autoDirection,s=a&&"horizontal"===a;a&&-1!==i&&-1!==e&&o.setDirection(i<e?s?"right":"up":s?"left":"down"),r.fireEventedAction("activeitemchange",[r,t,n],"doActiveItemChange",r)},onItemInnerStateChange:function(e,t,n){var r,i;this.callParent2(this,"GRUI.layout.Auto","null","onItemInnerStateChange",this.onItemInnerStateChange,arguments),i=(r=this.getContainer()).getActiveItem(),t?i!==r.innerIndexOf(e)&&i!==e&&e!==r.pendingActiveItem&&e.hide():n||e.destroyed||!0===e.destroying||e.show()},doActiveItemChange:function(e,t,n){var r=e.getConfig("indicator",null,!0);n&&!n.destroyed&&n.hide(),t&&!t.destroyed&&(e.showItem(t),r&&(n=this.getContainer().getInnerItems(),r.setActiveIndex(n.indexOf(t))))},onItemAdd:function(e,t){var n;this.callParent2(this,"GRUI.layout.Auto","null","onItemAdd",this.onItemAdd,arguments),e.isInnerItem()&&((n=this.getConfig("indicator",null,!0))&&n.add(),(n=e.element.dom.style).width=n.height="")},onItemRemove:function(e,t,n){var r,i;this.callParent2(this,"GRUI.layout.Auto","null","onItemRemove",this.onItemRemove,arguments),e.isInnerItem()&&((r=this.getConfig("indicator",null,!0))&&r.remove(),r=e.getWidth(),i=e.getHeight(),e.setWidth(null).setWidth(r),e.setHeight(null).setHeight(i))},next:function(){var e=this.getContainer(),t=e.getActiveItem(),n=e.getInnerItems(),r=n.indexOf(t);(t=n[r+1])&&e.setActiveItem(t)},previous:function(){var e=this.getContainer(),t=e.getActiveItem(),n=e.getInnerItems(),r=n.indexOf(t);(t=n[r-1])&&e.setActiveItem(t)},onIndicatorTap:function(e,t){this.getContainer().setActiveItem(t)},destroy:function(){ei.Z.destroy(this.getAnimation(),this.getIndicator()),this.callParent2(this,"GRUI.layout.Auto","null","destroy",this.destroy,arguments)},privates:{autoDirectionMap:{horizontal:1,vertical:1},renderInnerItem:function(e,t){this.deferRender&&this.getContainer().getActiveItem()!==e||this.callParent2(this,"GRUI.layout.Auto","null","renderInnerItem",this.renderInnerItem,arguments)},showItem:function(e){e.show(),this.getContainer().rendered&&e.setRendered(!0,!0)}}}),ei.Z.define("GRUI.util.InputBlocker",{singleton:!0,blockInputs:function(){ei.Z.browser.is.ie&&ei.Z.select(".grui-field-text .grui-input:not(.grui-item-disabled) .grui-input-el, .grui-field-textarea .grui-input:not(.grui-item-disabled) .grui-input-el, .grui-field-search .grui-input:not(.grui-item-disabled) .grui-input-el").each((function(e){0<e.dom.offsetWidth&&(e.dom.setAttribute("disabled",!0),e.dom.setAttribute("overlayfix",!0))}))},unblockInputs:function(){ei.Z.browser.is.ie&&ei.Z.select("[overlayfix]").each((function(e){e.dom.removeAttribute("disabled"),e.dom.removeAttribute("overlayfix")}))}}),ei.Z.define("GRUI.util.Scheduler",{mixins:["GRUI.mixin.Observable"],requires:["GRUI.util.Bag"],busyCounter:0,lastBusyCounter:0,destroyed:!1,firing:null,notifyIndex:-1,nextId:0,orderedItems:null,passes:0,scheduledCount:0,validIdRe:null,config:{cycleLimit:5,preSort:null,tickDelay:5},suspendOnNotify:!0,constructor:function(e){this.mixins.observable.constructor.call(this,e),this.items=new ei.Z.util.Bag},destroy:function(){var e=this,t=e.timer;t&&(window.clearTimeout(t),e.timer=null),e.items.destroy(),e.items=e.orderedItems=null,this.callParent2(this,"null","null","destroy",this.destroy,arguments)},add:function(e){var t=this,n=t.items;n===t.firing&&(t.items=n=n.clone()),e.id=e.id||++t.nextId,e.scheduler=t,n.add(e),t.sortMap||(t.orderedItems=null)},remove:function(e){var t=this,n=t.items;t.destroyed||(n===t.firing&&(t.items=n=n.clone()),e.scheduled&&(t.unscheduleItem(e),e.scheduled=!1),n.remove(e),t.orderedItems=null)},sort:function(){var e,t,n=this,r=n.items,i={},o=n.getPreSort();for(n.orderedItems=[],n.sortMap=i,o&&r.sort(o),r=r.items,e=0;e<r.length;++e)i[(t=r[e]).id]||n.sortItem(t);n.sortMap=null},sortItem:function(e){var t,n=this,r=n.sortMap,i=n.orderedItems;return e.scheduler||n.add(e),(t=e.id)in r||(r[t]=0,e.sort.$nullFn||e.sort(),r[t]=1,e.order=n.orderedItems.length,i.push(e)),n},sortItems:function(e){var t=this,n=t.sortItem;return e&&(e instanceof Array?ei.Z.each(e,n,t):ei.Z.Object.eachValue(e,n,t)),t},applyPreSort:function(e){if("function"==typeof e)return e;for(var t,n,r=e.split(","),i=[],o=r.length,a=0;a<o;++a)i[a]=1,"-"===(t=(n=r[a]).charAt(0))?i[a]=-1:"+"!==t&&(t=0),t&&(r[a]=n.substring(1));return function(e,t){for(var n,a,s=0,l=0;!s&&l<o;++l)n=e[a=r[l]],a=t[a],s=i[l]*(n<a?-1:a<n?1:0);return s}},notify:function(){var e,t,n,r,i,o=this,a=o.timer,s=o.getCycleLimit(),l=ei.Z.GlobalEvents,u=o.suspendOnNotify;if(a&&(window.clearTimeout(a),o.timer=null),!o.firing&&o.scheduledCount){for(u&&ei.Z.suspendLayouts();o.scheduledCount;){if(!s){o.firing=null;break}if(--s,i||(i=!0,l.hasListeners.beforebindnotify&&l.fireEvent("beforebindnotify",o)),++o.passes,(r=o.orderedItems)||(o.sort(),r=o.orderedItems),n=r.length)for(o.firing=o.items,e=0;e<n&&(!(t=r[e]).scheduled||(t.scheduled=!1,--o.scheduledCount,o.notifyIndex=e,t.react(),o.scheduledCount));++e);}o.firing=null,o.notifyIndex=-1,u&&ei.Z.resumeLayouts(!0)}(a=o.busyCounter)===o.lastBusyCounter||(o.lastBusyCounter=a)||o.fireEvent("idle",o)},onTick:function(){this.timer=null,this.notify()},scheduleItem:function(e){var t=this;++t.scheduledCount,t.timer||t.firing||t.scheduleTick()},scheduleTick:function(){var e=this;e.destroyed||e.timer||(e.timer=ei.Z.defer(e.onTick,e.getTickDelay(),e))},unscheduleItem:function(e){this.scheduledCount&&--this.scheduledCount},adjustBusy:function(e){var t=this;e=t.busyCounter+e;(t.busyCounter=e)?t.lastBusyCounter||(t.lastBusyCounter=e,t.fireEvent("busy",t)):t.lastBusyCounter&&!t.timer&&t.scheduleTick()},isBusy:function(){return!this.isIdle()},isIdle:function(){return!(this.busyCounter+this.lastBusyCounter)},debugHooks:{$enabled:!1,onCycleLimitExceeded:function(){ei.Z.raise("Exceeded cycleLimit "+this.getCycleLimit())},scheduleItem:function(e){e||ei.Z.raise("scheduleItem: Invalid argument"),ei.Z.log("Schedule item: "+e.getFullName()+" - "+(this.scheduledCount+1)),e.order<=this.notifyIndex&&ei.Z.log.warn("Suboptimal order: "+e.order+" < "+this.notifyIndex),this.callParent2(this,"null","null","scheduleItem",this.scheduleItem,arguments)},unscheduleItem:function(e){this.scheduledCount||ei.Z.raise("Invalid scheduleCount"),this.callParent2(this,"null","null","unscheduleItem",this.unscheduleItem,arguments),ei.Z.log("Unschedule item: "+e.getFullName()+" - "+this.scheduledCount)}}}),ei.Z.define("GRUI.data.Batch",{mixins:{observable:"GRUI.mixin.Observable"},config:{pauseOnException:!1},current:-1,total:0,running:!1,complete:!1,exception:!1,constructor:function(e){var t=this;t.mixins.observable.constructor.call(t,e),t.operations=[],t.exceptions=[]},add:function(e){var t,n,r=this;if(ei.Z.isArray(e))for(t=0,n=e.length;t<n;++t)r.add(e[t]);else r.total++,e.setBatch(r),r.operations.push(e);return r},sort:function(){this.operations.sort(this.sortFn)},sortFn:function(e,t){if(r=e.order-t.order)return r;var n,r=e.entityType;t=t.entityType;return r&&t?((n=r.rank)||(r.schema.rankEntities(),n=r.rank),(n-t.rank)*e.foreignKeyDirection):0},start:function(e){var t=this;return t.destroyed||!t.operations.length||t.running?t:(t.exceptions.length=0,t.exception=!1,t.running=!0,t.runOperation(ei.Z.isDefined(e)?e:t.current+1))},abort:function(){var e,t=this;t.running&&!(e=t.getCurrent()).destroyed&&e.abort(),t.running=!1,t.aborted=!0,t.current=void 0},retry:function(){return this.start(this.current)},runNextOperation:function(){var e=this;return e.running&&e.runOperation(e.current+1),e},pause:function(){return this.running=!1,this},getOperations:function(){return this.operations},getExceptions:function(){return this.exceptions},getCurrent:function(){var e=null,t=this.current;return-1===t||this.complete?e:this.operations[t]},getTotal:function(){return this.total},isRunning:function(){return this.running},isComplete:function(){return this.complete},hasException:function(){return this.exception},runOperation:function(e){var t=this,n=t.operations,r=n[e];return void 0===r?(t.running=!1,t.complete=!0,t.fireEvent("complete",t,n[n.length-1])):(t.current=e,r.setInternalCallback(t.onOperationComplete),r.setInternalScope(t),r.execute()),t},onOperationComplete:function(e){var t=this,n=e.hasException();n&&(t.exception=!0,t.exceptions.push(e),t.fireEvent("exception",t,e)),n&&t.getPauseOnException()?t.pause():(t.fireEvent("operationcomplete",t,e),t.runNextOperation())},destroy:function(){var e,t,n,r=this,i=r.operations;for(r.running&&r.abort(),t=0,n=r.operations.length;t<n;t++)(e=i[t])&&(e.destroyed||e.$destroyOwner||e.destroy(),e[t]=null);r.operations=r.exceptions=null,this.callParent2(this,"null","null","destroy",this.destroy,arguments)}}),ei.Z.define("GRUI.mixin.Dirty",{mixinId:"dirty",config:{dirty:{$value:!1,lazy:!0}},dirty:!1,_dirtyRecordCount:0,ignoreDirty:!1,recordStateIsDirtyState:!0,isDirty:function(){return this.getDirty()},applyDirty:function(e){return!this.ignoreDirty&&e},updateDirty:function(e){var t=this;t.dirty=e,t.fireEvent&&!t.isDirtyInitializing&&t.fireDirtyChange()},clearRecordStates:function(){var e=this,t=e._crudCounters;t&&(t.C=t.U=t.D=0),e._dirtyRecordCount=0,e.recordStateIsDirtyState&&e.setDirty(!1)},fireDirtyChange:function(){var e=this;!e.ignoreDirty&&e.hasListeners.dirtychange&&e.fireEvent("dirtychange",e,e.dirty)},trackRecordState:function(e,t){var n,r=this,i=r._crudCounters||(r._crudCounters={C:0,R:0,U:0,D:0}),o=r._dirtyRecordCount,a=e.crudState,s=e.crudStateWas;return!t&&a===s||(!t&&s&&--i[s],e.phantom&&"D"===a||++i[a],r._dirtyRecordCount=t=i.C+i.U+i.D,(n=!t!=!o)&&r.recordStateIsDirtyState&&r.setDirty(0<t)),n},untrackRecordState:function(e){var t,n=this,r=n._crudCounters,i=n._dirtyRecordCount,o=e.crudState;return r&&"D"!==o&&!e.erased&&(--r[o],n._dirtyRecordCount=e=r.C+r.U+r.D,(t=!e!=!i)&&n.recordStateIsDirtyState&&n.setDirty(0<e)),t}}),ei.Z.define("GRUI.util.Schedulable",{abstract:!0,isSchedulable:!0,scheduled:!1,constructor:function(){this.getScheduler().add(this)},destroy:function(){var e=this,t=e.getScheduler();t&&!t.destroyed&&t.remove(e),e.scheduler=null,e.schedule=e.react=ei.Z.emptyFn,this.callParent2(this,"null","null","destroy",this.destroy,arguments)},getFullName:function(){return this.name||this.id},privates:{getScheduler:function(){return this.scheduler},schedule:function(){var e,t=this;t.scheduled||(e=t.getScheduler())&&(t.scheduled=!0,t.onSchedule&&t.onSchedule(),e.scheduleItem(t))},unschedule:function(){var e,t=this;t.scheduled&&((e=t.getScheduler())&&!e.destroyed&&e.unscheduleItem(t),t.scheduled=!1)},sort:function(){}}}),ei.Z.define("GRUI.util.Fly",{inheritableStatics:{flyPoolSize:2,fly:function(){var e,t=this;return(e=(e=t.flyweights||(t.flyweights=[])).length?e.pop():new t).reset.apply(e,arguments),e}},release:function(){var e=this,t=e.self,n=t.flyweights||(t.flyweights=[]);e.reset(),n.length<t.flyPoolSize&&n.push(e)},reset:ei.Z.emptyFn}),ei.Z.define("GRUI.parse.Tokenizer",(function(e){var t=e.flyweights=[],n={literal:!0,boolean:!0,type:"boolean"},r={error:!0},i={ident:!0},o={literal:!0,nil:!0},a={literal:!0,number:!0,type:"number"},s={literal:!0,string:!0,type:"string"};return{extend:"GRUI.util.Fly",isTokenizer:!0,statics:{BOOLEAN:n,ERROR:r,IDENT:i,LITERAL:{literal:!0},NULL:o,NUMBER:a,STRING:s},config:{keywords:{null:{type:"literal",is:o,value:null},false:{type:"literal",is:n,value:!1},true:{type:"literal",is:n,value:!0}},operators:{"+":"plus","-":"minus","*":"multiply","/":"divide","!":"not",",":"comma",":":"colon","[":"arrayOpen","]":"arrayClose","{":"curlyOpen","}":"curlyClose","(":"parenOpen",")":"parenClose"},patterns:null},error:null,index:-1,constructor:function(e){this.operators={},this.patterns=[],this.initConfig(e)},next:function(){var e=this.peek();return this.head=void 0,e},peek:function(){var e=this,t=e.error,n=e.head;return t||(void 0===n&&(e.head=n=e.advance()),n)},release:function(){this.reset(),t.length<e.flyPoolSize&&t.push(this)},reset:function(e,t,n){var r=this;return r.error=null,r.head=void 0,r.index=-1,r.text=e||null,r.pos=t||0,r.end=e&&null==n?e.length:n,r},privates:{digitRe:/[0-9]/,identFirstRe:/[a-z_$]/i,identRe:/[0-9a-z_$]/i,spaceRe:/[ \t]/,end:0,head:void 0,pos:0,text:null,applyOperators:function(e){var t,n,r,i,o,a,s,l=this.operators;for(s in e){for(t=l,a=e[s],o=s.length,i=0;i<o;++i)t=t[n=s.charAt(i)]||(t[n]={});a?(t.token=r={type:"operator",name:a,value:s,is:{operator:!0}},r.is[a]=!0):t.token=null}},applyPatterns:function(e){var t,n,r,i,o=this.patterns;for(r in e)n=(t=e[r]).extract,i=t.re,delete t.extract,delete t.re,o.push({name:r,re:i,extract:n,token:t})},advance:function(){for(var e,t=this,n=t.spaceRe,r=t.text,i=t.end;t.pos<i;){if(e=r.charAt(t.pos),!n.test(e))return t.index=t.pos,t.parse(e);++t.pos}return null},parse:function(e){var t,n,r,i,o=this,a=o.digitRe,s=o.text,l=o.end,u=o.patterns;if(!(i="."===e&&o.pos+1<l&&a.test(s.charAt(o.pos+1))?o.parseNumber():i))for(t=0;t<u.length;++t)if((r=u[t]).re.lastIndex=o.pos,(n=r.re.exec(s))&&n.index===o.pos){i=ei.Z.apply({value:r.extract?r.extract(n):n[0]},r.token),o.pos+=n[0].length;break}return(i=!i&&o.operators[e]?o.parseOperator(e):i)||('"'===e||"'"===e?o.parseString():a.test(e)?o.parseNumber():o.identFirstRe.test(e)?o.parseIdent():o.syntaxError("Unexpected character"))},parseIdent:function(){for(var e,t=this,n=t.identRe,r=t.getKeywords(),o=!t.operators["."],a=t.text,s=t.pos,l=s,u=t.end,c=0;l<u;){if(e=a.charAt(l),o&&"."===e){if("."===c)return t.syntaxError(l,"Unexpected dot operator");++l}else{if(!n.test(e))break;++l}c=e}return"."===c?t.syntaxError(l-1,"Unexpected dot operator"):(s=a.substring(s,t.pos=l),r&&r[s]||{type:"ident",is:i,value:s})},parseNumber:function(){for(var e,t,n,r,i=this,o=i.digitRe,s=i.text,l=i.pos,u=i.end;i.pos<u;)if("-"===(e=s.charAt(i.pos))||"+"===e){if(i.pos!==l)break;++i.pos}else if("."===e){if(t)break;t=!0,++i.pos}else if("e"===e||"E"===e){if(n)break;t=n=!0,"-"!==(e=s.charAt(++i.pos))&&"+"!==e||++i.pos}else{if(!o.test(e))break;++i.pos}return r={type:"literal",is:a,value:+s.substring(l,i.pos)},isFinite(r.value)?r:i.syntaxError(l,"Invalid number")},parseOperator:function(e){for(var t,n,r,i=this,o=i.operators,a=i.text,s=i.end,l=i.pos;o[e]&&(++l,(r=(o=o[e]).token)&&(t=r,n=l),l<s);)e=a.charAt(l);return t&&(i.pos=n),t},parseString:function(){for(var e,t,n=this,r=n.text,i=n.pos,o=i,a=n.end,l="",u=r.charAt(i++);i<a;){if((e=r.charAt(i++))===u){t=!0;break}l+=e="\\"===e&&i<a?r.charAt(i++):e}return n.pos=i,t?{type:"literal",is:s,value:l}:n.syntaxError(o,"Unterminated string")},syntaxError:function(e,t){"string"==typeof e&&(t=e,e=this.pos);var n=null==e?"":" (at index "+e+")";return(t=new Error(t+n)).type="error",t.is=r,n&&(t.at=e),this.error=t}}}})),ei.Z.define("GRUI.parse.Symbol",{priority:0,constructor:function(e,t){var n=this,r=n.defaultProperty;t&&"object"==typeof t?ei.Z.apply(n,t):void 0!==t&&r&&(n[r]=t),n.id=e},led:function(){this.parser.syntaxError(this.at,"Missing operator")},nud:function(){this.parser.syntaxError(this.at,"Undefined")},update:function(e){var t,n,r;e&&"object"==typeof e&&(n=e.priority,r=e.led,e=e.nud,(t=this).priority<=n&&(t.priority=n),r&&(t.led=r),e&&(t.nud=e))}}),ei.Z.define("GRUI.parse.symbol.Constant",{extend:"GRUI.parse.Symbol",arity:"literal",isLiteral:!0,defaultProperty:"value",constructor:function(e,t){this.callParent2(this,"GRUI.parse.Symbol","null","constructor",this.constructor,arguments),this._value=this.value},nud:function(){var e=this;return e.value=e._value,e.arity="literal",e.isLiteral=!0,e}}),ei.Z.define("GRUI.parse.symbol.Infix",{extend:"GRUI.parse.Symbol",arity:"binary",isBinary:!0,defaultProperty:"priority",led:function(e){var t=this;return t.lhs=e,t.rhs=t.parser.parseExpression(t.priority),t.arity="binary",t.isBinary=!0,t}}),ei.Z.define("GRUI.parse.symbol.InfixRight",{extend:"GRUI.parse.symbol.Infix",led:function(e){var t=this;return t.lhs=e,t.rhs=t.parser.parseExpression(t.priority-1),t.arity="binary",t.isBinary=!0,t}}),ei.Z.define("GRUI.parse.symbol.Paren",{extend:"GRUI.parse.Symbol",arity:"binary",isBinary:!0,priority:80,led:function(e){var t=this,n=[],r=t.parser,i=e.id,o=e.arity;for("."===i||"["===i||"unary"===o&&"function"===i||"ident"===o||"("===i||"&&"===i||"||"===i||"?"===i||r.syntaxError(e.at,"Expected a variable name."),t.arity="invoke",t.isInvoke=!0,t.operand=e,t.args=n;")"!==r.token.id;)n.length&&r.advance(","),n.push(r.parseExpression());return r.advance(")"),t},nud:function(){var e=this.parser,t=e.parseExpression();return e.advance(")"),t}}),ei.Z.define("GRUI.parse.symbol.Prefix",{extend:"GRUI.parse.Symbol",arity:"unary",isUnary:!0,priority:70,nud:function(){var e=this;return e.operand=e.parser.parseExpression(e.priority),e.arity="unary",e.isUnary=!0,e}}),ei.Z.define("GRUI.parse.Parser",(function(){function e(){return this}return{extend:"GRUI.util.Fly",requires:["GRUI.parse.Tokenizer","GRUI.parse.symbol.Constant","GRUI.parse.symbol.InfixRight","GRUI.parse.symbol.Paren","GRUI.parse.symbol.Prefix"],isParser:!0,config:{constants:{null:null,false:!1,true:!0},infix:{"===":40,"!==":40,"==":40,"!=":40,"<":40,"<=":40,">":40,">=":40,"+":50,"-":50,"*":60,"/":60},infixRight:{"&&":30,"||":30},prefix:{"!":0,"-":0,"+":0},symbols:{":":0,",":0,")":0,"[":0,"]":0,"{":0,"}":0,"(end)":0,"(ident)":{arity:"ident",isIdent:!0,nud:e},"(literal)":{arity:"literal",isLiteral:!0,nud:e},"(":{xclass:"GRUI.parse.symbol.Paren"}},tokenizer:{keywords:null}},token:null,constructor:function(e){this.symbols={},this.initConfig(e)},advance:function(e){var t,n,r=this,i=r.tokenizer,o=i.peek(),a=r.symbols,s=i.index;if(r.error)throw r.error;return e&&r.expect(e),o?(i.next(),e=o.is,i=o.value,e.ident?n=a[i]||a["(ident)"]:e.operator?((n=a[i])||r.syntaxError(o.at,'Unknown operator "'+i+'"'),t=o.name):e.literal?n=a["(literal)"]:r.syntaxError(o.at,"Unexpected token"),r.token=n=ei.Z.Object.chain(n),n.at=s,n.is=e,n.value=i,n.arity||(n.arity=o.type),t&&(n.name=t),n):r.token=a["(end)"]},expect:function(e){var t=this.token;return e!==t.id&&this.syntaxError(t.at,'Expected "'+e+'"'),this},parseExpression:function(e){var t,n=this,r=n.token;for(e=e||0,n.advance(),t=r.nud();e<(r=n.token).priority;)n.advance(),t=r.led(t);return t},reset:function(e,t,n){var r=this;return r.error=r.token=null,r.tokenizer.reset(e,t,n),r.advance(),r},syntaxError:function(e,t){"string"==typeof e&&(t=e,e=this.pos);var n=null==e?"":" (at index "+e+")";throw(t=new Error(t+n)).type="error",n&&(t.at=e),this.error=t},privates:{error:null,addSymbol:function(e,t,n,r){var i,o,a,s=this.symbols,l=s[e];if(l){if("object"==typeof t)i=t;else{if(!r||!n)return l;for(o=(r=ei.Z.Array.from(r)).length,i={},a=0;a<o;a++)i[r[a]]=n.prototype[r[a]]}l.update(i)}else n=t&&t.xclass?ei.Z.ClassManager.get(t.xclass):n||ei.Z.parse.Symbol,s[e]=l=new n(e,t),l.parser=this;return l},addSymbols:function(e,t,n){for(var r in e)this.addSymbol(r,e[r],t,n)},applyConstants:function(e){this.addSymbols(e,ei.Z.parse.symbol.Constant,"nud")},applyInfix:function(e){this.addSymbols(e,ei.Z.parse.symbol.Infix,"led")},applyInfixRight:function(e){this.addSymbols(e,ei.Z.parse.symbol.InfixRight,"led")},applyPrefix:function(e){this.addSymbols(e,ei.Z.parse.symbol.Prefix,"nud")},applySymbols:function(e){this.addSymbols(e)},applyTokenizer:function(e){var t=e;e&&!e.isTokenizer&&(t=new ei.Z.parse.Tokenizer(e)),this.tokenizer=t}}}})),ei.Z.define("GRUI.app.bind.Parser",{extend:"GRUI.parse.Parser",requires:["GRUI.util.Format"],infix:{":":{priority:70,led:function(e){var t=this;return t.arity="formatter",t.operand=e,t.fmt=t.parser.parseFmt(),t}},"?":{priority:20,led:function(e){var t=this,n=t.parser,r=n.symbols[":"];return t.condition=e,e=r.priority,r.priority=0,t.tv=n.parseExpression(0),t.parser.advance(":"),r.priority=e,t.fv=n.parseExpression(0),t.arity="ternary",t}}},symbols:{"(":{nud:function(){var e,t=this.parser,n=t.symbols[":"],r=n.priority;return n.priority=70,e=t.parseExpression(),t.advance(")"),n.priority=r,e}}},prefix:{"@":0},tokenizer:{operators:{"@":"at","?":"qmark","===":"feq","!==":"fneq","==":"eq","!=":"neq","<":"lt","<=":"lte",">":"gt",">=":"gte","&&":"and","||":"or"}},compileExpression:function(e,t){var n=this;return n.tokens=e,n.tokensMap=t,e=n.parseSlot(n.parseExpression(),void 0),n.tokens=n.tokensMap=null,e},compileFormat:function(){var e=this,t=e.parseSlot({arity:"formatter",fmt:e.parseFmt(),operand:{arity:"ident",value:"dummy"}});return e.expect("(end)"),t},privates:{useEval:ei.Z.isGecko,escapeRe:/(["'\\])/g,parseFmt:function(){for(var e,t=this,n=[],r=t.symbols[":"].priority;n.length&&t.advance(),(e=t.parseExpression(r)).isIdent||e.isInvoke?n.push(e):t.syntaxError(e.at,"Expected formatter name"),":"===t.token.id;);return n},parseSlot:function(e,t){var n,r,i,o,a=this,s=[],l=[],u=a.tokens||[];if(a.definitions=s,(a.body=l).push("return "+a.compile(e)+";"),i=u.length,n="var fm = GRUI.util.Format,\nme,",o="var a = GRUI.Array.from(values);\nme = scope;\n",u.length)for(r=0;r<i;r++)n+="v"+r+(r===i-1?";":","),o+="v"+r+" = a["+r+"]; ";else n+="v0;",o+="v0 = a[0];";return s=ei.Z.Array.insert(s,0,[n]),l=(l=ei.Z.Array.insert(l,0,[o])).join("\n"),s.push((a.useEval?"$=":"return")+" function (values, scope) {",l,"}"),n=s.join("\n"),e=a.useEval?a.evalFn(n):new Function("GRUI",n)(ei.Z),a.definitions=a.body=null,e},compile:function(e){var t,n=this;switch(e.arity){case"ident":return n.addToken(e.value);case"literal":return"string"==typeof(t=e.value)?'"'+String(t).replace(n.escapeRe,"\\$1")+'"':t;case"unary":return n.compileUnary(e);case"binary":return n.compileBinary(e);case"ternary":return n.compileTernary(e);case"formatter":return n.compileFormatter(e)}return this.syntaxError(e.at,"Compile error! Unknown symbol")},compileUnary:function(e){var t=e.value,n=e.operand;return"!"===t||"-"===t||"+"===t?t+"("+this.compile(n)+")":"@"===t?n.isIdent?n.value:this.syntaxError(e.at,"Compile error! Unexpected symbol"):""},compileBinary:function(e){return"("+this.compile(e.lhs)+" "+e.value+" "+this.compile(e.rhs)+")"},compileTernary:function(e){return"("+this.compile(e.condition)+" ? "+this.compile(e.tv)+" : "+this.compile(e.fv)+")"},compileFormatter:function(e){var t,n=this,r=e.fmt,i=r.length,o=["var ret;"];if(r.length)for(o.push("ret = "+n.compileFormatFn(r[0],n.compile(e.operand))+";"),t=1;t<i;t++)o.push("ret = "+n.compileFormatFn(r[t],"ret")+";");return o.push("return ret;"),n.addFn(o.join("\n"))},compileFormatFn:function(e,t){var n,r,i,o=[],a="";if(e.isIdent?n=e.value:e.isInvoke&&(n=e.operand.value,o=e.args),"this."===n.substring(0,5))n="me."+n.substring(5);else{if(!(n in ei.Z.util.Format))return this.syntaxError(e.at,'Compile error! Invalid format specified "'+n+'"');n="fm."+n}for(a+=t,r=o.length,i=0;i<r;i++)a+=", "+this.compile(o[i]);return n+"("+a+")"},addFn:function(e){var t=this.definitions,n="f"+t.length;return t.push("function "+n+"() {",e,"}"),n+"()"},evalFn:function(e){return eval.call(this,"(function (GRUI) {"+e+"})")(ei.Z),e},addToken:function(e){var t=this.tokensMap,n=this.tokens,r=0;return t&&n&&(e in t?r=t[e]:(t[e]=r=n.length,n.push(e))),"v"+r}}}),ei.Z.define("GRUI.data.ChainedStore",{extend:"GRUI.data.AbstractStore",alias:"store.chained",mixins:["GRUI.data.LocalStore"],isChainedStore:!0,config:{source:null,remoteFilter:!1,remoteSort:!1},syncSourceGrouping:!1,remove:function(){var e=this.getSource();return e.remove.apply(e,arguments)},removeAll:function(){return this.getSource().removeAll()},getData:function(){var e=this,t=e.data;return t||(e.data=t=e.constructDataCollection()),t},getTotalCount:function(){return this.getCount()},getSession:function(){return this.getSourceValue("getSession",null)},applySource:function(e){return e&&ei.Z.data.StoreManager.lookup(e)},updateSource:function(e,t){var n=this;t&&!t.destroyed&&t.removeObserver(n),e&&(n.getData().setSource(e.getData()),n.syncSourceGrouping&&n.setGrouper(e.getGrouper()),n.isInitializing||(n.fireEvent("refresh",n),n.fireEvent("datachanged",n)),e.addObserver(n))},getModel:function(){return this.getSourceValue("getModel",null)},getProxy:function(){return null},onCollectionAdd:function(e,t){var n=this,r=t.items,i=!t.next;n.ignoreCollectionAdd||(n.activeRanges&&n.syncActiveRanges(),n.fireEvent("add",n,r,t.at),i&&n.fireEvent("datachanged",n))},onCollectionItemChange:function(e,t){var n=this,r=t.item,i=t.modified||null,o=t.meta;n.activeRanges&&t.newIndex!==t.oldIndex&&n.syncActiveRanges(),n.onUpdate(r,o,i,t),n.fireEvent("update",n,r,o,i,t),n.fireEvent("datachanged",n)},onCollectionUpdateKey:function(e,t){this.fireEvent("idchanged",this,t.item,t.oldKey,t.newKey)},onUpdate:ei.Z.emptyFn,lastCollectionRefesh:null,onCollectionRefresh:function(e){var t=this;e=e.generation;t.isConfiguring||t.lastCollectionRefesh===e||(t.lastCollectionRefesh=e,t.fireEvent("datachanged",t),t.fireEvent("refresh",t))},onCollectionRemove:function(e,t){var n=this,r=t.items,i=!t.next;n.ignoreCollectionRemove||(n.fireEvent("remove",n,r,t.at,!1),i&&n.fireEvent("datachanged",n))},onSourceBeforeLoad:function(e,t){this.fireEvent("beforeload",this,t),this.callObservers("BeforeLoad",[t])},onSourceAfterLoad:function(e,t,n,r){this.fireEvent("load",this,t,n,r),this.callObservers("AfterLoad",[t,n,r])},onFilterEndUpdate:function(){var e=this;e.getData().generation!==e.lastCollectionRefesh||e.getRemoteFilter()||(e.suppressNextFilter=!0),this.callParent2(this,"GRUI.data.AbstractStore","null","onFilterEndUpdate",this.onFilterEndUpdate,arguments),e.callObservers("Filter")},onSourceBeforePopulate:function(){this.ignoreCollectionAdd=!0,this.callObservers("BeforePopulate")},onSourceAfterPopulate:function(){var e=this;e.ignoreCollectionAdd=!1,e.fireEvent("datachanged",e),e.fireEvent("refresh",e),this.callObservers("AfterPopulate")},onSourceBeforeClear:function(){this.ignoreCollectionRemove=!0,this.callObservers("BeforeClear")},onSourceAfterClear:function(){this.ignoreCollectionRemove=!1,this.callObservers("AfterClear")},onSourceBeforeRemoveAll:function(){this.ignoreCollectionRemove=!0,this.callObservers("BeforeRemoveAll")},onSourceAfterRemoveAll:function(e,t){var n=this;n.ignoreCollectionRemove=!1,t||(n.fireEvent("clear",n),n.fireEvent("datachanged",n)),this.callObservers("AfterRemoveAll",[t])},onSourceFilter:function(){var e=this,t=e.getData().generation;e.lastCollectionRefesh!==t&&(e.lastCollectionRefesh=t,e.fireEvent("refresh",e),e.fireEvent("datachanged",e))},onSourceGrouperChange:function(e,t){this.syncSourceGrouping&&this.setGrouper(t)},hasPendingLoad:function(){return this.getSourceValue("hasPendingLoad",!1)},isLoaded:function(){return this.getSourceValue("isLoaded",!1)},isLoading:function(){return this.getSourceValue("isLoading",!1)},doDestroy:function(){var e=this;e.observers=null,e.setSource(null),e.getData().destroy(!0),e.data=null,this.callParent2(this,"GRUI.data.AbstractStore","null","doDestroy",this.doDestroy,arguments)},privates:{getSourceValue:function(e,t){var n=this.getSource();return n&&!n.destroyed?n[e]():t},isMoving:function(){var e=this.getSource();return!!e.isMoving&&e.isMoving.apply(e,arguments)},loadsSynchronously:function(){return this.getSource().loadsSynchronously()}}});__webpack_require__(37137);ei.Z.define("GRUI.direct.Provider",{alias:"direct.provider",mixins:["GRUI.mixin.Observable"],requires:["GRUI.direct.Manager"],isProvider:!0,$configPrefixed:!1,$configStrict:!1,config:{headers:void 0},subscribers:0,constructor:function(e){var t=this;t.mixins.observable.constructor.call(t,e),t.requests={},null==t.id&&(t.id=ei.Z.id(null,"provider-"))},destroy:function(){this.disconnect(!0),this.callParent2(this,"null","null","destroy",this.destroy,arguments)},isConnected:function(){return 0<this.subscribers},connect:function(){var e=this;0===e.subscribers&&(e.doConnect(),e.fireEventArgs("connect",[e])),e.subscribers++},doConnect:ei.Z.emptyFn,disconnect:function(e){var t=this;(0<t.subscribers||e)&&(e?t.subscribers=0:t.subscribers--,0===t.subscribers&&(t.doDisconnect(),t.fireEventArgs("disconnect",[t])))},doDisconnect:function(){var e,t=this.requests;for(e in t)t[e].abort();this.requests={}},sendAjaxRequest:function(e){return(e=ei.Z.Ajax.request(e))&&e.id&&(this.requests[e.id]=e),e},onData:function(e,t,n){n&&n.request&&delete this.requests[n.request.id]},inheritableStatics:{checkConfig:ei.Z.returnFalse},onClassExtended:function(e,t,n){t.type&&ei.Z.direct.Manager.addProviderClass(t.type,e)}}),ei.Z.define("GRUI.data.PageMap",{extend:"GRUI.util.LruCache",config:{store:null,pageSize:0,rootProperty:""},clear:function(e){var t=this;t.pageMapGeneration=(t.pageMapGeneration||0)+1,t.indexMap={},this.callParent2(this,"GRUI.util.LruCache","null","clear",this.clear,arguments)},forEach:function(e,t){for(var n,r,i,o,a=this,s=ei.Z.Object.getKeys(a.map),l=s.length,u=a.getPageSize(),c=0;c<l;c++)s[c]=+s[c];for(ei.Z.Array.sort(s,ei.Z.Array.numericSortFn),t=t||a,c=0;c<l;c++)for(n=s[c],o=(r=a.getPage(n)).length,i=0;i<o;i++)if(!1===e.call(t,r[i],(n-1)*u+i))return},findBy:function(e,t){var n=null;return t=t||this,this.forEach((function(r,i){if(e.call(t,r,i))return n=r,!1})),n},findIndexBy:function(e,t){var n=-1;return t=t||this,this.forEach((function(r,i){if(e.call(t,r))return n=i,!1})),n},find:function(e,t,n,r,i,o){if(ei.Z.isEmpty(t,!1))return null;var a=ei.Z.String.createRegex(t,r,i,o),s=this.getRootProperty();return this.findBy((function(t){return t&&a.test((s?t[s]:t)[e])}),null,n)},findIndex:function(e,t,n,r,i,o){if(ei.Z.isEmpty(t,!1))return null;var a=ei.Z.String.createRegex(t,r,i,o),s=this.getRootProperty();return this.findIndexBy((function(t){return t&&a.test((s?t[s]:t)[e])}),null,n)},getPageFromRecordIndex:function(e){return Math.floor(e/this.getPageSize())+1},addAll:function(e){this.addPage(1,e)},addPage:function(e,t){for(var n,r,i,o=this,a=o.getPageSize(),s=e+Math.floor((t.length-1)/a),l=(e-1)*a,u=o.indexMap,c=0;e<=s;e++,c+=a){for(r=0,i=(n=ei.Z.Array.slice(t,c,c+a)).length;r<i;r++)u[n[r].internalId]=l++;o.add(e,n),o.fireEvent("pageadd",o,e,n)}},getCount:function(){var e=this.callParent2(this,"GRUI.util.LruCache","null","getCount",this.getCount,arguments);return e&&(e-1)*this.getPageSize()+this.last.value.length},getByInternalId:function(e){if(null!=(e=this.indexMap[e]))return this.getAt(e)},indexOf:function(e){var t=-1;return e&&null==(t=this.indexMap[e.internalId])?-1:t},insert:function(){},remove:function(){},removeAt:function(){},removeAtKey:function(e){var t,n,r,i=this,o=i.getPage(e);if(o&&!1!==i.fireEvent("beforepageremove",i,e,o)){for(r=o.length,n=0;n<r;n++)delete i.indexMap[o[n].internalId];t=this.callParent2(this,"GRUI.util.LruCache","null","removeAtKey",this.removeAtKey,arguments),i.fireEvent("pageremove",i,e,o),o.length=0}return t},getPage:function(e){return this.get(e)},hasRange:function(e,t){for(var n=this,r=n.getPageFromRecordIndex(e),i=n.getPageFromRecordIndex(t);r<=i;r++)if(!n.hasPage(r))return!1;return(i-1)*n._pageSize+n.getPage(i).length>t},hasPage:function(e){return!!this.get(e)},peekPage:function(e){return this.map[e]},getAt:function(e){return this.getRange(e,e+1)[0]},getRange:function(e,t){t&&t--,this.hasRange(e,t)||ei.Z.raise("PageMap asked for range which it does not have");for(var n,r,i,o=this,a=ei.Z.Array,s=o.getPageSize(),l=o.getPageFromRecordIndex(e),u=o.getPageFromRecordIndex(t),c=(l-1)*s,d=u*s-1,f=l,h=[];f<=u;f++)i=f===l?0<(n=e-c):(n=0,!1),f===u&&(r=s-(d-t),i=i||r<s),i?a.push(h,a.slice(o.getPage(f),n,r)):a.push(h,o.getPage(f));return h}}),ei.Z.define("GRUI.data.BufferedStore",{extend:"GRUI.data.ProxyStore",alias:"store.buffered",requires:["GRUI.data.PageMap","GRUI.util.Filter","GRUI.util.Sorter","GRUI.util.Grouper"],uses:["GRUI.util.SorterCollection","GRUI.util.FilterCollection","GRUI.util.GroupCollection"],isBufferedStore:!0,buffered:!0,config:{data:0,pageSize:25,remoteSort:!0,remoteFilter:!0,sortOnLoad:!1,purgePageCount:5,trailingBufferZone:25,leadingBufferZone:200,defaultViewSize:100,viewSize:0,trackRemoved:!1},applyData:function(e){return this.data||(this.data=this.createDataCollection())},applyProxy:function(e){return(e=this.callParent2(this,"GRUI.data.ProxyStore","null","applyProxy",this.applyProxy,arguments))&&e.setEnablePaging&&e.setEnablePaging(!0),e},applyAutoSort:function(){},createFiltersCollection:function(){return new ei.Z.util.FilterCollection},createSortersCollection:function(){return new ei.Z.util.SorterCollection},updateGroupField:function(e){this.group(e)},getGrouper:function(){return this.grouper},isGrouped:function(){return!!this.grouper},createDataCollection:function(){var e=this,t=new ei.Z.data.PageMap({store:e,rootProperty:"data",pageSize:e.getPageSize(),maxSize:e.getPurgePageCount(),listeners:{clear:e.onPageMapClear,scope:e}});return e.relayEvents(t,["beforepageremove","pageadd","pageremove"]),e.pageRequests={},t},removeAll:function(e){var t=this,n=t.getData();n&&(e&&t.suspendEvent("clear"),n.clear(),e&&t.resumeEvent("clear"))},flushLoad:function(){var e=this,t=e.pendingLoadOptions;if(e.clearLoadTask(),t)return t.preserveOnFlush||(e.getData().clear(),t.page=1,t.start=0,t.limit=e.getViewSize()||e.getDefaultViewSize()),t.loadCallback=t.callback,t.callback=null,e.loadToPrefetch(t)},reload:function(e){var t,n,r,i,o,a,s,l=this,u=l.getData(),c=Number.MAX_VALUE;if(e=e||{},!l.loading&&!1!==l.fireEvent("beforeload",l,e))for(o=function(){var e=l.totalCount,r=n-t;e<=n&&(n=e-1,t=Math.max(n-r,0)),l.rangeCached(t,n,!1)&&(l.loadCount=(l.loadCount||0)+1,l.loading=!1,u.un("pageadd",o),s=u.getRange(t,n),l.fireEvent("refresh",l),l.fireEvent("load",l,s,!0))},a=Math.ceil((l.getLeadingBufferZone()+l.getTrailingBufferZone())/2),l.lastRequestStart&&l.preserveScrollOnReload?(t=l.lastRequestStart,n=l.lastRequestEnd,c=l.getTotalCount()):(t=e.start||0,n=t+(e.count||l.getPageSize())-1),u.clear(!0),delete l.totalCount,t=Math.max(t-a,0),n=Math.min(n+a,c),t=0===t?0:t-1,n=n===c?n:n+1,a=l.getPageFromRecordIndex(t),r=l.getPageFromRecordIndex(n),l.loading=!0,e.waitForReload=o,u.on("pageadd",o),i=a;i<=r;i++)l.prefetchPage(i,e)},filter:function(){this.callParent2(this,"GRUI.data.ProxyStore","null","filter",this.filter,arguments)},filterBy:function(e,t){},loadData:function(e,t){},loadPage:function(e,t){var n=this;return(t=t||{}).page=n.currentPage=e,t.start=(e-1)*n.getPageSize(),t.limit=n.getViewSize()||n.getDefaultViewSize(),t.loadCallback=t.callback,t.callback=null,t.preserveOnFlush=!0,n.load(t)},clearData:function(e){var t=this.getData();t&&t.clear()},getCount:function(){return this.totalCount||0},getRange:function(e,t,n){var r,i,o,a,s=this,l=s.totalCount-1,u=s.lastRequestStart,c=[],d=s.getData();return n=ei.Z.apply({prefetchStart:e,prefetchEnd:t},n),t=t>=s.totalCount?l:t,l=!1!==n.forRender?(i=0===e?0:e-1,t===l?t:t+1):(i=e,t),s.lastRequestStart=e,s.lastRequestEnd=t,s.rangeCached(e,t,n.forRender)?(s.onRangeAvailable(n),c=d.getRange(e,t+1)):(s.fireEvent("cachemiss",s,e,t),o=s.getPageFromRecordIndex(i),a=s.getPageFromRecordIndex(l),r=function(i,l,u){o<=l&&l<=a&&s.rangeCached(e,t)&&(s.fireEvent("cachefilled",s,e,t),d.un("pageadd",r),s.onRangeAvailable(n))},d.on("pageadd",r),s.prefetchRange(e,t)),s.primeCache(e,t,e<u?-1:1),c},getById:function(e){return this.data.findBy((function(t){return t.getId()===e}))},getAt:function(e){var t=this.getData();if(t.hasRange(e,e))return t.getAt(e)},getByInternalId:function(e){return this.data.getByInternalId(e)},contains:function(e){return-1<this.indexOf(e)},indexOf:function(e){return this.getData().indexOf(e)},indexOfId:function(e){return this.indexOf(this.getById(e))},group:function(e,t){var n,r=this;e&&"string"==typeof e?(n=r.grouper)&&void 0!==t?n.setDirection(t):r.grouper=new ei.Z.util.Grouper({property:e,direction:t||"ASC",root:"data"}):r.grouper=e?r.getSorters().decodeSorter(e,ei.Z.util.Grouper):null,r.getData().clear(),r.loadPage(1,{callback:function(){r.fireEvent("groupchange",r,r.getGrouper())}})},getPageFromRecordIndex:function(e){return Math.floor(e/this.getPageSize())+1},calculatePageCacheSize:function(e){var t=this,n=t.getPurgePageCount();return n?Math.max(t.getData().getMaxSize()||0,2*Math.ceil((e+t.getTrailingBufferZone()+t.getLeadingBufferZone())/t.getPageSize())+n):0},loadToPrefetch:function(e){var t,n,r,i,o,a=this,s=e,l=e.start,u=e.start+e.limit-1,c=a.getViewSize()||e.limit,d=Math.min(u,e.start+c-1),f=a.getPageFromRecordIndex(Math.max(l-a.getTrailingBufferZone(),0)),h=(a.getPageFromRecordIndex(u+a.getLeadingBufferZone()),a.getData()),p=function(){n=n||[],e.loadCallback&&e.loadCallback.call(e.scope||a,n,o,!0),e.callback&&e.callback.call(e.scope||a,n,l||0,u||0,e)},g=function(){a.loadCount=(a.loadCount||0)+1,a.fireEvent("datachanged",a),a.fireEvent("refresh",a),a.fireEvent("load",a,n,!0)},m=function t(){a.rangeCached(l,d)&&(a.loading=!1,n=h.getRange(l,d+1),h.un("pageadd",t),a.hasListeners.guaranteedrange&&a.guaranteeRange(l,d,e.callback,e.scope),p(),g())};h.setMaxSize(a.calculatePageCacheSize(c)),!1!==a.fireEvent("beforeload",a,e)&&(delete a.totalCount,a.loading=!0,e.callback&&delete(s=ei.Z.apply({},e)).callback,a.on("prefetch",(function(e,n,l,u){if(o=u,l)if(r=a.getTotalCount())for(h.on("pageadd",m),d=Math.min(d,r-1),i=a.getPageFromRecordIndex(Math.min(d+a.getLeadingBufferZone(),r-1)),t=f+1;t<=i;++t)a.prefetchPage(t,s);else p(),g();else a.loading=!1,p(),a.fireEvent("load",a,n,!1)}),null,{single:!0}),a.prefetchPage(f,s))},prefetch:function(e){var t=this,n=t.getPageSize(),r=t.getData();return n?(t.lastPageSize&&n!==t.lastPageSize&&ei.Z.raise("pageSize cannot be dynamically altered"),r.getPageSize()||r.setPageSize(n)):t.pageSize=r.setPageSize(n=e.limit),t.lastPageSize=n,e.page||(e.page=t.getPageFromRecordIndex(e.start),e.start=(e.page-1)*n,e.limit=Math.ceil(e.limit/n)*n),(n=t.pageRequests[e.page])&&n.getOperation().pageMapGeneration===r.pageMapGeneration||(e=ei.Z.apply({action:"read",filters:t.getFilters().items,sorters:t.getSorters().items,grouper:t.getGrouper(),internalCallback:t.onProxyPrefetch,internalScope:t},e),(n=t.createOperation("read",e)).pageMapGeneration=r.pageMapGeneration,!1!==t.fireEvent("beforeprefetch",t,n)&&(t.pageRequests[e.page]=n.execute(),t.getProxy().isSynchronous&&delete t.pageRequests[e.page])),t},onPageMapClear:function(){var e,t=this,n=t.wasLoading,r=t.pageRequests,i=t.getData();for(e in i.clearListeners(),i.on("clear",t.onPageMapClear,t),t.relayEvents(i,["beforepageremove","pageadd","pageremove"]),t.loading=!0,t.totalCount=0,r)r.hasOwnProperty(e)&&r[e].getOperation().abort();t.fireEvent("clear",t),t.loading=n},prefetchPage:function(e,t){var n=this.getPageSize(),r=(e-1)*n,i=this.totalCount;void 0!==i&&this.data.getCount()===i||this.prefetch(ei.Z.applyIf({page:e,start:r,limit:n},t))},onProxyPrefetch:function(e){if(!this.destroying&&!this.destroyed){var t,n,r=this,i=e.getResultSet(),o=e.getRecords(),a=e.wasSuccessful(),s=e.getPage(),l=e.waitForReload,u=r.totalCount,c=r.pageRequests;if(e.pageMapGeneration===r.getData().pageMapGeneration){if(i&&(r.totalCount=i.getTotal(),r.totalCount!==u&&r.fireEvent("totalcountchange",r.totalCount)),void 0!==s&&delete r.pageRequests[s],r.loading=!1,r.fireEvent("prefetch",r,o,a,e),a)if(0===r.totalCount){if(l){for(t in c)(n=c[t].getOperation()).waitForReload===l&&delete n.waitForReload;r.getData().un("pageadd",l),r.fireEvent("refresh",r),r.fireEvent("load",r,[],!0)}}else r.cachePage(o,e.getPage());ei.Z.callback(e.getCallback(),e.getScope()||r,[o,e,a])}}},cachePage:function(e,t){var n,r=this,i=e.length;for(ei.Z.isDefined(r.totalCount)||(r.totalCount=e.length,r.fireEvent("totalcountchange",r.totalCount)),n=0;n<i;n++)e[n].join(r);r.getData().addPage(t,e)},rangeCached:function(e,t,n){var r=e,i=t;return!1!==n&&(r=0===e?0:e-1,i=t===this.totalCount-1?t:t+1),this.getData().hasRange(r,i)},pageCached:function(e){return this.getData().hasPage(e)},pagePending:function(e){return!!this.pageRequests[e]},rangeSatisfied:function(e,t){return this.rangeCached(e,t)},onRangeAvailable:function(e){var t=this.getTotalCount(),n=e.prefetchStart,r=(t=e.prefetchEnd>t-1?t-1:e.prefetchEnd,t=Math.max(0,t),this.getData().getRange(n,t+1));!1!==e.fireEvent&&this.fireEvent("guaranteedrange",r,n,t,e),e.callback&&e.callback.call(e.scope||this,r,n,t,e)},guaranteeRange:function(e,t,n,r,i){i=ei.Z.apply({callback:n,scope:r},i),this.getRange(e,t+1,i)},prefetchRange:function(e,t){var n,r,i,o=this,a=o.getData();if(!o.rangeCached(e,t))for(n=o.getPageFromRecordIndex(e),r=o.getPageFromRecordIndex(t),a.setMaxSize(o.calculatePageCacheSize(t-e+1)),i=n;i<=r;i++)o.pageCached(i)||o.prefetchPage(i)},primeCache:function(e,t,n){var r=this,i=r.getLeadingBufferZone(),o=r.getTrailingBufferZone(),a=r.getPageSize(),s=r.totalCount;t=-1===n?(e=Math.max(e-i,0),Math.min(t+o,s-1)):1===n?(e=Math.max(Math.min(e-o,s-a),0),Math.min(t+i,s-1)):(e=Math.min(Math.max(Math.floor(e-(i+o)/2),0),s-r.pageSize),Math.min(Math.max(Math.ceil(t+(i+o)/2),0),s-1)),r.prefetchRange(e,t)},sort:function(e,t,n){0===arguments.length?this.clearAndLoad():this.getSorters().addSort(e,t,n)},onSorterEndUpdate:function(){var e=this,t=e.getSorters().getRange();t.length?(e.fireEvent("beforesort",e,t),e.clearAndLoad({callback:function(){e.fireEvent("sort",e,t)}})):e.fireEvent("sort",e,t)},clearAndLoad:function(e){this.clearing=!0,this.getData().clear(),this.clearing=!1,this.loadPage(1,e)},privates:{isLast:function(e){return this.indexOf(e)===this.getTotalCount()-1},isMoving:function(){return!1}}}),ei.Z.define("GRUI.data.ClientStore",{extend:"GRUI.data.Store",alias:"store.clientstorage",requires:["GRUI.data.proxy.Memory"],config:{storage:"local",storageKey:null},trackRemoved:!1,proxy:{type:"memory",clearOnRead:!0},sync:function(e){var t=this,n=t._getKey(),r=t.getStorage(),i=t.getDataSource(),o=t.getProxy(),a=o.getWriter(),s=a.getWriteAllFields(),l=[];try{t.suspendAutoSync(),a.setWriteAllFields(!0),i.each((function(e){e.phantom&&e.setId(t.nextId()),l.push(a.getRecordData(e)),e.commit()})),l.length?(l=JSON.stringify(l),l=r.setItem(n,l)):r.removeItem(n),e&&e.success&&ei.Z.callback(e.success,e.scope||o,[null,e])}catch(n){e&&e.failure&&ei.Z.callback(e.failure,e.scope||o,[null,e])}finally{t.resumeAutoSync(),a.setWriteAllFields(s)}return e&&e.callback&&ei.Z.callback(e.callback,e.scope||o,[null,e]),t},applyStorage:function(e){return ei.Z.global[e+"Storage"]},updateProxy:function(e,t){var n=this._getKey(),r=this.getStorage();this.callParent2(this,"GRUI.data.Store","null","updateProxy",this.updateProxy,arguments),(r=r.getItem(n))&&e.setData(JSON.parse(r))},privates:{_getKey:function(){return this.getStorageKey()},nextId:function(){for(var e=this.getDataSource(),t=1;e.containsKey(t);)++t;return t}}}),ei.Z.define("GRUI.data.DirectStore",{extend:"GRUI.data.Store",alias:"store.direct",constructor:function(e){var t;(e=ei.Z.apply({},e)).proxy||(ei.Z.copyTo(t={type:"direct",reader:{type:"json"}},e,"paramOrder,paramsAsHash,directFn,api,simpleSortMode,extraParams"),ei.Z.copyTo(t.reader,e,"totalProperty,root,rootProperty,idProperty"),e.proxy=t),this.callParent2(this,"GRUI.data.Store","null","constructor",this.constructor,arguments)}}),ei.Z.define("GRUI.data.JsonP",{singleton:!0,requestCount:0,requests:{},timeout:3e4,disableCaching:!0,disableCachingParam:"_dc",callbackKey:"callback",request:function(e){e=ei.Z.apply({},e);var t=this,n=(ei.Z.isDefined(e.disableCaching)?e:t).disableCaching,r=e.disableCachingParam||t.disableCachingParam,i=++t.requestCount,o=e.callbackName||"callback"+i,a=e.callbackKey||t.callbackKey,s=(ei.Z.isDefined(e.timeout)?e:t).timeout,l=ei.Z.apply({},e.params),u=e.url,c=ei.Z.name;return n&&!l[r]&&(l[r]=ei.Z.Date.now()),(e.params=l)[a]=c+".data.JsonP."+o,n=t.createScript(u,l,e),t.requests[i]=r={url:u,params:l,script:n,id:i,scope:e.scope,success:e.success,failure:e.failure,callback:e.callback,callbackKey:a,callbackName:o},0<s&&(r.timeout=ei.Z.defer(t.handleTimeout,s,t,[r])),t.setupErrorHandling(r),t[o]=t.bindResponse(r),t.loadScript(r),r},bindResponse:function(e){var t=this;return function(n){ei.Z.elevate((function(){t.handleResponse(n,e)}))}},abort:function(e){var t,n=this,r=n.requests;if(e)e.id||(e=r[e]),n.handleAbort(e);else for(t in r)r.hasOwnProperty(t)&&n.abort(r[t])},setupErrorHandling:function(e){e.script.onerror=ei.Z.bind(this.handleError,this,[e])},handleAbort:function(e){e.errorType="abort",this.handleResponse(null,e)},handleError:function(e){e.errorType="error",this.handleResponse(null,e)},cleanupErrorHandling:function(e){e.script.onerror=null},handleTimeout:function(e){e.errorType="timeout",this.handleResponse(null,e)},handleResponse:function(e,t){var n=!0;ei.Z.undefer(t.timeout),delete this[t.callbackName],delete this.requests[t.id],this.cleanupErrorHandling(t),ei.Z.fly(t.script).destroy(),t.errorType?(n=!1,ei.Z.callback(t.failure,t.scope,[t.errorType])):ei.Z.callback(t.success,t.scope,[e]),ei.Z.callback(t.callback,t.scope,[n,e,t.errorType])},createScript:function(e,t,n){var r=document.createElement("script");return r.setAttribute("src",ei.Z.urlAppend(e,ei.Z.Object.toQueryString(t))),r.setAttribute("async",!0),r.setAttribute("type","text/javascript"),r},loadScript:function(e){ei.Z.getHead().appendChild(e.script)}}),ei.Z.define("GRUI.data.JsonPStore",{extend:"GRUI.data.Store",alias:"store.jsonp",requires:[],constructor:function(e){e=ei.Z.apply({proxy:{type:"jsonp",reader:"json"}},e),this.callParent2(this,"GRUI.data.Store","null","constructor",this.constructor,arguments)}}),ei.Z.define("GRUI.data.ModelManager",{alternateClassName:"GRUI.ModelMgr",requires:["GRUI.data.schema.Schema"],singleton:!0,deprecated:{5:{methods:{clear:null,create:function(e,t,n){var r=t;return(r=t.isEntity?r:this.getModel(t||e.name)).createWithId(n,e)},each:function(e,t){ei.Z.data.Model.schema.eachEntity(e,t)},get:function(e){return this.getModel(e)},getCount:function(){return ei.Z.data.Model.schema.entityCount},getModel:function(e){return ei.Z.data.schema.Schema.lookupEntity(e)},isRegistered:function(e){return!!this.getModel(e)}}}}}),ei.Z.define("GRUI.data.NodeInterface",{requires:["GRUI.data.field.Boolean","GRUI.data.field.Integer","GRUI.data.field.String","GRUI.data.writer.Json","GRUI.mixin.Observable"],statics:{decorate:function(e){var t,n=(e=ei.Z.data.schema.Schema.lookupEntity(e)).prototype;e.prototype.isObservable||e.mixin(ei.Z.mixin.Observable.prototype.mixinId,ei.Z.mixin.Observable),n.isNode||(n=n.idProperty,t=(n=e.getField(n)).type,e.override(this.getPrototypeBody()),e.addFields([{name:"parentId",type:t,defaultValue:null,allowNull:n.allowNull},{name:"index",type:"int",defaultValue:-1,persist:!1,convert:null},{name:"depth",type:"int",defaultValue:0,persist:!1,convert:null},{name:"expanded",type:"bool",defaultValue:!1,persist:!1,convert:null},{name:"expandable",type:"bool",defaultValue:!0,persist:!1,convert:null},{name:"checked",type:"auto",defaultValue:null,persist:!1,convert:null},{name:"leaf",type:"bool",defaultValue:!1},{name:"cls",type:"string",defaultValue:"",persist:!1,convert:null},{name:"iconCls",type:"string",defaultValue:"",persist:!1,convert:null},{name:"icon",type:"string",defaultValue:"",persist:!1,convert:null},{name:"glyph",type:"string",defaultValue:"",persist:!1,convert:null},{name:"root",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"isLast",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"isFirst",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"allowDrop",type:"boolean",defaultValue:!0,persist:!1,convert:null},{name:"allowDrag",type:"boolean",defaultValue:!0,persist:!1,convert:null},{name:"loaded",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"loading",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"href",type:"string",defaultValue:"",persist:!1,convert:null},{name:"hrefTarget",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qtip",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qtitle",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qshowDelay",type:"int",defaultValue:0,persist:!1,convert:null},{name:"children",type:"auto",defaultValue:null,persist:!1,convert:null},{name:"visible",type:"boolean",defaultValue:!0,persist:!1},{name:"text",type:"string",persist:!1}]))},getPrototypeBody:function(){var e={idchanged:!0,append:!0,remove:!0,move:!0,insert:!0,beforeappend:!0,beforeremove:!0,beforemove:!0,beforeinsert:!0,expand:!0,collapse:!0,beforeexpand:!0,beforecollapse:!0,sort:!0},t={silent:!0};return{isNode:!0,firstChild:null,lastChild:null,parentNode:null,previousSibling:null,nextSibling:null,constructor:function(){var e=this;return e.mixins.observable.constructor.call(e),this.callParent2(this,"null","null","constructor",this.constructor,arguments),e.childNodes=[],e},createNode:function(e){var t,n=this,r=n.childType,i=n.self;return e.isModel||(r?i=n.schema.getEntity(r):(r=(r=n.getTreeStore())&&r.getProxy().getReader(),t=(t=n.getProxy())?t.getReader():null,(t=!r||t&&t.initialConfig.typeProperty?t:r)&&(r=t.getTypeProperty())&&(i=t.getChildType(n.schema,e,r))),e=new i(e)),e.childNodes||(e.firstChild=e.lastChild=e.parentNode=e.previousSibling=e.nextSibling=null,e.childNodes=[]),e},isLeaf:function(){return!0===this.get("leaf")},setFirstChild:function(e){this.firstChild=e},setLastChild:function(e){this.lastChild=e},updateInfo:function(e,t){var n,r,i,o,a=this,s=a.phantom;if(e={silent:!0,commit:e},null!=t.depth&&t.depth!==a.data.depth)for(n={depth:t.depth+1},i=(r=a.childNodes).length,o=0;o<i;o++)r[o].updateInfo(e,n);return t=a.set(t,e),a.phantom=s,t},isLast:function(){return this.get("isLast")},isFirst:function(){return this.get("isFirst")},hasChildNodes:function(){return!this.isLeaf()&&0<this.childNodes.length},isExpandable:function(){var e=this;return!!e.get("expandable")&&!(e.isLeaf()||e.isLoaded()&&!e.phantom&&!e.hasChildNodes())},triggerUIUpdate:function(){this.callJoined("afterEdit",[])},appendChild:function(e,t,n){var r,i,o,a,s,l,u=this,c=u.getTreeStore(),d=c&&c.bulkUpdate,f={isLast:!0,parentId:u.getId(),depth:(u.data.depth||0)+1};if(ei.Z.suspendLayouts(),ei.Z.isArray(e)){for(l=e.length,a=new Array(l),u.callTreeStore("beginFill"),s=0;s<l;s++)a[s]=u.appendChild(e[s],t,n);u.callTreeStore("endFill",[a])}else{if(e=u.createNode(e),!0!==t&&!1===u.fireBubbledEvent("beforeappend",[u,e]))return ei.Z.resumeLayouts(!0),!1;if(o=u.childNodes.length,r=e.parentNode){if(!0!==t&&!1===e.fireBubbledEvent("beforemove",[e,r,u,o]))return ei.Z.resumeLayouts(!0),!1;if(!1===r.removeChild(e,!1,t,r.getTreeStore()===c))return ei.Z.resumeLayouts(!0),!1}c&&c.beginUpdate(),0===(o=u.childNodes.length)&&u.setFirstChild(e),(u.childNodes[o]=e).parentNode=u,e.nextSibling=null,u.setLastChild(e),(i=u.childNodes[o-1])?((e.previousSibling=i).nextSibling=e,i.updateInfo(n,{isLast:!1}),d||i.triggerUIUpdate()):e.previousSibling=null,f.isFirst=0===o,f.index=o,i=e.updateInfo(n,f),u.isLeaf()&&u.set("leaf",!1),u.isLoaded()?1!==u.childNodes.length||d||u.triggerUIUpdate():d?u.data.loaded=!0:u.set("loaded",!0),o&&u.childNodes[o-1].isExpanded()&&!d&&u.childNodes[o-1].cascade(u.triggerUIUpdate),c&&(c.registerNode(u,!d),d&&c.registerNode(e)),!0!==t&&(u.fireBubbledEvent("append",[u,e,o]),r&&e.fireBubbledEvent("move",[e,r,u,o])),u.callTreeStore("onNodeAppend",[e,o]),i&&e.callJoined("afterEdit",[i]),a=e,c&&c.endUpdate()}return ei.Z.resumeLayouts(!0),a},getOwnerTree:function(){var e=this.getTreeStore();return e&&e.ownerTree},getTreeStore:function(){for(var e=this;e&&!e.treeStore;)e=e.parentNode;return e&&e.treeStore},removeChild:function(e,n,r,i){var o,a,s,l=this,u=l.indexOf(e),c=l.getTreeStore(),d=c&&c.bulkUpdate,f=[];if(-1===u||!0!==r&&!1===l.fireBubbledEvent("beforeremove",[l,e,!!i]))return!1;if(ei.Z.suspendLayouts(),c&&c.beginUpdate(),ei.Z.Array.erase(l.childNodes,u,1),l.firstChild===e&&l.setFirstChild(e.nextSibling),l.lastChild===e&&l.setLastChild(e.previousSibling),(s=e.previousSibling)&&(e.previousSibling.nextSibling=e.nextSibling),e.nextSibling)for(e.nextSibling.previousSibling=e.previousSibling,0===u&&e.nextSibling.updateInfo(!1,{isFirst:!0}),o=u,a=l.childNodes.length;o<a;o++)l.childNodes[o].updateInfo(!1,{index:o});else s&&(s.updateInfo(!1,{isLast:!0}),d||(s.isExpanded()?s.cascade(l.triggerUIUpdate):s.triggerUIUpdate()));return l.childNodes.length||d||l.triggerUIUpdate(),ei.Z.resumeLayouts(!0),!0!==r&&(u={parentNode:e.parentNode,previousSibling:e.previousSibling,nextSibling:e.nextSibling},l.callTreeStore("beforeNodeRemove",[[e],!!i,f]),e.previousSibling=e.nextSibling=e.parentNode=null,l.fireBubbledEvent("remove",[l,e,!!i,u]),l.callTreeStore("onNodeRemove",[[e],!!i,f])),n?e.erase(!0):e.clear(),i||e.set({parentId:null,lastParentId:l.getId()},t),c&&c.endUpdate(),e},copy:function(e,t,n){var r,i,o=[e],a=this.childNodes?this.childNodes.length:0;if(t&&t.isSession?o.push(t):arguments.length<3&&(n=t),r=this.callParent2(this,"null","null","copy",this.copy,arguments),n)for(i=0;i<a;i++)r.appendChild(this.childNodes[i].copy(void 0,!0));return r},clear:function(e,t){var n=this;n.parentNode=n.previousSibling=n.nextSibling=null,e&&(n.firstChild=n.lastChild=n.childNodes=null),t&&(n.firstChild=n.lastChild=null,n.childNodes.length=0,n.data&&(n.data.children=null))},drop:function(){var e,t,n,r=this,i=r.childNodes,o=r.parentNode,a=r.getTreeStore();for(this.callParent2(this,"null","null","drop",this.drop,arguments),o?o.removeChild(r):r.get("root")&&a.setRoot(null),a&&a.beginUpdate(),t=0,n=i?i.length:0;t<n;t++)(e=i[t]).clear(),e.drop();a&&a.endUpdate()},erase:function(e){var t,n,r=this.childNodes,i=r&&r.length;for(this.remove(),this.clear(!0),this.callParent2(this,"null","null","erase",this.erase,arguments),t=0;t<i;t++)(n=r[t]).parentNode=null,n.erase(e)},insertBefore:function(e,t,n){var r,i,o,a,s=this,l=s.indexOf(t),u=e.parentNode,c=l,d=s.getTreeStore(),f=d&&d.bulkUpdate;if(!t)return s.appendChild(e);if(e===t)return!1;if(e=s.createNode(e),!0!==n&&!1===s.fireBubbledEvent("beforeinsert",[s,e,t]))return!1;if(u===s&&s.indexOf(e)<l&&c--,u){if(!0!==n&&!1===e.fireBubbledEvent("beforemove",[e,u,s,l,t]))return!1;if(!1===u.removeChild(e,!1,n,u.getTreeStore()===d))return!1}for(d&&d.beginUpdate(),0===c&&s.setFirstChild(e),ei.Z.Array.splice(s.childNodes,c,0,e),e.parentNode=s,(e.nextSibling=t).previousSibling=e,(l=s.childNodes[c-1])?(e.previousSibling=l).nextSibling=e:e.previousSibling=null,l=e.updateInfo(!1,{parentId:s.getId(),index:c,isFirst:0===c,isLast:!1,depth:(s.data.depth||0)+1}),i=c+1,r=s.childNodes.length;i<r;i++)(a=(o=s.childNodes[i]).updateInfo(!1,{index:i}))&&o.callJoined("afterEdit",[a]);return s.isLoaded()?1!==s.childNodes.length||f||s.triggerUIUpdate():f?s.data.loaded=!0:s.set("loaded",!0),d&&d.registerNode(s,!f),!0!==n&&(s.fireBubbledEvent("insert",[s,e,t]),u&&e.fireBubbledEvent("move",[e,u,s,c,t])),s.callTreeStore("onNodeInsert",[e,c]),l&&e.callJoined("afterEdit",[l]),d&&d.endUpdate(),e},insertChild:function(e,t){return(e=this.childNodes[e])?this.insertBefore(t,e):this.appendChild(t)},isLastVisible:function(){var e=this.data.isLast,t=this.nextSibling;if(e||!this.getTreeStore().isFiltered())return e;for(;t;){if(t.data.visible)return!1;t=t.nextSibling}return!0},remove:function(e,t){var n=this.parentNode;return n?n.removeChild(this,e,t):e&&this.erase(!0),this},removeAll:function(e,t,n){var r,i,o,a=this,s=a.childNodes,l=s.length,u=[];if(!l)return a;for(n||(i=a.getTreeStore())&&(i.beginUpdate(),i.suspendEvent("remove"),a.callTreeStore("beforeNodeRemove",[s,!1,u])),o=0;o<l;++o)(r=s[o]).previousSibling=r.nextSibling=r.parentNode=null,a.fireBubbledEvent("remove",[a,r,!1]),e?r.erase(!0):r.removeAll(!1,t,!0);return!n&&i&&(i.resumeEvent("remove"),a.callTreeStore("onNodeRemove",[s,!1,u]),i.endUpdate()),a.firstChild=a.lastChild=null,s.length=0,n||a.triggerUIUpdate(),a},getChildAt:function(e){return this.childNodes[e]},replaceChild:function(e,t,n){var r=t?t.nextSibling:null;return this.removeChild(t,!1,n),this.insertBefore(e,r,n),t},indexOf:function(e){return ei.Z.Array.indexOf(this.childNodes,e)},indexOfId:function(e){for(var t=this.childNodes,n=t.length,r=0;r<n;++r)if(t[r].getId()===e)return r;return-1},getPath:function(e,t){e=e||this.idProperty,t=t||"/";for(var n=[this.get(e)],r=this.parentNode;r;)n.unshift(r.get(e)),r=r.parentNode;return t+n.join(t)},getDepth:function(){return this.get("depth")},bubble:function(e,t,n){for(var r=this;r&&!1!==e.apply(t||r,n||[r]);)r=r.parentNode},cascade:function(e,t,n,r){var i,o,a,s=this,l=e;if(1!==arguments.length||ei.Z.isFunction(e)||(r=e.after,t=e.scope,n=e.args,l=e.before),!l||!1!==l.apply(t||s,n||[s])){for(a=0,o=(i=s.childNodes).length;a<o;a++)i[a].cascade.call(i[a],l,t,n,r);r&&r.apply(t||s,n||[s])}},cascadeBy:function(){return this.cascade.apply(this,arguments)},eachChild:function(e,t,n){for(var r=this.childNodes,i=r.length,o=0;o<i&&!1!==e.apply(t||this,n||[r[o]]);o++);},findChild:function(e,t,n){return this.findChildBy((function(){return this.get(e)==t}),null,n)},findChildBy:function(e,t,n){for(var r,i=this.childNodes,o=0,a=i.length;o<a;o++){if(r=i[o],!0===e.call(t||r,r))return r;if(n&&null!==(r=r.findChildBy(e,t,n)))return r}return null},contains:function(e){return e.isAncestor(this)},isAncestor:function(e){for(var t=this.parentNode;t;){if(t===e)return!0;t=t.parentNode}return!1},sort:function(e,t,n){var r,i,o=this,a=o.childNodes,s=a.length,l={isFirst:!0};if(0<s){for(e=e||o.getTreeStore().getSortFn(),ei.Z.Array.sort(a,e),o.setFirstChild(a[0]),o.setLastChild(a[s-1]),r=0;r<s;r++)(i=a[r]).previousSibling=a[r-1],i.nextSibling=a[r+1],l.isLast=r===s-1,l.index=r,i.updateInfo(!1,l),l.isFirst=!1,t&&!i.isLeaf()&&i.sort(e,!0,!0);!0!==n&&(o.fireBubbledEvent("sort",[o,a]),o.callTreeStore("onNodeSort",[a]))}},isExpanded:function(){return this.get("expanded")},isLoaded:function(){return this.get("loaded")},isBranchLoaded:function(){var e=!this.isLeaf()&&this.isLoaded();return e&&this.cascade((function(t){return e=t.isLeaf()?e:e||t.isBranchLoaded()})),e},isLoading:function(){return this.get("loading")},isRoot:function(){return!this.parentNode},isVisible:function(){for(var e=this.parentNode;e;){if(!e.isExpanded())return!1;e=e.parentNode}return!0},expand:function(e,t,n){var r,i,o=this;o.isLeaf()?ei.Z.callback(t,n||o):o.isLoading()?o.on("expand",(function(){o.expand(e,t,n)}),o,{single:!0}):o.isExpanded()?e?o.expandChildren(!0,t,n):ei.Z.callback(t,n||o,[o.childNodes]):!1!==o.fireBubbledEvent("beforeexpand",[o])&&(e&&(o.parentNode&&o.parentNode.isSynchronousRecursiveExpand?o.isSynchronousRecursiveExpand=!0:((r=o.getTreeStore()).getProxy().isSynchronous||o.isBranchLoaded())&&(o.isSynchronousRecursiveExpand=!0,r.suspendEvent("add","datachanged"),i=!0)),o.callTreeStore("onBeforeNodeExpand",[o.onChildNodesAvailable,o,[e,t,n]]),i&&(r.resumeEvent("add","datachanged"),r.fireEvent("datachanged",r),r.fireEvent("refresh",r)),o.isSynchronousRecursiveExpand=!1)},onChildNodesAvailable:function(e,t,n,r){var i,o,a,s=this,l=s.getTreeStore(),u=l&&l.bulkUpdate;for(ei.Z.suspendLayouts(),i=s.parentNode;i;i=i.parentNode)i.isExpanded()||(o=o||[]).unshift(i);if(u||!l.isVisible(s)?s.data.expanded=!0:s.set("expanded",!0),o){for(a=1;a<o.length;a++)i=o[a],u||!l.isVisible(i)?i.data.expanded=!0:i.set("expanded",!0);for(o[0].expand(),a=1;a<o.length;a++)(i=o[a]).fireBubbledEvent("expand",[i,i.childNodes])}else s.callTreeStore("onNodeExpand",[e,!1]);s.fireBubbledEvent("expand",[s,e]),t?s.expandChildren(!0,n,r):ei.Z.callback(n,r||s,[s.childNodes]),ei.Z.resumeLayouts(!0)},expandChildren:function(e,t,n,r){var i,o,a,s,l,u;for(ei.Z.isBoolean(t)&&(u=t,t=n,n=r,r=u),void 0===r&&(r=(u=this.getTreeStore())&&u.singleExpand),o=this.childNodes,a=[],s=r?Math.min(o.length,1):o.length,i=0;i<s;++i)(l=o[i]).isLeaf()||(a[a.length]=l);for(s=a.length,i=0;i<s;++i)a[i].expand(e);t&&ei.Z.callback(t,n||this,[this.childNodes])},collapse:function(e,t,n){var r,i=this,o=i.isExpanded(),a=i.getTreeStore(),s=a&&a.bulkUpdate,l=i.childNodes.length;if(!i.isLeaf()&&(!o&&e||!1!==i.fireBubbledEvent("beforecollapse",[i]))){if(ei.Z.suspendLayouts(),i.isExpanded())t=e?(o=function(){for(r=0;r<l;r++)i.childNodes[r].setCollapsed(!0)},t?ei.Z.Function.createSequence(o,ei.Z.Function.bind(t,n,[i.childNodes])):o):t&&ei.Z.Function.bind(t,n,[i.childNodes]),s||!a.contains(i)?i.data.expanded=!1:i.set("expanded",!1),i.callTreeStore("onNodeCollapse",[i.childNodes,t,n]),i.fireBubbledEvent("collapse",[i,i.childNodes]),t=null;else if(e)for(r=0;r<l;r++)i.childNodes[r].setCollapsed(!0);ei.Z.resumeLayouts(!0)}ei.Z.callback(t,n||i,[i.childNodes])},setCollapsed:function(e){var t,n=this,r=n.childNodes.length;if(!n.isLeaf()&&!1!==n.fireBubbledEvent("beforecollapse",[n])&&(n.data.expanded=!1,n.fireBubbledEvent("collapse",[n,n.childNodes]),e))for(t=0;t<r;t++)n.childNodes[t].setCollapsed(!0)},collapseChildren:function(e,t,n){for(var r,i=this.childNodes,o=i.length,a=[],s=0;s<o;++s)!(r=i[s]).isLeaf()&&r.isLoaded()&&r.isExpanded()&&a.push(r);if(o=a.length)for(s=0;s<o;++s)r=a[s],s===o-1?r.collapse(e,t,n):r.collapse(e);else ei.Z.callback(t,n)},fireEvent:function(e){return this.fireBubbledEvent(e,ei.Z.Array.slice(arguments,1))},fireBubbledEvent:function(t,n){var r,i,o;if(e[t]){for(i=this;!1!==r&&i;i=(o=i).parentNode)r=i.fireEventArgs.call(i,t,n);return!1!==r&&(i=o.getTreeStore())&&i.hasListeners&&i.hasListeners[t="node"+t]?i.fireEventArgs(t,n):r}return this.fireEventArgs.apply(this,arguments)},serialize:function(e){var t,n,r=e||new ei.Z.data.writer.Json({writeAllFields:!0}),i=(e=r.getRecordData(this),this.childNodes),o=i.length;if(0<o)for(e.children=t=[],n=0;n<o;n++)t.push(i[n].serialize(r));return e},callTreeStore:function(e,t){var n=this.getTreeStore();e=n&&n[e];n&&e&&((t=t||[])[0]!==this&&t.unshift(this),e.apply(n,t))},addCls:function(e){this.replaceCls(null,e)},removeCls:function(e){this.replaceCls(e)},replaceCls:function(e,t){var n=this._parseCls(this.data.cls);(e=this._parseCls(e)).length&&(n=ei.Z.Array.difference(n,e)),(e=this._parseCls(t)).length&&(n=ei.Z.Array.unique(n.concat(e))),this.set("cls",n.join(" "))},toggleCls:function(e,t){var n,r,i,o,a;if(void 0===t){for(n=this._parseCls(this.data.cls),o=0,i=(r=this._parseCls(e)).length;o<i;++o)a=r[o],ei.Z.Array.contains(n,a)?ei.Z.Array.remove(n,a):n.push(a);this.set("cls",n.join(" "))}else t?this.addCls(e):this.removeCls(e)},privates:{_noCls:[],spacesRe:/\s+/,join:function(e){e.isTreeStore?this.isRoot()&&(this.treeStore=this.store=e):this.callParent2(this,"null","null","join",this.join,arguments)},callJoined:function(e,t){this.callParent2(this,"null","null","callJoined",this.callJoined,arguments),this.callTreeStore(e,t)},_parseCls:function(e){return e?"string"==typeof e?e.split(this.spacesRe):e:this._noCls}}}}}}),ei.Z.define("GRUI.data.TreeModel",{extend:"GRUI.data.Model",requires:["GRUI.data.NodeInterface"],mixins:["GRUI.mixin.Queryable"],getRefItems:function(){return this.childNodes},getRefOwner:function(){return this.parentNode},statics:{defaultProxy:"memory"}},(function(){ei.Z.data.NodeInterface.decorate(this)})),ei.Z.define("GRUI.data.NodeStore",{extend:"GRUI.data.Store",alias:"store.node",requires:["GRUI.data.TreeModel","GRUI.data.NodeInterface"],isNodeStore:!0,config:{node:null,recursive:!1,rootVisible:!1,folderSort:!1},implicitModel:"GRUI.data.TreeModel",getTotalCount:function(){return this.getCount()},updateFolderSort:function(e){var t=this.getData();t.setTrackGroups(!1),e?t.setGrouper({groupFn:this.folderSortFn}):t.setGrouper(null)},folderSortFn:function(e){return e.data.leaf?1:0},afterReject:function(e){var t=this;t.contains(e)&&(t.onUpdate(e,ei.Z.data.Model.REJECT,null),t.fireEvent("update",t,e,ei.Z.data.Model.REJECT,null))},afterCommit:function(e,t){var n=this;t=t||null,n.contains(e)&&(n.onUpdate(e,ei.Z.data.Model.COMMIT,t),n.fireEvent("update",n,e,ei.Z.data.Model.COMMIT,t))},onNodeAppend:function(e,t){e===this.getNode()&&this.add([t].concat(this.retrieveChildNodes(t)))},onNodeInsert:function(e,t,n){var r=this;e===r.getNode()&&r.insert(0,[t].concat(r.retrieveChildNodes(t)))},onNodeRemove:function(e,t){e===this.getNode()&&this.remove([t].concat(this.retrieveChildNodes(t)))},onNodeExpand:function(e,t){e===this.getNode()&&this.loadRecords(t)},applyNode:function(e){return e&&!(e=e.isModel?e:new(this.getModel())(e)).isNode&&ei.Z.data.NodeInterface.decorate(e),e},updateNode:function(e,t){var n=this;t&&!t.destroyed&&(t.un({append:"onNodeAppend",insert:"onNodeInsert",remove:"onNodeRemove",scope:n}),t.unjoin(n)),e&&(e.on({scope:n,append:"onNodeAppend",insert:"onNodeInsert",remove:"onNodeRemove"}),e.join(n),t=[],e.childNodes.length&&(t=t.concat(n.retrieveChildNodes(e))),n.getRootVisible()?t.push(e):(e.isLoaded()||e.isLoading())&&e.set("expanded",!0),n.getData().clear(),n.fireEvent("clear",n),n.suspendEvents(),n.isInitializing?n.inlineData=t:n.add(t),n.resumeEvents(),0===t.length&&(n.loaded=e.loaded=!0),n.fireEvent("refresh",n,n.data))},isVisible:function(e){var t=e.parentNode;if(!this.getRecursive()&&t!==this.getNode())return!1;for(;t;){if(!t.isExpanded())return!1;if(t===this.getNode())break;t=t.parentNode}return!0},privates:{retrieveChildNodes:function(e){var t=this.getNode(),n=this.getRecursive(),r=[],i=e;if(!e.childNodes.length||!n&&e!==t)return r;if(!n)return e.childNodes;for(;i;)if(i._added){if(delete i._added,i===e)break;i=i.nextSibling||i.parentNode}else i!==e&&r.push(i),i=i.firstChild?(i._added=!0,i.firstChild):i.nextSibling||i.parentNode;return r}}}),ei.Z.define("GRUI.data.query.Compiler",{compile:function(){var e,t,n,r=this,i=r.ast;if(r.error=null,i){e=["return function (item) {","\tvar rec = item.isEntity && item;","\treturn "],n=[],(r.query=r).assemble(e,n,"\t",i),e.push("}"),e=n.concat(e).join("\n");try{t=new Function("GRUI","O","F",e),r.fn=t(ei.Z,r.operators,r.getFunctions()),r.fn.generation=r.generation}catch(e){throw(r.error=e).message="Failed to compile: "+e.message,e}finally{r.query=null}}else r.fn=ei.Z.returnTrue},privates:{asmOps:{">":"gt","<":"lt","==":"eq",">=":"ge","<=":"le","!=":"ne"},assemblers:{binary:function(e,t,n,r,i,o,a){var s,l=e.operatorTypeMap[i.type][1],u=e.asmOps[l],c=i.on;i="";for(u?(t[o]+="O."+u+"(",l=", ",i=")"):l=" "+l+" ",t[o]+="(",s=0;s<c.length;++s)s&&t.push(r+")"+l+"("),t.push(a),e.assemble(t,n,a,c[s]);t.push(r+")"+i)},between:function(e,t,n,r,i,o,a){var s,l=i.on;for(t[o]+="O.between(",s=0;s<3;++s)s&&(t[o=t.length-1]+=", "),e.assemble(t,n,a,l[s]);t.push(r+")")},fn:function(e,t,n,r,i,o,a){var s,l,u,c=i.fn.toLowerCase();for((u=e.query.getFunctions()[c]).vargs?t[o]+="F."+c+".fn([":t[o]+="F."+c+".fn(",s=i.args,l=0;l<s.length;++l)l&&(t[o=t.length-1]+=", "),t.push(a),e.assemble(t,n,a,s[l]);u.vargs?t.push(r+"])"):t.push(r+")")},id:function(e,t,n,r,i,o,a){var s=(i=i.value).split(".");1===s.length?t[o]+="rec ? rec.interpret("+ei.Z.JSON.encode(i)+") : item."+i:(i="p"+n.length,n.push("var "+i+" = "+ei.Z.JSON.encode(s)+";"),t[o]+="O.dots(item, "+i+")")},in:function(e,t,n,r,i,o,a){i=i.on,t[o]+="O.in(",e.assemble(t,n,a,i[0]),t[o=t.length-1]+=", ",e.assemble(t,n,a,i[1]),t.push(r+")")},like:function(e,t,n,r,i,o,a){i=i.on;t[o]+="O.like(",e.assemble(t,n,a,i[0]),t[o=t.length-1]+=", ",(i=i[1]).re&&(i={type:"regexp",value:i.re,flags:i.flags}),e.assemble(t,n,a,i),t[o=t.length-1]+=") "},list:function(e,t,n,r,i,o,a){t[o]+="[";for(var s=0,l=i.value;s<l.length;++s)s&&(t[o=t.length-1]+=", "),t.push(a),e.assemble(t,n,a,l[s]);t.push(r+"]")},string:"regexp",regexp:function(e,t,n,r,i,o){var a="re"+n.length;n.push("var "+a+" = /"+(i.re||i.value)+"/"+(i.flags||"")+";"),t[o]+=a},unary:function(e,t,n,r,i,o,a){var s=e.operatorTypeMap[i.type][1];i=i.on;t[o]+=s+"(",t.push(a),e.assemble(t,n,a,i),t.push(r+")")}},operators:{between:function(e,t,n){return t<=e&&e<=n},dots:function(e,t){var n,r;if(e.isEntity)for(r=e,n=0;n<t.length;++n){if(!r||!r.interpret){r=void 0;break}r=r.interpret(t[n])}else for(r=e,n=0;n<t.length;++n){if(!r){r=void 0;break}r=r[t[n]]}return r},in:function(e,t){return ei.Z.Array.contains(t,e)},like:function(e,t){return e=String(e),"string"==typeof t?!!e&&-1<e.toLowerCase().indexOf(t.toLowerCase()):t.test(e)},eq:function(e,t){return e&&t&&(e instanceof Date||t instanceof Date)?!ei.Z.Date.compare(e,t):e==t},ge:function(e,t){return e&&t&&(e instanceof Date||t instanceof Date)?0<=ei.Z.Date.compare(e,t):t<=e},gt:function(e,t){return e&&t&&(e instanceof Date||t instanceof Date)?0<ei.Z.Date.compare(e,t):t<e},le:function(e,t){return e&&t&&(e instanceof Date||t instanceof Date)?ei.Z.Date.compare(e,t)<=0:e<=t},lt:function(e,t){return e&&t&&(e instanceof Date||t instanceof Date)?ei.Z.Date.compare(e,t)<0:e<t},ne:function(e,t){return e&&t&&(e instanceof Date||t instanceof Date)?!!ei.Z.Date.compare(e,t):e!=t}},assemble:function(e,t,n,r){var i=this.assemblers,o=typeof r,a=e.length-1,s=n+"\t",l=r.type;"boolean"==o||"number"==o?e[a]+=r:"string"==o?e[a]+=ei.Z.JSON.encode(r):(o=this.operatorTypeMap[l],(a="string"==typeof(a=i[l]||o&&i[o[0]])?i[a]:a)(this,e,t,n,r,e.length-1,s))}}}),ei.Z.define("GRUI.data.query.Converter",{getFilters:function(){var e,t,n,r,i,o,a,s,l,u,c=(h=this).ast,d=h.exprToFilter,f=h.operatorTypeMap,h=h.fn,p=c&&c.on;if(c)if(h.hasOwnProperty("$filters"))s=h.$filters;else{if("and"===c.type&&p){for(n=[],r=0,o=p.length;r<o&&(i=(e=p[r]).on)&&2===i.length&&(l=i[1],"id"===(i=i[0]).type)&&((u=d[e.type])||(a=f[e.type])&&(u=d[a[0]]))&&(t=u(e,i.value,l,a));++r)n.push(t);r===o&&(s=n)}h.$filters=s}else s=null;return s},setFilters:function(e){var t,n,r,i,o=this,a=null,s=e&&e.length;if(s)for(a={type:"and",on:[]},n=0;n<s;++n)t=e[n],i=(i=o.filterToExpr[r=t.operator])?i(t):{type:o.getOperatorType(r),on:[{type:"id",value:t.property},t.value]},a.on.push(i);o.ast=a,o.refresh()},privates:{exprToFilter:{binary:function(e,t,n,r){return ei.Z.isPrimitive(n)&&{property:t,operator:r[1],value:n}},in:function(e,t,n){var r=0,i=n.value;if("list"===n.type&&ei.Z.isArray(i))for(r=i.length;0<r--&&ei.Z.isPrimitive(i[r]););return r<0&&{property:t,operator:"in",value:i}},like:function(e,t,n){return"regexp"===n.type?{property:t,operator:"/=",value:n.value}:"string"===n.type&&{property:t,operator:"like",value:n.value}}},filterToExpr:{"/=":function(e){return{type:"like",on:[{type:"id",value:e.property},{type:"regexp",value:e.value}]}},in:function(e){return{type:"in",on:[{type:"id",value:e.property},{type:"list",value:e.value}]}},like:function(e){return{type:"like",on:[{type:"id",value:e.property},{type:"string",value:e.value,re:ei.Z.String.escapeRegex(e.value),flags:"i"}]}}}}}),ei.Z.define("GRUI.data.query.Stringifier",{stringify:function(e){var t,n=this,r=typeof e,i=e.type,o=n.operatorTypeMap,a=n.getPriority(e),s=n.stringifiers;return"boolean"==r||"number"==r?String(e):"string"==r?ei.Z.JSON.encode(e):(!(r=s[i])&&i in o&&(r=s[(t=o[i])[0]],t=t[2]||t[1]),(r="string"==typeof r?s[r]:r)(n,e,a,t))},privates:{getPriority:function(e){var t=this.symbols,n=this.operatorTypeMap,r=1e9;return"between"===(e=e.type)?(r=0,r=t[e].priority):"and"===e||"or"===e||"in"===e||"like"===e?r=t[e].priority:e in n&&(r=t[n[e][1]].priority),r},stringifiers:{and:"or",or:function(e,t,n){for(var r,i,o="or"===t.type?" or ":" and ",a="",s=t.on,l=0;l<s.length;++l)a&&(a+=o),r=s[l],i=e.getPriority(r)<n,r=e.stringify(r),a+=r=i?"("+r+")":r;return a},between:function(e,t,n){var r,i,o,a=t.on,s=(t=a[0],e.getPriority(t)<n),l=(t=e.stringify(t),(t=s?"("+t+")":t)+" between ");for(n=e.symbols.and.priority,r=0;r<2;++r)r&&(l+=" and "),o=a[r+1],i=r?"id"!==o.type&&!ei.Z.isPrimitive(o):e.getPriority(o)<n,o=e.stringify(o),l+=o=i?"("+o+")":o;return l},binary:function(e,t,n,r){var i=(t=t.on)[0],o=(t=t[1],e.getPriority(i)<n);n=e.getPriority(t)<n,i=e.stringify(i),t=e.stringify(t);return(i=o?"("+i+")":i)+" "+r+" "+(n?"("+t+")":t)},fn:function(e,t){return t.fn+"("+e.stringifyArray(t.args)+")"},id:function(e,t){return t.value},list:function(e,t){return"("+e.stringifyArray(t.value)+")"},regexp:function(e,t){return"/"+t.value+"/"+(t.flags||"")},string:function(e,t){return ei.Z.JSON.encode(t.value)},unary:function(e,t,n,r){return t=t.on,e=e.stringify(t),r+("fn"!==(t=t.type)&&"id"!==t&&"unary"!==t?"("+e+")":e)}},stringifyArray:function(e){for(var t,n="",r=0;r<e.length;++r)n&&(n+=", "),t=e[r],n+=this.stringify(t);return n}}}),ei.Z.define("GRUI.data.query.Parser",(function(e){var t={list:!0,literal:!0,type:"list"};return{extend:"GRUI.parse.Parser",tokenizer:{keywords:{and:{type:"operator",name:"and",value:"&&",is:{operator:!0}},or:{type:"operator",name:"or",value:"||",is:{operator:!0}},not:{type:"operator",name:"not",value:"!",is:{operator:!0}},between:{type:"operator",name:"between",value:"between",is:{operator:!0}},like:{type:"operator",name:"like",value:"like",is:{operator:!0}},in:{type:"operator",name:"in",value:"in",is:{operator:!0}}},operators:{"=":"eq","==":"seq","===":"seq","!==":"sne","!=":"neq","<>":"neq","<":"lt","<=":"lte",">":"gt",">=":"gte","&&":"and","||":"or",",":"comma"},patterns:{regex:{type:"literal",is:{literal:!0,regexp:!0,type:"regexp"},re:/\/(?!\/)((?:\[.+?]|\\.|[^/\\\r\n])+)\/([gimyu]{0,5})/g,extract:function(e){var t=e[1];return(e=e[2])?[t,e]:t}}}},infix:{"=":40,"<>":40,like:40,between:{priority:70,led:function(e){var t=this,n=t.parser;return t.arity="between",t.operand=e,t.low=n.parseExpression(n.symbols.and.priority),n.advance("&&"),t.high=n.parseExpression(80),t}},in:{priority:40,led:function(e){var n=this,r=n.parser;return r.advance("("),n.arity="binary",n.lhs=e,n.rhs={arity:"literal",value:r.parseList(),is:t},r.advance(")"),n}}},infixRight:{and:30,or:30},prefix:{not:0},parse:function(){var e=this.parseExpression();return this.convert(e)},privates:{opCodes:{binary:{"=":"eq",">":"gt","<":"lt",">=":"ge","<=":"le","!=":"ne","<>":"ne","+":"add","/":"div","*":"mul","-":"sub"},unary:{"-":"neg","!":"not"}},convert:function(e){var t,n,r,i,o=this,a=e.arity,s=e.is,l=e.name,u=o.opCodes,c=e.value;switch(a){case"between":i={type:"between",on:[o.convert(e.operand),o.convert(e.low),o.convert(e.high)]};break;case"ident":i={type:"id",value:c};break;case"invoke":i={type:"fn",fn:e.operand.value,args:o.convertArray(e.args)};break;case"unary":i={type:u.unary[c],on:o.convert(e.operand)};break;case"binary":"and"===l||"or"===l?(n=o.convert(e.lhs),(r=o.convert(e.rhs)).type===l?(t=r.on).unshift(n):t=[n,r],i={type:l,on:t}):(i={type:u.binary[c="or"===c?"||":c]||l,on:[o.convert(e.lhs),o.convert(e.rhs)]},"like"===l&&(i.on[1]=o.likeToRe(i.on[1],e.rhs.at)));break;case"literal":s.string||s.number||s.boolean?i=c:(i={type:s.type,value:c},s.list?i.value=o.convertArray(c):s.regexp&&"string"!=typeof c&&(i.value=c[0],i.flags=c[1]))}return i&&"object"==typeof i&&!i.type&&(i.type=a),i},convertArray:function(e){for(var t=[],n=e.length;0<n--;)t[n]=this.convert(e[n]);return t},likeToRe:function(t,n){if("string"==typeof t)t={type:"string",value:t};else if("regexp"===t.type)return t;var r,i,o,a,s=this.specialChars||(e.prototype.specialChars=ei.Z.Array.toMap(".+*?^$=!|:-<>[](){}\\".split(""))),l=t.value,u=l.length,c="",d=!0;e:for(o=0;o<u;++o){if(i=l[o],!r){if("\\"===i){r=i;continue}if("*"===i||"%"===i){c+=".*",d=!1;continue}if("?"===i||"_"===i){c+=".",d=!1;continue}if("["===i){for(c+=i,d=!1,a=o;++o<u;)if(i=l[o],r)c+=r+i,r=0;else if("\\"===i)r=i;else if(c+=i,"]"===i)continue e;this.syntaxError(a+(t.at||n||0),"Incomplete character set")}}r=0,s[i]&&(c+="\\"),c+=i}return t.re=c||".*",d?t.flags="i":t.re="^"+c+"$",t},parseList:function(){for(var e=this,t=[];t.length&&e.advance(),t.push(e.parseExpression()),","===e.token.id;);return t}}}})),ei.Z.define("GRUI.data.Query",{extend:"GRUI.util.BasicFilter",mixins:["GRUI.mixin.Factoryable","GRUI.data.query.Compiler","GRUI.data.query.Converter","GRUI.data.query.Stringifier","GRUI.mixin.Identifiable"],alias:"query.default",requires:["GRUI.data.query.Parser"],config:{format:"ast",functions:{cached:!0,$value:{abs:function(e){return Math.abs(e)},"avg...":function(e){for(var t,n=0,r=0,i=e.length;0<i--;)null!=(t=e[i])&&(r+=t,++n);return n?r/n:0},date:function(e){return e instanceof Date?e:ei.Z.Date.parse(e)},lower:function(e){return null==e?"":String(e).toLowerCase()},"max...":function(e){for(var t,n=null,r=e.length;0<r--;)null!=(t=e[r])&&(n=null===n||n<t?t:n);return n},"min...":function(e){for(var t,n=null,r=e.length;0<r--;)null!=(t=e[r])&&(n=null!==n&&n<t?n:t);return n},"sum...":function(e){for(var t,n=null,r=e.length;0<r--;)null!=(t=e[r])&&(n=null===n?t:n+t);return null===n?0:n},upper:function(e){return null==e?"":String(e).toUpperCase()}}},source:""},ast:null,error:null,generation:0,identifiablePrefix:"ext-data-query-",constructor:function(e){var t=this,n=(t.id=(e="string"==typeof e?{source:e}:e)&&e.id||t.generateAutoId(),ei.Z.data.query.Parser.fly());t.symbols=n.symbols,n.release(),this.callParent2(this,"GRUI.util.BasicFilter","null","constructor",this.constructor,arguments)},filter:function(e){var t=this.error;if(t)throw t;return!!this.fn(e)},refresh:function(){++this.generation,this.compile()},serialize:function(){var e,t=this,n=t.getFormat(),r=t.getSerializer();switch(n){case"ast":e=t.ast,r&&(e=ei.Z.clone(e));break;case"filters":e=t.getFilters()||null;break;case"query":e=t.toString()}return e&&r&&(n=r.call(this,e))?n:e},serializeTo:function(e){var t,n=this.serialize();return n&&n.length&&(e.push.apply(e,n),t=!0),t},sync:function(){var e=this,t=e.fn;t&&t.generation===e.generation||e.compile()},toString:function(){var e=this.ast;return e?this.stringify(e):""},applyFunctions:function(e){var t,n,r,i={},o=this.vargsRe;for(n in e)i[(r=(t={fn:e[r=n],vargs:o.test(n)}).vargs?n.substr(0,n.length-3):r).toLowerCase()]=t;return i},applySource:function(e){if(e)return e;++this.generation,this.ast=null,this.compile()},updateSource:function(e){var t=this;e=ei.Z.data.query.Parser.fly(e);++t.generation;try{t.error=t.fn=null,t.ast=e.parse()}catch(e){throw(t.error=e).message="Failed to parse: "+e.message,e}finally{e.release()}t.compile()},privates:{operatorTypeMap:{and:["binary","&&","and"],or:["binary","||","or"],eq:["binary","==","="],ge:["binary",">=",null],gt:["binary",">",null],le:["binary","<=",null],lt:["binary","<",null],ne:["binary","!=",null],add:["binary","+",null],div:["binary","/",null],mul:["binary","*",null],sub:["binary","-",null],in:["binary",null,"in"],like:["binary",null,"like"],seq:["binary","===","=="],sne:["binary","!==",null],neg:["unary","-",null],not:["unary","!",null]},vargsRe:/\.\.\.$/,getOperatorType:function(e){var t,n=this.operatorTypeMap;for(t in n)if(n[t][1]===e||n[t][2]===e)return t;return null}}}),ei.Z.define("GRUI.data.Request",{isDataRequest:!0,config:{action:void 0,params:void 0,method:"GET",url:null,operation:null,proxy:null,disableCaching:!1,headers:{},callbackKey:null,rawRequest:null,jsonData:void 0,xmlData:void 0,withCredentials:!1,username:null,password:null,binary:!1,callback:null,scope:null,timeout:3e4,records:null,directFn:null,args:null,useDefaultXhrHeader:null,responseType:null},constructor:function(e){this.initConfig(e)},getParam:function(e){var t=this.getParams();if(t)return t[e]},setParam:function(e,t){var n=this.getParams()||{};n[e]=t,this.setParams(n)}}),ei.Z.define("GRUI.data.TreeStore",{extend:"GRUI.data.Store",alias:"store.tree",requires:["GRUI.util.Sorter","GRUI.data.TreeModel","GRUI.data.NodeInterface","GRUI.data.reader.Json"],isTreeStore:!0,config:{root:null,rootVisible:!1,defaultRootProperty:"children",parentIdProperty:null,clearOnLoad:!0,clearRemovedOnLoad:!0,nodeParam:"node",defaultRootId:"root",defaultRootText:"Root",folderSort:!1,pageSize:null},filterer:"topdown",lazyFill:!1,fillCount:0,bulkUpdate:0,nodesToUnregister:0,_silentOptions:{silent:!0},implicitModel:"GRUI.data.TreeModel",groupField:null,groupDir:null,grouper:null,constructor:function(e){this.byIdMap={},this.callParent2(this,"GRUI.data.Store","null","constructor",this.constructor,arguments)},applyFields:function(e,t){var n=this;e&&n.defaultRootProperty!==n.self.prototype.config.defaultRootProperty&&(e=e.concat({name:n.defaultRootProperty,type:"auto",defaultValue:null,persist:!1})),this.callParent2(this,"GRUI.data.Store","null","applyFields",this.applyFields,arguments)},applyGroupField:function(e){return null},applyGroupDir:function(e){return null},setGrouper:function(e){return null},group:ei.Z.emptyFn,onSorterEndUpdate:function(){var e=this,t=e.getSorters().getRange(),n=e.getRoot(),r=e.getFolderSort();e.fireEvent("beforesort",e,t),n&&(r||t.length)?e.getRemoteSort()?t.length&&e.load({callback:function(){e.fireEvent("sort",e,t)}}):(n.sort(this.getSortFn(),!0),e.fireEvent("datachanged",e),e.fireEvent("refresh",e),e.fireEvent("sort",e,t)):e.fireEvent("sort",e,t)},updateFolderSort:function(e){this.needsFolderSort=e,this.onSorterEndUpdate()},getSortFn:function(){return this._sortFn||(this._sortFn=this.createSortFn())},createSortFn:function(){var e=this,t=this.sorters.getSortFn();return function(n,r){var i=0;return e.needsFolderSort&&(i=(n.data.leaf?1:0)-(r.data.leaf?1:0)),(i=e.needsIndexSort&&0===i?n.data.index-r.data.index:i)||t(n,r)}},getTotalCount:function(){return this.getCount()},afterEdit:function(e,t){var n=this,r=e.parentNode,i=n.getRootVisible(),o=(i=!r&&!i,e.get("visible"));i||o===n.contains(e)?n.getRoot()&&n.needsLocalFilter()&&n.onFilterEndUpdate(n.getFilters()):o?r&&!n.isVisible(e)||(i=[e],e.isExpanded()&&n.handleNodeExpand(e,e.childNodes,i),o=e.previousSibling?n.indexOfPreviousVisibleNode(e.previousSibling):r?n.indexOf(r):-1,n.insert(o+1,i)):(r=n.indexOf(e),n.removeAt(r,n.indexOfNextVisibleNode(e)-r)),this.callParent2(this,"GRUI.data.Store","null","afterEdit",this.afterEdit,arguments)},afterReject:function(e){var t=this;t.contains(e)&&(t.onUpdate(e,ei.Z.data.Model.REJECT,null),t.fireEvent("update",t,e,ei.Z.data.Model.REJECT,null))},afterCommit:function(e,t){var n=this;t=t||null,n.contains(e)&&(n.onUpdate(e,ei.Z.data.Model.COMMIT,t),n.fireEvent("update",n,e,ei.Z.data.Model.COMMIT,t))},updateRootVisible:function(e){var t,n=this.getRoot();n&&(t=this.getData(),e?t.insert(0,n):t.remove(n))},updateTrackRemoved:function(e){this.callParent2(this,"GRUI.data.Store","null","updateTrackRemoved",this.updateTrackRemoved,arguments),this.removedNodes=this.removed,this.removed=null},onDestroyRecords:function(e,t,n){n&&(this.removedNodes.length=0)},updateProxy:function(e){e&&(e.setIdParam&&e.setIdParam(this.getNodeParam()),e=this.reader=ei.Z.create("GRUI.data.reader.Json",{}),ei.Z.isEmpty(e.getRootProperty())&&e.setRootProperty(this.getDefaultRootProperty()))},setProxy:function(e){this.changingProxy=!0,this.callParent2(this,"GRUI.data.Store","null","setProxy",this.setProxy,arguments),this.changingProxy=!1},updateModel:function(e){var t;e&&(t=e.prototype.isNode,ei.Z.data.NodeInterface.decorate(e),t||this.changingProxy||this.getProxy().getReader().buildExtractors(!0))},onCollectionFilter:ei.Z.emptyFn,onFilterEndUpdate:function(e){var t,n,r,i,o=this,a=e.length,s=o.getRoot();if(o.getRemoteFilter())this.callParent2(this,"GRUI.data.Store","null","onFilterEndUpdate",this.onFilterEndUpdate,arguments);else{if(a?o.doFilter(s):s.cascade({after:function(e){e.set("visible",!0,o._silentOptions)}}),a)for(r=[],i=0,a=(t=s.childNodes).length;i<a;i++)(n=t[i]).get("visible")&&r.push(n);else r=s.childNodes;o.onNodeFilter(s,r),s.fireEvent("filterchange",s,r),o.suppressNextFilter=!0,this.callParent2(this,"GRUI.data.Store","null","onFilterEndUpdate",this.onFilterEndUpdate,arguments),o.suppressNextFilter=!1}},onNodeFilter:function(e,t){var n=this,r=n.getData(),i=[];n.getRootVisible()&&e.get("visible")&&i.push(e),n.handleNodeExpand(e,t,i),n.suspendEvents(),r.splice(0,r.getCount(),i),n.resumeEvents(),n.suppressNextFilter||(n.fireEvent("datachanged",n),n.fireEvent("refresh",n))},onBeforeNodeExpand:function(e,t,n,r){var i,o,a,s=this;e.isLoaded()?(a=[e.childNodes],r&&a.push.apply(a,r),ei.Z.callback(t,n||e,a)):e.isLoading()?s.on("load",(function(){a=[e.childNodes],r&&a.push.apply(a,r),ei.Z.callback(t,n||e,a)}),s,{single:!0,priority:1001}):(s.getProxy().getReader(),(i=e.getProxy())&&i.getReader(),(o=(i=s.reader).getRoot(e.raw||e.data).children)||e.phantom&&!e.isRoot()?(s.fillNode(e,i.extractData(o||[],{model:e.childType,recordCreator:s.recordCreator})),a=[e.childNodes],r&&a.push.apply(a,r),ei.Z.callback(t,n||e,a)):(s.read({node:e,onChildNodesAvailable:function(){delete s.lastOptions.onChildNodesAvailable,a=[e.childNodes],r&&a.push.apply(a,r),ei.Z.callback(t,n||e,a)}}),s.flushLoad()))},onNodeExpand:function(e,t){var n=this,r=n.indexOf(e)+1,i=[];n.handleNodeExpand(e,t,i),n.refreshCounter||!e.isRoot()||e.get("visible")?(++n.loadCount,n.insert(r,i)):n.loadRecords(i)},handleNodeExpand:function(e,t,n){var r,i,o=t?t.length:0;if((e===this.getRoot()||this.isVisible(e))&&o)for(r=0;r<o;r++)(i=t[r]).get("visible")&&(n.push(i),i.isExpanded()&&(i.isLoaded()?this.handleNodeExpand(i,i.childNodes,n):(i.set("expanded",!1,{silent:!0}),i.expand())))},onNodeCollapse:function(e,t,n,r){var i=this,o=i.indexOf(e)+1;(t=i.needsLocalFilter()?ei.Z.Array.filter(t,i.filterVisible):t).length&&i.isVisible(e)&&(t=i.indexOfNextVisibleNode(e),i.removeAt(o,t-o)),ei.Z.callback(n,r)},indexOfNextVisibleNode:function(e){for(var t;e.parentNode;){for(t=e.nextSibling;t&&!t.get("visible");t=t.nextSibling);if(t)return this.indexOf(t);e=e.parentNode}return this.getCount()},indexOfPreviousVisibleNode:function(e){for(var t=e;t&&!t.get("visible");t=t.previousSibling);if(t){if(t.isExpanded()&&t.lastChild)return this.indexOfPreviousVisibleNode(t.lastChild)}else t=e.parentNode;return this.indexOf(t)},filterNew:function(e){return!e.get("root")&&this.callParent2(this,"GRUI.data.Store","null","filterNew",this.filterNew,arguments)},filterRejects:function(e){return!e.get("root")&&this.callParent2(this,"GRUI.data.Store","null","filterRejects",this.filterRejects,arguments)},getNewRecords:function(){return ei.Z.Array.filter(ei.Z.Object.getValues(this.byIdMap),this.filterNew,this)},getRejectRecords:function(){return ei.Z.Array.filter(ei.Z.Object.getValues(this.byIdMap),this.filterRejects,this)},getUpdatedRecords:function(){return ei.Z.Array.filter(ei.Z.Object.getValues(this.byIdMap),this.filterUpdated)},beforeNodeRemove:function(e,t,n,r){ei.Z.isArray(t)||(t=[t]);for(var i,o=this,a=t.length,s=o.removedNodes,l=0;!i&&l<a;l++)t[l].get("visible")&&(i=t[l]);for(i?(r[0]=o.indexOf(t[0]),r[1]=o.indexOfNextVisibleNode(t[t.length-1])-r[0]):(r[0]=-1,r[1]=0),l=0;l<a;l++)t[l].cascade((function(e){o.unregisterNode(e,!0),!s||n||e.phantom||e.erasing||o.loading||(e.removedFrom=o.indexOf(e),s.push(e),o.needsSync=!0)}))},afterDrop:ei.Z.emptyFn,onNodeRemove:function(e,t,n,r){var i=this;i.suspendAutoSync(),-1!==r[0]&&(i.removeIsMove=n,i.removeAt.apply(i,r),i.removeIsMove=!1),i.resumeAutoSync()},onNodeAppend:function(e,t,n){this.onNodeInsert(e,t,n)},onNodeInsert:function(e,t,n){var r=this,i=t.raw||t.data,o=r.removedNodes;e&&r.needsLocalFilter()&&r.doFilter(e),r.beginUpdate(),r.isVisible(t)&&(n=0!==n&&t.previousSibling?r.indexOfPreviousVisibleNode(t.previousSibling):r.indexOf(e),r.insert(n+1,t),!t.isLeaf()&&t.isExpanded()&&(t.isLoaded()?r.onNodeExpand(t,t.childNodes):r.fillCount||(t.set("expanded",!1),t.expand()))),ei.Z.Array.remove(o,t),r.needsSync=r.needsSync||t.phantom||t.dirty,t.isLeaf()||t.isLoaded()||r.lazyFill||(r.getProxy().getReader(),(e=t.getProxy())&&e.getReader(),(o=(n=r.reader).getRoot(i))&&r.fillNode(t,n.extractData(o,{model:e.model,recordCreator:r.recordCreator}))),r.endUpdate()},registerNode:function(e,t){var n,r,i,o=this,a=o.byIdMap[e.id];if((o.byIdMap[e.id]=e).onRegisterTreeNode&&e!==a&&e.onRegisterTreeNode(o),e.onUnregisterTreeNode&&o.nodesToUnregister++,!0===t)for(r=(n=e.childNodes).length,i=0;i<r;i++)o.registerNode(n[i],!0)},unregisterNode:function(e,t){var n,r,i,o=this,a=o.byIdMap[e.id];if(delete o.byIdMap[e.id],!0===t)for(r=(n=e.childNodes).length,i=0;i<r;i++)o.unregisterNode(n[i],!0);e.onUnregisterTreeNode&&e===a&&(e.onUnregisterTreeNode(o),o.nodesToUnregister--)},onNodeSort:function(e,t){var n=this;n.suspendAutoSync(),(-1!==n.indexOf(e)&&e.isExpanded()||e===n.getRoot()&&!n.getRootVisible())&&(ei.Z.suspendLayouts(),n.onNodeCollapse(e,t),n.onNodeExpand(e,t),ei.Z.resumeLayouts(!0)),n.resumeAutoSync(n.autoSync)},applyRoot:function(e){var t=this.getModel(),n=t.prototype.idProperty,r=this.getDefaultRootId();return e&&!e.isNode&&(e=ei.Z.apply({text:this.getDefaultRootText(),root:!0,isFirst:!0,isLast:!0,depth:0,index:0,parentId:null,allowDrag:!1},e),r&&void 0===e[n]&&(e[n]=r),e=new t(e)),e},updateRoot:function(e,t){var n,r=this,i=[],o=r.isConfiguring;if(r.getTrackRemoved(),r.suspendEvent("add","remove"),o&&r.suspendEvent("refresh","datachanged"),t&&t.isModel&&(n=r.getRootVisible()?[t]:t.childNodes,r.beforeNodeRemove(null,n,!1,i),t.set("root",!1),r.onNodeRemove(null,n,!1,i),t.fireEvent("remove",null,t,!1),t.fireEvent("rootchange",null),t.clearListeners(),t.store=t.treeStore=null,r.unregisterNode(t)),r.getData().clear(),e)if(!1===e.fireEventArgs("beforeappend",[null,e]))e=null;else{if(n=e.parentNode){if(!n.removeChild(e,!1,!1,n.getTreeStore()===r))return}else(n=e.getTreeStore())&&n!==r&&e===n.getRoot()&&n.setRoot(null);e.store=e.treeStore=r,e.set("root",!0),e.updateInfo(!0,{isFirst:!0,isLast:!0,depth:0,index:0,parentId:null}),r.registerNode(e,!0),e.fireEvent("append",null,e,!1),e.fireEvent("rootchange",e),r.onNodeAppend(null,e,0),e.phantom=!0}o||r.fireEvent("rootchange",e,t),e&&(r.getAutoLoad()||e.isExpanded())?e.isLoaded()?(r.onNodeExpand(e,e.childNodes),o||(r.fireEvent("datachanged",r),r.fireEvent("refresh",r))):(e.data.expanded=!1,e.expand(!1),!e.isLoaded||r.getProxy().isSynchronous||o||(r.fireEvent("datachanged",r),r.fireEvent("refresh",r))):o||(r.fireEvent("datachanged",r),r.fireEvent("refresh",r)),r.resumeEvent("add","remove"),o&&r.resumeEvent("refresh","datachanged")},doDestroy:function(){var e=this,t=e.getRoot();t&&e.nodesToUnregister&&t.cascade((function(t){t.onUnregisterTreeNode&&t.onUnregisterTreeNode(e)})),this.callParent2(this,"GRUI.data.Store","null","doDestroy",this.doDestroy,arguments)},each:function(e,t,n){var r,i=0,o=n;if(n&&"object"==typeof n&&(r=n.collapsed,o=n.filtered),!r)return this.callParent2(this,"GRUI.data.Store","null","each",this.each,arguments);this.getRoot().cascade((function(n){if(!0===o||n.get("visible"))return e.call(t||n,n,i++)}))},collect:function(e,t,n){var r,i,o,a={},s=[],l=t;return t&&"object"==typeof t&&(r=t.collapsed,n=t.filtered,l=t.allowNull),r||n?this.getRoot().cascade((function(t){if(!0!==n&&!t.get("visible")||(o=t.get(e),i=String(o),!l&&ei.Z.isEmpty(o)||a[i]||(a[i]=1,s.push(o))),!r&&!t.isExpanded())return!1})):s=this.callParent2(this,"GRUI.data.Store","null","collect",this.collect,arguments),s},getNodeById:function(e){return this.byIdMap[e]||null},findNode:function(e,t,n,r,i){var o,a=null;return ei.Z.isEmpty(t,!1)?a:e===this.model.idProperty&&arguments.length<3?this.byIdMap[t]:(o=ei.Z.String.createRegex(t,n,r,i),ei.Z.Object.eachValue(this.byIdMap,(function(t){if(t&&o.test(t.get(e)))return a=t,!1})),a)},load:function(e){var t=e&&e.node;if(t||(t=this.getRoot())){if(!t.isLoading())return this.callParent2(this,"GRUI.data.Store","null","load",this.load,arguments)}else t=this.setRoot({expanded:!0,autoRoot:!0})},reload:function(e){return(e=ei.Z.apply({},e,this.lastOptions)).node=this.getRoot(),this.load(e)},flushLoad:function(){var e,t,n,r,i,o=this,a=o.pendingLoadOptions,s=o.getClearOnLoad();if(o.clearLoadTask(),a)return r=(e=a.node||o.getRoot())&&e.isRoot(),t=a.callback,n=a.scope,a.params=a.params||{},e.data.expanded&&!r&&(e.data.loaded=!1,s&&(e.data.expanded=!1),a.callback=function(r,i,o){s||e.collapse(),e.expand(),ei.Z.callback(t,n,[r,i,o])}),a.id=e.getId(),o.setLoadOptions(a),o.getRemoteSort()&&a.sorters&&o.fireEvent("beforesort",o,a.sorters),a=ei.Z.apply({node:a.node||e,internalScope:o,internalCallback:o.onProxyLoad},a),o.lastOptions=ei.Z.apply({},a),a.isRootLoad=r,a=o.createOperation("read",a),!1!==o.fireEvent("beforeload",o,a)&&(o.loading=!0,r?(o.getClearRemovedOnLoad()&&(o.removedNodes.length=0),s&&(o.unregisterNode(e,!0),e.clear(!1,!0),o.registerNode(e),i=!0)):(o.loading&&(e.data.loaded=!1),o.getTrackRemoved()&&o.getClearRemovedOnLoad()&&o.clearRemoved(e),s&&e.removeAll(!1)),o.loading&&e&&e.set("loading",!0,{silent:!(o.contains(e)||e===o.getRoot())}),i&&(o.clearData(!0),o.getRootVisible()&&(o.suspendEvents(),o.add(e),o.resumeEvents())),a.execute()),o},onProxyLoad:function(e){var t=this,n=e.initialConfig,r=e.wasSuccessful(),i=e.getRecords(),o=n.node,a=n.isRootLoad,s=e.getScope()||t,l=[i,e,r];t.destroyed||(t.loading=!1,o.set("loading",!1),r&&(++t.loadCount,t.getClearOnLoad()||(i=t.cleanRecords(o,i)),t.getParentIdProperty()&&(i=t.treeify(o,i)),a&&t.suspendEvent("add","update"),i=t.fillNode(o,i)),ei.Z.callback(n.onChildNodesAvailable,s,l),a&&(t.resumeEvent("add","update"),t.callObservers("BeforePopulate"),t.fireEvent("datachanged",t),t.fireEvent("refresh",t),t.callObservers("AfterPopulate")),t.fireEvent("load",t,i,r,e,o))},clearRemoved:function(e){var t,n,r,i=this,o=i.removedNodes,a=e.getId(),s=o.length,l=s,u={},c=[],d={};if(e===i.getRoot())i.removedNodes.length=0;else{for(;l--;)d[(t=o[l]).getId()]=t;for(l=s;l--;){for(n=t=o[l];n&&n.getId()!==a;)r=n.get("parentId")||n.get("lastParentId"),n=n.parentNode||i.getNodeById(r)||d[r];n&&(u[t.getId()]=t)}for(l=0;l<s;l++)u[(t=o[l]).getId()]||c.push(t);i.removedNodes=c}},fillNode:function(e,t){var n=this,r=t?t.length:0;return 1==++n.bulkUpdate&&n.suspendEvent("datachanged"),r?(n.setupNodes(t),e.appendChild(t,void 0,!0)):1===n.bulkUpdate?e.set("loaded",!0):e.data.loaded=!0,--n.bulkUpdate||n.resumeEvent("datachanged"),t},setupNodes:function(e){var t,n,r,i=this,o=i.getSorters(),a=!1,s=e.length,l=(o=i.sortOnLoad&&1<s&&!i.getRemoteSort()&&i.getFolderSort()||o.length,i.needsLocalFilter());for(l&&i.doFilter(e[0]),r=1;r<s;r++)t=e[r],n=e[r-1],l&&i.doFilter(t),a=t.data.index!==n.data.index;o?(i.needsIndexSort=!0,ei.Z.Array.sort(e,i.getSortFn()),i.needsIndexSort=!1):a&&ei.Z.Array.sort(e,i.sortByIndex)},beginFill:function(){var e=this;e.fillCount++||(e.beginUpdate(),e.suspendEvent("add","update"),e.suspendAutoSync(),e.fillArray=[])},endFill:function(e,t){var n,r,i,o=this,a=o.fillArray;if(a.push(t),!--o.fillCount){for(o.resumeAutoSync(),o.resumeEvent("add","update"),n=0,r=a.length;n<r;n++)-1!==(i=o.indexOf(a[n][0]))&&o.fireEvent("add",o,a[n],i);o.fillArray=null,o.endUpdate()}},sortByIndex:function(e,t){return e.data.index-t.data.index},onIdChanged:function(e,t,n){var r,i=e.childNodes,o=i&&i.length;for(this.callParent2(this,"GRUI.data.Store","null","onIdChanged",this.onIdChanged,arguments),delete this.byIdMap[t],this.byIdMap[n]=e,r=0;r<o;r++)i[r].set("parentId",n)},treeify:function(e,t){for(var n,r,i,o,a=e.getId(),s=this.getParentIdProperty(),l=t.length,u=[],c={},d=0;d<l;d++)(n=t[d]).data.depth=1,c[n.id]=n;for(d=0;d<l;d++)!(r=(n=t[d]).data[s])&&0!==r||r===a?u.push(n):((r=c[r]).$children=r.$children||[],r.$children.push(n),n.data.depth=r.data.depth+1);for(i in c)(o=(n=c[i]).$children)&&(delete n.$children,this.setupNodes(o),n.appendChild(o)),this.registerNode(n);return this.setupNodes(u),u},cleanRecords:function(e,t){for(var n,r={},i=e.childNodes,o=0,a=i.length,s=[];o<a;++o)r[i[o].getId()]=!0;for(o=0,a=t.length;o<a;++o)r[(n=t[o]).getId()]||s.push(n);return s},removeAll:function(){var e=this,t=e.getRoot(),n=e.getData().length;e.suspendEvents(),e.setRoot(null),e.resumeEvents(),this.callParent2(this,"GRUI.data.Store","null","removeAll",this.removeAll,arguments),n&&(e.fireEvent("clear",e),e.fireEvent("rootchange",t,null))},doSort:function(e){var t=this;t.getRemoteSort()?t.load():(t.tree.sort(e,!0),t.fireEvent("datachanged",t),t.fireEvent("refresh",t)),t.fireEvent("sort",t,t.sorters.getRange())},filterVisible:function(e){return e.get("visible")},isVisible:function(e){for(var t=e.parentNode,n=e.data.visible,r=this.getRoot();n&&t;)n=t.data.expanded&&t.data.visible,t=t.parentNode;return n&&!(e===r&&!this.getRootVisible())},commitChanges:function(){var e=this.removedNodes;e&&(e.length=0),this.callParent2(this,"GRUI.data.Store","null","commitChanges",this.commitChanges,arguments)},getRootNode:function(){return this.getRoot()},setRootNode:function(e){return this.setRoot(e),this.getRoot()},privates:{fireChangeEvent:function(e){return!!this.byIdMap[e.id]},getRawRemovedRecords:function(){return this.removedNodes},createOperation:function(e,t){var n,r=t.node;return(n=this.useModelProxy&&r&&r!==this.getRootNode()?r.getProxy():n)&&n!==this.getProxy()?n.createOperation(e,t):this.callParent2(this,"GRUI.data.Store","null","createOperation",this.createOperation,arguments)},recordCreator:function(e,t){return new t(e)},doFilter:function(e){this.filterNodes(e,this.getFilters().getFilterFn(),!0)},filterNodes:function(e,t,n){var r,i,o="bottomup"===this.filterer,a=t(e)&&n||e.isRoot()&&!this.getRootVisible(),s=e.childNodes,l=s&&s.length;if(l){for(r=0;r<l;++r)i=this.filterNodes(s[r],t,a||o)||i;o&&(a=i||a)}return e.set("visible",a,this._silentOptions),a},needsLocalFilter:function(){return!this.getRemoteFilter()&&this.getFilters()&&this.getFilters().length},onRemoteFilterSet:function(e,t){this.getData().setFilters(null),e&&e.on("endupdate",this.onFilterEndUpdate,this)},onRemoteSortSet:function(e,t){this.getData().setSorters(null),e&&e.on("endupdate",this.onSorterEndUpdate,this)}},deprecated:{5:{properties:{tree:null}}}}),ei.Z.define("GRUI.data.Types",{singleton:!0,requires:["GRUI.data.SortTypes"]},(function(e){var t=ei.Z.data.SortTypes;ei.Z.apply(e,{stripRe:/[$,%]/g,AUTO:{sortType:t.none,type:"auto"},STRING:{convert:function(e){var t=this.getAllowNull()?null:"";return null==e?t:String(e)},sortType:t.asUCString,type:"string"},INT:{convert:function(t){return"number"==typeof t?parseInt(t,10):null!=t&&""!==t?parseInt(String(t).replace(e.stripRe,""),10):this.getAllowNull()?null:0},sortType:t.none,type:"int"},FLOAT:{convert:function(t){return"number"==typeof t?t:null!=t&&""!==t?parseFloat(String(t).replace(e.stripRe,""),10):this.getAllowNull()?null:0},sortType:t.none,type:"float"},BOOL:{convert:function(e){return"boolean"==typeof e?e:!this.getAllowNull()||null!=e&&""!==e?"true"===e||1==e:null},sortType:t.none,type:"bool"},DATE:{convert:function(e){var t=this.getDateReadFormat()||this.getDateFormat();return e?e instanceof Date?e:t?ei.Z.Date.parse(e,t):(t=Date.parse(e))?new Date(t):null:null},sortType:t.asDate,type:"date"}}),e.BOOLEAN=e.BOOL,e.INTEGER=e.INT,e.NUMBER=e.FLOAT})),ei.Z.define("GRUI.data.Validation",{extend:"GRUI.data.Model",isValidation:!0,syncGeneration:0,attach:function(e){this.record=e,this.isBase=e.self===ei.Z.data.Model,delete this.data.id},getValidation:function(){return null},isValid:function(){var e=this;return e.syncGeneration!==e.record.generation&&e.refresh(),!e.dirty},refresh:function(e){if(!this.isBase){var t,n,r,i,o,a,s,l,u=this,c=u.data,d=u.record,f=d.fields,h=d.generation,p=d.data,g=d.validationSeparator,m=null;if(e||u.syncGeneration!==h){for(u.syncGeneration=h,i=0,o=f.length;i<o;++i)s=p[l=(a=f[i]).name],t=a.defaultInvalidMessage,r=0,l in c?n=c[l]:c[l]=n=!0,(r=(r=a.validate!==ei.Z.emptyFn&&!0!==(a=a.validate(s,g,null,d))?a||t:r)||!0)!==n&&((m=m||{})[l]=r);m&&u.set(m)}}}}),ei.Z.define("GRUI.dom.Helper",(function(){var e,t,n="afterbegin",r="afterend",i="beforebegin",o="beforeend",a=["BeforeBegin","previousSibling"],s=["AfterEnd","nextSibling"],l={beforebegin:a,afterend:s},u={beforebegin:a,afterend:s,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]};return{singleton:!0,alternateClassName:["GRUI.DomHelper","GRUI.core.DomHelper"],emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},detachedDiv:document.createElement("div"),decamelizeName:(e=/([a-z])([A-Z])/g,t={},function(n){return t[n]||(t[n]=n.replace(e,c))}),generateMarkup:function(e,t){var n,r,i,o,a=this,s=typeof e;if("string"==s||"number"==s)t.push(e);else if(ei.Z.isArray(e))for(i=0;i<e.length;i++)e[i]&&a.generateMarkup(e[i],t);else{for(n in s=e.tag||"div",t.push("<",s),e)!e.hasOwnProperty(n)||void 0===(r=e[n])||a.confRe.test(n)||("object"==typeof(r=r&&r.join?r.join(" "):r)?(t.push(" ",n,'="'),a.generateStyles(r,t,!0).push('"')):t.push(" ",a.attributeTransform[n]||n,'="',r,'"'));a.emptyTags.test(s)?t.push("/>"):(t.push(">"),(r=e.tpl)&&r.applyOut(e.tplData,t),(r=e.html)&&t.push(r),(r=e.cn||e.children)&&a.generateMarkup(r,t),o=a.closeTags,t.push(o[s]||(o[s]="</"+s+">")))}return t},generateStyles:function(e,t,n){var r,i,o=t||[];for(r in e)e.hasOwnProperty(r)&&(i=e[r],r=this.decamelizeName(r),n&&ei.Z.String.hasHtmlCharacters(i)&&(i=ei.Z.String.htmlEncode(i)),o.push(r,":",i,";"));return t||o.join("")},markup:function(e){return"string"==typeof e?e:this.generateMarkup(e,[]).join("")},applyStyles:function(e,t){ei.Z.fly(e).applyStyles(t)},createContextualFragment:function(e){var t,n,r=this.detachedDiv,i=document.createDocumentFragment();for(r.innerHTML=e,t=(n=r.childNodes).length;t--;)i.appendChild(n[0]);return i},createDom:function(e){e=this.markup(e);var t=this.detachedDiv;return t.innerHTML=e,e=t.firstChild,ei.Z.supports.ChildContentClearedWhenSettingInnerHTML?e.cloneNode(!0):e},insertHtml:function(e,t,a){var s,c,d,f;if(e=e.toLowerCase(),t.insertAdjacentHTML)return this.ieInsertHtml&&(f=this.ieInsertHtml(e,t,a))?f:(s=u[e])?(t.insertAdjacentHTML(s[0],a),t[s[1]]):void 0;if(3===t.nodeType&&(e=(e=e===n?i:e)===o?r:e),s=ei.Z.supports.CreateContextualFragment?t.ownerDocument.createRange():void 0,d="setStart"+(this.endRe.test(e)?"After":"Before"),l[e])return f=s?(s[d](t),s.createContextualFragment(a)):this.createContextualFragment(a),t.parentNode.insertBefore(f,e===i?t:t.nextSibling),t[(e===i?"previous":"next")+"Sibling"];if(c=(e===n?"first":"last")+"Child",t.firstChild){if(s)try{s[d](t[c]),f=s.createContextualFragment(a)}catch(e){f=this.createContextualFragment(a)}else f=this.createContextualFragment(a);e===n?t.insertBefore(f,t.firstChild):t.appendChild(f)}else t.innerHTML=a;return t[c]},insertBefore:function(e,t,n){return this.doInsert(e,t,n,i)},insertAfter:function(e,t,n){return this.doInsert(e,t,n,r)},insertFirst:function(e,t,r){return this.doInsert(e,t,r,n)},append:function(e,t,n){return this.doInsert(e,t,n,o)},overwrite:function(e,t,n){var r;return e=ei.Z.getDom(e),t=this.markup(t),(r=this.ieOverwrite?this.ieOverwrite(e,t):r)||(e.innerHTML=t,r=e.firstChild),n?ei.Z.get(r):r},doInsert:function(e,t,a,s){var u;return"innerHTML"in(e=e.dom||ei.Z.getDom(e))?u=this.insertHtml(s,e,this.markup(t)):(u=this.createDom(t,null),3===e.nodeType&&(s=(s=s===n?i:s)===o?r:s),l[s]?e.parentNode.insertBefore(u,s===i?e:e.nextSibling):e.firstChild&&s===n?e.insertBefore(u,e.firstChild):e.appendChild(u)),a?ei.Z.get(u):u},createTemplate:function(e){return e=this.markup(e),new ei.Z.Template(e)},createHtml:function(e){return this.markup(e)}};function c(e,t,n){return t+"-"+n.toLowerCase()}}));__webpack_require__(48346);ei.Z.define("GRUI.data.summary.Base",{mixins:["GRUI.mixin.Factoryable"],alias:"data.summary.base",isAggregator:!0,factoryConfig:{defaultType:"base",cacheable:!0},text:"Custom",constructor:function(e){var t=e&&e.calculate;t&&(delete(e=ei.Z.apply({},e)).calculate,this.calculate=t),this.initConfig(e)},extractValue:function(e,t,n){var r;return e?(e=n?e[n]:e)[t]:r}},(function(){ei.Z.Factory.on("dataSummary",(function(e,t){if("function"==typeof t)return e({calculate:t})}))})),ei.Z.define("GRUI.data.summary.Sum",{extend:"GRUI.data.summary.Base",alias:"data.summary.sum",text:"Sum",calculate:function(e,t,n,r,i){for(var o,a,s=i-r,l=0;l<s;++l)a=this.extractValue(e[r+l],t,n),o=l?o+a:a;return o}}),ei.Z.define("GRUI.data.summary.Average",{extend:"GRUI.data.summary.Sum",alias:"data.summary.average",text:"Average",calculate:function(e,t,n,r,i){var o,a=i-r;return 0<a?this.callParent2(this,"GRUI.data.summary.Sum","null","calculate",this.calculate,arguments)/a:o}}),ei.Z.define("GRUI.data.summary.Count",{extend:"GRUI.data.summary.Base",alias:"data.summary.count",text:"Count",calculate:function(e,t,n,r,i){return i-r}}),ei.Z.define("GRUI.data.summary.Max",{extend:"GRUI.data.summary.Base",alias:"data.summary.max",text:"Max",calculate:function(e,t,n,r,i){for(var o,a=this.extractValue(e[r],t,n),s=r;s<i;++s)a<(o=this.extractValue(e[s],t,n))&&(a=o);return a}}),ei.Z.define("GRUI.data.summary.Min",{extend:"GRUI.data.summary.Base",alias:"data.summary.min",text:"Min",calculate:function(e,t,n,r,i){for(var o,a=this.extractValue(e[r],t,n),s=r;s<i;++s)(o=this.extractValue(e[s],t,n))<a&&(a=o);return a}}),ei.Z.define("GRUI.data.summary.None",{extend:"GRUI.data.summary.Base",alias:"data.summary.none",config:{value:null},text:"None",calculate:function(){return this.getValue()}}),ei.Z.define("GRUI.data.summary.Variance",{extend:"GRUI.data.summary.Base",requires:["GRUI.data.summary.Average"],alias:"data.summary.variance",text:"Var",constructor:function(e){this.callParent2(this,"GRUI.data.summary.Base","null","constructor",this.constructor,arguments),this.avg=ei.Z.Factory.dataSummary("average")},calculate:function(e,t,n,r,i){var o,a,s,l=i-r,u=this.avg.calculate(e,t,n,r,i),c=0;if(null!=u&&0!==u)for(o=0;o<l;++o)a=this.extractValue(e[r+o],t,n),c+=Math.pow(ei.Z.Number.from(a,0)-u,2);return 0!==c&&1<l?c/(l-1):s}}),ei.Z.define("GRUI.data.summary.VarianceP",{extend:"GRUI.data.summary.Variance",alias:"data.summary.variancep",text:"VarP",calculate:function(e,t,n,r,i){var o,a,s,l=i-r,u=this.avg.calculate(e,t,n,r,i),c=0;if(null!=u&&0!==u)for(o=0;o<l;++o)a=this.extractValue(e[r+o],t,n),c+=Math.pow(ei.Z.Number.from(a,0)-u,2);return 0!==c&&1<l?c/l:s}}),ei.Z.define("GRUI.data.summary.StdDev",{extend:"GRUI.data.summary.Variance",alias:"data.summary.stddev",text:"StdDev",calculate:function(e,t,n,r,i){var o=this.callParent2(this,"GRUI.data.summary.Variance","null","calculate",this.calculate,arguments);return null!=o?Math.sqrt(o):o}}),ei.Z.define("GRUI.data.summary.StdDevP",{extend:"GRUI.data.summary.VarianceP",alias:"data.summary.stddevp",text:"StdDevP",calculate:function(e,t,n,r,i){var o=this.callParent2(this,"GRUI.data.summary.VarianceP","null","calculate",this.calculate,arguments);return null!=o?Math.sqrt(o):o}}),ei.Z.define("GRUI.data.virtual.Group",{isVirtualGroup:!0,firstRecords:null,id:"",summaryRecord:null,constructor:function(e){this.id=e,this.firstRecords=[]},first:function(){return this.firstRecords[0]||null},getGroupKey:function(){return this.id},getSummaryRecord:function(){return this.summaryRecord}}),ei.Z.define("GRUI.data.virtual.Page",{isVirtualPage:!0,begin:0,end:0,error:null,locked:null,number:0,operation:null,pageMap:null,records:null,state:null,constructor:function(e){var t=this;ei.Z.apply(t,e),e=t.pageMap.store.getPageSize(),t.begin=t.number*e,t.end=t.begin+e,t.locks={active:0,prefetch:0}},destroy:function(){var e=this.operation;this.state="destroyed",e&&e.abort(),this.callParent2(this,"null","null","destroy",this.destroy,arguments)},adjustLock:function(e,t){var n=this,r=n.locks,i=n.pageMap,o=null,a=n.locked;r[e]+=t,r.active?o="active":r.prefetch&&(o="prefetch"),o!==a&&(n.locked=o,i&&i.onPageLockChange(n,o,a))},clearRecords:function(e,t){var n,r,i=this.begin,o=this.records;if(o)if(r=o.length,t)for(n=0;n<r;++n)delete e[o[n][t]];else for(n=0;n<r;++n)delete e[i+n]},fillRecords:function(e,t,n){var r,i,o,a=this,s=a.records,l=a.begin,u=a.pageMap.store;if(s)if(i=s.length,t)for(r=0;r<i;++r)(o=s[r]).join(u),e[o[t]]=n?l+r:o;else for(r=0;r<i;++r)s[r].join(u),e[l+r]=s[r]},isInitial:function(){return null===this.state},isLoaded:function(){return"loaded"===this.state},isLoading:function(){return"loading"===this.state},load:function(e){var t=this;t.state="loading",e=t.pageMap.store.loadVirtualPage(t,t.onLoad,t,e),"loading"===t.state&&(t.operation=e)},privates:{onLoad:function(e){var t=this;t.operation=null,t.destroyed||((t.error=e.getError())?t.state="error":(t.records=e.getRecords(),t.state="loaded"),t.pageMap.onPageLoad(t))}}}),ei.Z.define("GRUI.data.virtual.PageMap",{requires:["GRUI.data.virtual.Page"],isVirtualPageMap:!0,config:{cacheSize:10,concurrentLoading:1,pageCount:null},generation:0,store:null,constructor:function(e){var t=this;t.prefetchSortFn=t.prefetchSortFn.bind(t),t.initConfig(e),t.clear()},destroy:function(){this.clear(!0),this.callParent2(this,"null","null","destroy",this.destroy,arguments)},canSatisfy:function(e){e=this.getPageIndex(e.end);var t=this.getPageCount();return null===t||e<t},clear:function(e){var t,n=this,r=(e=!e||null,n.pages);if(++n.generation,n.byId=e&&{},n.byInternalId=e&&{},n.cache=e&&[],n.indexMap=e&&{},n.pages=e&&{},n.loading=e&&[],n.loadQueues=e&&{active:[],prefetch:[]},r)for(t in r)n.destroyPage(r[t])},getPage:function(e,t){var n,r=this,i=r.getPageCount(),o=r.pages;return(null===i||e<i)&&!(n=o[e])&&!1!==t&&(o[e]=n=new ei.Z.data.virtual.Page({pageMap:r,number:e})),n||null},getPageIndex:function(e){return e.isEntity&&(e=this.indexOf(e)),Math.floor(e/this.store.getPageSize())},getPageOf:function(e,t){var n=this.store.getPageSize();e=Math.floor(e/n);return this.getPage(e,t)},getPages:function(e,t){for(var n=this.store.getPageSize(),r=(e=Math.floor(e/n),Math.ceil(t/n)),i={},o=e;o<r;++o)i[o]=this.getPage(o);return i},flushNextLoad:function(){var e=this.queueTimer;e&&ei.Z.unasap(e),this.loadNext()},indexOf:function(e){var t;return(t=e?this.indexMap[e.internalId]:t)||0===t?t:-1},getByInternalId:function(e){var t;if(((e=this.indexMap[e])||0===e)&&(t=this.pages[Math.floor(e/this.store.getPageSize())]))return t.records[e-t.begin]},updatePageCount:function(e,t){var n,r,i=this.pages;if(null===t||e<t)for(n in i)(r=i[n]).number>=e&&(this.clearPage(r),this.destroyPage(r))},privates:{queueTimer:null,clearPage:function(e,t){var n=this,r=ei.Z.Array,i=n.loadQueues;delete n.pages[e.number],e.clearRecords(n.byId,"id"),e.clearRecords(n.byInternalId,"internalId"),e.clearRecords(n.indexMap,"internalId"),r.remove(i.active,e),r.remove(i.prefetch,e),t||ei.Z.Array.remove(n.cache,e)},destroyPage:function(e){this.store.onPageDestroy(e),e.destroy(),ei.Z.isArray(this.loading)&&ei.Z.Array.remove(this.loading,e)},loadNext:function(){var e,t,n=this,r=n.loading,i=n.loadQueues;if(!n.destroyed)for(e=n.getConcurrentLoading(),n.queueTimer=null;r.length<e&&(t=i.active.shift()||i.prefetch.shift());)r.push(t),t.load()},onPageLoad:function(e){var t,n=this,r=n.store,i=r.activeRanges,o=i.length;if(ei.Z.Array.remove(n.loading,e),!e.error)for(e.fillRecords(n.byId,"id"),e.fillRecords(n.byInternalId,"internalId"),e.fillRecords(n.indexMap,"internalId",!0),r.onPageDataAcquired(e),t=0;t<o;++t)i[t].onPageLoad(e);n.flushNextLoad()},onPageLockChange:function(e,t,n){var r,i=this,o=i.cache,a=i.loadQueues,s=i.store;if(e.isInitial()&&(n&&ei.Z.Array.remove(a[n],e),t&&(a[t].push(e),a=i.getConcurrentLoading(),!i.queueTimer&&i.loading.length<a&&(i.queueTimer=ei.Z.asap(i.loadNext,i)))),t)n||ei.Z.Array.remove(o,e);else for(o.push(e),r=i.getCacheSize();o.length>r;)e=o.shift(),i.clearPage(e,!0),s.onPageEvicted(e),i.destroyPage(e)},prefetchSortFn:function(e,t){e=e.number,t=t.number;var n=Math,r=this.sortFirstPage,i=this.sortLastPage,o=this.sortDirection,a=e<r,s=t<r;return(e=a?n.abs(r-e):n.abs(i-e))===(t=s?n.abs(r-t):n.abs(i-t))?a?o:-o:e-t},prioritizePrefetch:function(e,t,n){var r=this;r.sortDirection=e,r.sortFirstPage=t,r.sortLastPage=n,r.loadQueues.prefetch.sort(r.prefetchSortFn)}}}),ei.Z.define("GRUI.data.virtual.Range",{extend:"GRUI.data.Range",isVirtualRange:!0,callback:null,prefetch:!1,scope:null,direction:1,constructor:function(e){this.adjustingPages=[],this.callParent2(this,"GRUI.data.Range","null","constructor",this.constructor,arguments)},reset:function(){var e=this;e.records={},e.activePages=e.prefetchPages=null},privates:{adjustPageLocks:function(e,t){var n,r=this,i=r.adjustingPages,o=i.length;for(1<o&&i.sort(r.direction<0?r.pageSortBackFn:r.pageSortFwdFn),n=0;n<o;++n)i[n].adjustLock(e,t);i.length=0},doGoto:function(){var e,t,n,r,i=this,o=i.begin,a=i.end,s=i.prefetch,l=i.records,u=(c=i.store).pageMap,c=c.totalCount,d=i.lastBegin,f=i.lastEnd,h=i.activePages,p=i.prefetchPages,g=i.trailingBufferZone,m=i.leadingBufferZone,v=i.adjustingPages;for(n in v.length=0,(f=d<o&&a<f||o<d&&f<a?i.direction:o<d?-1:d<o?1:i.direction)<0&&(n=g,g=m,m=n),i.direction=f,i.activePages=e=u.getPages(o,a),s&&(i.prefetchBegin=d=Math.max(0,o-g),null===c&&(c=Number.MAX_VALUE),i.prefetchEnd=s=Math.min(c,a+m),i.prefetchPages=r=u.getPages(d,s)),e)t=e[n],r&&delete r[n],h&&n in h?delete h[n]:(t.adjustLock("active",1),t.fillRecords(l));if(r)for(n in r)p&&n in p?delete p[n]:r[n].adjustLock("prefetch",1);if(p){for(n in p)v.push(p[n]);v.length&&i.adjustPageLocks("prefetch",-1)}if(h){for(n in h)v.push(t=h[n]),t.clearRecords(l);v.length&&i.adjustPageLocks("active",-1)}r&&u.prioritizePrefetch(f,u.getPageIndex(o),u.getPageIndex(a-1)),(i.lastBegin=o)===(i.lastEnd=a)&&0===o&&this.triggerCallback(0,0)},onPageDestroy:function(e){e=e.number;var t=this.activePages,n=this.prefetchPages;t&&delete t[e],n&&delete n[e]},onPageLoad:function(e){var t,n=this,r=n.activeWait;n.activePages[e.number]&&(e.fillRecords(n.records),t=Math.max(n.begin,e.begin),e=Math.min(n.end,e.end),n.triggerCallback(t,e),r&&(r.got++,n.resolveWaitIfSatisfied()))},pageSortBackFn:function(e,t){return t.number-e.number},pageSortFwdFn:function(e,t){return e.number-t.number},refresh:function(){this.records=this.records||{}},reload:function(){var e=this,t=e.begin,n=e.end;e.begin=e.end=0,e.direction=1,e.prefetchPages=e.activePages=null,e.goto(t,n)},resolveWaitIfSatisfied:function(){var e=this.activeWait;e&&e.got===e.needed&&this.resolveWait(this)},setupWait:function(e,t){var n,r=this.callParent2(this,"GRUI.data.Range","null","setupWait",this.setupWait,arguments),i=this.store.pageMap.getPages(e,t),o=0;for(n in i)o+=i[n].isLoaded()?0:1;return r.got=0,r.needed=o,r},triggerCallback:function(e,t){var n=this.callback;n&&ei.Z.callback(n,this.scope,[this,e,t])}}}),ei.Z.define("GRUI.data.virtual.Store",{extend:"GRUI.data.ProxyStore",alias:"store.virtual",requires:["GRUI.util.SorterCollection","GRUI.util.FilterCollection","GRUI.data.virtual.PageMap","GRUI.data.virtual.Range"],uses:["GRUI.data.virtual.Group"],isVirtualStore:!0,config:{data:null,totalCount:null,leadingBufferZone:200,trailingBufferZone:50},remoteSort:!0,remoteFilter:!0,sortOnLoad:!1,trackRemoved:!1,constructor:function(e){var t=this;t.sortByPage=t.sortByPage.bind(t),t.activeRanges=[],t.pageMap=new ei.Z.data.virtual.PageMap({store:t}),this.callParent2(this,"GRUI.data.ProxyStore","null","constructor",this.constructor,arguments)},doDestroy:function(){this.pageMap.destroy(),this.callParent2(this,"GRUI.data.ProxyStore","null","doDestroy",this.doDestroy,arguments)},applyGrouper:function(e){return this.group(e),this.grouper},contains:function(e){return-1<this.indexOf(e)},createActiveRange:function(e){return e=ei.Z.apply({leadingBufferZone:this.getLeadingBufferZone(),trailingBufferZone:this.getTrailingBufferZone(),store:this},e),new ei.Z.data.virtual.Range(e)},getAt:function(e){var t,n=this.pageMap.getPageOf(e,!1);return(t=n&&n.records?n.records[e-n.begin]:t)||null},getById:function(e){return this.pageMap.byId[e]||null},getCount:function(){return this.totalCount||0},getGrouper:function(){return this.grouper},getGroups:function(){var e=this.groupCollection;return e||(this.groupCollection=e=new ei.Z.util.Collection),e},getSummaryRecord:function(){return this.summaryRecord||null},isGrouped:function(){return!!this.grouper},group:function(e,t){var n=this;(e=e||null)&&((e=(e="string"==typeof e?{property:e,direction:t||"ASC"}:e).isGrouper?e:new ei.Z.util.Grouper(e)).setRoot("data"),n.getGroups().getSorters().splice(0,1,{property:"id",direction:e.getDirection()})),n.grouper=e,n.isConfiguring||(n.reloadRanges(),n.fireGroupChange(e))},getByInternalId:function(e){return this.pageMap.getByInternalId(e)},indexOf:function(e){return this.pageMap.indexOf(e)},indexOfId:function(e){return(e=this.getById(e))?this.indexOf(e):-1},isLoaded:function(){return ei.Z.isNumber(this.totalCount)},load:function(e){var t=(e=e||{}).page||1;(t=this.pageMap.getPage(t-1,!0)).isLoading()||t.load({callback:e.callback,scope:e.scope})},reload:function(e){var t=this;return"function"==typeof e&&(e={callback:e}),!1===t.fireEvent("beforereload")?null:(e=ei.Z.apply({internalScope:t,internalCallback:t.handleReload,page:1},e),t.pageMap.clear(),t.pageMap.setPageCount(null),t.getGroups().clear(),t.pageMap.getPage(e.page-1,!0).state="loading",t.loadInternal(e))},reloadRanges:function(){var e,t=this.activeRanges;for(this.pageMap.clear(),this.getGroups().clear(),e=t.length;0<e--;)t[e].reload()},removeAll:function(){var e,t=this,n=t.activeRanges;for(t.pageMap.clear(),e=n.length;0<e--;)n[e].reset();t.fireEvent("clear",t)},applyProxy:function(e){return(e=this.callParent2(this,"GRUI.data.ProxyStore","null","applyProxy",this.applyProxy,arguments))&&e.setEnablePaging&&e.setEnablePaging(!0),e},createFiltersCollection:function(){return new ei.Z.util.FilterCollection},createSortersCollection:function(){return new ei.Z.util.SorterCollection},onFilterEndUpdate:function(){var e=this,t=e.getFilters(!1);e.isConfiguring||(e.reload(),e.fireEvent("filterchange",e,t.getRange()))},onSorterEndUpdate:function(){var e=this,t=e.getSorters().getRange(),n=!e.isConfiguring;n&&e.fireEvent("beforesort",e,t),n&&(e.reloadRanges(),e.fireEvent("sort",e,t))},updatePageSize:function(e){var t=this.totalCount;null!==t&&this.pageMap.setPageCount(Math.ceil(t/e))},updateTotalCount:function(e,t){var n=this,r=n.pageMap;n.totalCount=e,r.setPageCount(Math.ceil(e/n.getPageSize())),n.fireEvent("totalcountchange",n,e,t)},afterEdit:function(e,t){var n=this;n.fireEvent("update",n,e,ei.Z.data.Model.EDIT,t),n.fireEvent("datachanged",n)},privates:{attachSummaryData:function(e){var t,n,r,i,o,a=this,s=e.getSummaryData();if(s&&(a.summaryRecord=s),(s=e.getGroupData())&&(t=a.getGrouper()))for(a.groupSummaryData=i={},r=0,n=s.length;r<n;++r)o=s[r],i[t.getGroupString(o)]=o},handleReload:function(e){var t,n,r=this,i=r.activeRanges,o=i.length,a=r.pageMap,s=e.getResultSet(),l=e.wasSuccessful(),u=e.config&&e.config.page||e&&e.page,c=[];if(l)for(r.readTotalCount(s),0!==r.pageMap.getPageCount()&&u&&(u=r.pageMap.getPage(u-1,!1))&&!(u.error=e.getError())&&(u.records=e.getRecords(),u.state="loaded"),r.fireEvent("reload",r,e),t=0;t<o;++t)n=i[t],a.canSatisfy(n)&&n.reload();s&&(c=s.records),r.fireEvent("load",r,c,l,e)},loadInternal:function(e){var t,n=this,r=e&&e.page||1,i=n.getPageSize(),o=(r-1)*i,a=n.getFilters().items,s=n.getSorters().items;if(!n.getRowData)return n=this,r=(e="function"==typeof e?{callback:e}:e)&&e.page||1,i=n.getPageSize(),t=n.createOperation("read",ei.Z.apply({start:o,limit:i,page:r,filters:a,sorters:s,grouper:n.getGrouper()},e)),!1!==n.fireEvent("beforeload",n,t)?(n.onBeforeLoad(t),t.execute()):t.setCompleted(),t;"function"==typeof n.getRowData&&(a=0<a.length&&a[0].getFilters(),s=0<s.length&&s.map((function(e){return e.getState()})),t={page:r,start:o},a&&(t.filters=a),s&&(t.sorters=s),i&&(t.limit=i),n.fireEvent("beforeload"),n.getRowData(t).then((function(t){return n.tranformResponse(t,e)})))},tranformResponse:function(e,t){var n=this,r=n.model,i=e[n.rootProperty],o=e[n.countProperty],a=n.getResultTemplate();a.records=i.map((function(e){return new r(e)})),a.totalCount=o,a.total=o,a.remoteTotal=o,a.getRemoteTotal=function(){return a.remoteTotal},t.getResultSet=function(){return a},t.wasSuccessful=function(){return!!e},t.getRecords=function(){return a.records},t.getError=function(){return!e},t.internalCallback.call(n,t)},getResultTemplate:function(){var e=new ei.Z.data.ResultSet;return ei.Z.apply(e,{isFirstInstance:!0,total:0,count:0,records:[],success:!0,message:""}),e},loadVirtualPage:function(e,t,n,r){var i=this,o=i.pageMap.generation;return i.loadInternal(ei.Z.apply({page:e.number+1,internalCallback:function(r){var a=r.getResultSet(),s=[];o===i.pageMap.generation&&(r.wasSuccessful()&&(i.readTotalCount(a),i.attachSummaryData(a)),t.call(n||e,r),i.groupSummaryData=null,a&&(s=a.records),i.fireEvent("load",i,s,r.wasSuccessful(),r))}},r))},lockGroups:function(e,t){for(var n,r,i,o,a,s=this.getGroups(),l=t.groupInfo={},u=t.records,c=u.length,d=this.groupSummaryData,f=this.pageMap,h=t.number,p=0;p<c;++p)i=u[p],l[r=e.getGroupString(i)]||(l[r]=i,(n=s.get(r))||(n=new ei.Z.data.virtual.Group(r),s.add(n)),(a=(o=n.firstRecords)[0])&&h<f.getPageIndex(a)?o.unshift(i):o.push(i),(a=d&&d[r])&&(n.summaryRecord=a))},onPageDataAcquired:function(e){var t=this.getGrouper();t&&this.lockGroups(t,e)},onPageDestroy:function(e){for(var t=this.activeRanges,n=t.length,r=0;r<n;++r)t[r].onPageDestroy(e)},onPageEvicted:function(e){var t=this.getGrouper();t&&this.releaseGroups(t,e)},readTotalCount:function(e){e=e.getRemoteTotal(),isNaN(e)||this.setTotalCount(e)},releaseGroups:function(e,t){var n,r,i,o,a=this.getGroups(),s=t.groupInfo;for(i in s)n=s[i],1===(r=(o=a.get(i)).firstRecords).length?a.remove(o):r[0]===n?(r.shift(),r.sort(this.sortByPage)):ei.Z.Array.remove(r,n)},sortByPage:function(e,t){var n=this.pageMap;return n.getPageIndex(e)-n.getPageIndex(t)}}}),ei.Z.define("GRUI.util.TaskRunner",{fireIdleEvent:null,interval:10,timerId:null,constructor:function(e){var t=this;"number"==typeof e?t.interval=e:e&&ei.Z.apply(t,e),t.tasks=[],t.timerFn=t.onTick.bind(t)},newTask:function(e){return(e=new ei.Z.util.TaskRunner.Task(e)).manager=this,e},start:function(e){var t=this,n=ei.Z.Date.now();return e.pending||(t.tasks.push(e),e.pending=!0),e.stopped=!1,e.taskStartTime=n,e.taskRunTime=!1!==e.fireOnStart?0:e.taskStartTime,e.taskRunCount=0,t.firing||(!1!==e.fireOnStart?t.startTimer(0,n):t.startTimer(e.interval,n)),e},stop:function(e,t){var n,r=this,i=r.tasks,o=0;for(e.stopped||(e.stopped=!0,e.pending=!1,e.onStop&&e.onStop.call(e.scope||e,e)),t&&ei.Z.Array.remove(i,e),n=0;!o&&n<i.length;n++)i[n].stopped||o++;return o||(ei.Z.undefer(r.timerId),r.timerId=null),e},stopAll:function(e){var t=this;ei.Z.each(this.tasks,(function(n){t.stop(n,e)}),null,!0)},firing:!1,nextExpires:1e99,onTick:function(){var e,t,n,r,i,o,a,s=this,l=s.tasks,u=s.fireIdleEvent,c=ei.Z.Date.now(),d=1e99,f=l.length;for(s.timerId=null,s.firing=!0,n=0;n<f||n<(f=l.length);++n){if(!(o=(r=l[n]).stopped)){if((e=r.taskRunTime+r.interval)<=c){i=1,null===u&&!1!==r.fireIdleEvent&&(u=!0),r.taskRunCount++,a=r.args?r.addCountToArgs?r.args.concat([r.taskRunCount]):r.args:[r.taskRunCount];try{i=r.run.apply(r.scope||r,a)}catch(e){try{r.onError&&(i=r.onError.call(r.scope||r,r,e))}catch(e){}}r.taskRunTime=c,!1===i||r.taskRunCount===r.repeat?(s.stop(r),o=!0):(o=r.stopped,e=c+r.interval)}!o&&r.duration&&r.duration<=c-r.taskStartTime&&(s.stop(r),o=!0)}o?(r.pending=!1,t=t||l.slice(0,n)):(t&&t.push(r),e<d&&(d=e))}t&&(s.tasks=t),s.firing=!1,s.tasks.length&&s.startTimer(d-c,ei.Z.Date.now()),ei.Z._suppressIdle=!(u=null!==u&&u)},startTimer:function(e,t){var n=this,r=(t=t+e,n.timerId);(r=r&&n.nextExpires-t>n.interval?ei.Z.undefer(r):r)||(e<n.interval&&(e=n.interval),n.timerId=ei.Z.defer(n.timerFn,e),n.nextExpires=t)}},(function(){var e=this,t=e.prototype;t.destroy=t.stopAll,e.Task=new ei.Z.Class({isTask:!0,stopped:!0,fireOnStart:!1,constructor:function(e){ei.Z.apply(this,e)},restart:function(e){void 0!==e&&(this.interval=e),this.manager.start(this)},start:function(e){this.stopped&&this.restart(e)},stop:function(e){this.manager.stop(this,e)},destroy:function(){this.stop(!0)}}),(t=e.Task.prototype).destroy=t.stop})),ei.Z.define("GRUI.dom.Fly",{extend:"GRUI.dom.Element",alternateClassName:"GRUI.dom.Element.Fly",validNodeTypes:{1:1,9:1,11:1},isFly:!0,constructor:function(e){this.dom=e,this.el=this},attach:function(e){var t=this;return e?(t.dom=ei.Z.getDom(e),ei.Z.cache[e.id]||(e=t.peekData())&&(e.isSynchronized=!1),t):t.detach()},detach:function(){return this.dom=null},addListener:null,removeListener:null},(function(e){var t,n={};e.cache=n,ei.Z.fly=function(t,r){var i,o=null;return ei.Z.fly,r=r||"_global",(t=ei.Z.getDom(t))&&(i=t.nodeType,!e.prototype.validNodeTypes[i]&&(i||t.window!=t)||(o=ei.Z.cache[t.id])&&o.dom===t||((o=n[r="constructor"===r?"$constructor":r]||(n[r]=new e)).dom=t,(i=o.peekData())&&(i.isSynchronized=!1))),o},ei.Z.getDetachedBody=function(){return t||(ei.Z.detachedBodyEl=t=new e(document.createElement("div")),t.isDetachedBody=!0),t}})),ei.Z.define("GRUI.dom.CompositeElementLite",{alternateClassName:["GRUI.CompositeElementLite"],requires:["GRUI.dom.Fly"],isComposite:!0,isLite:!0,statics:{importElementMethods:function(){var e=ei.Z.dom.Element,t=this.prototype;ei.Z.Object.each(e.prototype,(function(e,n){"function"!=typeof n||t[e]||(t[e]=function(){return this.invoke(e,arguments)})}))}},constructor:function(e,t){t?this.elements=e||[]:(this.elements=[],this.add(e))},getElement:function(e){return(this._fly||(this._fly=new ei.Z.dom.Fly)).attach(e)},transformElement:function(e){return ei.Z.getDom(e)},getCount:function(){return this.elements.length},add:function(e,t){var n,r,i=this.elements;if(!e)return this;for("string"==typeof e?e=ei.Z.fly(t||document).query(e):e.isComposite?e=e.elements:ei.Z.isIterable(e)||(e=[e]),n=0,r=e.length;n<r;++n)i.push(this.transformElement(e[n]));return this},invoke:function(e,t){var n,r,i,o=this,a=o.elements,s=a.length;if(0!==i)for(n=(o.isLite?ei.Z.dom.Fly:ei.Z.dom.Element).prototype,i=0;i<s;i++)(r=a[i])&&n[e].apply(o.getElement(r),t);return o},item:function(e){var t=null;return(e=this.elements[e])?this.getElement(e):t},slice:function(e,t){return ei.Z.Array.slice(this.elements,e,t)},each:function(e,t){for(var n,r=this,i=r.elements,o=i.length,a=0;a<o&&(!(n=i[a])||(n=this.getElement(n),!1!==e.call(t||n,n,r,a)));a++);return r},fill:function(e){var t=this;return t.elements=[],t.add(e),t},insert:function(e,t){ei.Z.Array.insert(this.elements,e,t)},filter:function(e){for(var t,n=this,r=n.elements,i=r.length,o=[],a=0,s="function"==typeof e;a<i;a++)(t=r[a])&&(t=n.getElement(t),(s?!1!==e.call(t,t,n,a):t.is(e))&&o.push(n.transformElement(t)));return n.elements=o,n},indexOf:function(e){return ei.Z.Array.indexOf(this.elements,this.transformElement(e))},replaceElement:function(e,t,n){return-1<(e=isNaN(e)?this.indexOf(e):e)&&(t=ei.Z.getDom(t),n&&((n=this.elements[e]).parentNode.insertBefore(t,n),ei.Z.removeNode(n)),ei.Z.Array.splice(this.elements,e,1,t)),this},clear:function(e){var t=this.elements,n=t.length-1;if(e)for(;0<=n;n--)ei.Z.removeNode(t[n]);this.elements=[]},addElements:function(e,t){if(!e)return this;"string"==typeof e&&(e=ei.Z.dom.Element.selectorFunction(e,t));for(var n=this.elements,r=e.length,i=0;i<r;i++)n.push(ei.Z.get(e[i]));return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(e){return-1!==this.indexOf(e)},removeElement:function(e,t){for(var n,r,i=this.elements,o=0,a=(e=[].concat(e)).length;o<a;o++)(r=i[n=e[o]]||i[n=this.indexOf(n)])&&(t&&(r.dom?r.destroy():ei.Z.removeNode(r)),ei.Z.Array.erase(i,n,1));return this},destroy:function(){this.invoke("destroy",arguments),this.callParent2(this,"null","null","destroy",this.destroy,arguments)}},(function(e){var t=e.prototype;e.importElementMethods(),t.on=t.addListener})),ei.Z.define("GRUI.dom.CompositeElement",{alternateClassName:"GRUI.CompositeElement",extend:"GRUI.dom.CompositeElementLite",isLite:!1,getElement:function(e){return e},transformElement:function(e){return ei.Z.get(e)}}),ei.Z.define("GRUI.dom.GarbageCollector",{singleton:!0,interval:3e4,constructor:function(){var e=this;e.lastTime=ei.Z.now(),e.onTick=e.onTick.bind(e),e.resume()},collect:function(){var e,t,n,r,i=ei.Z.cache;for(e in i)if(i.hasOwnProperty(e)&&!(n=i[e]).skipGarbageCollection){t=n.dom;try{r=ei.Z.isGarbage(t)}catch(t){delete i[e];continue}r&&(r=!1,n&&n.dom&&n.collect())}this.lastTime=ei.Z.now()},onTick:function(){this.timerId=null,ei.Z.enableGarbageCollector&&this.collect(),this.resume()},pause:function(){var e=this.timerId;e&&(this.timerId=null,ei.Z.undefer(e))},resume:function(){var e=this,t=e.lastTime;ei.Z.enableGarbageCollector&&ei.Z.now()-t>e.interval&&e.collect(),e.timerId||(e.timerId=ei.Z.defer(e.onTick,e.interval))}}),ei.Z.define("GRUI.dom.TouchAction",{singleton:!0,requires:["GRUI.dom.Element","GRUI.util.Point"],lastTouchStartTime:0,minMoveDistance:8,spaceRe:/\s+/,preventSingle:null,preventMulti:null,disabledOverflowDom:null,panXCls:ei.Z.baseCSSPrefix+"touch-action-pan-x",panYCls:ei.Z.baseCSSPrefix+"touch-action-pan-y",cssValues:["none","pan-x","pan-y","pan-x pan-y","pinch-zoom","pan-x pinch-zoom","pan-y pinch-zoom","pan-x pan-y pinch-zoom","double-tap-zoom","pan-x double-tap-zoom","pan-y double-tap-zoom","pan-x pan-y double-tap-zoom","pinch-zoom double-tap-zoom","pan-x pinch-zoom double-tap-zoom","pan-y pinch-zoom double-tap-zoom",""],objectValues:[{panX:!1,panY:!1,pinchZoom:!1,doubleTapZoom:!1},{panX:!0,panY:!1,pinchZoom:!1,doubleTapZoom:!1},{panX:!1,panY:!0,pinchZoom:!1,doubleTapZoom:!1},{panX:!0,panY:!0,pinchZoom:!1,doubleTapZoom:!1},{panX:!1,panY:!1,pinchZoom:!0,doubleTapZoom:!1},{panX:!0,panY:!1,pinchZoom:!0,doubleTapZoom:!1},{panX:!1,panY:!0,pinchZoom:!0,doubleTapZoom:!1},{panX:!0,panY:!0,pinchZoom:!0,doubleTapZoom:!1},{panX:!1,panY:!1,pinchZoom:!1,doubleTapZoom:!0},{panX:!0,panY:!1,pinchZoom:!1,doubleTapZoom:!0},{panX:!1,panY:!0,pinchZoom:!1,doubleTapZoom:!0},{panX:!0,panY:!0,pinchZoom:!1,doubleTapZoom:!0},{panX:!1,panY:!1,pinchZoom:!0,doubleTapZoom:!0},{panX:!0,panY:!1,pinchZoom:!0,doubleTapZoom:!0},{panX:!1,panY:!0,pinchZoom:!0,doubleTapZoom:!0},{panX:!0,panY:!0,pinchZoom:!0,doubleTapZoom:!0}],attributeName:"data-extTouchAction",constructor:function(){var e=this,t=ei.Z.supports;t.TouchAction?e.cssProp="touch-action":t.MSPointerEvents&&(e.cssProp="-ms-touch-action"),t.TouchEvents&&(ei.Z.getWin().on({touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",scope:e,delegated:!1,translate:!1,capture:!0,priority:5e3}),ei.Z.on({scroll:"onScroll",scope:e,destroyable:!0}))},containsTargets:function(e,t){for(var n=!0,r=t.browserEvent,i="touchend"===t.type?r.changedTouches:r.touches,o=0,a=i.length;o<a;o++)if(!e.contains(i[o].target)){n=!1;break}return n},disableOverflow:function(e,t){var n,r,i=this,o=t?"overflow-y":"overflow-x";if(!i.disabledOverflowDom&&!ei.Z.isiOS&&!ei.Z.scrollbar.width())for(i.disabledOverflowDom=e,r=t?i.panXCls:i.panYCls;e;)"auto"!==(n=ei.Z.fly(e).getStyle(o))&&"scroll"!==n||ei.Z.fly(e).addCls(r),e=e.parentNode},get:function(e){var t=null;return null!=(e=e.getAttribute(this.attributeName))?this.objectValues[e]:t},getFlags:function(e){var t;return"number"==typeof e?t=e:(t=0,!1!==e.panX&&(t|=1),!1!==e.panY&&(t|=2),!1!==e.pinchZoom&&(t|=4),!1!==e.doubleTapZoom&&(t|=8)),t},isScrollable:function(e,t,n){var r;return(r="auto"===(r=ei.Z.fly(e).getStyle(t?"overflow-y":"overflow-x"))||"scroll"===r)&&(t?n?e.scrollTop+e.clientHeight<e.scrollHeight:0<e.scrollTop:n?e.scrollLeft+e.clientWidth<e.scrollWidth:0<e.scrollLeft)},lookupFlags:function(e){return parseInt(e.getAttribute&&e.getAttribute(this.attributeName)||15,10)},onScroll:function(){this.scrollOccurred=!0,this.isDoubleTap=!1},onTouchEnd:function(e){var t,n=this,r=e.target;if(0===e.browserEvent.touches.length){if(n.isDoubleTap)for(;r;)null==(t=n.lookupFlags(r))||8&t||e.preventDefault(),r=r.parentNode;n.isDoubleTap=!1,n.preventSingle=null,n.preventMulti=null,n.resetOverflow()}},onTouchMove:function(e){var t,n,r,i,o,a,s,l,u=this,c=null,d=e.target,f=u.preventSingle,h=u.preventMulti,p=e.browserEvent.touches.length;if((1!==p||!1!==f)&&!1!==h){if(1<p&&!0===h||1===p&&!0===f)c=!0;else for(1===p&&(h=e.getPoint(),f=u.startPoint,o=ei.Z.Element.getViewportScale(),a=h.getDistanceTo(u.startPoint)*o,s=h.x-f.x,l=h.y-f.y,i=Math.abs(l)>=Math.abs(s));d&&1===d.nodeType;){if(0&(t=u.lookupFlags(d)))c=!0;else if(1===p){if(r=!!(2&t),(n=!!(1&t))&&r?c=!1:n||r?a>=u.minMoveDistance&&(c=!!(n&&i||r&&!i)):c=!0,!c&&u.isScrollable(d,i,(i?l:s)<0))break}else c=!!u.containsTargets(d,e)&&!(4&t);if(c)break;d=d.parentNode}1===p?u.preventSingle=c:1<p&&(u.preventMulti=c),c&&e.preventDefault()}},onTouchStart:function(e){var t,n,r,i,o=this;if(1===e.browserEvent.touches.length)for(t=e.time,!o.scrollOccurred&&t-o.lastTouchStartTime<=500&&(o.isDoubleTap=!0),o.lastTouchStartTime=t,o.scrollOccurred=!1,o.startPoint=e.getPoint(),r=e.target;r;){if(null!=(n=o.lookupFlags(r))&&(i=!!(1&n))!=!!(2&n)){o.disableOverflow(r,i);break}r=r.parentNode}else o.isDoubleTap=!1},resetOverflow:function(){for(var e=this.disabledOverflowDom;e;)ei.Z.fly(e).removeCls([this.panXCls,this.panYCls]),e=e.parentNode;this.disabledOverflowDom=null},set:function(e,t){var n=this.cssProp,r=(t=this.getFlags(t))&ei.Z.supports.TouchAction,i=this.attributeName;n&&ei.Z.fly(e).setStyle(n,this.cssValues[r]),15===t?e.removeAttribute(i):e.setAttribute(i,t)}}),ei.Z.define("GRUI.drag.Constraint",{alias:"drag.constraint.base",mixins:["GRUI.mixin.Factoryable"],factoryConfig:{defaultType:"base",type:"drag.constraint"},config:{element:null,horizontal:null,region:null,snap:null,source:null,vertical:null,x:null,y:null},constructor:function(e){this.initConfig(e)},applyElement:function(e){return(e=e&&"boolean"!=typeof e?ei.Z.get(e):e)||null},applySnap:function(e){return"number"==typeof e?{x:e,y:e}:e},constrain:function(e,t){var n,r,i=this,o=e[0],a=(e=e[1],i.constrainInfo),s=a.initial,l=a.x,u=a.y,c=a.snap;return a.vertical?o=s.x:(c&&c.x&&(o=c.xFn?c.x.call(i,t,o):i.doSnap(o,s.x,c.x)),l&&(null!==(n=l[0])&&o<n&&(o=n),null!==(r=l[1])&&r<o&&(o=r))),a.horizontal?e=s.y:(c&&c.y&&(e=c.yFn?c.y.call(i,t,e):i.doSnap(e,s.y,c.y)),u&&(null!==(n=u[0])&&e<n&&(e=n),null!==(r=u[1])&&r<e&&(e=r))),[o,e]},destroy:function(){this.setSource(null),this.setElement(null),this.callParent2(this,"null","null","destroy",this.destroy,arguments)},privates:{constrainValue:function(e,t,n){var r=null,i=null===e,o=null===t;return i&&o?r:i?t:o?e:n(e,t)},doSnap:function(e,t,n){if(!n)return e;e=(e-t)/n;var r=Math.floor(e);return t+n*(e-r<=.5?r:r+1)},onDragStart:function(e){var t,n=this,r=n.getSnap(),i=!!n.getVertical(),o=!!n.getHorizontal(),a=n.getElement(),s=n.getRegion(),l=e.proxy,u=l.element,c=n.getX(),d=n.getY(),f=null,h=null,p=null,g=null,m=null,v=null,y=null,b=null;a&&("boolean"==typeof a&&(a=n.getSource().getElement().parent()),s=e.local?"relative"===(t=a.getStyle("position"))||"absolute"===t?(t=a.getSize(),new ei.Z.util.Region(0,t.width,t.height,0)):a.getRegion(!0,!0):a.getRegion(!0)),s&&(i||(m=s.left,v=s.right-(u?l.width:0)),o||(y=s.top,b=s.bottom-(u?l.height:0))),i||!s&&!c||(c&&(f=c[0],h=c[1]),null===f&&null===h&&null===m&&null===v||(c=[f=n.constrainValue(f,m,Math.max),h=n.constrainValue(h,v,Math.min)])),o||!s&&!d||(d&&(p=d[0],g=d[1]),null===p&&null===g&&null===y&&null===b||(d=[p=n.constrainValue(p,y,Math.max),g=n.constrainValue(g,b,Math.min)])),r=r&&{x:r.x,xFn:"function"==typeof r.x,y:r.y,yFn:"function"==typeof r.y},n.constrainInfo={initial:e.element.initial,vertical:i,horizontal:o,x:c,y:d,snap:r}}}}),ei.Z.define("GRUI.drag.Info",{requires:["GRUI.Promise"],constructor:function(e,t){var n,r,i,o,a,s;e&&(n=this,o=e.getLocal(),n.source=e,n.local=o,n.getEventXY(t),a=t.getXY(),s=(r=e.getElement()).getXY(),i=(o=o?r.getLocalXY():s)[0],o=o[1],n.initialEvent=t,n.eventTarget=t.target,n.cursor={current:{x:i,y:o},delta:{x:0,y:0},initial:{x:a[0],y:a[1]},offset:{x:a[0]-s[0],y:a[1]-s[1]}},n.element={current:{x:i,y:o},delta:{x:0,y:0},initial:{x:i,y:o}},n.proxy={instance:e.getProxy(),current:{x:i,y:o},delta:{x:0,y:0},initial:{x:i,y:o},element:r,isUnderCursor:!1,isElement:!0},n.types=[],n.data={},e.describe(n),a=(t=n.proxy).instance.setupElement(n),t.isElement=a===e.getElement(),(t.element=a)&&(t.width=a.getWidth(),t.height=a.getHeight()),t.isElement&&((r=n.element).current=t.current,r.delta=t.delta),n.needsCursorCheck=t.element&&e.manager&&e.manager.pointerBug)},cursor:null,element:null,eventTarget:null,files:null,isNative:!1,proxy:null,source:null,target:null,types:null,valid:!1,clearData:function(e){ei.Z.Array.remove(this.types,e),delete this.data[e]},clone:function(){var e=this,t=new ei.Z.drag.Info;return t.cursor=ei.Z.merge({},e.cursor),t.data=ei.Z.apply({},e.data),t.element=ei.Z.merge({},e.element),t.eventTarget=e.eventTarget,t.proxy=ei.Z.merge({},e.proxy),t.source=e.source,t.target=e.target,t.types=ei.Z.Array.clone(e.types),t.valid=e.valid,t},getData:function(e){var t,n=this,r=n.data,i=n.dataTransfer;return i?t=i.getData(e):("function"==typeof(t=r[e])&&(r[e]=t=t.call(n.source,n)),t||0===t||(t="")),ei.Z.Promise.resolve(t)},setData:function(e,t){ei.Z.Array.include(this.types,e),this.data[e]=t},destroy:function(){var e=this;e.eventTarget=e.data=e.proxy=e.targetMap=e.targetMap=e.types=e.elementMap=e.possibleTargets=e.target=null,this.callParent2(this,"null","null","destroy",this.destroy,arguments)},privates:{data:null,dataTransfer:null,elementMap:null,possibleTargets:null,targetMap:null,copyNativeData:function(e,t){t=t.browserEvent.dataTransfer,this.target=e,this.dataTransfer=t,this.files=t.files},finalize:function(){var e=this,t=e.target;e.finalized=!0,t&&(t.info=null,t.handleDrop(e))},getAlignXY:function(e,t){var n=this,r=n.source,i=n.cursor.offset,o=r.getProxy(),a=n.proxy.element;r=r.getConstrain(),e=[e,t];return a&&(n.proxy.isElement?(e[0]-=i.x,e[1]-=i.y):e=o.adjustCursorOffset(n,e),r&&(e=r.constrain(e,n))),e},getEventXY:function(e){e=e.getXY();var t=this.source;return this.local?t.convertToLocalXY(e):e},onNativeDragEnter:function(e,t){var n=this;n.valid=e.accepts(n),(e.info=n).copyNativeData(e,t)},onNativeDragLeave:function(e,t){var n=this;n.target===e&&(e.info=null,n.valid=!1,n.target=n.dataTransfer=n.files=null)},onNativeDragMove:function(e,t){this.copyNativeData(e,t)},onNativeDrop:function(e,t){this.copyNativeData(e,t),e.info=null},setActive:function(e){var t=this,n=t.source,r=t.target,i=r!==e;r&&i&&(r.handleDragLeave(t),r.info=null),(t.target=e)?(i&&(t.valid=!!t.possibleTargets[e.getId()]&&!1!==e.accepts(t),e.handleDragEnter(t),e.info=t),e.handleDragMove(t)):t.valid=!1,i&&n.getProxy().update(t)},update:function(e,t){var n=this,r=(e=n.getEventXY(e))[0],i=(e=e[1],n.getAlignXY(r,e)),o=i[0],a=i[1],s=n.proxy,l=(c=n.cursor).current,u=c.delta,c=c.initial,d=s.instance;l.x=r,l.y=e,u.x=r-c.x,u.y=e-c.y,l=s.current,u=s.delta,c=s.initial,l.x=o,l.y=a,u.x=o-c.x,u.y=a-c.y,n.needsCursorCheck&&(s.isUnderCursor=!(r<o||e<a||r>s.width+o||e>s.height+a)),!t&&d&&d.setXY(n,i)}}}),ei.Z.define("GRUI.drag.Item",{mixins:["GRUI.mixin.Observable","GRUI.mixin.Identifiable"],config:{autoDestroy:!0,component:null,element:null,groups:null},constructor:function(e){this.mixins.observable.constructor.call(this,e)},isDisabled:function(){return this.disabled},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},updateComponent:function(e,t){var n;if(e)n=e.el;else{if(!t||t.el!==this.getElement())return;n=null}this.setElement(n)},applyElement:function(e){return e?ei.Z.get(e):null},updateElement:function(){this.setupListeners()},applyGroups:function(e){return"string"==typeof e?[e]:e},destroy:function(){var e=this,t=e.getElement();e.destroying=!0,e.setElement(null),t&&e.getAutoDestroy()&&t.destroy(),this.callParent2(this,"null","null","destroy",this.destroy,arguments)},privates:{disabled:!1,convertToLocalXY:function(e){var t=this.getComponent();return t?t.convertToLocalXY(e):[(e=this.getElement().translateXY(e[0],e[1])).x,e.y]},getElListeners:ei.Z.privateFn,setupListeners:function(e){var t=this,n=t.elListeners;e=e||t.getElement(),n&&(n.destroy(),t.elListeners=null),e&&(t.elListeners=e.on(ei.Z.apply({scope:t,destroyable:!0},t.getElListeners())))}}}),ei.Z.define("GRUI.drag.Manager",{singleton:!0,uses:["GRUI.mixin.Inheritable"],dragCls:ei.Z.baseCSSPrefix+"drag-body",pointerBug:ei.Z.isTouch||!ei.Z.supports.CSSPointerEvents||ei.Z.isIE10m||ei.Z.isOpera,constructor:function(){this.targets={},this.nativeTargets=[],ei.Z.onReady(this.init,this)},init:function(){ei.Z.getDoc().on({scope:this,dragenter:{capture:!0,fn:"onNativeDragEnter"},dragleave:"onNativeDragLeave",dragover:"onNativeDragOver",drop:"onNativeDrop"})},destroy:function(){var e,t=this,n=t.targets;for(e in t.destroying=!0,n)n[e].destroy();t.targets=null,this.callParent2(this,"null","null","destroy",this.destroy,arguments)},privates:{elementFromPoint:function(e,t){return ei.Z.rootInheritedState.rtl&&(e=ei.Z.Element.getViewportWidth()-e),ei.Z.dom.Element.fromPagePoint(e,t,!0)},getAtPoint:function(e){var t,n,r=e.cursor.current,i=e.elementMap,o=e.proxy.isUnderCursor;for((o=this.pointerBug&&o?e.proxy.element.dom:null)&&(o.style.visibility="hidden"),n=this.elementFromPoint(r.x,r.y),o&&(o.style.visibility="visible");n;){if(t=i[n.id])return t;n=n.parentNode}return null},getNativeDragInfo:function(e){var t=this.nativeDragInfo;return t||(this.nativeDragInfo=t=new ei.Z.drag.Info,t.isNative=!0),t},onDragCancel:function(){ei.Z.getBody().removeCls(this.dragCls)},onDragEnd:function(e,t){e.finalize(),ei.Z.getBody().removeCls(this.dragCls)},onDragMove:function(e,t){this.processDrag(e)},onDragStart:function(e,t){var n,r,i,o,a,s,l,u=this,c=e.source,d=u.targets,f=(c=c.getGroups(),{}),h={},p={};p={},h={};for(n in c&&(o=ei.Z.Array.toMap(c)),d){if(!(r=d[n]).isDisabled()){if(a=!1,i=r.getGroups(),o||i){if(o&&i)for(l=0,s=i.length;l<s;++l)if(o[i[l]]){a=!0;break}}else a=!0;a&&(h[n]=r)}p[(f[n]=r).getElement().id]=r}e.possibleTargets=h,e.targetMap=f,e.elementMap=p,ei.Z.getBody().addCls(u.dragCls),u.processDrag(e)},onNativeDragEnter:function(e){var t=this.nativeTargets,n=e.target;e.preventDefault(),t[t.length-1]!==n&&t.push(n)},onNativeDragLeave:function(e){var t=this.nativeTargets;ei.Z.Array.remove(t,e.target),0===t.length&&(this.nativeDragInfo=null)},onNativeDragOver:function(e){e.preventDefault()},onNativeDrop:function(e){e.preventDefault(),this.nativeTargets.length=0,this.nativeDragInfo=null},processDrag:function(e){e.setActive(this.getAtPoint(e))},register:function(e){this.targets[e.getId()]=e},unregister:function(e){this.destroying||(e=e.getId(),this.targets[e]=null,delete this.targets[e])}}}),ei.Z.define("GRUI.drag.Source",{extend:"GRUI.drag.Item",defaultIdPrefix:"source-",requires:["GRUI.GlobalEvents","GRUI.drag.Constraint"],config:{activateOnLongPress:!1,activeCls:null,constrain:null,handle:null,local:null,proxy:"original",revert:!1},dragging:!1,constructor:function(e){var t=e&&e.describe;t&&(this.describe=t,delete(e=ei.Z.apply({},e)).describe),this.callParent2(this,"GRUI.drag.Item","null","constructor",this.constructor,arguments),this.manager=ei.Z.drag.Manager},describe:ei.Z.emptyFn,isDragging:function(){return this.dragging},beforeDragStart:ei.Z.emptyFn,onDragCancel:ei.Z.emptyFn,onDragEnd:ei.Z.emptyFn,onDragMove:ei.Z.emptyFn,onDragStart:ei.Z.emptyFn,applyActivateOnLongPress:function(e){return"string"==typeof e?[e]:e},updateActivateOnLongPress:function(e){this.isConfiguring||this.setupListeners()},updateActiveCls:function(e,t){this.dragging&&this.getElement().replaceCls(t,e)},applyConstrain:function(e){return e&&!e.$isClass&&(e.isRegion?e={region:e}:!e.isElement&&ei.Z.isObject(e)||(e={element:e}),e=ei.Z.apply({source:this},e),e=ei.Z.Factory.dragConstraint(e)),e},updateElement:function(e,t){t&&!t.destroyed&&t.un("dragstart","stopNativeDrag",this),e&&!this.getHandle()&&(e.setTouchAction({panX:!1,panY:!1}),e.on("dragstart","stopNativeDrag",this,{translate:!1,delegated:!1})),this.callParent2(this,"GRUI.drag.Item","null","updateElement",this.updateElement,arguments)},updateHandle:function(){this.isConfiguring||this.setupListeners()},applyProxy:function(e){return e&&ei.Z.Factory.dragproxy(e)},updateProxy:function(e,t){t&&t.destroy(),e&&e.setSource(this)},resolveListenerScope:function(){var e=this.ownerCmp;return e?e.resolveListenerScope.apply(e,arguments):this.callParent2(this,"GRUI.drag.Item","null","resolveListenerScope",this.resolveListenerScope,arguments)},destroy:function(){var e=this;e.manager=e.initialEvent=null,e.setConstrain(null),e.setProxy(null),this.callParent2(this,"GRUI.drag.Item","null","destroy",this.destroy,arguments)},privates:{draggingCls:ei.Z.baseCSSPrefix+"drag-dragging",info:null,revertCls:ei.Z.baseCSSPrefix+"drag-revert",canActivateOnLongPress:function(e){var t=this.getActivateOnLongPress();return!(!t||!0!==t&&!ei.Z.Array.contains(t,e.pointerType))},dragCleanup:function(e){var t=this,n=t.getActiveCls(),r=t.getProxy(),i=t.getElement(),o=e?e.proxy.element:null;n&&i.removeCls(n),o&&o.removeCls(t.draggingCls),r.cleanup(e),t.dragging=!1,t.initialEvent=t.info=null},getElListeners:function(){var e=this.getHandle(),t={touchstart:"handleTouchStart",dragstart:"handleDragStart",drag:"handleDragMove",dragend:"handleDragEnd",dragcancel:"handleDragCancel"};return e&&(t.dragstart={fn:t.dragstart,delegate:e}),this.getActivateOnLongPress()&&(t.longpress="handleLongPress"),t},handleDragCancel:function(e){var t=this,n=t.info,r=t.manager;r&&r.onDragCancel(n,e),t.onDragCancel(n),t.hasListeners.dragcancel&&t.fireEvent("dragcancel",t,n,e),ei.Z.fireEvent("dragcancel",t,n,e),t.dragCleanup(n)},handleDragEnd:function(e){var t,n,r,i,o;this.dragging&&(n=(t=this).manager,r=t.getRevert(),o=(i=t.info).proxy,i.update(e),n&&n.onDragEnd(i,e),t.onDragEnd(i),t.hasListeners.dragend&&t.fireEvent("dragend",t,i,e),ei.Z.fireEvent("dragend",t,i,e),o=o.instance,r&&o?o.dragRevert(i,t.revertCls,r,(function(){t.dragCleanup(i)})):t.dragCleanup(i))},handleDragMove:function(e){var t=this,n=t.info,r=t.manager;t.dragging&&(e.stopPropagation(),e.claimGesture(),n.update(e),r&&r.onDragMove(n,e),t.onDragMove(n),t.hasListeners.dragmove&&t.fireEvent("dragmove",t,n,e))},handleDragStart:function(e){var t,n=this,r=n.hasListeners,i=n.manager,o=n.getConstrain(),a=n.initialEvent;return!n.preventStart(e)&&(r.initdragconstraints&&n.fireEvent("initdragconstraints",n,e),n.info=a=new ei.Z.drag.Info(n,a),n.setup(a),o&&o.onDragStart(a),a.update(e,!0),(o=!(o=!1===n.beforeDragStart(a))&&r.beforedragstart?!1===n.fireEvent("beforedragstart",n,a,e):o)?(n.dragCleanup(),!1):(e.claimGesture(),n.dragging=!0,o=n.getActiveCls(),t=n.getElement(),o&&t.addCls(o),(t=a.proxy.element)&&t.addCls(n.draggingCls),a.update(e),i&&i.onDragStart(a,e),n.onDragStart(a),r.dragstart&&n.fireEvent("dragstart",n,a,e),void ei.Z.fireEvent("dragstart",n,a,e)))},handleLongPress:function(e){!this.isDisabled()&&this.canActivateOnLongPress(e)&&(this.initialEvent=e).startDrag()},handleTouchStart:function(e){this.isDisabled()||(this.initialEvent=e)},preventStart:function(e){return this.isDisabled()||!e.longpress&&this.canActivateOnLongPress(e)},setup:ei.Z.privateFn,stopNativeDrag:function(e){e.preventDefault()}}}),ei.Z.define("GRUI.drag.Target",{extend:"GRUI.drag.Item",requires:["GRUI.drag.Manager"],defaultIdPrefix:"target-",config:{invalidCls:"",validCls:""},constructor:function(e){var t=e&&e.accepts;t&&(this.accepts=t,delete(e=ei.Z.apply({},e)).accepts),this.callParent2(this,"GRUI.drag.Item","null","constructor",this.constructor,arguments),ei.Z.drag.Manager.register(this)},accepts:function(e){return!0},disable:function(){this.callParent2(this,"GRUI.drag.Item","null","disable",this.disable,arguments),this.setupListeners(null)},enable:function(){this.callParent2(this,"GRUI.drag.Item","null","enable",this.enable,arguments),this.setupListeners()},beforeDrop:ei.Z.emptyFn,onDrop:ei.Z.emptyFn,onDragEnter:ei.Z.emptyFn,onDragLeave:ei.Z.emptyFn,onDragMove:ei.Z.emptyFn,updateInvalidCls:function(e,t){var n=this.info;this.doUpdateCls(n&&!n.valid,e,t)},updateValidCls:function(e,t){var n=this.info;this.doUpdateCls(n&&n.valid,e,t)},destroy:function(){ei.Z.drag.Manager.unregister(this),this.callParent2(this,"GRUI.drag.Item","null","destroy",this.destroy,arguments)},privates:{doUpdateCls:function(e,t,n){var r=this.getElement();n&&r.removeCls(n),t&&e&&r.addCls(t)},getElListeners:function(){return{dragenter:"handleNativeDragEnter",dragleave:"handleNativeDragLeave",dragover:"handleNativeDragMove",drop:"handleNativeDrop"}},handleDrop:function(e){var t=this,n=t.hasListeners,r=e.valid;return t.getElement().removeCls([t.getInvalidCls(),t.getValidCls()]),!(!r||!1===t.beforeDrop(e))&&(!n.beforedrop||!1!==t.fireEvent("beforedrop",t,e))&&(t.onDrop(e),void(n.drop&&t.fireEvent("drop",t,e)))},handleDragEnter:function(e){var t=this,n=e.valid?t.getValidCls():t.getInvalidCls();n&&t.getElement().addCls(n),t.onDragEnter(e),t.hasListeners.dragenter&&t.fireEvent("dragenter",t,e)},handleDragLeave:function(e){var t=this;t.getElement().removeCls([t.getInvalidCls(),t.getValidCls()]),t.onDragLeave(e),t.hasListeners.dragleave&&t.fireEvent("dragleave",t,e)},handleDragMove:function(e){var t=this;t.onDragMove(e),t.hasListeners.dragmove&&t.fireEvent("dragmove",t,e)},handleNativeDragEnter:function(e){var t=this,n=ei.Z.drag.Manager.getNativeDragInfo(e);n.onNativeDragEnter(t,e),t.hasListeners.dragenter&&t.fireEvent("dragenter",t,n)},handleNativeDragLeave:function(e){var t=this,n=ei.Z.drag.Manager.getNativeDragInfo(e);n.onNativeDragLeave(t,e),t.hasListeners.dragleave&&t.fireEvent("dragleave",t,n)},handleNativeDragMove:function(e){var t=this,n=ei.Z.drag.Manager.getNativeDragInfo(e);n.onNativeDragMove(t,e),t.hasListeners.dragmove&&t.fireEvent("dragmove",t,n)},handleNativeDrop:function(e){var t=this,n=t.hasListeners,r=ei.Z.drag.Manager.getNativeDragInfo(e),i=r.valid;r.onNativeDrop(t,e),!i||n.beforedrop&&!1===t.fireEvent("beforedrop",t,r)||n.drop&&t.fireEvent("drop",t,r)}}}),ei.Z.define("GRUI.drag.proxy.None",{mixins:["GRUI.mixin.Factoryable"],alias:"drag.proxy.none",factoryConfig:{aliasPrefix:"drag.proxy.",type:"dragproxy"},config:{source:null},constructor:function(e){var t=e&&e.getElement;t&&(this.getElement=t,delete(e=ei.Z.apply({},e)).getElement),this.initConfig(e)},cleanup:ei.Z.emptyFn,dragRevert:function(e,t,n,r){var i=this.getPositionable(e);e=e.proxy.initial;i.addCls(t),i.setXY([e.x,e.y],ei.Z.apply({callback:function(){i.removeCls(t),r()}},n))},getElement:function(){return null},getPositionable:function(){return this.element},setXY:function(e,t,n){(e=this.getPositionable(e))&&e.setXY(t,n)},update:ei.Z.emptyFn,privates:{setupElement:function(e){return this.element=this.getElement(e)},adjustCursorOffset:function(e,t){return t}}}),ei.Z.define("GRUI.drag.proxy.Original",{extend:"GRUI.drag.proxy.None",alias:"drag.proxy.original",getElement:function(e){return e.source.getElement()},getPositionable:function(e){return(e=e.source).getComponent()||e.getElement()}}),ei.Z.define("GRUI.drag.proxy.Placeholder",{extend:"GRUI.drag.proxy.None",alias:"drag.proxy.placeholder",config:{cls:"",cursorOffset:[12,20],html:null,invalidCls:"",validCls:""},placeholderCls:ei.Z.baseCSSPrefix+"drag-proxy-placeholder",cleanup:function(){this.element=ei.Z.destroy(this.element)},getElement:function(){var e=ei.Z.getBody().createChild({cls:this.getCls(),html:this.getHtml()});return e.addCls(this.placeholderCls),e.setTouchAction({panX:!1,panY:!1}),e},update:function(e){var t=this.element,n=this.getInvalidCls(),r=this.getValidCls(),i=e.valid;e.target?t.replaceCls(i?n:r,i?r:n):t.removeCls([n,r])},updateCls:function(e,t){var n=this.element;n&&(t&&n.removeCls(t),e&&n.addCls(e))},updateHtml:function(e){var t=this.element;t&&t.setHtml(e||"")},updateInvalidCls:function(e,t){this.doUpdateCls(e,t)},updateValidCls:function(e,t){this.doUpdateCls(e,t)},destroy:function(){this.element=ei.Z.destroy(this.element),this.callParent2(this,"GRUI.drag.proxy.None","null","destroy",this.destroy,arguments)},privates:{adjustCursorOffset:function(e,t){var n=this.getCursorOffset();return n&&(t[0]+=n[0]||0,t[1]+=n[1]||0),t},doUpdateCls:function(e,t){var n,r=this.element;r&&(t&&(n=e&&r.hasCls(t),r.removeCls(t)),e&&n&&r.addCls(e))}}}),ei.Z.define("GRUI.overrides.drag.proxy.Placeholder",{override:"GRUI.drag.proxy.Placeholder",getElement:function(){var e=this.callParent2(this,"null","GRUI.drag.proxy.Placeholder","getElement",this.getElement,arguments);return e.addCls(ei.Z.baseCSSPrefix+"root"),e}}),ei.Z.define("GRUI.event.gesture.Recognizer",{requires:["GRUI.event.publisher.Gesture"],mixins:["GRUI.mixin.Identifiable"],priority:0,handledEvents:[],isStarted:!1,config:{onRecognized:ei.Z.emptyFn,callbackScope:null},constructor:function(e){this.initConfig(e),ei.Z.event.publisher.Gesture.instance.registerRecognizer(this)},onStart:ei.Z.emptyFn,onEnd:ei.Z.emptyFn,onTouchStart:ei.Z.emptyFn,onTouchMove:ei.Z.emptyFn,onTouchEnd:function(){return this.reset()},onTouchCancel:function(e){return this.cancel(e)},fire:function(e,t,n,r){this.getOnRecognized().call(this.getCallbackScope(),this,e,t,n,r)},cancel:function(e){return this.isStarted&&this.onCancel(e),this.reset()},onCancel:ei.Z.emptyFn,reset:function(){return this.isStarted=!1}}),ei.Z.define("GRUI.event.gesture.SingleTouch",{extend:"GRUI.event.gesture.Recognizer",isSingleTouch:!0,onTouchStart:function(e){if(1<e.touches.length)return this.cancel(e)}}),ei.Z.define("GRUI.event.gesture.DoubleTap",{extend:"GRUI.event.gesture.SingleTouch",priority:300,config:{moveDistance:8,tapDistance:24,maxDuration:300},handledEvents:["singletap","doubletap"],singleTapTimer:null,startTime:0,lastTapTime:0,onTouchStart:function(e){var t,n=this,r=this.callParent2(this,"GRUI.event.gesture.SingleTouch","null","onTouchStart",this.onTouchStart,arguments);return!1!==r&&(n.isStarted=!0,t=n.lastStartPoint=e.changedTouches[0].point,n.startPoint=n.startPoint||t,n.startTime=e.time,ei.Z.undefer(n.singleTapTimer)),r},onTouchMove:function(e){var t=this,n=e.changedTouches[0].point,r=ei.Z.Element.getViewportScale();if(Math.round(Math.abs(n.getDistanceTo(t.lastStartPoint)*r))>=t.getMoveDistance())return t.cancel(e)},onTouchEnd:function(e){var t,n=this,r=n.getMaxDuration(),i=e.time,o=e.target,a=n.lastTapTime,s=n.lastTarget,l=e.changedTouches[0].point;if(n.lastTapTime=i,n.lastTarget=o,a&&(t=i-a)<=r&&(a=ei.Z.Element.getViewportScale(),Math.round(Math.abs(l.getDistanceTo(n.startPoint)*a))<=n.getTapDistance()))return o!==s?n.cancel(e):(n.lastTarget=null,n.lastTapTime=0,n.fire("doubletap",e,{touch:e.changedTouches[0],duration:t}),this.callParent2(this,"GRUI.event.gesture.SingleTouch","null","onTouchEnd",this.onTouchEnd,arguments));i-n.startTime>r?(n.fire("singletap",e),n.reset()):n.setSingleTapTimer(e)},setSingleTapTimer:function(e){var t=this;t.singleTapTimer=ei.Z.defer((function(){t.fire("singletap",e),t.reset()}),t.getMaxDuration())},reset:function(){var e=this;return ei.Z.undefer(e.singleTapTimer),e.startTime=e.lastTapTime=0,e.lastStartPoint=e.startPoint=e.singleTapTimer=null,this.callParent2(this,"GRUI.event.gesture.SingleTouch","null","reset",this.reset,arguments)}},(function(e){var t=ei.Z.manifest.gestures;e.instance=new e(t&&t.doubleTap)})),ei.Z.define("GRUI.event.gesture.Drag",{extend:"GRUI.event.gesture.SingleTouch",priority:100,startPoint:null,previousPoint:null,lastPoint:null,handledEvents:["dragstart","drag","dragend","dragcancel"],config:{minDistance:8},constructor:function(){this.callParent2(this,"GRUI.event.gesture.SingleTouch","null","constructor",this.constructor,arguments),this.initInfo()},initInfo:function(){this.info={touch:null,previous:{x:0,y:0},x:0,y:0,delta:{x:0,y:0},absDelta:{x:0,y:0},flick:{velocity:{x:0,y:0}},direction:{x:0,y:0},time:0,previousTime:{x:0,y:0},longpress:!1}},onTouchStart:function(e){var t=this.callParent2(this,"GRUI.event.gesture.SingleTouch","null","onTouchStart",this.onTouchStart,arguments);return!1!==t&&(this.startTime=e.time,this.startPoint=e.changedTouches[0].point),t},tryDragStart:function(e){var t=this,n=e.changedTouches[0].point,r=t.getMinDistance(),i=ei.Z.Element.getViewportScale();r<=Math.round(Math.abs(n.getDistanceTo(t.startPoint)*i))&&t.doDragStart(e)},doDragStart:function(e,t){var n,r=this,i=e.changedTouches[0],o=i.point,a=r.info;t?(n=ei.Z.now(),r.startTime=n,r.startPoint=o,a.longpress=!0):n=e.time,r.isStarted=!0,r.previousPoint=r.lastPoint=o,r.resetInfo("x",e,i),r.resetInfo("y",e,i),a.time=n,r.fire("dragstart",e,a)},onTouchMove:function(e){var t,n,r=this;r.startPoint&&(r.isStarted||r.tryDragStart(e),r.isStarted&&(n=(t=e.changedTouches[0]).point,r.lastPoint&&(r.previousPoint=r.lastPoint),r.lastPoint=n,r.lastMoveEvent=e,r.updateInfo("x",e,t),r.updateInfo("y",e,t),r.info.time=e.time,r.fire("drag",e,r.info)))},onAxisDragEnd:function(e,t){var n=t.time-t.previousTime[e];0<n&&(t.flick.velocity[e]=(t[e]-t.previous[e])/n)},resetInfo:function(e,t,n){var r=this,i=r.lastPoint[e],o=r.startPoint[e],a=i-o,s=e.toUpperCase(),l=r.info;l.touch=n,l.delta[e]=a,l.absDelta[e]=Math.abs(a),l.previousTime[e]=r.startTime,l.previous[e]=o,l[e]=i,l.direction[e]=0,l["start"+s]=r.startPoint[e],l["previous"+s]=l.previous[e],l["page"+s]=l[e],l["delta"+s]=l.delta[e],l["absDelta"+s]=l.absDelta[e],l["previousDelta"+s]=0,l.startTime=r.startTime},updateInfo:function(e,t,n){var r=this,i=r.lastPoint[e],o=r.previousPoint[e],a=r.startPoint[e],s=i-a,l=r.info,u=l.direction,c=e.toUpperCase(),d=l.previous[e];l.touch=n,l.delta[e]=s,l.absDelta[e]=Math.abs(s),i!==d&&i!==l[e]&&(l.previous[e]=l[e],l.previousTime[e]=l.time),o<(l[e]=i)?u[e]=1:i<o&&(u[e]=-1),l["start"+c]=a,l["previous"+c]=l.previous[e],l["page"+c]=l[e],l["delta"+c]=l.delta[e],l["absDelta"+c]=l.absDelta[e],l["previousDelta"+c]=l.previous[e]-a,l.startTime=r.startTime},onTouchEnd:function(e){var t,n,r,i=this;return i.isStarted&&(n=(t=e.changedTouches[0]).point,r=i.info,i.lastPoint=n,i.updateInfo("x",e,t),i.updateInfo("y",e,t),r.time=e.time,i.onAxisDragEnd("x",r),i.onAxisDragEnd("y",r),i.fire("dragend",e,r)),this.callParent2(this,"GRUI.event.gesture.SingleTouch","null","onTouchEnd",this.onTouchEnd,arguments)},onCancel:function(e){var t=this,n=e.changedTouches[0],r=t.info;e.touches.length||(t.lastPoint=n.point),t.updateInfo("x",e,n),t.updateInfo("y",e,n),r.time=e.time,t.fire("dragcancel",e,r,!0)},reset:function(){var e=this;return e.lastPoint=e.startPoint=e.previousPoint=e.lastPoint=e.lastMoveEvent=null,e.initInfo(),this.callParent2(this,"GRUI.event.gesture.SingleTouch","null","reset",this.reset,arguments)}},(function(e){var t=ei.Z.manifest.gestures;e.instance=new e(t&&t.drag)})),ei.Z.define("GRUI.event.gesture.Swipe",{extend:"GRUI.event.gesture.SingleTouch",priority:600,handledEvents:["swipestart","swipe","swipecancel"],config:{minDistance:80,maxOffset:35,maxDuration:1e3},onTouchStart:function(e){var t,n=this,r=this.callParent2(this,"GRUI.event.gesture.SingleTouch","null","onTouchStart",this.onTouchStart,arguments);return!1!==r&&(t=e.changedTouches[0],n.startTime=e.time,n.isHorizontal=!0,n.isVertical=!0,n.startX=t.pageX,n.startY=t.pageY),r},onTouchMove:function(e){var t,n,r,i=this,o=e.changedTouches[0],a=o.pageX,s=o.pageY,l=a-i.startX,u=s-i.startY,c=(a=Math.abs(a-i.startX),s=Math.abs(s-i.startY),e.time-i.startTime);return 0===a&&0===s||c>i.getMaxDuration()?i.cancel(e):(i.isHorizontal&&s>i.getMaxOffset()&&(i.isHorizontal=!1),i.isVertical&&a>i.getMaxOffset()&&(i.isVertical=!1),i.isVertical&&i.isHorizontal||(t=i.getMinDistance(),i.isHorizontal&&a<t?(n=l<0?"left":"right",r=a):i.isVertical&&s<t&&(n=u<0?"up":"down",r=s)),i.isHorizontal||i.isVertical?void(n&&!i.isStarted&&(i.isStarted=!0,i.fire("swipestart",e,{touch:o,direction:n,distance:r,duration:c}))):i.cancel(e))},onTouchEnd:function(e){var t,n,r,i,o,a,s,l,u,c=this;return!1!==c.onTouchMove(e)&&(n=(t=e.changedTouches[0]).pageX,r=t.pageY,n-=c.startX,r-=c.startY,i=Math.abs(n),o=Math.abs(r),a=c.getMinDistance(),s=e.time-c.startTime,c.isVertical&&o<a&&(c.isVertical=!1),c.isHorizontal&&i<a&&(c.isHorizontal=!1),c.isHorizontal?(l=n<0?"left":"right",u=i):c.isVertical&&(l=r<0?"up":"down",u=o),c.fire("swipe",e,{touch:t,direction:l,distance:u,duration:s})),this.callParent2(this,"GRUI.event.gesture.SingleTouch","null","onTouchEnd",this.onTouchEnd,arguments)},onCancel:function(e){this.fire("swipecancel",e,null,!0)},reset:function(){var e=this;return e.startTime=e.isHorizontal=e.isVertical=e.startX=e.startY=null,this.callParent2(this,"GRUI.event.gesture.SingleTouch","null","reset",this.reset,arguments)}},(function(e){var t=ei.Z.manifest.gestures;e.instance=new e(t&&t.swipe)})),ei.Z.define("GRUI.event.gesture.EdgeSwipe",{extend:"GRUI.event.gesture.Swipe",priority:500,handledEvents:["edgeswipe","edgeswipestart","edgeswipeend","edgeswipecancel"],config:{minDistance:60},onTouchStart:function(e){var t,n=this,r=this.callParent2(this,"GRUI.event.gesture.Swipe","null","onTouchStart",this.onTouchStart,arguments);return!1!==r&&(t=e.changedTouches[0],n.direction=null,n.isHorizontal=!0,n.isVertical=!0,n.startX=t.pageX,n.startY=t.pageY),r},onTouchMove:function(e){var t,n,r=this,i=e.changedTouches[0],o=i.pageX,a=i.pageY,s=o-r.startX,l=a-r.startY,u=(a=Math.abs(a-r.startY),o=Math.abs(o-r.startX),r.getMinDistance()),c=r.getMaxOffset(),d=e.time-r.startTime,f=ei.Z.Viewport&&ei.Z.Element.getViewportWidth(),h=ei.Z.Viewport&&ei.Z.Element.getViewportHeight();if(r.isVertical&&c<o&&(r.isVertical=!1),r.isHorizontal&&c<a&&(r.isHorizontal=!1),r.isVertical&&r.isHorizontal&&(o<a?r.isHorizontal=!1:r.isVertical=!1),r.isHorizontal?(t=s<0?"left":"right",n=s):r.isVertical&&(t=l<0?"up":"down",n=l),"up"===(t=r.direction||(r.direction=t))?n=-1*l:"left"===t&&(n=-1*s),!(r.distance=n))return r.cancel(e);if(r.isStarted)r.fire("edgeswipe",e,{touch:i,direction:t,distance:n,duration:d});else{if("right"===t&&r.startX>u||"down"===t&&r.startY>u||"left"===t&&f-r.startX>u||"up"===t&&h-r.startY>u)return r.cancel(e);r.isStarted=!0,r.startTime=e.time,r.fire("edgeswipestart",e,{touch:i,direction:t,distance:n,duration:d})}},onTouchEnd:function(e){var t,n=this;return!1!==n.onTouchMove(e)&&(t=e.time-n.startTime,n.fire("edgeswipeend",e,{touch:e.changedTouches[0],direction:n.direction,distance:n.distance,duration:t})),this.reset()},onCancel:function(e){this.fire("edgeswipecancel",e,{touch:e.changedTouches[0]},!0)},reset:function(){var e=this;return e.direction=e.isHorizontal=e.isVertical=e.startX=e.startY=e.startTime=e.distance=null,this.callParent2(this,"GRUI.event.gesture.Swipe","null","reset",this.reset,arguments)}},(function(e){var t=ei.Z.manifest.gestures;e.instance=new e(t&&t.edgeSwipe)})),ei.Z.define("GRUI.event.gesture.LongPress",{extend:"GRUI.event.gesture.SingleTouch",priority:400,config:{moveDistance:8,minDuration:1e3},handledEvents:["longpress","taphold"],onTouchStart:function(e){var t=this.callParent2(this,"GRUI.event.gesture.SingleTouch","null","onTouchStart",this.onTouchStart,arguments);return!1!==t&&(this.startPoint=e.changedTouches[0].point,this.setLongPressTimer(e)),t},setLongPressTimer:function(e){var t=this;ei.Z.undefer(t.timer),t.timer=ei.Z.defer(t.fireLongPress,t.getMinDuration(),t,[e])},onTouchMove:function(e){var t=this,n=e.changedTouches[0].point,r=ei.Z.Element.getViewportScale();if(Math.round(Math.abs(n.getDistanceTo(t.startPoint)*r))>=t.getMoveDistance())return t.cancel(e)},reset:function(){var e=this;return e.timer=e.startPoint=ei.Z.undefer(e.timer),this.callParent2(this,"GRUI.event.gesture.SingleTouch","null","reset",this.reset,arguments)},fireLongPress:function(e){var t={touch:e.changedTouches[0],duration:this.getMinDuration(),startDrag:this.startDrag};this.fire("taphold",e,t),this.fire("longpress",e,t),this.reset()},startDrag:function(){var e=ei.Z.event.gesture.Drag.instance,t=this.parentEvent;e.doDragStart(t,!0),ei.Z.event.publisher.Gesture.instance.claimRecognizer(e,t)}},(function(e){var t=ei.Z.manifest.gestures;e.instance=new e(t&&t.longPress)})),ei.Z.define("GRUI.event.gesture.MultiTouch",{extend:"GRUI.event.gesture.Recognizer",requiredTouchesCount:2,isTracking:!1,isMultiTouch:!0,onTouchStart:function(e){var t=this,n=t.requiredTouchesCount,r=e.touches.length;if(r===n)t.isTracking=!0;else if(n<r)return t.cancel(e)},reset:function(){return this.isTracking=!1,this.callParent2(this,"GRUI.event.gesture.Recognizer","null","reset",this.reset,arguments)}}),ei.Z.define("GRUI.event.gesture.Pinch",{extend:"GRUI.event.gesture.MultiTouch",priority:700,handledEvents:["pinchstart","pinch","pinchend","pinchcancel"],startDistance:0,lastTouches:null,onTouchMove:function(e){var t,n,r,i=this;i.isTracking&&(r=(t=e.touches)[0].point,n=t[1].point,0!==(r=r.getDistanceTo(n))&&(i.isStarted?i.fire("pinch",e,{touches:t,distance:r,scale:r/i.startDistance}):(i.isStarted=!0,i.startDistance=r,i.fire("pinchstart",e,{touches:t,distance:r,scale:1}))))},onTouchEnd:function(e){return this.isStarted&&this.fire("pinchend",e),this.callParent2(this,"GRUI.event.gesture.MultiTouch","null","onTouchEnd",this.onTouchEnd,arguments)},onCancel:function(e){this.fire("pinchcancel",e,null,!0)},reset:function(){return this.lastTouches=null,this.startDistance=0,this.callParent2(this,"GRUI.event.gesture.MultiTouch","null","reset",this.reset,arguments)}},(function(e){var t=ei.Z.manifest.gestures;e.instance=new e(t&&t.pinch)})),ei.Z.define("GRUI.event.gesture.Rotate",{extend:"GRUI.event.gesture.MultiTouch",priority:800,handledEvents:["rotatestart","rotate","rotateend","rotatecancel"],startAngle:0,lastTouches:null,lastAngle:null,onTouchMove:function(e){var t,n,r,i,o,a,s=this;s.isTracking&&(t=e.touches,n=s.lastAngle,r=t[0].point,a=t[1].point,r=r.getAngleTo(a),null!==n&&(a=Math.abs(n-r),i=r+360,o=r-360,Math.abs(i-n)<a?r=i:Math.abs(o-n)<a&&(r=o)),s.lastAngle=r,s.isStarted?s.fire("rotate",e,{touches:t,angle:r,rotation:r-s.startAngle}):(s.isStarted=!0,s.startAngle=r,s.fire("rotatestart",e,{touches:t,angle:r,rotation:0})),s.lastTouches=ei.Z.Array.clone(t))},onTouchEnd:function(e){return this.isStarted&&this.fire("rotateend",e),this.callParent2(this,"GRUI.event.gesture.MultiTouch","null","onTouchEnd",this.onTouchEnd,arguments)},onCancel:function(e){this.fire("rotatecancel",e,null,!0)},reset:function(){var e=this;return e.lastTouches=e.lastAngle=e.startAngle=null,this.callParent2(this,"GRUI.event.gesture.MultiTouch","null","reset",this.reset,arguments)}},(function(e){var t=ei.Z.manifest.gestures;e.instance=new e(t&&t.rotate)})),ei.Z.define("GRUI.event.gesture.Tap",{extend:"GRUI.event.gesture.SingleTouch",priority:200,handledEvents:["tap","tapcancel"],config:{moveDistance:8},onTouchStart:function(e){var t=this.callParent2(this,"GRUI.event.gesture.SingleTouch","null","onTouchStart",this.onTouchStart,arguments);return!1!==t&&(this.isStarted=!0,this.startPoint=e.changedTouches[0].point),t},onTouchMove:function(e){var t=this,n=e.changedTouches[0].point,r=ei.Z.Element.getViewportScale();if(Math.round(Math.abs(n.getDistanceTo(t.startPoint)*r))>=t.getMoveDistance())return t.cancel(e)},onTouchEnd:function(e){return this.fire("tap",e,{touch:e.changedTouches[0]}),this.callParent2(this,"GRUI.event.gesture.SingleTouch","null","onTouchEnd",this.onTouchEnd,arguments)},onCancel:function(e){this.fire("tapcancel",e,{touch:e.changedTouches[0]},!0)},reset:function(){return this.startPoint=null,this.callParent2(this,"GRUI.event.gesture.SingleTouch","null","reset",this.reset,arguments)}},(function(e){var t=ei.Z.manifest.gestures;e.instance=new e(t&&t.tap)})),ei.Z.define("GRUI.event.publisher.Focus",{extend:"GRUI.event.publisher.Dom",requires:["GRUI.dom.Element","GRUI.GlobalEvents"],type:"focus",handledEvents:["focusenter","focusleave","focusmove"],handledDomEvents:["focusin","focusout"],publishDelegatedDomEvent:function(e){var t=e.relatedTarget;"focusout"===e.type?null==t&&this.processFocusIn(e,e.target,document.body):(null!=t&&t.tagName||(t=document.body),this.processFocusIn(e,t,e.target))},processFocusIn:function(e,t,n){var r,i,o,a,s=this,l=s.focusFly,u=[];if(!(t&&l.attach(t).isFocusSuspended()||n&&l.attach(n).isFocusSuspended())){for(n.compareDocumentPosition&&(o=!!(4&n.compareDocumentPosition(t))),r=ei.Z.dom.Element.getCommonAncestor(n,i=t,!0);i&&i!==r;i=i.parentNode)u.push(i);if(!u.length||(a=s.createSyntheticEvent("focusleave",e,t,n,t,n,o),s.publish(a,u),!a.stopped)){for(u.length=0,i=n;i&&i!==r;i=i.parentNode)u.push(i);l=s.createSyntheticEvent("focusenter",e,n,t,t,n,o),u.length&&(s.publish(l,u),l.stopped)||(u=s.getPropagatingTargets(r)).length&&(a=s.createSyntheticEvent("focusmove",e,n,t,t,n,o),s.publish(a,u),a.stopped)||ei.Z.GlobalEvents.hasListeners.focus&&ei.Z.GlobalEvents.fireEvent("focus",{event:l,toElement:n,fromElement:t,backwards:o})}}},createSyntheticEvent:function(e,t,n,r,i,o,a){return(t=new ei.Z.event.Event(t)).type=e,t.relatedTarget=r,t.target=n,t.fromElement=i,t.toElement=o,t.backwards=a,t}},(function(e){var t;e.prototype.focusFly=new ei.Z.dom.Fly,e.instance=new e,ei.Z.supports.FocusinFocusoutEvents||(this.override({handledDomEvents:["focus","blur"],publishDelegatedDomEvent:function(n){var r,i=this;this.callParent2(this,"GRUI.event.publisher.Dom","null","publishDelegatedDomEvent",this.publishDelegatedDomEvent,arguments),r=n.target!==window&&n.target!==document,"blur"===n.type?(r?(t=ei.Z.defer((function(){t=0,i.processFocusIn(n,n.target,document.body),e.previousActiveElement=null}),1),r&&ei.Z.cache[n.target.id]&&(ei.Z.cache[n.target.id].focusinTimeout=t)):n.explicitOriginalTarget===e.previousActiveElement&&n.target===window&&(ei.Z.undefer(t),t=0,i.processFocusIn(n,e.previousActiveElement,document.body),e.previousActiveElement=null),e.previousActiveElement=r?n.target:null):(ei.Z.undefer(t),t=0,i.processFocusIn(n,e.previousActiveElement||document.body,r?n.target:document.body))}}),ei.Z.define(null,{override:"GRUI.dom.Element",destroy:function(){this.focusinTimeout&&(ei.Z.undefer(this.focusinTimeout),this.focusinTimeout=null),this.callParent2(this,"GRUI.event.publisher.Dom","GRUI.dom.Element","destroy",this.destroy,arguments)}}))})),ei.Z.define("GRUI.fx.runner.Css",{extend:"GRUI.Evented",requires:["GRUI.fx.Animation"],prefixedProperties:{transform:!0,"transform-origin":!0,perspective:!0,"transform-style":!0,transition:!0,"transition-property":!0,"transition-duration":!0,"transition-timing-function":!0,"transition-delay":!0,animation:!0,"animation-name":!0,"animation-duration":!0,"animation-iteration-count":!0,"animation-direction":!0,"animation-timing-function":!0,"animation-delay":!0},lengthProperties:{top:!0,right:!0,bottom:!0,left:!0,width:!0,height:!0,"max-height":!0,"max-width":!0,"min-height":!0,"min-width":!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,"border-bottom-width":!0,"border-left-width":!0,"border-right-width":!0,"border-spacing":!0,"border-top-width":!0,"border-width":!0,"outline-width":!0,"letter-spacing":!0,"line-height":!0,"text-indent":!0,"word-spacing":!0,"font-size":!0,translate:!0,translateX:!0,translateY:!0,translateZ:!0,translate3d:!0,x:!0,y:!0},durationProperties:{"transition-duration":!0,"transition-delay":!0,"animation-duration":!0,"animation-delay":!0},angleProperties:{rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,skew:!0,skewX:!0,skewY:!0},DEFAULT_UNIT_LENGTH:"px",DEFAULT_UNIT_ANGLE:"deg",DEFAULT_UNIT_DURATION:"ms",customProperties:{x:!0,y:!0},formattedNameCache:{x:"left",y:"top"},transformMethods3d:["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","skewX","skewY","scaleX","scaleY","scaleZ"],transformMethodsNo3d:["translateX","translateY","rotate","skewX","skewY","scaleX","scaleY"],constructor:function(){var e=this;e.transformMethods=ei.Z.feature.has.Css3dTransforms?e.transformMethods3d:e.transformMethodsNo3d,e.vendorPrefix=ei.Z.browser.getStyleDashPrefix(),e.ruleStylesCache={},this.callParent2(this,"GRUI.Evented","null","constructor",this.constructor,arguments)},getStyleSheet:function(){var e,t=this.styleSheet;return t||((e=document.createElement("style")).type="text/css",(document.head||document.getElementsByTagName("head")[0]).appendChild(e),e=document.styleSheets,this.styleSheet=t=e[e.length-1]),t},applyRules:function(e){var t,n,r,i,o,a,s,l=this.getStyleSheet(),u=this.ruleStylesCache,c=l.cssRules;for(t in e)for(a in n=e[t],void 0===(r=u[t])&&(o=c.length,l.insertRule(t+"{}",o),r=u[t]=c.item(o).style),i=(i=r.$cache)||(r.$cache={}),n)s=this.formatValue(n[a],a),i[a=this.formatName(a)]!==s&&(null===(i[a]=s)?r.removeProperty(a):r.setProperty(a,s));return this},applyStyles:function(e){var t,n,r,i,o,a;for(t in e)if(e.hasOwnProperty(t)&&(this.activeElement=n=document.getElementById(t),n))for(o in r=n.style,i=e[t])i.hasOwnProperty(o)&&(a=this.formatValue(i[o],o),o=this.formatName(o),null===a?r.removeProperty(o):r.setProperty(o,a));return this.activeElement=null,this},formatName:function(e){var t=this.formattedNameCache,n=t[e];return n||(n=!ei.Z.os.is.Tizen&&ei.Z.feature.has.CssTransformNoPrefix||!this.prefixedProperties[e]?e:this.vendorPrefix+e,t[e]=n),n},formatValue:function(e,t){var n,r,i,o,a,s,l=typeof e,u=this.DEFAULT_UNIT_LENGTH,c=this.customProperties[t];if(null===e)return"";if("string"==l)return this.lengthProperties[t]&&!ei.Z.dom.Element.hasUnit(e)&&(e+=u,c&&(e=this.getCustomValue(e,t))),e;if("number"==l){if(0===e)return"0";if(this.lengthProperties[t])return e+=u,c?this.getCustomValue(e,t):e;if(this.angleProperties[t])return e+this.DEFAULT_UNIT_ANGLE;if(this.durationProperties[t])return e+this.DEFAULT_UNIT_DURATION}else{if("transform"===t){for(a=[],i=0,o=(n=this.transformMethods).length;i<o;i++)r=n[i],a.push(r+"("+this.formatValue(e[r],r)+")");return a.join(" ")}if(ei.Z.isArray(e)){for(s=[],i=0,o=e.length;i<o;i++)s.push(this.formatValue(e[i],t));return 0<s.length?s.join(", "):"none"}}return e},getCustomValue:function(e,t){var n=ei.Z.fly(this.activeElement);return"x"===t?e=n.translateXY(parseInt(e,10)).x:"y"===t&&(e=n.translateXY(null,parseInt(e,10)).y),e+this.DEFAULT_UNIT_LENGTH}}),ei.Z.define("GRUI.fx.runner.CssTransition",{extend:"GRUI.fx.runner.Css",requires:["GRUI.AnimationQueue"],alternateClassName:"GRUI.Animator",singleton:!0,listenersAttached:!1,constructor:function(){return this.runningAnimationsData={},this.transitionQueue={toData:{},transitionData:{}},this.callParent2(this,"GRUI.fx.runner.Css","null","constructor",this.constructor,arguments)},attachListeners:function(){var e=top===window?ei.Z.getWin():ei.Z.getBody();this.listenersAttached=!0,e.on("transitionend","onTransitionEnd",this)},onTransitionEnd:function(e){var t=e.target,n=t.id;n&&this.runningAnimationsData.hasOwnProperty(n)&&this.refreshRunningAnimationsData(ei.Z.get(t),[e.browserEvent.propertyName])},getElementId:function(e){return e.getId?e.getId():e.id},onAnimationEnd:function(e,t,n,r,i){var o,a,s,l,u,c=this.getElementId(e),d=this.runningAnimationsData[c],f={},h={};if(n.un("stop","onAnimationStop",this),d&&(o=d.nameMap),f[c]=h,t.onBeforeEnd&&t.onBeforeEnd.call(t.scope||this,e,r),n.fireEvent("animationbeforeend",n,e,r),this.fireEvent("animationbeforeend",this,n,e,r),i||!r&&!t.preserveEndState)for(s=0,l=(a=t.toPropertyNames).length;s<l;s++)u=a[s],o&&!o.hasOwnProperty(u)&&(h[u]=null);t.after&&ei.Z.merge(h,t.after),this.applyStyles(f),t.onEnd&&t.onEnd.call(t.scope||this,e,r),n.fireEvent("animationend",n,e,r),this.fireEvent("animationend",this,n,e,r),ei.Z.AnimationQueue.stop(ei.Z.emptyFn,n)},onAllAnimationsEnd:function(e){var t=this.getElementId(e),n=this.transitionQueue,r={};delete this.runningAnimationsData[t],r[t]={"transition-property":null,"transition-duration":null,"transition-timing-function":null,"transition-delay":null},delete n.toData[t],delete n.transitionData[t],this.applyStyles(r),this.fireEvent("animationallend",this,e)},hasRunningAnimations:function(e){e=this.getElementId(e);var t=this.runningAnimationsData;return t.hasOwnProperty(e)&&0<t[e].sessions.length},refreshRunningAnimationsData:function(e,t,n,r){var i,o,a,s,l,u,c,d,f,h,p,g=this.getElementId(e),m=!1;if(g=this.runningAnimationsData[g]){if(i=g.nameMap,o=g.nameList,a=g.sessions,n=Boolean(n),r=Boolean(r),!a)return this;if(0===(f=a.length))return this;if(r){for(g.nameMap={},d=o.length=0;d<f;d++)l=a[d],this.onAnimationEnd(e,l.data,l.animation,n,r);a.length=0}else for(d=0;d<f;d++){for(u=(l=a[d]).map,c=l.list,h=0,p=t.length;h<p;h++)u[s=t[h]]&&(delete u[s],ei.Z.Array.remove(c,s),l.length--,0==--i[s]&&(delete i[s],ei.Z.Array.remove(o,s)));0===l.length&&(a.splice(d,1),d--,f--,m=!0,this.onAnimationEnd(e,l.data,l.animation,n))}r||n||0!==a.length||!m||this.onAllAnimationsEnd(e)}},getRunningData:function(e){var t=this.runningAnimationsData;return t.hasOwnProperty(e)||(t[e]={nameMap:{},nameList:[],sessions:[]}),t[e]},getTestElement:function(){var e,t,n=this,r=n.testElement,i=n.iframe;return r?r.ownerDocument.defaultView!==i.contentWindow&&((e=i.contentDocument).body.appendChild(r),n.testElementComputedStyle=e.defaultView.getComputedStyle(r)):((i=n.iframe=document.createElement("iframe")).setAttribute("tabIndex",-1),(t=i.style).setProperty("visibility","hidden","important"),t.setProperty("width","0px","important"),t.setProperty("height","0px","important"),t.setProperty("position","absolute","important"),t.setProperty("border","0px","important"),t.setProperty("zIndex","-1000","important"),document.body.appendChild(i),(e=i.contentDocument).open(),e.writeln("</body>"),e.close(),n.testElement=r=e.createElement("div"),r.style.setProperty("position","absolute","important"),e.body.appendChild(r),n.testElementComputedStyle=e.defaultView.getComputedStyle(r)),r},getCssStyleValue:function(e,t){var n=this.getTestElement(),r=this.testElementComputedStyle,i=n.style;return i.setProperty(e,t),ei.Z.browser.is.Firefox&&n.offsetHeight,t=r.getPropertyValue(e),i.removeProperty(e),t},run:function(e){var t,n,r,i,o,a,s,l,u,c,d,f,h,p,g,m,v,y,b,C,S,x,I,R,w,E=this,Z=[],P=E.lengthProperties,T={},A=E.transitionQueue.toData,M={},k=E.transitionQueue.transitionData;for(E.listenersAttached||E.attachListeners(),u=0,d=(e=ei.Z.Array.from(e)).length;u<d;u++){for(v in f=e[u],f=ei.Z.factory(f,ei.Z.fx.Animation),Z.push(f),E.activeElement=l=f.getElement(),ei.Z.AnimationQueue.start(ei.Z.emptyFn,f),g=window.getComputedStyle(l.dom),M[t=E.getElementId(l)]=M=ei.Z.merge({},f.getData()),(w=f.getOnBeforeStart())&&w.call(f.scope||E,l),f.fireEvent("animationstart",f,M),E.fireEvent("animationstart",E,f,M),w=M.before,n=M.from,r=M.to,M.fromPropertyNames=i=[],M.toPropertyNames=o=[],r)r.hasOwnProperty(v)&&(r[v]=y=E.formatValue(r[v],v),m=E.formatName(v),(C=P.hasOwnProperty(v))||(y=E.getCssStyleValue(m,y)),n.hasOwnProperty(v)?(n[v]=b=E.formatValue(n[v],v),y!==(b=C?b:E.getCssStyleValue(m,b))&&(i.push(m),o.push(m))):y!==g.getPropertyValue(m)&&o.push(m));if(0===(h=o.length))E.onAnimationEnd(l,M,f);else{for(0<(I=(R=E.getRunningData(t)).sessions).length&&E.refreshRunningAnimationsData(l,ei.Z.Array.merge(i,o),!0,M.replacePrevious),S=R.nameMap,x=R.nameList,p={},c=0;c<h;c++)p[v=o[c]]=!0,S.hasOwnProperty(v)?S[v]++:(S[v]=1,x.push(v));R={element:l,map:p,list:o.slice(),length:h,data:M,animation:f},I.push(R),f.on("stop","onAnimationStop",E),l=ei.Z.apply({},w),ei.Z.apply(l,n),0<x.length&&(i=ei.Z.Array.difference(x,i),o=ei.Z.Array.merge(i,o),l["transition-property"]=i),T[t]=l,A[t]=ei.Z.apply({},r),k[t]={"transition-property":o,"transition-duration":M.duration,"transition-timing-function":M.easing,"transition-delay":M.delay},f.startTime=Date.now()}}return E.activeElement=null,s=E.$className,E.applyStyles(T),a=function(e){e.data===s&&e.source===window&&(window.removeEventListener("message",a,!1),E.applyStyles(E.transitionQueue.toData))},E.messageTimerId||(E.messageTimerId=ei.Z.raf((function(){E.messageTimerId=null,ei.Z.merge(E.transitionQueue.toData,E.transitionQueue.transitionData),window.addEventListener("message",a,!1),window.postMessage(s,"*")}))),Z},onAnimationStop:function(e){var t,n,r,i,o,a=this,s=a.runningAnimationsData,l=0,u=0;for(t in s)if(s.hasOwnProperty(t))for(l++,r=0,i=(n=s[t].sessions).length;r<i;r++)(o=n[r]).animation===e&&(a.refreshRunningAnimationsData(o.element,o.list.slice(),!1),e.destroying&&u++);l===u&&(a.messageFollowupId&&(ei.Z.unraf(a.messageFollowupId),a.messageFollowupId=null),a.messageTimerId&&(ei.Z.unraf(a.messageTimerId),a.messageTimerId=null),ei.Z.apply(a.transitionQueue,{toData:{},transitionData:{}}))}}),ei.Z.define("GRUI.fx.easing.Bounce",{extend:"GRUI.fx.easing.Abstract",config:{springTension:.3,acceleration:30,startVelocity:0},getValue:function(){var e=(e=(ei.Z.Date.now()-this.getStartTime())/this.getAcceleration())*Math.pow(Math.E,-this.getSpringTension()*e);return this.getStartValue()+this.getStartVelocity()*e}}),ei.Z.define("GRUI.fx.easing.Momentum",{extend:"GRUI.fx.easing.Abstract",config:{acceleration:30,friction:0,startVelocity:0},alpha:0,updateFriction:function(e){e=Math.log(1-e/10),this.theta=e,this.alpha=e/this.getAcceleration()},updateStartVelocity:function(e){this.velocity=e*this.getAcceleration()},updateAcceleration:function(e){this.velocity=this.getStartVelocity()*e,this.alpha=this.theta/e},getValue:function(){return this.getStartValue()-this.velocity*(1-this.getFrictionFactor())/this.theta},getFrictionFactor:function(){var e=ei.Z.Date.now()-this.getStartTime();return Math.exp(e*this.alpha)},getVelocity:function(){return this.getFrictionFactor()*this.velocity}}),ei.Z.define("GRUI.fx.easing.BoundMomentum",{extend:"GRUI.fx.easing.Abstract",requires:["GRUI.fx.easing.Momentum","GRUI.fx.easing.Bounce"],config:{momentum:null,bounce:null,minMomentumValue:0,maxMomentumValue:0,minVelocity:.01,startVelocity:0},applyMomentum:function(e,t){return ei.Z.factory(e,ei.Z.fx.easing.Momentum,t)},applyBounce:function(e,t){return ei.Z.factory(e,ei.Z.fx.easing.Bounce,t)},updateStartTime:function(e){this.getMomentum().setStartTime(e),this.callParent2(this,"GRUI.fx.easing.Abstract","null","updateStartTime",this.updateStartTime,arguments)},updateStartVelocity:function(e){this.getMomentum().setStartVelocity(e)},updateStartValue:function(e){this.getMomentum().setStartValue(e)},reset:function(){return this.lastValue=null,this.isBouncingBack=!1,this.isOutOfBound=!1,this.callParent2(this,"GRUI.fx.easing.Abstract","null","reset",this.reset,arguments)},getValue:function(){var e,t=this.getMomentum(),n=this.getBounce(),r=t.getStartVelocity(),i=0<r?1:-1,o=this.getMinMomentumValue(),a=this.getMaxMomentumValue(),s=1==i?a:o,l=this.lastValue;if(0===r)return this.getStartValue();if(!this.isOutOfBound){if(e=t.getValue(),r=t.getVelocity(),Math.abs(r)<this.getMinVelocity()&&(this.isEnded=!0),o<=e&&e<=a)return e;this.isOutOfBound=!0,n.setStartTime(ei.Z.Date.now()).setStartVelocity(r).setStartValue(s)}return e=n.getValue(),this.isEnded||(this.isBouncingBack?Math.round(e)===s&&(this.isEnded=!0):null!==l&&(1==i&&e<l||-1==i&&l<e)&&(this.isBouncingBack=!0)),this.lastValue=e}}),ei.Z.define("GRUI.fx.easing.EaseIn",{extend:"GRUI.fx.easing.Linear",alias:"easing.ease-in",config:{exponent:4,duration:1500},getValue:function(){var e=ei.Z.Date.now()-this.getStartTime(),t=this.getDuration(),n=this.getStartValue(),r=this.getEndValue(),i=this.distance;n+=Math.pow(e/t,this.getExponent())*i;return t<=e?(this.isEnded=!0,r):n}}),ei.Z.define("GRUI.fx.easing.EaseOut",{extend:"GRUI.fx.easing.Linear",alias:"easing.ease-out",config:{exponent:4,duration:1500},getValue:function(){var e=ei.Z.Date.now()-this.getStartTime(),t=this.getDuration(),n=this.getStartValue(),r=this.getEndValue(),i=this.distance;n+=(1-Math.pow(1-e/t,this.getExponent()))*i;return t<=e?(this.isEnded=!0,r):n}}),ei.Z.define("GRUI.fx.easing.Easing",{requires:["GRUI.fx.easing.Linear"],constructor:function(e){return ei.Z.factory(e,ei.Z.fx.easing.Linear,null,"easing")}}),ei.Z.define("GRUI.list.AbstractTreeItem",{extend:"GRUI.Widget",isTreeListItem:!0,cachedConfig:{expandable:!1,expanded:!1,iconCls:"",leaf:!0,loading:!1,selected:!1,selectedParent:!1},config:{iconClsProperty:"iconCls",indent:null,owner:null,node:null,over:null,parentItem:null,text:{lazy:!0,$value:""},textProperty:"text"},updateNode:function(e){if(e){var t,n,r,i,o,a,s=this,l=s.itemMap;if(s.element.dom.setAttribute("data-recordId",e.internalId),!l)for(t=e.childNodes,n=s.getOwner(),s.itemMap=l={},i=0,r=t.length;i<r;++i)(a=t[i]).data.visible&&(o=n.createItem(a,s),l[a.internalId]=o,s.insertItem(o,null));s.setExpanded(e.isExpanded()),s.doNodeUpdate(e)}},updateSelected:function(e){var t;if(!this.isConfiguring)for(t=this.getParentItem();t&&!t.isRootListItem;)t.setSelectedParent(e),t=t.getParentItem()},collapse:function(){this.getNode().collapse()},expand:function(){this.getNode().expand()},getToolElement:ei.Z.emptyFn,insertItem:ei.Z.emptyFn,isExpanded:function(){return this.getExpanded()},isSelectionEvent:ei.Z.emptyFn,isToggleEvent:ei.Z.emptyFn,nodeCollapse:function(e,t){var n=this,r=n.getOwner();r=n.preventAnimation?null:r.getAnimation();n.nodeCollapseBegin(r,t),r||n.nodeCollapseEnd(t)},nodeCollapseBegin:function(e,t){var n=this,r=n.getOwner();n.setExpanded(!1),r.fireEvent("itemcollapse",r,n)},nodeCollapseEnd:function(e){e||this.destroying||this.getOwner().updateLayout()},nodeExpand:function(e){var t=this,n=t.getOwner();n=!t.getFloated()&&n.getAnimation();t.nodeExpandBegin(n),n||t.nodeExpandEnd()},nodeExpandBegin:function(e){var t=this,n=t.getOwner();t.setExpanded(!0),n.fireEvent("itemexpand",n,t)},nodeExpandEnd:function(){this.destroying||this.getOwner().updateLayout()},nodeInsert:function(e,t){var n,r=this,i=r.getOwner(),o=r.itemMap,a=e.internalId,s=i.getItem(e),l=null;s?((n=s.getParentItem()).removeItem(s),n!==r&&(n.doUpdateExpandable(),s.setParentItem(r))):s=r.getOwner().createItem(e,r),o[a]=s,t&&(l=o[t.internalId]),r.insertItem(s,l),r.doUpdateExpandable(),i.fireEvent("iteminsert",i,r,s,l),i.updateLayout()},nodeRemove:function(e){var t=this,n=t.itemMap,r=t.getOwner(),i=n[e=e.internalId];i&&(delete n[e],t.removeItem(i),i.destroy(),t.doUpdateExpandable(),r.fireEvent("itemremove",r,t,i),r.updateLayout())},nodeUpdate:function(e,t){this.doNodeUpdate(e)},onClick:function(e){var t=this,n=t.getOwner(),r=t.getNode();r={event:e,item:t,node:r,tree:n,select:!1!==r.get("selectable")&&t.isSelectionEvent(e),toggle:t.isToggleEvent(e)};!1!==n.fireEvent("itemclick",n,r)&&(r.toggle&&(t.toggleExpanded(),e.preventDefault()),r.select&&n.setSelection(t.getNode()))},removeItem:ei.Z.emptyFn,destroy:function(){var e,t=this,n=t.itemMap,r=t.getOwner();if(n){for(e in n)n[e].destroy();t.itemMap=null}r&&r.removeItem(t.getNode()),t.setNode(null),t.setParentItem(null),t.setOwner(null),this.callParent2(this,"GRUI.Widget","null","destroy",this.destroy,arguments)},privates:{doNodeUpdate:function(e,t){var n=this,r=this.getTextProperty(),i=this.getIconClsProperty();r&&n.setText(e.data[r]),i&&n.setIconCls(e.data[i]),n.setLoading(e.isLoading()),n.setLeaf(e.isLeaf()),n.doUpdateExpandable()},doUpdateExpandable:function(){var e=this.getNode();this.setExpandable(e.isExpandable())},toggleExpanded:function(){this.isExpanded()?this.collapse():this.expand()},updateIndent:function(e){var t,n=this.itemMap;for(t in n)n[t].setIndent(e)},updateOwner:function(e){this.parent=e}}}),ei.Z.define("GRUI.list.RootTreeItem",{extend:"GRUI.list.AbstractTreeItem",isRootListItem:!0,element:{reference:"element",tag:"ul",cls:ei.Z.baseCSSPrefix+"treelist-root-container"},insertItem:function(e,t){t?e.element.insertBefore(t.element):this.element.appendChild(e.element)},isToggleEvent:function(e){return!1}}),ei.Z.define("GRUI.mixin.ItemRippler",{mixinId:"itemrippler",config:{itemRipple:null},shouldRippleItem:function(e,t){var n;return!t.getTarget(this.noItemRippleSelector,this.element)&&((n=e&&this.getItemRipple())&&e.isWidget&&(e=e.shouldRipple(t))?ei.Z.apply({},n,e):n)},rippleItem:function(e,t){var n,r,i,o,a;e&&(o=t.type.match((n=this).rippleStateRe),a=!0===(i=(r=n.shouldRippleItem(e,t))&&r.release),e=e.isWidget?e.el:e,r&&o&&a&&(n.$rippleStart=t.getXY()),r&&e&&(!o&&a||o&&!0!==i)&&(a=n.$rippledItems||(n.$rippledItems=[]),(o=n.$rippleStart)?(i=t.getXY(),Math.sqrt(Math.pow(i[0]-o[0],2)+Math.pow(i[1]-o[1],2))<=8&&(e.ripple(t,r),a.push(e))):(e.ripple(t,r),a.push(e)),n.$rippleStart=null))},destroyAllRipples:function(){for(var e=this.$rippledItems;e&&e.length;)e.pop().destroyAllRipples()},privates:{noItemRippleSelector:"."+ei.Z.baseCSSPrefix+"item-no-ripple, ."+ei.Z.baseCSSPrefix+"item-no-tap",rippleStateRe:/start|down/}}),ei.Z.define("GRUI.list.TreeItem",{extend:"GRUI.list.AbstractTreeItem",xtype:"treelistitem",collapsedCls:ei.Z.baseCSSPrefix+"treelist-item-collapsed",expandedCls:ei.Z.baseCSSPrefix+"treelist-item-expanded",floatedToolCls:ei.Z.baseCSSPrefix+"treelist-item-tool-floated",leafCls:ei.Z.baseCSSPrefix+"treelist-item-leaf",expandableCls:ei.Z.baseCSSPrefix+"treelist-item-expandable",hideIconCls:ei.Z.baseCSSPrefix+"treelist-item-hide-icon",loadingCls:ei.Z.baseCSSPrefix+"treelist-item-loading",selectedCls:ei.Z.baseCSSPrefix+"treelist-item-selected",selectedParentCls:ei.Z.baseCSSPrefix+"treelist-item-selected-parent",withIconCls:ei.Z.baseCSSPrefix+"treelist-item-with-icon",hoverCls:ei.Z.baseCSSPrefix+"treelist-item-over",rowHoverCls:ei.Z.baseCSSPrefix+"treelist-row-over",isTreeListItem:!0,config:{rowCls:null},rowClsProperty:"rowCls",element:{reference:"element",tag:"li",cls:ei.Z.baseCSSPrefix+"treelist-item",children:[{reference:"rowElement",cls:ei.Z.baseCSSPrefix+"treelist-row",children:[{reference:"wrapElement",cls:ei.Z.baseCSSPrefix+"treelist-item-wrap",children:[{reference:"iconElement",cls:ei.Z.baseCSSPrefix+"treelist-item-icon"},{reference:"textElement",cls:ei.Z.baseCSSPrefix+"treelist-item-text"},{reference:"expanderElement",cls:ei.Z.baseCSSPrefix+"treelist-item-expander"}]}]},{reference:"itemContainer",tag:"ul",cls:ei.Z.baseCSSPrefix+"treelist-container"},{reference:"toolElement",cls:ei.Z.baseCSSPrefix+"treelist-item-tool"}]},constructor:function(e){var t;this.callParent2(this,"GRUI.list.AbstractTreeItem","null","constructor",this.constructor,arguments),(t=this.toolElement.dom).parentNode.removeChild(t)},getToolElement:function(){return this.toolElement},insertItem:function(e,t){t?e.element.insertBefore(t.element):this.itemContainer.appendChild(e.element)},isSelectionEvent:function(e){var t=this.getOwner();return!this.isToggleEvent(e)||!t.getExpanderOnly()||t.getSelectOnExpander()},isToggleEvent:function(e){return this.getOwner().getExpanderOnly()?e.target===this.expanderElement.dom:!this.itemContainer.contains(e.target)},nodeCollapseBegin:function(e,t){var n,r=this,i=r.itemContainer;r.expanding&&r.stopAnimation(r.expanding),n=e&&i.getHeight(),this.callParent2(this,"GRUI.list.AbstractTreeItem","null","nodeCollapseBegin",this.nodeCollapseBegin,arguments),e&&(i.dom.style.display="block",r.collapsingForExpand=t,r.collapsing=this.runAnimation(ei.Z.merge({from:{height:n},to:{height:0},callback:r.nodeCollapseDone,scope:r},e)))},nodeCollapseDone:function(e){var t=this,n=t.itemContainer;t.destroying||t.destroyed||(t.collapsing=null,n.dom.style.display="",n.setHeight(null),t.nodeCollapseEnd(t.collapsingForExpand))},nodeExpandBegin:function(e){var t,n=this,r=n.itemContainer;n.collapsing&&n.stopAnimation(n.collapsing),this.callParent2(this,"GRUI.list.AbstractTreeItem","null","nodeExpandBegin",this.nodeExpandBegin,arguments),e&&(t=r.getHeight(),r.setHeight(0),n.expanding=n.runAnimation(ei.Z.merge({to:{height:t},callback:n.nodeExpandDone,scope:n},e)))},nodeExpandDone:function(){this.expanding=null,this.itemContainer.setHeight(null),this.nodeExpandEnd()},removeItem:function(e){this.itemContainer.removeChild(e.element)},updateNode:function(e,t){this.syncIndent(),this.callParent2(this,"GRUI.list.AbstractTreeItem","null","updateNode",this.updateNode,arguments)},updateExpandable:function(e){this.updateExpandCls()},updateExpanded:function(e){var t=this.getNode();this.updateExpandCls(),t&&t.set("expanded",e)},updateIconCls:function(e,t){var n=this,r=n.element;n.doIconCls(n.iconElement,e,t),n.doIconCls(n.toolElement,e,t),r.toggleCls(n.withIconCls,!!e),r.toggleCls(n.hideIconCls,null===e)},updateLeaf:function(e){this.element.toggleCls(this.leafCls,e)},updateLoading:function(e){this.element.toggleCls(this.loadingCls,e)},updateOver:function(e){var t=this;t.element.toggleCls(t.hoverCls,!!e),t.rowElement.toggleCls(t.rowHoverCls,1<e)},updateRowCls:function(e,t){this.rowElement.replaceCls(t,e)},updateSelected:function(e,t){var n=this,r=n.selectedCls,i=n.getToolElement();this.callParent2(this,"GRUI.list.AbstractTreeItem","null","updateSelected",this.updateSelected,arguments),n.element.toggleCls(r,e),i&&i.toggleCls(r,e)},updateSelectedParent:function(e){var t,n=this;n.element.toggleCls(n.selectedParentCls,e),(t=n.getToolElement())&&t.toggleCls(n.selectedCls,e)},updateText:function(e){this.textElement.update(e)},privates:{doNodeUpdate:function(e){this.callParent2(this,"GRUI.list.AbstractTreeItem","null","doNodeUpdate",this.doNodeUpdate,arguments),this.setRowCls(e&&e.data[this.rowClsProperty])},doIconCls:function(e,t,n){n&&e.removeCls(n),t&&e.addCls(t)},syncIndent:function(){var e=this,t=e.getIndent(),n=e.getNode();n&&(n=n.data.depth-1,e.wrapElement.dom.style.marginLeft=n*t+"px")},updateExpandCls:function(){var e,t,n,r,i,o;this.updatingExpandCls||(t=(e=this).getExpandable(),n=e.element,r=e.getExpanded(),i=e.expandedCls,o=e.collapsedCls,e.updatingExpandCls=!0,n.toggleCls(e.expandableCls,t),t?(n.toggleCls(i,r),n.toggleCls(o,!r)):n.removeCls([i,o]),e.updatingExpandCls=!1)},updateIndent:function(e,t){this.syncIndent(),this.callParent2(this,"GRUI.list.AbstractTreeItem","null","updateIndent",this.updateIndent,arguments)}}},(function(e){e.prototype.floatedCls=[ei.Z.Widget.prototype.floatedCls,ei.Z.baseCSSPrefix+"treelist-item-floated"]})),ei.Z.define("GRUI.overrides.list.TreeItem",{override:"GRUI.list.TreeItem",runAnimation:function(e){return this.itemContainer.animate(e)},stopAnimation:function(e){e.end()},refreshInnerState:ei.Z.emptyFn,applyFloated:function(e,t){return this.initialized=!0,this.callParent2(this,"null","GRUI.list.TreeItem","applyFloated",this.applyFloated,arguments),e},updateFloated:function(e,t){var n,r,i=this,o=i.getToolElement();e?(i.wasExpanded=i.getExpanded(),i.nextElementSibling=i.el.dom.nextSibling,i.setExpanded(!0)):(r=i.wasExpanded,n=i.getNode(),i.setExpanded(i.wasExpanded),!r&&n.isExpanded()&&(i.preventAnimation=!0,n.collapse(),i.preventAnimation=!1)),this.callParent2(this,"null","GRUI.list.TreeItem","updateFloated",this.updateFloated,arguments),e?(r=i.getOwner(),i.floatWrap.addCls([ei.Z.baseCSSPrefix+"treelist",r.uiPrefix+r.getUi(),ei.Z.baseCSSPrefix+"treelist-float-wrap"]),i.floatWrap.alignTo(o,"tl-tr"),i.floatWrap.on({click:r.onClick,mouseover:r.onMouseOver,scope:r})):i.getOwner().rootItem.el.dom.insertBefore(i.el.dom,i.nextElementSibling),o.toggleCls(i.floatedToolCls,e)}}),ei.Z.define("GRUI.list.Tree",{extend:"GRUI.Gadget",xtype:"treelist",mixins:["GRUI.mixin.ItemRippler"],requires:["GRUI.list.RootTreeItem"],expanderFirstCls:ei.Z.baseCSSPrefix+"treelist-expander-first",expanderOnlyCls:ei.Z.baseCSSPrefix+"treelist-expander-only",highlightPathCls:ei.Z.baseCSSPrefix+"treelist-highlight-path",microCls:ei.Z.baseCSSPrefix+"treelist-micro",uiPrefix:ei.Z.baseCSSPrefix+"treelist-",element:{reference:"element",cls:ei.Z.baseCSSPrefix+"treelist "+ei.Z.baseCSSPrefix+"unselectable",listeners:{click:"onClick",touchstart:"onTouchStart",touchend:"onTouchEnd",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseover:"onMouseOver"},children:[{reference:"toolsElement",cls:ei.Z.baseCSSPrefix+"treelist-toolstrip",listeners:{click:"onToolStripClick",mouseover:"onToolStripMouseOver"}}]},cachedConfig:{animation:{duration:500,easing:"ease"},expanderFirst:!0,expanderOnly:!0},config:{floatLeafItems:!1,defaults:{xtype:"treelistitem"},highlightPath:null,iconSize:null,indent:null,micro:!1,overItem:null,selection:null,selectOnExpander:!1,singleExpand:null,store:null,ui:null},twoWayBindable:{selection:1},publishes:{selection:1},defaultBindProperty:"store",constructor:function(e){this.callParent2(this,"GRUI.Gadget","null","constructor",this.constructor,arguments),this.publishState("selection",this.getSelection())},focusable:!0,tabIndex:0,keyMap:{scope:"this",UP:"onKeyUp",DOWN:"onKeyDown",LEFT:"onKeyLeft",RIGHT:"onKeyRight"},onKeyUp:function(e,t){var n=t.getSelection(),r=n?n.previousSibling:null;if(n){if(r)for(n=r;t.getItem(n).getExpanded()&&n.lastChild;)n=n.lastChild;else n.parentNode.isRoot()||(n=n.parentNode);t.setSelection(n)}},onKeyDown:function(e,t){var n,r=!1,i=t.getSelection(),o=t.getItem(i);if(o){if(o.getExpanded()&&i.firstChild)i=i.firstChild;else if(i.nextSibling)i=i.nextSibling;else{for(n=t.getSelection();!i.parentNode.nextSibling;){if(i.parentNode.isRoot()){i=n,r=!0;break}i=i.parentNode}r||(i=i.parentNode.nextSibling)}t.setSelection(i)}},onKeyLeft:function(e,t){var n=t.getSelection();(t=t.getItem(n))&&t.collapse()},onKeyRight:function(e,t){var n=t.getSelection();(t=t.getItem(n))&&t.expand()},destroy:function(){var e=this;e.unfloatAll(),e.activeFloater=null,e.setSelection(null),e.setStore(null),this.callParent2(this,"GRUI.Gadget","null","destroy",this.destroy,arguments)},updateOverItem:function(e,t){for(var n,r={},i=2,o=e;o;o=this.getItem(n.parentNode))r[(n=o.getNode()).internalId]=!0,o.setOver(i),i=1;if(t&&!t.destroyed)for(o=t;o&&!r[(n=o.getNode()).internalId];o=this.getItem(n.parentNode))o.setOver(0)},applyMicro:function(e){return Boolean(e)},applySelection:function(e,t){var n=this.getStore();return n||(e=null),(e=!n||null===e||e instanceof ei.Z.data.Model?e:n.getNodeById(e))&&!1===e.get("selectable")?t:e},updateSelection:function(e,t){var n,r,i=this;if(!i.destroying){if((n=i.getItem(t))&&n.setSelected(!1),n=i.getItem(e))for(n.setSelected(!0);r=n.getParentItem();)r.setExpanded(!0),n=r;i.fireEvent("selectionchange",i,e)}},applyStore:function(e){return e&&ei.Z.StoreManager.lookup(e,"tree")},updateStore:function(e,t){var n=this;t&&(t.destroyed||(t.getAutoDestroy()?t:n.storeListeners).destroy(),n.removeRoot(),n.storeListeners=null),e&&(n.storeListeners=e.on({destroyable:!0,scope:n,nodeappend:"onNodeAppend",nodecollapse:"onNodeCollapse",nodeexpand:"onNodeExpand",nodeinsert:"onNodeInsert",noderemove:"onNodeRemove",rootchange:"onRootChange",update:"onNodeUpdate",refresh:"onRefresh"}),(t=e.getRoot())&&n.createRootItem(t)),n.destroying||n.updateLayout()},updateExpanderFirst:function(e){this.element.toggleCls(this.expanderFirstCls,e)},updateExpanderOnly:function(e){this.element.toggleCls(this.expanderOnlyCls,!e)},updateHighlightPath:function(e){this.element.toggleCls(this.highlightPathCls,e)},updateMicro:function(e){var t=this;e||(t.unfloatAll(),t.activeFloater=null),t.element.toggleCls(t.microCls,e)},updateUi:function(e,t){var n=this,r=n.element,i=n.uiPrefix;t&&r.removeCls(i+t),e&&r.addCls(i+e),delete n.iconSize,n.syncIconSize()},getItem:function(e){var t,n=this.itemMap;return(t=e&&n?n[e.internalId]:t)||null},getItemConfig:function(e,t){return ei.Z.apply({parentItem:t.isRootListItem?null:t,owner:this,node:e,indent:this.getIndent()},this.getDefaults())},privates:{checkForOutsideClick:function(e){this.activeFloater.element.contains(e.target)||this.unfloatAll()},collapsingForExpand:!1,createItem:function(e,t){var n,r=this,i=ei.Z.create(r.getItemConfig(e,t)),o=r.toolsElement;return t.isRootListItem&&(t=i.getToolElement())&&((n=r.findVisiblePreviousSibling(e))?(n=r.getItem(n),t.insertAfter(n.getToolElement())):o.insertFirst(t),t.dom.setAttribute("data-recordId",e.internalId),t.isTool=!0),r.itemMap[e.internalId]=i},createRootItem:function(e){var t,n=this;n.itemMap={},n.rootItem=t=new ei.Z.list.RootTreeItem({indent:n.getIndent(),node:e,owner:n}),n.element.appendChild(t.element),n.itemMap[e.internalId]=t},findVisiblePreviousSibling:function(e){for(var t=e.previousSibling;t;){if(t.data.visible)return t;t=t.previousSibling}return null},floatItem:function(e,t){var n,r=this;e.getFloated()||(r.toolMouseListeners&&(r.toolMouseListeners.destroy(),r.floaterMouseListeners.destroy(),r.floaterMouseListeners=r.toolMouseListeners=null),r.unfloatAll(),!t&&!r.getFloatLeafItems()&&e.getNode().isLeaf()||(r.activeFloater=n=e,r.floatedByHover=t,e.setFloated(!0),t?(r.toolMouseListeners=e.getToolElement().monitorMouseLeave(300,r.checkForMouseLeave,r),r.floaterMouseListeners=(e.floater||e).el.monitorMouseLeave(300,r.checkForMouseLeave,r),n.element.on("mouseover","onMouseOver",r)):ei.Z.on("mousedown","checkForOutsideClick",r)))},shouldRippleItem:function(e,t){return(!e||!e.getSelected())&&this.mixins.itemrippler.shouldRippleItem.call(this,e,t)},onTouchStart:function(e){this.doItemRipple(e)},onTouchEnd:function(e){this.doItemRipple(e)},doItemRipple:function(e){var t,n=e.getTarget("[data-recordId]");n&&(t=n.getAttribute("data-recordId"),(n=this.itemMap[t])&&this.shouldRippleItem(n,e)&&this.rippleItem(n,e))},onClick:function(e){var t,n=e.getTarget("[data-recordId]");n&&(t=n.getAttribute("data-recordId"),(n=this.itemMap[t])&&n.onClick(e))},onMouseEnter:function(e){this.onMouseOver(e)},onMouseLeave:function(){this.setOverItem(null)},onMouseOver:function(e){e=ei.Z.Component.from(e),this.setOverItem(e&&e.isTreeListItem&&e)},checkForMouseLeave:function(e){var t=this.activeFloater;e=e.getRelatedTarget();t&&e!==t.getToolElement().dom&&!t.element.contains(e)&&this.unfloatAll()},onNodeAppend:function(e,t){e&&(e=this.itemMap[e.internalId])&&e.nodeInsert(t,null)},onNodeCollapse:function(e){var t=this.itemMap[e.internalId];t&&t.nodeCollapse(e,this.collapsingForExpand)},onNodeExpand:function(e){var t,n,r,i,o=this,a=o.itemMap[e.internalId];if(a){if(!a.isRootItem&&o.getSingleExpand()){for(o.collapsingForExpand=!0,r=0,n=(t=(a.getParentItem()||o.rootItem).getNode().childNodes).length;r<n;++r)(i=t[r])!==e&&i.collapse();o.collapsing=!1}a.nodeExpand(e)}},onNodeInsert:function(e,t,n){(e=this.itemMap[e.internalId])&&e.nodeInsert(t,n)},onNodeRemove:function(e,t,n){e&&!n&&(n=this.itemMap[e.internalId])&&n.nodeRemove(t)},onNodeUpdate:function(e,t,n,r){var i=this.itemMap[t.internalId];i&&i.nodeUpdate(t,r)},onRefresh:function(e){this.onRootChange(e.getRoot())},onRootChange:function(e){var t=this;t.removeRoot(),e&&t.createRootItem(e),t.updateLayout(),t.fireEvent("refresh",t)},removeItem:function(e){var t,n=this.itemMap;e=e.internalId;n&&(null===(t=n[e]).getParentItem()&&(t=t.getToolElement())&&this.toolsElement.removeChild(t),delete n[e])},removeRoot:function(){var e=this.rootItem;e&&(this.element.removeChild(e.element),this.rootItem=this.itemMap=ei.Z.destroy(e))},onToolStripClick:function(e){var t;(e=e.getTarget("[data-recordId]"))&&(t=e.getAttribute("data-recordId"),(e=this.itemMap[t])&&(e===this.activeFloater?this.unfloatAll():this.floatItem(e,!1)))},onToolStripMouseOver:function(e){var t;(e=e.getTarget("[data-recordId]"))&&(t=e.getAttribute("data-recordId"),(e=this.itemMap[t])&&this.floatItem(e,!0))},syncIconSize:function(){var e=this.iconSize||(this.iconSize=parseInt(this.element.getStyle("background-position"),10));this.setIconSize(e)},unfloatAll:function(){var e=this,t=e.activeFloater;t&&(t.setFloated(!1),e.activeFloater=null,e.floatedByHover?(e.toolMouseListeners&&(e.toolMouseListeners.destroy(),e.floaterMouseListeners.destroy(),e.floaterMouseListeners=e.toolMouseListeners=null),t.element.un("mouseover","onMouseOver",e)):ei.Z.un("mousedown","checkForOutsideClick",e))},defaultIconSize:22,updateIconSize:function(e){this.setIndent(e||this.defaultIconSize)},updateIndent:function(e){var t=this.rootItem;t&&t.setIndent(e)}}}),ei.Z.define("GRUI.overrides.list.Tree",{override:"GRUI.list.Tree",constructor:function(e){var t,n=this;this.callParent2(this,"null","GRUI.list.Tree","constructor",this.constructor,arguments),(t=n.element).isPainted()?n.syncIconSize():t.on({scope:n,painted:n.syncIconSize,single:!0})}}),ei.Z.define("GRUI.mixin.ConfigProxy",(function(e){return{extend:"GRUI.Mixin",mixinConfig:{id:"configproxy",extended:function(t,n,r){var i=r.proxyConfig;n.$configProxies=ei.Z.apply({},n.superclass.self.$configProxies),i&&(delete r.proxyConfig,e.processClass(n,i))}},onClassMixedIn:function(t){var n=t.prototype,r=n.proxyConfig,i=n.initConfig;n.$proxiedConfigs=null,t.$configProxies={},n.initConfig=function(e){return i.apply(this,arguments),this.$proxiedConfigs=null,this},r&&(delete n.proxyConfig,e.processClass(t,r))},getProxiedConfigs:function(e){var t,n,r,i,o=this,a=o.config,s=o.self.$configProxies[e],l=s&&s.length;if(l&&o.isConfiguring)for(t=o.$proxiedConfigs||(o.$proxiedConfigs={});0<l--;)t[r=(i=s[l]).name]=i,void 0!==(i=a[r])&&((n=n||{})[r]=i);return n},mergeProxiedConfigs:function(e,t,n){var r=this,i=t;return(e=r.getProxiedConfigs(e))&&(t?t.constructor===Object&&(i=r.self.getConfigurator().merge(r,ei.Z.clone(t),e)):i=e),n&&i===t?ei.Z.clone(i):i},statics:{processClass:function(t,n){var r,i,o,a,s,l,u,c,d,f,h=ei.Z.Config,p=t.prototype,g={},m=t.$configProxies;for(s in n){for(o=h.get(s).names.get,i=n[s],ei.Z.isArray(i)?l=null:(l=i.methods,i=i.configs),(d=m[s])?m[s]=d=d.slice():m[s]=d=[],a=0,u=l&&l.length;a<u;++a)p[c=l[a]]||(p[c]=e.wrapFn(o,c));for(a=0,u=i&&i.length;a<u;++a)r=h.get(f=i[a]),g[f]=void 0,d.push(r),p[c=r.names.get]||(p[c]=e.wrapGet(o,c)),p[c=r.names.set]||(p[c]=e.wrapSet(o,c,f))}t.addConfig(g)},wrapFn:function(e,t){return function(){var n=this[e]();return n&&n[t].apply(n,arguments)}},wrapGet:function(e,t){return function(){var n=this[e]();return n&&n[t]()}},wrapSet:function(e,t,n){return function(r){var i,o,a=this;return a.isConfiguring&&void 0===r||(i=a[e](),(o=a.$proxiedConfigs)&&o[n]&&(delete o[n],i=null),i&&i[t](r)),a}}}}})),ei.Z.define("GRUI.mixin.ConfigState",{extend:"GRUI.Mixin",mixinConfig:{id:"configstate"},alternateStateConfig:"",toggleConfigState:function(e){var t,n=this,r=n.capturedConfigState,i=n.getConfig(n.alternateStateConfig);if(i)if(e){for(t in r={},i)r[t]=n.getConfig(t);n.capturedConfigState=r,n.setConfig(i)}else!n.isConfiguring&&r&&(n.setConfig(r),delete n.capturedConfigState)}}),ei.Z.define("GRUI.mixin.Mashup",(function(e){return{extend:"GRUI.Mixin",mixinConfig:{id:"mashup",extended:function(t,n){e.process(n)}},statics:{process:function(e){var t,n,r=e.prototype,i=r.requiredScripts,o=e._classHooks,a=o.onCreated,s=e.prototype.xtypes,l=ei.Z.manifest.mashup||{},u=r.mashupConfig;i&&(delete r.requiredScripts,o.onCreated=function(){var r=this,c=[],d=ei.Z.Array.slice(arguments),f=l.redirect||{};if(i=c.concat(i),u=u&&l[u.key],s)for(t=0;!u&&t<s.length;++t)u=l[s[t]];for(t=0;t<i.length;t++)!1!==f[n=i[t]]&&(-1<(n=f[n]||n).indexOf("{")&&u&&(n=new ei.Z.Template(n).apply(u)),c.push(n));if(!c.length)return o.onCreated=a,void o.onCreated.call(r,d);ei.Z.Loader.loadScripts({url:c,cache:!0,onError:function(t,n){e.scriptError=e.prototype.scriptError=n,o.onCreated=a,o.onCreated.call(r,d)},onLoad:function(){o.onCreated=a,o.onCreated.call(r,d)}})})}},onClassMixedIn:function(t){e.process(t)}}})),ei.Z.define("GRUI.mixin.Selectable",{extend:"GRUI.Mixin",mixinConfig:{id:"selectable",after:{updateStore:"updateStore"}},config:{disableSelection:null,mode:"SINGLE",allowDeselect:!1,lastSelected:null,lastFocused:null,deselectOnContainerClick:!0,selected:!0,pruneRemoved:!0,selection:null,twoWayBindable:{selection:1},publishes:{selection:1}},modes:{SINGLE:!0,SIMPLE:!0,MULTI:!0},onNavigate:function(e){},selectableEventHooks:{add:"onSelectionStoreAdd",remove:"onSelectionStoreRemove",update:"onSelectionStoreUpdate",clear:{fn:"onSelectionStoreClear",priority:1e3},load:"refreshSelection",refresh:"refreshSelection"},initSelectable:function(){this.publishState("selection",this.getSelection())},applySelected:function(e){return(e=e.isCollection?e:new ei.Z.util.Collection(e)).addObserver(this),e},applyMode:function(e){return e=e?e.toUpperCase():"SINGLE",this.modes[e]?e:"SINGLE"},updateStore:function(e,t){var n=this,r=ei.Z.apply({},n.selectableEventHooks,{scope:n});t&&ei.Z.isObject(t)&&t.isStore&&(t.autoDestroy?t.destroy():t.un(r)),e&&(e.on(r),n.refreshSelection())},selectAll:function(e){var t=this.getStore().getRange();this.select(t,!0,e)},deselectAll:function(e){var t=this;t.deselect(t.getSelected().getRange(),e),t.setLastSelected(null),t.setLastFocused(null)},updateSelection:function(e){this.changingSelection||(e?this.select(e):this.deselectAll())},selectWithEvent:function(e){var t=this,n=t.isSelected(e);switch(t.getMode()){case"MULTI":case"SIMPLE":n?t.deselect(e):t.select(e,!0);break;case"SINGLE":t.getAllowDeselect()&&n?t.deselect(e):t.select(e,!1)}},selectRange:function(e,t,n){var r,i,o=this.getStore(),a=[];if(!this.getDisableSelection()){for(t<e&&(r=t,t=e,e=r),i=e;i<=t;i++)a.push(o.getAt(i));this.doMultiSelect(a,n)}},select:function(e,t,n){var r,i=this;i.getDisableSelection()||(e="number"==typeof e?[i.getStore().getAt(e)]:e)&&("SINGLE"===i.getMode()&&e?(r=e.length?e[0]:e,i.doSingleSelect(r,n)):i.doMultiSelect(e,t,n))},doSingleSelect:function(e,t){this.doMultiSelect([e],!1,t)},doMultiSelect:function(e,t,n){if(null!==e&&!this.getDisableSelection()){e=ei.Z.isArray(e)?e:[e];var r,i,o,a=this.getSelected(),s=a.getCount(),l=this.getStore(),u=[];for(!t&&s&&(u=a.getRange()),i=0,o=e.length;i<o;i++)"number"==typeof(r=e[i])&&(e[i]=l.getAt(r));a.suppressEvent=n,a.splice(s,u,e),a.suppressEvent=!1}},deselect:function(e,t){var n,r,i,o,a,s=this;if(!s.getDisableSelection()){for(e=ei.Z.isArray(e)?e:[e],n=s.getSelected(),r=s.getStore(),o=0,a=e.length;o<a;o++)"number"==typeof(i=e[o])&&(e[o]=r.getAt(i));n.suppressEvent=t,n.remove(e),n.suppressEvent=!1}},onCollectionRemove:function(e,t){var n=this,r=n.getLastSelected();t=t.items;r&&!e.contains(r)&&n.setLastSelected(e.last()),n.onItemDeselect(t,e.suppressEvent),e.suppressEvent||n.fireSelectionChange(t)},onCollectionAdd:function(e,t){t=t.items,this.setLastSelected(e.last()),this.onItemSelect(t,e.suppressEvent),e.suppressEvent||this.fireSelectionChange(t)},updateLastFocused:function(e,t){this.onLastFocusChanged(t,e)},fireSelectionChange:function(e){var t=this;t.changingSelection=!0,t.setSelection(t.getLastSelected()||null),t.changingSelection=!1,t.fireAction("selectionchange",[t,e],"getSelections")},getSelections:function(){return this.getSelected().getRange()},isSelected:function(e){return e=ei.Z.isNumber(e)?this.getStore().getAt(e):e,-1!==this.getSelected().indexOf(e)},hasSelection:function(){return 0<this.getSelected().getCount()},refreshSelection:function(){var e,t,n,r=this.getSelected(),i=r.getRange(),o=i.length,a=this.getStore().getData(),s=[],l=[];if(this.getPruneRemoved())for(a=a.getSource()||a,e=0;e<o;e++)t=i[e],(n=a.get(a.getKey(t)))?n!==t&&(s.push(t),l.push(n)):s.push(t);r.suppressEvent=!0,r.splice(r.getCount(),s,l),r.suppressEvent=!1},onSelectionStoreRemove:function(e,t){var n,r,i,o=this,a=o.getSelected(),s=t.length;if(!o.getDisableSelection()){for(i=0;i<s;i++)r=t[i],a.remove(r)&&(o.getLastSelected()==r&&o.setLastSelected(null),o.getLastFocused()==r&&o.setLastFocused(null),(n=n||[]).push(r));n&&o.fireSelectionChange([n])}},onSelectionStoreClear:function(e){var t=e.getData().items;this.onSelectionStoreRemove(e,t)},getSelectionCount:function(){return this.getSelected().getCount()},onSelectionStoreAdd:ei.Z.emptyFn,onSelectionStoreUpdate:ei.Z.emptyFn,onItemSelect:ei.Z.emptyFn,onItemDeselect:ei.Z.emptyFn,onLastFocusChanged:ei.Z.emptyFn,onEditorKey:ei.Z.emptyFn},(function(){})),ei.Z.define("GRUI.mixin.StoreWatcher",{mixinId:"storewatcher",config:{dataSource:null,owner:null,ownerListeners:{destroyable:!0,storechange:"onOwnerStoreChange"},sourceListeners:null,store:null,storeListeners:null},afterClassMixedIn:function(e){var t,n=this.getConfigurator(),r=e.prototype,i={};for(t in n.configs)r.hasOwnProperty(t)&&(i[t]=r[t],delete r[t]);e.addConfig(i)},onOwnerStoreChange:function(e,t){this.setStore(t)},updateDataSource:function(e){this.syncListeners(e,"$sourceListeners","getSourceListeners")},updateOwner:function(e){var t=this,n=t.ownerProperty;n&&(t[n]=e),t.syncListeners(e,"$ownerListeners","getOwnerListeners"),t.setStore(e?e.getStore():null)},applyStore:function(e){return e&&!e.isEmptyStore?e:null},updateStore:function(e){this.syncListeners(e,"$storeListeners","getStoreListeners"),this.syncDataSource()},privates:{syncDataSource:function(){var e=(e=this.getStore())?e.getDataSource?e.getDataSource():e.getData():null;this.setDataSource(e)},syncListeners:function(e,t,n){var r=this,i=r[t];i&&(r[t]=null,i.destroy()),e&&(n=r[n](),n=ei.Z.applyIf({destroyable:!0,scope:r},n),r[t]=e.on(n))}}}),ei.Z.define("GRUI.mixin.StyleCacher",{extend:"GRUI.Mixin",mixinConfig:{id:"stylecacher"},getCachedStyle:function(e,t){var n=this.$styleCache;return t in(n=n||(this.$styleCache={}))||(n[t]=ei.Z.fly(e).getStyle(t)),n[t]}}),ei.Z.define("GRUI.perf.Accumulator",(function(){var e,t=null,n=ei.Z.global.chrome,r=function(){var e,t;if(r=ei.Z.now,ei.Z.isChrome&&n&&n.Interval)(e=new n.Interval).start(),r=function(){return e.microseconds()/1e3};else if(window.ActiveXObject)try{t=new ActiveXObject("SenchaToolbox.Toolbox"),ei.Z.senchaToolbox=t,r=function(){return t.milliseconds}}catch(e){}return(ei.Z.perf.getTimestamp=ei.Z.perf.Accumulator.getTimestamp=r)()};function i(e,t){e.sum+=t,e.min=Math.min(e.min,t),e.max=Math.max(e.max,t)}function o(e){e=e||r()-this.time;var n=this,o=n.accum;++o.count,--o.depth||i(o.total,e),i(o.pure,e-n.childTime),(t=n.parent)&&(++t.accum.childCount,t.childTime+=e)}function a(){return{min:Number.MAX_VALUE,max:0,sum:0}}function s(e,t,n,r){var i={avg:0,min:r.min,max:r.max,sum:0};return e&&(i.sum=r.sum-t*(n=n||0),i.avg=i.sum/e),i}return{requires:["GRUI.XTemplate","GRUI.ClassManager"],constructor:function(e){var t=this;t.count=t.childCount=t.depth=t.maxDepth=0,t.pure=a(),t.total=a(),t.name=e},statics:{getTimestamp:r},format:function(t){return e=e||new ei.Z.XTemplate(["{name} - {count} call(s)",'<tpl if="count">','<tpl if="childCount">'," ({childCount} children)","</tpl>",'<tpl if="depth - 1">'," ({depth} deep)","</tpl>",'<tpl for="times">',", {type}: {[this.time(values.sum)]} msec (","avg={[this.time(values.sum / parent.count)]}",")","</tpl>","</tpl>"].join(""),{time:function(e){return Math.round(100*e)/100}}),(t=this.getData(t)).name=this.name,t.pure.type="Pure",t.total.type="Total",t.times=[t.pure,t.total],e.apply(t)},getData:function(e){var t=this;return{count:t.count,childCount:t.childCount,depth:t.maxDepth,pure:s(t.count,t.childCount,e,t.pure),total:s(t.count,t.childCount,e,t.total)}},enter:function(){var e=this,n={accum:e,leave:o,childTime:0,parent:t};return++e.depth,e.maxDepth<e.depth&&(e.maxDepth=e.depth),(t=n).time=r(),n},monitor:function(e,t,n){var r=this.enter();n?e.apply(t,n):e.call(t),r.leave()},report:function(){ei.Z.log(this.format())},tap:function(e,t){var n,r,i,o,a,s,l=this,u="string"==typeof t?[t]:t;return ei.Z.ClassManager.onCreated((function(){if("string"==typeof e)for(n=ei.Z.global,i=e.split("."),r=0,o=i.length;r<o;++r)n=n[i[r]];else n=e;for(r=0,o=u.length;r<o;++r)a=u[r],(s="!"===a.charAt(0))?a=a.substring(1):s=!(a in n.prototype),(s=s?n:n.prototype)[a]=function(e,t){return function(){var n=e.enter(),r=t.apply(this,arguments);return n.leave(),r}}(l,s[a])}),l,e),l}}}),(function(){ei.Z.perf.getTimestamp=this.getTimestamp})),ei.Z.define("GRUI.perf.Monitor",{singleton:!0,alternateClassName:"GRUI.Perf",requires:["GRUI.perf.Accumulator"],constructor:function(){this.accumulators=[],this.accumulatorsByName={}},calibrate:function(){for(var e=new ei.Z.perf.Accumulator("$"),t=e.total,n=ei.Z.perf.Accumulator.getTimestamp,r=0,i=n();e.enter().leave(),++r,t.sum<100;);return(n()-i)/r},get:function(e){var t=this,n=t.accumulatorsByName[e];return n||(t.accumulatorsByName[e]=n=new ei.Z.perf.Accumulator(e),t.accumulators.push(n)),n},enter:function(e){return this.get(e).enter()},monitor:function(e,t,n){this.get(e).monitor(t,n)},report:function(){var e=this,t=e.accumulators,n=e.calibrate();t.sort((function(e,t){return e.name<t.name?-1:t.name<e.name?1:0})),e.updateGC(),ei.Z.log("Calibration: "+Math.round(100*n)/100+" msec/sample"),ei.Z.each(t,(function(e){ei.Z.log(e.format(n))}))},getData:function(e){var t={},n=this.accumulators;return ei.Z.each(n,(function(n){(e||n.count)&&(t[n.name]=n.getData())})),t},reset:function(){ei.Z.each(this.accumulators,(function(e){e.count=e.childCount=e.depth=e.maxDepth=0,e.pure={min:Number.MAX_VALUE,max:0,sum:0},e.total={min:Number.MAX_VALUE,max:0,sum:0}}))},updateGC:function(){var e,t=this.accumulatorsByName.GC,n=ei.Z.senchaToolbox;t&&(t.count=n.garbageCollectionCounter||0,t.count&&(e=t.pure,t.total.sum=e.sum=n.garbageCollectionMilliseconds,e.min=e.max=e.sum/t.count,(e=t.total).min=e.max=e.sum/t.count))},watchGC:function(){var e=ei.Z.senchaToolbox;ei.Z.perf.getTimestamp(),e&&(this.get("GC"),e.watchGarbageCollector(!1))},setup:function(e){var t,n,r,i,o;for(t in this.currentConfig=e=e||{render:{"GRUI.Component":"render"},layout:{"GRUI.layout.Context":"run"}})if(e.hasOwnProperty(t))for(i in n=e[t],r=ei.Z.Perf.get(t),n)n.hasOwnProperty(i)&&(o=n[i],r.tap(i,o));this.watchGC()},setupLog:function(e){var t,n,r,i,o;for(t in e)if(e.hasOwnProperty(t)&&(n=ei.Z.ClassManager.get(t))){for(i in o={},r=e[t])o[i]=function(e,t){return function(){var n,r,i=+Date.now(),o=this.callParent2(this,"null","null","setupLog",this.setupLog,arguments);i=+Date.now()-i;return window.console&&0<i&&(null!=(n=(r="this"===t?this:"string"==typeof t?this[t]:"number"==typeof t?arguments[t]:null)?r.id:n)?console.log(e+" for "+n+": "+i+"ms"):console.log(e+" for unknown: "+i+"ms"),console.trace&&console.trace()),o}}(i,r[i]);ei.Z.override(n,o)}}}),ei.Z.define("GRUI.plugin.AbstractClipboard",{extend:"GRUI.plugin.Abstract",requires:["GRUI.util.KeyMap"],cachedConfig:{formats:{text:{get:"getTextData",put:"putTextData"}}},config:{memory:null,source:"system",system:"text",gridListeners:null},destroy:function(){var e=this,t=e.keyMap,n=e.shared;ei.Z.destroy(e.destroyListener),t?(e.keyMap=ei.Z.destroy(t),--n.counter||(n.textArea=ei.Z.destroy(n.textArea))):e.renderListener=ei.Z.destroy(e.renderListener),this.callParent2(this,"GRUI.plugin.Abstract","null","destroy",this.destroy,arguments)},init:function(e){var t=this,n=t.getGridListeners();e.rendered?t.finishInit(e):n&&(t.renderListener=e.on(ei.Z.apply({scope:t,destroyable:!0,single:!0},n)))},onCmpReady:function(){this.renderListener=null,this.finishInit(this.getCmp())},getTarget:function(e){return e.el},privates:{shared:{counter:0,data:null,textArea:null},applyMemory:function(e){return this.applySource(e)},applySource:function(e){return e&&(ei.Z.isString(e)?e=[e]:0===e.length&&(e=null)),e||null},doCutCopy:function(e,t){var n=this,r=n.allFormats||n.syncFormats(),i=(t=n.getData(t,r),n.getMemory()),o=n.getSystem();!1!==n.validateAction(e)&&(n.shared.data=i&&t,o&&(e=t[o],r[o]<3&&delete t[o],n.setClipboardData(e)))},doPaste:function(e,t){this[this.getFormats()[e].put](t,e)},finishInit:function(e){var t=this;t.keyMap=new ei.Z.util.KeyMap({target:t.getTarget(e),ignoreInputFields:!0,binding:[{ctrl:!0,key:"x",fn:t.onCut,scope:t},{ctrl:!0,key:"c",fn:t.onCopy,scope:t},{ctrl:!0,key:"v",fn:t.onPaste,scope:t}]}),++t.shared.counter,t.destroyListener=e.on({destroyable:!0,destroy:"destroy",scope:t})},getData:function(e,t){var n,r,i,o,a=this,s=a.getFormats();if(ei.Z.isString(t))n=a[s[t].get](t,e);else{if(n={},o=[],t)for(i in t)o.push(i);else o=ei.Z.Object.getAllKeys(s);for(r=o.length;0<r--;)n[i]=a[s[i].get](i,e&&!r)}return n},getHiddenTextArea:function(){var e=this.shared,t=e.textArea;return t||(t=e.textArea=ei.Z.getBody().createChild({tag:"textarea",tabIndex:-1,style:{position:"absolute",top:"-1000px",width:"1px",height:"1px"}})).suspendFocusEvents(),t},onCopy:function(e,t){this.doCutCopy(t,!1)},onCut:function(e,t){this.doCutCopy(t,!0)},onPaste:function(e,t){var n,r,i,o=this,a=o.shared.data,s=o.getSource();if(!1!==o.validateAction(t)&&s)for(n=0,r=s.length;n<r;++n){if("system"===(i=s[n])){i=o.getSystem(),o.pasteClipboardData(i);break}if(a&&i in a){o.doPaste(i,a[i]);break}}},pasteClipboardData:function(e){var t,n,r=this,i=window.clipboardData;i&&i.getData?r.doPaste(e,i.getData("text")):(n=ei.Z.Element.getActiveElement(!0),(t=r.getHiddenTextArea().dom).value="",n&&n.suspendFocusEvents(),t.focus(),ei.Z.defer((function(){n&&(n.focus(),n.resumeFocusEvents()),r.doPaste(e,t.value),t.value=""}),100,r))},setClipboardData:function(e){var t,n,r=window.clipboardData;r&&r.setData?r.setData("text",e):(t=this.getHiddenTextArea().dom,n=ei.Z.Element.getActiveElement(!0),t.value=e,n&&n.suspendFocusEvents(),t.focus(),t.select(),ei.Z.defer((function(){t.value="",n&&(n.focus(),n.resumeFocusEvents())}),50))},syncFormats:function(){var e,t,n={},r=this.getMemory(),i=this.getSystem();if(i&&(n[i]=1),r)for(e=r.length;0<e--;)n[t=r[e]]=n[t]?3:2;return this.allFormats=n},updateMemory:function(){this.allFormats=null},updateSystem:function(){this.allFormats=null},validateAction:ei.Z.privateFn}}),ei.Z.define("GRUI.plugin.MouseEnter",{extend:"GRUI.plugin.Abstract",alias:"plugin.mouseenter",element:"el",init:function(e){var t=this,n={mouseover:"onMouseEvent",scope:t,destroyable:!0},r=t.element;(t.leaveHandler||t.delay)&&(n.mouseout="onMouseEvent"),(r="string"==typeof r?e[t.element]:r)?t.mouseListener=ei.Z.get(r).on(n):e.on({render:function(){t.mouseListener=e[t.element].on(n)},single:!0})},onMouseEvent:function(e){var t=this,n=e.getTarget(t.delegate);n&&n!==e.getRelatedTarget(t.delegate)&&(t.delay?(ei.Z.undefer(t.mouseEventTimer),t.mouseEventTimer=ei.Z.defer(t.handleMouseEvent,t.delay,t,[e,n])):t.handleMouseEvent(e,n))},handleMouseEvent:function(e,t){var n=this;"mouseover"===e.type?ei.Z.callback(n.handler,null,[e,t],0,n.cmp,n.scope):n.leaveHandler&&ei.Z.callback(n.leaveHandler,null,[e,t],0,n.cmp,n.scope)},destroy:function(){ei.Z.destroy(this.mouseListener),this.callParent2(this,"GRUI.plugin.Abstract","null","destroy",this.destroy,arguments)}}),ei.Z.define("GRUI.util.Color",{alternateClassName:"GRUI.draw.Color",statics:{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbToHexRe:/\s*rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbaToHexRe:/\s*rgba\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,NONE:"none",RGBA_NONE:"rgba(0, 0, 0, 0)"},isColor:!0,lightnessFactor:.2,constructor:function(e,t,n,r){this.setRGB(e,t,n,r)},clone:function(){var e=this;return new this.self(e.r,e.g,e.b,e.a)},setRGB:function(e,t,n,r){var i=this;i.r=Math.min(255,Math.max(0,e)),i.g=Math.min(255,Math.max(0,t)),i.b=Math.min(255,Math.max(0,n)),i.a=void 0===r?1:Math.min(1,Math.max(0,r))},getBrightness:function(){return(this.r/255*100*299+this.g/255*100*587+this.b/255*100*114)/1e3},getGrayscale:function(){return.3*this.r+.59*this.g+.11*this.b},getHSL:function(){var e,t=(r=this).r/255,n=r.g/255,r=r.b/255,i=Math.max(t,n,r),o=Math.min(t,n,r),a=i-o,s=0,l=.5*(i+o);return o!==i&&(s=l<=.5?a/(i+o):a/(2-i-o),(e=t===i?60*(n-r)/a:n===i?120+60*(r-t)/a:240+60*(t-n)/a)<0&&(e+=360),360<=e&&(e-=360)),[e,s,l]},getHSV:function(){var e,t=(r=this).r/255,n=r.g/255,r=r.b/255,i=Math.max(t,n,r),o=Math.min(t,n,r),a=i-o,s=0;return o!=i&&(s=i?a/i:0,(e=t===i?60*(n-r)/a:n===i?60*(r-t)/a+120:60*(t-n)/a+240)<0&&(e+=360),360<=e&&(e-=360)),[e,s,i]},setHSL:function(e,t,n){var r,i,o,a=this,s=Math.abs;if(e=(e%360+360)%360,n=1<n?1:n<0?0:n,0===(t=1<t?1:t<0?0:t)||null===e)a.setRGB(n*=255,n,n);else switch(e/=60,i=(r=t*(1-s(2*n-1)))*(1-s(e%2-1)),o=n-r/2,o*=255,r*=255,i*=255,Math.floor(e)){case 0:a.setRGB(r+o,i+o,o);break;case 1:a.setRGB(i+o,r+o,o);break;case 2:a.setRGB(o,r+o,i+o);break;case 3:a.setRGB(o,i+o,r+o);break;case 4:a.setRGB(i+o,o,r+o);break;case 5:a.setRGB(r+o,o,i+o)}return a},setHSV:function(e,t,n){var r,i,o,a=this;if(e=(e%360+360)%360,n=1<n?1:n<0?0:n,0===(t=1<t?1:t<0?0:t)||null===e)a.setRGB(n*=255,n,n);else switch(e/=60,i=(r=n*t)*(1-Math.abs(e%2-1)),o=n-r,o*=255,r*=255,i*=255,Math.floor(e)){case 0:a.setRGB(r+o,i+o,o);break;case 1:a.setRGB(i+o,r+o,o);break;case 2:a.setRGB(o,r+o,i+o);break;case 3:a.setRGB(o,i+o,r+o);break;case 4:a.setRGB(i+o,o,r+o);break;case 5:a.setRGB(r+o,o,i+o)}return a},createLighter:function(e){var t=this.clone();return t.lighten(e),t},lighten:function(e){var t;e||0===e||(e=this.lightnessFactor),t=this.getHSL(),this.setHSL(t[0],t[1],ei.Z.Number.constrain(t[2]+e,0,1))},createDarker:function(e){var t=this.clone();return t.darken(e),t},darken:function(e){return e||0===e||(e=this.lightnessFactor),this.lighten(-e)},toString:function(){var e,t,n,r=this,i=Math.round;return 1===r.a?(e=i(r.r).toString(16),t=i(r.g).toString(16),n=i(r.b).toString(16),["#",e=1===e.length?"0"+e:e,t=1===t.length?"0"+t:t,n=1===n.length?"0"+n:n].join("")):"rgba("+[i(r.r),i(r.g),i(r.b),0===r.a?0:r.a.toFixed(15)].join(", ")+")"},toHex:function(e){var t=this.r,n=this.g;return"#"+("000000"+(this.b|n<<8|t<<16).toString(16)).slice(-6)},setFromString:function(e){var t,n,r,i,o=1,a=parseInt;if(e===ei.Z.util.Color.NONE)return this.r=this.g=this.b=this.a=0,this;if(4!==e.length&&7!==e.length||"#"!==e.substr(0,1)){if(t=e.match(ei.Z.util.Color.rgbToHexRe))n=+t[1],r=+t[2],i=+t[3];else if(t=e.match(ei.Z.util.Color.rgbaToHexRe))n=+t[1],r=+t[2],i=+t[3],o=+t[4];else if(ei.Z.util.Color.ColorList.hasOwnProperty(e.toLowerCase()))return this.setFromString(ei.Z.util.Color.ColorList[e.toLowerCase()])}else(t=e.match(ei.Z.util.Color.hexRe))&&(n=a(t[1],16)>>0,r=a(t[2],16)>>0,i=a(t[3],16)>>0,4===e.length&&(n+=16*n,r+=16*r,i+=16*i));return void 0===n||(this.r=n,this.g=r,this.b=i,this.a=o),this}},(function(){var e=new this;this.addStatics({fly:function(t,n,r,i){switch(arguments.length){case 1:e.setFromString(t);break;case 3:case 4:e.setRGB(t,n,r,i);break;default:return null}return e},ColorList:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},fromHSL:function(e,t,n){return new this(0,0,0,0).setHSL(e,t,n)},fromHSV:function(e,t,n){return new this(0,0,0,0).setHSL(e,t,n)},fromString:function(e){return new this(0,0,0,0).setFromString(e)},create:function(e){return e instanceof this?e:ei.Z.isArray(e)?new ei.Z.util.Color(e[0],e[1],e[2],e[3]):ei.Z.isString(e)?ei.Z.util.Color.fromString(e):2<arguments.length?new ei.Z.util.Color(e,arguments[1],arguments[2],arguments[3]):new ei.Z.util.Color(0,0,0,0)}})})),ei.Z.define("GRUI.util.CSS",(function(){function e(e,t){return t.charAt(1).toUpperCase()}var t,n=null,r=document,i=/(-[a-z])/gi;return{singleton:!0,rules:n,initialized:!1,constructor:function(){t=this},createStyleSheet:function(e,n){var i=r.getElementsByTagName("head")[0],o=r.createElement("style");return o.setAttribute("type","text/css"),n&&o.setAttribute("id",n),(n=o.styleSheet)?(i.appendChild(o),n.cssText=e):(o.appendChild(r.createTextNode(e)),i.appendChild(o),n=o.sheet),t.cacheStyleSheet(n),n},removeStyleSheet:function(e){(e="string"==typeof e?r.getElementById(e):e.ownerNode)&&e.parentNode.removeChild(e)},swapStyleSheet:function(e,n){var i;t.removeStyleSheet(e),(i=r.createElement("link")).setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("id",e),i.setAttribute("href",n),r.getElementsByTagName("head")[0].appendChild(i)},cacheStyleSheet:function(e){n=n||(t.rules={});try{for(var r,i=e.cssRules||e.rules,o=i.length-1,a=e.imports,s=a?a.length:0,l=0;l<s;++l)t.cacheStyleSheet(a[l]);for(;0<=o;--o)(r=i[o]).styleSheet&&t.cacheStyleSheet(r.styleSheet),t.cacheRule(r,e)}catch(e){}},cacheRule:function(e,r){var i,o,a;if(e.styleSheet)return t.cacheStyleSheet(e.styleSheet);if(i=e.selectorText)for(o=(i=i.split(",")).length,a=0;a<o;a++)n[ei.Z.String.trim(i[a]).toLowerCase()]={parentStyleSheet:r,cssRule:e}},getRules:function(e){var r,i={};for(r in null!==n&&!e||t.refreshCache(),n)i[r]=n[r].cssRule;return i},refreshCache:function(){var e=r.styleSheets,i=0,o=e.length;for(n=t.rules={};i<o;i++)try{e[i].disabled||t.cacheStyleSheet(e[i])}catch(e){}},getRule:function(e,r,i){var o;if(n&&!r||t.refreshCache(),!ei.Z.isArray(e))return(r=(r=n[e.toLowerCase()])&&!i?r.cssRule:r)||null;for(o=0;o<e.length;o++)if(n[e[o]])return i?n[e[o].toLowerCase()]:n[e[o].toLowerCase()].cssRule;return null},createRule:function(e,n,r){var i=e.cssRules||e.rules,o=i.length;return e.insertRule?e.insertRule(n+" {"+r+"}",o):e.addRule(n,r||" "),t.cacheRule(n=i[o],e),n},updateRule:function(n,r,o){var a,s,l;if(ei.Z.isArray(n)){for(s=0;s<n.length;s++)if(t.updateRule(n[s],r,o))return!0}else if(a=t.getRule(n)){if(2===arguments.length)for(r in l=ei.Z.Element.parseStyles(r))a.style[r.replace(i,e)]=l[r];else a.style[r.replace(i,e)]=o;return!0}return!1},deleteRule:function(e){var r,i=t.getRule(e,!1,!0);i&&(r=i.parentStyleSheet,i=ei.Z.Array.indexOf(r.cssRules||r.rules,i.cssRule),r.deleteRule?r.deleteRule(i):r.removeRule(i),delete n[e])}}})),ei.Z.define("GRUI.util.DelimitedValue",{dateFormat:"C",delimiter:"\t",lineBreak:"\n",quote:'"',lineBreakRe:/\r?\n/g,lastLineBreakRe:/(\r?\n|\r)$/,constructor:function(e){e&&ei.Z.apply(this,e),this.parseREs={},this.quoteREs={}},decode:function(e,t,n){if(!e)return[];for(var r,i,o=this,a=[],s=[a],l=void 0!==n?n:o.quote,u=(n=o.quoteREs,o.parseREs[t=t||o.delimiter]||new RegExp("(\\"+t+"|\\r?\\n|\\r|^)(?:\\"+l+"([^\\"+l+"]*(?:\\"+l+"\\"+l+"[^\\"+l+"]*)*)\\"+l+"|([^\\"+t+"\\r\\n]*))","gi")),c=n[l]||(n[l]=new RegExp("\\"+l+"\\"+l,"g"));r=u.exec(e);)(i=r[1]).length&&i!==t&&s.push(a=[]),r.index||r[0].charAt(0)!==t||a.push(""),i=r[2]?r[2].replace(c,l):r[3],a.push(i);return s},encode:function(e,t,n){for(var r,i,o,a=this,s=t||a.delimiter,l=a.dateFormat,u=void 0!==n?n:a.quote,c=u+u,d=e.length,f=a.lineBreakRe,h=[],p=[];0<d--;){for(o=e[d],p.length=i=o.length;0<i--;)null==(r=o[i])?r="":"string"==typeof r?r&&null!==u&&(-1<r.indexOf(u)?r=u+r.split(u).join(c)+u:(-1<r.indexOf(s)||f.test(r))&&(r=u+r+u)):ei.Z.isDate(r)&&(r=ei.Z.Date.format(r,l)),p[i]=r;h[d]=p.join(s)}return h.join(a.lineBreak)}}),ei.Z.define("GRUI.util.CSV",{extend:"GRUI.util.DelimitedValue",singleton:!0,delimiter:","}),ei.Z.define("GRUI.util.ClickRepeater",{alternateClassName:"GRUI.util.TapRepeater",mixins:["GRUI.mixin.Observable"],config:{el:null,target:null,disabled:null},interval:20,delay:250,preventDefault:!0,stopDefault:!1,timer:0,handler:null,scope:null,constructor:function(e){2===arguments.length&&(this.setEl(e),e=arguments[1]),this.mixins.observable.constructor.call(this,e)},destroy:function(){this.setEl(null),this.callParent2(this,"null","null","destroy",this.destroy,arguments)},privates:{fireClick:function(e){var t=this;t.fireEvent("click",t,e),ei.Z.callback(t.handler,t.scope,[t,e],0,t.getTarget())},updateDisabled:function(e){var t=this;e?(t.savedEl=t.getEl(),t.setEl(null)):t.savedEl&&t.setEl(t.savedEl)},updateTarget:function(e){this.setEl(e.el)},updateEl:function(e,t){var n=this;t&&(t.selectable(),ei.Z.undefer(n.timer),n.pressedCls&&t.removeCls(n.pressedCls),ei.Z.getDoc().un("mouseup",n.handleMouseUp,n),n.elListeners=ei.Z.destroy(n.elListeners)),e&&(e.unselectable(),t={mousedown:n.handleMouseDown,scope:n,destroyable:!0},(n.preventDefault||n.stopDefault)&&(t.click=n.eventOptions),n.elListeners=e.on(t))},eventOptions:function(e){this.preventDefault&&e.preventDefault(),this.stopDefault&&e.stopEvent()},handleMouseDown:function(e){var t=this,n=t.getEl();ei.Z.undefer(t.timer),t.pressedCls&&n.addCls(t.pressedCls),t.mousedownTime=ei.Z.now(),"mouse"===e.pointerType&&n.on("mouseout",t.handleMouseOut,t),ei.Z.getDoc().on("mouseup",t.handleMouseUp,t),t.fireEvent("mousedown",t,e),t.fireClick(e),t.accelerate&&(t.delay=400),t.timer=ei.Z.defer(t.click,t.delay||t.interval,t,[e]),t.mousedownPreventDefault&&e.preventDefault(),t.mousedownStopEvent&&e.stopEvent()},click:function(e){var t=this;t.fireClick(e),t.timer=ei.Z.defer(t.click,t.accelerate?t.easeOutExpo(ei.Z.now()-t.mousedownTime,400,-390,12e3):t.interval,t,[e])},easeOutExpo:function(e,t,n,r){return e===r?t+n:n*(1-Math.pow(2,-10*e/r))+t},handleMouseOut:function(){var e=this,t=e.getEl();ei.Z.undefer(e.timer),e.pressedCls&&t.removeCls(e.pressedCls),t.on("mouseover",e.handleMouseReturn,e)},handleMouseReturn:function(e){var t=this,n=t.getEl();n.un("mouseover",t.handleMouseReturn,t),t.pressedCls&&n.addCls(t.pressedCls),t.click(e)},handleMouseUp:function(e){var t=this,n=t.getEl();ei.Z.undefer(t.timer),n.un("mouseover",t.handleMouseReturn,t),n.un("mouseout",t.handleMouseOut,t),ei.Z.getDoc().un("mouseup",t.handleMouseUp,t),t.pressedCls&&n.removeCls(t.pressedCls),t.fireEvent("mouseup",t,e)}}}),ei.Z.define("GRUI.util.Cookies",{singleton:!0,set:function(e,t){var n=arguments,r=2<(a=n.length)?n[2]:null,i=3<a?n[3]:"/",o=4<a?n[4]:null,a=5<a&&n[5];document.cookie=e+"="+escape(t)+(null===r?"":"; expires="+r.toUTCString())+(null===i?"":"; path="+i)+(null===o?"":"; domain="+o)+(!0===a?"; secure":"")},get:function(e){for(var t,n=document.cookie.split("; "),r=n.length,i=0;i<r;++i)if((t=n[i].split("="))[0]===e)return(t=t[1])?unescape(t):"";return null},clear:function(e,t){this.get(e)&&(t=t||"/",document.cookie=e+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+t)}}),ei.Z.define("GRUI.util.LocalStorage",{id:null,destroyed:!1,lazyKeys:!0,prefix:"",session:!1,_keys:null,_store:null,_users:0,statics:{cache:{},get:function(e){var t=this.cache,n={_users:1};return ei.Z.isString(e)?n.id=e:ei.Z.apply(n,e),(e=t[n.id])?++e._users:e=new this(n),e},supported:!0},constructor:function(e){var t=this;ei.Z.apply(t,e),t._users&&(ei.Z.util.LocalStorage.cache[t.id]=t),t.init()},init:function(){var e=this,t=e.id;!e.prefix&&t&&(e.prefix=t+"-"),e._store=e.session?window.sessionStorage:window.localStorage},destroy:function(){var e=this;delete ei.Z.util.LocalStorage.cache[e.id],e._store=e._keys=null,this.callParent2(this,"null","null","destroy",this.destroy,arguments)},getKeys:function(){var e,t,n=this,r=n._store,i=n.prefix,o=n._keys,a=i.length;if(!o)for(n._keys=o=[],e=r.length;e--;)(t=r.key(e)).length>a&&i===t.substring(0,a)&&o.push(t.substring(a));return o},release:function(){--this._users||this.destroy()},save:ei.Z.emptyFn,clear:function(){for(var e=this,t=e._store,n=e.prefix,r=e._keys||e.getKeys(),i=r.length;i--;)t.removeItem(n+r[i]);r.length=0},key:function(e){var t=this._keys||this.getKeys();return 0<=e&&e<t.length?t[e]:null},getItem:function(e){return e=this.prefix+e,this._store.getItem(e)},removeItem:function(e){var t=this,n=t.prefix+e,r=t._store,i=t._keys,o=r.length;r.removeItem(n),i&&o!==r.length&&(t.lazyKeys?t._keys=null:ei.Z.Array.remove(i,e))},setItem:function(e,t){var n=(o=this).prefix+e,r=o._store,i=r.length,o=o._keys;r.setItem(n,t),o&&i!==r.length&&o.push(e)}}),ei.Z.define("GRUI.util.Spans",{isSpans:!0,constructor:function(){this.spans=this.spans||[]},clear:function(){return this.spans.length=0,this},add:function(e,t){void 0===t&&("number"==typeof e?t=e+1:(t=e[1],e=e[0]));var n,r,i,o=this,a=o.spans,s=o.bisect(e);if(s&&(n=(i=a[s-1])[0],e<=(r=i[1]))){if(t<=r)return!1;e=n,a.splice(--s,1)}return s<(r=o.bisect(t))&&(i=a[r-1],t=Math.max(t,i[1])),r<a.length&&t===(i=a[r])[0]&&(t=i[1],++r),a.splice(s,r-s,[e,t]),!0},contains:function(e,t){void 0===t&&("number"==typeof e?t=e+1:(t=e[1],e=e[0]));var n,r=this.spans,i=this.bisect(e),o=!1;return i&&e<(n=r[i-1][1])?o=t<=n:i<r.length&&(o=(n=r[i])[0]<=e&&t<=n[1]),o},each:function(e,t){for(var n,r,i=this.spans,o=i.length,a=0;a<o;a++)for(r=(n=i[a])[0];r<n[1];r++)if(!1===e.call(t||this,a))return},intersects:function(e,t){void 0===t&&("number"==typeof e?t=e+1:(t=e[1],e=e[0]));var n=this.spans,r=this.bisect(e),i=!1;return r&&e<n[r-1][1]?i=!0:r<n.length&&(i=n[r][0]<t),i},remove:function(e,t){void 0===t&&("number"==typeof e?t=e+1:(t=e[1],e=e[0]));var n,r,i=this,o=i.spans,a=i.bisect(e),s=!1;if(a&&e<(r=(n=o[a-1])[1])){if(n[1]=e,t<r)return o.splice(a,0,[t,r]),!0;s=!0}return a<(e=i.bisect(t))&&(s=!0,t<(n=o[e-1])[1]&&(n[0]=t,--e),(e-=a)&&o.splice(a,e)),s},stash:function(){return this.spans.slice()},unstash:function(e){return this.spans=e,this},getCount:function(){for(var e,t=this.spans,n=t.length,r=0,i=0;i<n;i++)r+=(e=t[i])[1]-e[0];return r},privates:{bisect:function(e){return ei.Z.Number.bisectTuples(this.spans,e,0)}}}),ei.Z.define("GRUI.util.TsvDecoder",{extend:"GRUI.util.DelimitedValue",alternateClassName:"GRUI.util.TSV",delimiter:"\t"},(function(e){ei.Z.util.TSV=new e})),ei.Z.define("GRUI.util.TaskManager",{extend:"GRUI.util.TaskRunner",alternateClassName:["GRUI.TaskManager"],singleton:!0}),ei.Z.define("GRUI.util.TextMetrics",{requires:["GRUI.dom.Element"],statics:{shared:null,measure:function(e,t,n){var r;return(r=(r=this).shared||(r.shared=new r(e,n))).bind(e),r.setFixedWidth(n||"auto"),r.getSize(t)},destroy:function(){this.shared=ei.Z.destroy(this.shared)}},constructor:function(e,t){var n=this.measure=ei.Z.getBody().createChild({role:"presentation",cls:ei.Z.baseCSSPrefix+"textmetrics",style:{position:"absolute",left:"-1000px",top:"-1000px",visibility:"hidden"}});e&&this.bind(e),t&&n.setWidth(t)},getSize:function(e){var t=this.measure;return t.setHtml(e),e=t.getSize(),t.setHtml(""),e},bind:function(e){this.measure.setStyle((this.el||(this.self.prototype.el=new ei.Z.dom.Fly)).attach(e).getStyle(["font-size","font-size-adjust","font-style","font-weight","font-family","font-kerning","font-stretch","line-height","text-transform","text-decoration","letter-spacing","word-break"]))},setFixedWidth:function(e){this.measure.setWidth(e)},getWidth:function(e){return this.measure.dom.style.width="auto",this.getSize(e).width},getHeight:function(e){return this.getSize(e).height},destroy:function(){var e=this;e.el=e.measure=ei.Z.destroy(e.measure),this.callParent2(this,"null","null","destroy",this.destroy,arguments)}},(function(){ei.Z.Element.override({getTextWidth:function(e,t,n){return ei.Z.Number.constrain(ei.Z.util.TextMetrics.measure(this.dom,ei.Z.valueFrom(e,this.dom.innerHTML,!0)).width,t||0,n||1e6)}})})),ei.Z.define("GRUI.util.paintmonitor.OverflowChange",{extend:"GRUI.util.paintmonitor.Abstract",eventName:ei.Z.browser.is.Firefox?"overflow":"overflowchanged",monitorClass:"overflowchange",onElementPainted:function(e){this.getCallback().apply(this.getScope(),this.getArgs())}}),ei.Z.define("GRUI.util.sizemonitor.OverflowChange",{extend:"GRUI.util.sizemonitor.Abstract",constructor:function(e){this.onExpand=this.onExpand.bind(this),this.onShrink=this.onShrink.bind(this),this.callParent2(this,"GRUI.util.sizemonitor.Abstract","null","constructor",this.constructor,arguments)},getElementConfig:function(){return{reference:"detectorsContainer",classList:[ei.Z.baseCSSPrefix+"size-monitors","overflowchanged"],children:[{reference:"expandMonitor",className:"expand",children:[{reference:"expandHelper"}]},{reference:"shrinkMonitor",className:"shrink",children:[{reference:"shrinkHelper"}]}]}},bindListeners:function(e){e=e?"addEventListener":"removeEventListener",this.expandMonitor[e](ei.Z.browser.is.Firefox?"underflow":"overflowchanged",this.onExpand,!0),this.shrinkMonitor[e](ei.Z.browser.is.Firefox?"overflow":"overflowchanged",this.onShrink,!0)},onExpand:function(e){this.destroyed||ei.Z.browser.is.Webkit&&e.horizontalOverflow&&e.verticalOverflow||ei.Z.TaskQueue.requestRead("refresh",this)},onShrink:function(e){this.destroyed||ei.Z.browser.is.Webkit&&!e.horizontalOverflow&&!e.verticalOverflow||ei.Z.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){var e,t,n,r,i;this.destroying||this.destroyed||(e=this.expandHelper,t=this.shrinkHelper,n=(r=this.getContentBounds()).width,r=r.height,e&&!e.destroyed&&((i=e.style).width=n+1+"px",i.height=r+1+"px"),t&&!t.destroyed&&((i=t.style).width=n+"px",i.height=r+"px"),ei.Z.TaskQueue.requestRead("refresh",this))},destroy:function(){this.onExpand=this.onShrink=null,this.callParent2(this,"GRUI.util.sizemonitor.Abstract","null","destroy",this.destroy,arguments)}}),ei.Z.define("GRUI.util.translatable.ScrollParent",{extend:"GRUI.util.translatable.Dom",alias:"translatable.scrollparent",isScrollParent:!0,applyElement:function(e){return(e=ei.Z.get(e))&&(this.parent=e.parent()),e},doTranslate:function(e,t){var n=this.parent;n.setScrollLeft(Math.round(-e)),n.setScrollTop(Math.round(-t))},getPosition:function(){var e=this.position,t=this.parent;return e.x=t.getScrollLeft(),e.y=t.getScrollTop(),e}}),ei.Z.define("GRUI.util.translatable.ScrollPosition",{extend:"GRUI.util.translatable.Dom",alias:"translatable.scrollposition",constructor:function(e){e&&e.element&&(this.x=e.element.getScrollLeft(),this.y=e.element.getScrollTop()),this.callParent2(this,"GRUI.util.translatable.Dom","null","constructor",this.constructor,arguments)},translateAnimated:function(){var e=this.getElement();this.x=e.getScrollLeft(),this.y=e.getScrollTop(),this.callParent2(this,"GRUI.util.translatable.Dom","null","translateAnimated",this.translateAnimated,arguments)},doTranslate:function(e,t){var n=this.getElement();n.setScrollLeft(Math.round(e)),n.setScrollTop(Math.round(t))},getPosition:function(){var e=this.position,t=this.getElement();return e.x=t.getScrollLeft(),e.y=t.getScrollTop(),e}}),ei.Z.define("GRUI.AbstractComponent",{extend:"GRUI.Widget"}),ei.Z.define("GRUI.Button",{extend:"GRUI.Component",xtype:"button",isButton:!0,cachedConfig:{buttonType:"button",iconCls:null,textAlign:null,menuAlign:"tl-bl?",destroyMenu:!0,stretchMenu:!1},config:{allowDepress:!0,badgeText:null,text:null,icon:!1,iconAlign:"left",pressedDelay:0,menu:{lazy:!0,$value:null},arrow:null,arrowAlign:"right",handler:null,toggleHandler:null,scope:null,autoEvent:null,ui:null,enableToggle:!1,value:null},eventedConfig:{pressed:!1},preventDefaultAction:!0,isMenuOwner:!0,baseCls:ei.Z.baseCSSPrefix+"button",hasMenuCls:ei.Z.baseCSSPrefix+"has-menu",hoveredCls:ei.Z.baseCSSPrefix+"hovered",pressedCls:ei.Z.baseCSSPrefix+"pressed",pressingCls:ei.Z.baseCSSPrefix+"pressing",hasBadgeCls:ei.Z.baseCSSPrefix+"has-badge",hasIconCls:ei.Z.baseCSSPrefix+"has-icon",hasTextCls:ei.Z.baseCSSPrefix+"has-text",hasArrowCls:ei.Z.baseCSSPrefix+"has-arrow",noArrowCls:ei.Z.baseCSSPrefix+"no-arrow",defaultBindProperty:"text",publishes:["pressed"],element:{reference:"element",listeners:{click:"onClick"}},focusable:!0,focusEl:"buttonElement",ariaEl:"buttonElement",backgroundColorEl:"innerElement",focusClsEl:"el",initialize:function(){var e=this,t=e.el;this.callParent2(this,"GRUI.Component","null","initialize",this.initialize,arguments),e.getConfig("menu",!0)&&e.addCls(e.hasMenuCls),t.on({scope:e,touchstart:"onPress"}),t.addClsOnOver(e.hoveredCls,e.isEnabled,e)},getTemplate:function(){return[{reference:"innerElement",cls:ei.Z.baseCSSPrefix+"inner-el",children:[{reference:"bodyElement",cls:ei.Z.baseCSSPrefix+"body-el",children:[{cls:ei.Z.baseCSSPrefix+"icon-el "+ei.Z.baseCSSPrefix+"font-icon",reference:"iconElement"},{reference:"textElement",cls:ei.Z.baseCSSPrefix+"text-el"}]},{reference:"arrowElement",cls:ei.Z.baseCSSPrefix+"arrow-el "+ei.Z.baseCSSPrefix+"font-icon"}]},{reference:"badgeElement",cls:ei.Z.baseCSSPrefix+"badge-el"},this.getButtonTemplate()]},getButtonTemplate:function(){return{tag:"button",reference:"buttonElement",cls:ei.Z.baseCSSPrefix+"button-el",listeners:{focus:"handleFocusEvent",blur:"handleBlurEvent"}}},shouldRipple:function(){var e=this,t=e.getUi(),n=e.getRipple();return!(t&&0<=t.split(" ").indexOf("fab"))&&n&&void 0===n.bound&&(t=e.getText(),e=e.getIconCls(),t&&0!==t.length||!e||((n=ei.Z.clone(n)).bound=!1,n.measureSelector="grui-icon-el")),n},isPressed:function(){return Boolean(this.getPressed())},toggle:function(){this.setPressed(!this.isPressed())},updateBadgeText:function(e){var t=(r=this).el,n=r.badgeElement,r=r.hasBadgeCls;e?(n.setText(e),t.addCls(r)):t.removeCls(r)},updateButtonType:function(e){this.buttonElement.dom.setAttribute("type",e)},updateText:function(e){this.textElement.setHtml(e),this.toggleCls(this.hasTextCls,!!e)},updateHtml:function(e){this.setText(e)},applyPressed:function(e){return Boolean(e)},updatePressed:function(e){var t=this,n=t.getToggleHandler();n&&!t.isConfiguring&&ei.Z.callback(n,t.getScope(),[t,e],0,t),t.element.toggleCls(t.pressedCls,e)},updateIcon:function(e){var t=this,n=t.iconElement,r=t.hasIconCls;e?(t.addCls(r),n.setStyle("background-image","url("+e+")")):(n.setStyle("background-image",""),t.getIconCls()||t.removeCls(r))},updateIconCls:function(e,t){var n=this,r=n.iconElement,i=n.hasIconCls;e?(n.addCls(i),r.replaceCls(t,e)):(r.removeCls(t),n.getIcon()||n.removeCls(i))},updateIconAlign:function(e,t){var n=this.el,r=ei.Z.baseCSSPrefix+"icon-align-";n.removeCls(r+t),n.addCls(r+e)},_textAlignCls:{left:ei.Z.baseCSSPrefix+"text-align-left",right:ei.Z.baseCSSPrefix+"text-align-right",center:""},updateTextAlign:function(e,t){e=(n=this._textAlignCls)[e||"center"];var n=n[t||"center"];this.replaceCls(n,e)},updateArrowAlign:function(e,t){var n=this.element,r=ei.Z.baseCSSPrefix+"arrow-align-";t&&n.removeCls(r+t),n.addCls(r+e)},applyMenu:function(e){return e&&(e.isMenu||((e=ei.Z.isArray(e)?{items:e}:e).xtype||(e.xtype="menu"),e.ownerCmp=this,e=ei.Z.widget(e)),this.menuMinWidth=e.getMinWidth()),e},updateMenu:function(e,t){var n={scope:this,hide:"onMenuHide"};t&&!t.destroyed&&(this.getDestroyMenu()?t.destroy():t.isMenu&&t.un(n)),this.toggleCls(this.hasMenuCls,!!e),e&&e.isMenu&&e.on(n)},updateArrow:function(e){this.toggleCls(this.noArrowCls,!e),this.toggleCls(this.hasArrowCls,!!e)},applyAutoEvent:function(e){return"string"==typeof e?{name:e,scope:this.scope||this}:e},updateAutoEvent:function(e){var t=e.name,n=e.scope;this.setHandler((function(){n.fireEvent(t,n,this)})),this.setScope(n)},applyPressedDelay:function(e){return ei.Z.isNumber(e)?e:e?100:0},enableFocusable:function(){this.buttonElement.dom.disabled=!1,this.callParent2(this,"GRUI.Component","null","enableFocusable",this.enableFocusable,arguments)},disableFocusable:function(){this.callParent2(this,"GRUI.Component","null","disableFocusable",this.disableFocusable,arguments),this.buttonElement.dom.disabled=!0},findEventTarget:function(){return this.element},onPress:function(e){var t=this,n=this.findEventTarget(e),r=t.getPressedDelay(),i=t.pressingCls;t.getDisabled()||e.button||(0<r?t.pressedTimeout=ei.Z.defer((function(){delete t.pressedTimeout,n&&n.addCls(i)}),r):n.addCls(i),ei.Z.GlobalEvents.setPressedComponent(t,e))},onRelease:function(e){this.fireAction("release",[this,e],"doRelease")},doRelease:function(e,t){t=e.findEventTarget(t),e.getDisabled()||(e.hasOwnProperty("pressedTimeout")?(ei.Z.undefer(e.pressedTimeout),delete e.pressedTimeout):t&&t.removeCls(e.pressingCls))},onClick:function(e){return this.onTap(e)},onTap:function(e){if(this.getDisabled())return!1;this.fireAction("tap",[this,e],"doTap")},doTap:function(e,t){var n=e.getMenu(),r=e.getHandler();t&&t.preventDefault&&e.preventDefaultAction&&t.preventDefault(),n?e.toggleMenu(t,n):(!e.getToggleHandler()&&!e.getEnableToggle()||!e.getAllowDepress()&&e.isPressed()||e.toggle(),r&&ei.Z.callback(r,e.getScope(),[e,t],0,e))},onEnterKey:function(e){return this.onTap(e),e.stopEvent(),!1},onDownKey:function(e){var t=this.getMenu();if(t&&!this.getDisabled())return this.showMenu(e,t),e.stopEvent(),!1},onEscKey:function(e){var t=this.getMenu();if(t&&!this.getDisabled()&&t.isVisible())return t.hide(),e.stopEvent(),!1},onFocus:function(e){this.keyHandlersAdded||(this.setKeyMap({scope:"this",SPACE:"onEnterKey",ENTER:"onEnterKey",DOWN:"onDownKey",ESC:"onEscKey"}),this.keyHandlersAdded=!0),this.callParent2(this,"GRUI.Component","null","onFocus",this.onFocus,arguments)},onMenuHide:function(e){e.isMenu&&!this.$buttonWasPressed&&this.setPressed(!1)},toggleMenu:function(e,t){(t=t||this.getMenu())&&(t.isVisible()?this.hideMenu(e,t):this.showMenu(e,t))},hideMenu:function(e,t){(t=t||this.getMenu())&&t.hide()},showMenu:function(e,t){var n=this;e=!e||e.pointerType;t=t||n.getMenu(),n.setupMenuStretch(t),t&&(t.isVisible()?e?t.hide():t.focus():(t.autoFocus=!e,t.isMenu?(n.$buttonWasPressed=e=n.getPressed(),t.showBy(n.element,n.getMenuAlign()),e||n.setPressed(!0)):t.isViewportMenu?t.setDisplayed(!t.getDisplayed()):t.show()))},doDestroy:function(){this.hasOwnProperty("pressedTimeout")&&ei.Z.undefer(this.pressedTimeout),this.setMenu(null),this.callParent2(this,"GRUI.Component","null","doDestroy",this.doDestroy,arguments)},getFocusClsEl:function(){return this.element},privates:{setupMenuStretch:function(e){this.menuMinWidth||(this.getStretchMenu()?e.setMinWidth(this.el.measure("w")):e.setMinWidth(null))}}}),ei.Z.define("GRUI.Title",{extend:"GRUI.Component",xtype:"title",config:{title:""},baseCls:ei.Z.baseCSSPrefix+"title",updateTitle:function(e){this.setHtml(e)}}),ei.Z.define("GRUI.Spacer",{extend:"GRUI.Component",xtype:"spacer",config:{},constructor:function(e){(e=e||{}).width||(e.flex=1),this.callParent2(this,"GRUI.Component","null","constructor",this.constructor,arguments)}}),ei.Z.define("GRUI.layout.Box",{extend:"GRUI.layout.Auto",alias:"layout.box",isBox:!0,config:{orient:"horizontal",align:"stretch",constrainAlign:!1,pack:"start",vertical:!1,reverse:!1,overflow:null,wrap:null},cls:ei.Z.baseCSSPrefix+"layout-box",baseItemCls:ei.Z.baseCSSPrefix+"layout-box-item",constrainAlignCls:ei.Z.baseCSSPrefix+"constrain-align",flexedCls:ei.Z.baseCSSPrefix+"flexed",wrapClsMap:{true:ei.Z.baseCSSPrefix+"wrap",wrap:ei.Z.baseCSSPrefix+"wrap","wrap-reverse":ei.Z.baseCSSPrefix+"wrap-reverse"},orientMap:{horizontal:{sizeProp:"width",containerCls:[ei.Z.baseCSSPrefix+"layout-hbox",ei.Z.baseCSSPrefix+"horizontal"],itemCls:ei.Z.baseCSSPrefix+"layout-hbox-item"},vertical:{sizeProp:"height",containerCls:[ei.Z.baseCSSPrefix+"layout-vbox",ei.Z.baseCSSPrefix+"vertical"],itemCls:ei.Z.baseCSSPrefix+"layout-vbox-item"}},constructor:function(e){var t=this;this.callParent2(this,"GRUI.layout.Auto","null","constructor",this.constructor,arguments),t.positionSortFn=t.positionSortFn.bind(t)},setConfig:function(e,t,n){var r,i=e;return e&&("string"==typeof e?(i={})[e]=t:(ei.Z.apply({},e),n=t),r=i.type,delete i.type,null==i.vertical&&("vbox"===r?i.vertical=!0:"hbox"===r&&(i.vertical=!1)),this.callParent2(this,"GRUI.layout.Auto","null","setConfig",this.setConfig,arguments)),this},destroy:function(){ei.Z.destroy(this.getOverflow()),this.positionSortFn=null,this.callParent2(this,"GRUI.layout.Auto","null","destroy",this.destroy,arguments)},updateContainer:function(e,t){var n={flexchange:"onItemFlexChange",scope:this,delegate:"> component"};this.callParent2(this,"GRUI.layout.Auto","null","updateContainer",this.updateContainer,arguments),e&&e.on(n),t&&t.un(n)},updateVertical:function(e){this.setOrient(e?"vertical":"horizontal")},updateOrient:function(e,t){var n,r,i=this,o=i.getContainer(),a=i.getOverflow(),s=o.getRenderTarget(),l=o.innerItems,u=l.length,c=(o=i.orientMap)[e],d=o[t];o="vertical"===e;if(i.sizePropertyName=c.sizeProp,t)for(s.removeCls(d.containerCls),n=0;n<u;++n)l[n].removeCls(d.itemCls);for(s.addCls(c.containerCls),i.itemCls=r=[i.baseItemCls,c.itemCls],n=0;n<u;++n)l[n].addCls(r);i.setVertical(o),i.positionFn=o?"getTop":"getLeft",a&&a.setVertical(o)},updateConstrainAlign:function(e){this.getContainer().getRenderTarget().toggleCls(this.constrainAlignCls,e)},onItemInnerStateChange:function(e,t){var n;this.callParent2(this,"GRUI.layout.Auto","null","onItemInnerStateChange",this.onItemInnerStateChange,arguments),t?(n=e.getFlex())&&this.setItemFlex(e,n):this.setItemFlex(e,null)},onItemFlexChange:function(e,t){e.isInnerItem()&&this.setItemFlex(e,t)},setItemFlex:function(e,t){var n,r=e.el,i="number"==(o=typeof t),o="string"==o;!t||i||o?(i?t=(n=t)+" "+t:o&&(n=(i=ei.Z.String.splitWords(t))[0],1===i.length&&(t=n+" "+n)),r.setStyle("flex",t)):(n=t.grow,r.setStyle({flexGrow:n,flexShrink:t.shrink,flexBasis:t.basis})),e.toggleCls(this.flexedCls,!!n)},convertPosition:function(e){var t=this.positionMap;return t.hasOwnProperty(e)?t[e]:e},applyAlign:function(e){return this.convertPosition(e)},updateAlign:function(e,t){this.getContainer().getRenderTarget().swapCls(e,t,!0,ei.Z.baseCSSPrefix+"align")},applyPack:function(e){return this.convertPosition(e)},updatePack:function(e,t){this.getContainer().getRenderTarget().swapCls(e,t,!0,ei.Z.baseCSSPrefix+"pack")},updateReverse:function(e){this.getContainer().getRenderTarget().toggleCls(ei.Z.baseCSSPrefix+"reverse",e)},ensureVisible:function(e,t){var n,r,i,o,a,s,l,u,c=this;e.isWidget||(e=(t=e).item),(e=t&&!isNaN(t.offset)?this.getItemByOffset(t.offset):e)&&(i=(n=this.getContainer().getScrollable()).getElement(),r=c.getVertical(),i=c.getItemInfo(i),a=(o=c.getItemInfo(e)).size>i.size,l=t&&t.scroll||"min",u=n.translatable,c._currentEnsureVisibleItem===e&&u&&u.isAnimating||("min"===l?!a&&o.start<i.start||a&&o.start>i.start?s=o.start-i.start:!a&&o.end>i.end||a&&o.end<i.end?s=o.end-i.end:a&&o.start<i.start&&o.end>i.end&&(s=o.start-i.start):s=o.start<i.start?o.end-i.end:o.start-i.start,s&&(u=r?null:s,l=r?s:null,c._currentEnsureVisibleItem=e,n.scrollBy(u,l,t.animation))))},getItemByOffset:function(e){var t,n,r,i,o=this.getContainer(),a=o.getScrollable().getElement(),s=this.getItemInfo(a),l=o.getInnerItems(),u=l.length,c=-1/0,d=-1/0,f=0,h=u-1;if(e){for(l.sort(this.positionSortFn),n=0;n<u;n++)if(i=l[n],r=(i=this.getItemInfo(i)).start-s.start,i=s.end-i.end,c<r&&r<0&&0<i&&(c=r,f=n),d<i&&i<0&&0<r){d=i,h=n;break}return 0<e?(t=h+=--e,u<=h&&(t=u-1)):(t=f+=++e,f<0&&(t=0)),l[t]}},getItemInfo:function(e){var t=this.getVertical();return{start:(e=e.el)[t?"getTop":"getLeft"](),end:e[t?"getBottom":"getRight"](),size:e[t?"getHeight":"getWidth"]()}},createOverflow:function(e){return ei.Z.apply({owner:this,vertical:this.getVertical()},e)},applyOverflow:function(e,t){return ei.Z.Factory.layoutOverflow.update(t,e,this,"createOverflow")},updateWrap:function(e,t){var n,r=this.getContainer().getRenderTarget(),i=this.wrapClsMap;t&&(n=i[t])&&r.removeCls(n),e&&(n=i[e])&&r.addCls(n)},privates:{positionSortFn:function(e,t){var n=this.positionFn;return(e=e.el[n]())<(t=t.el[n]())?-1:t<e?1:0}}}),ei.Z.define("GRUI.Toolbar",{extend:"GRUI.Container",xtype:"toolbar",requires:["GRUI.Button","GRUI.Title","GRUI.Spacer","GRUI.layout.Box"],isToolbar:!0,config:{title:null,defaultType:"button",defaultButtonUI:null,minHeight:null,layout:{type:"box",align:"center"}},statics:{shortcuts:{"->":!0}},autoSize:null,border:!1,classCls:ei.Z.baseCSSPrefix+"toolbar",constructor:function(e){"left"!==(e=e||{}).docked&&"right"!==e.docked||(e.layout=ei.Z.apply({type:"box",align:"stretch",vertical:!0},e.layout)),this.callParent2(this,"GRUI.Container","null","constructor",this.constructor,arguments)},applyTitle:function(e){return ei.Z.factory(e="string"==typeof e?{title:e,centered:!0}:e,ei.Z.Title,this.getTitle())},updateTitle:function(e,t){e&&this.add(e),t&&t.destroy()},showTitle:function(){var e=this.getTitle();e&&e.show()},hideTitle:function(){var e=this.getTitle();e&&e.hide()},onItemAdd:function(e,t){var n=this.getDefaultButtonUI();n&&(e.isSegmentedButton?null==e.getDefaultUI()&&e.setDefaultUI(n):e.isButton&&null==e.getUi()&&e.setUi(n)),this.callParent2(this,"GRUI.Container","null","onItemAdd",this.onItemAdd,arguments)},factoryItem:function(e){return"->"===e&&(e={xtype:"component",flex:1}),this.callParent2(this,"GRUI.Container","null","factoryItem",this.factoryItem,arguments)}}),ei.Z.define("GRUI.panel.Buttons",(function(){var e;return{requires:["GRUI.Toolbar"],isOKFirst:!(e=(e=ei.Z.platformTags).ios||e.mac||e.android),config:{buttonAlign:null,buttonDefaults:null,buttons:null,minButtonWidth:75,standardButtons:{ok:{text:"OK",weight:e?120:10},abort:{text:"Abort",weight:e?110:20},retry:{text:"Retry",weight:e?100:30},ignore:{text:"Ignore",weight:e?90:40},yes:{text:"Yes",weight:e?80:50},no:{text:"No",weight:e?70:60},cancel:{text:"Cancel",weight:e?60:70},apply:{text:"Apply",weight:e?50:80},save:{text:"Save",weight:e?40:90},submit:{text:"Submit",weight:e?30:100},help:{text:"Help",weight:e?10:110},close:{text:"Close",weight:e?20:120}}},_packButtonAlign:{left:"start",right:"end",center:"center"},updateButtonAlign:function(e){var t=this._buttons;e&&t&&(e=this._packButtonAlign[e])&&t.getLayout().setPack(e)},applyButtons:function(e,t){var n,r,i,o,a=this,s=ei.Z.convertKeyedItems(e,"xxx","xxx"),l=a.getButtonDefaults(),u=a.getStandardButtons(),c=s?s.length:0;if(e&&"object"==typeof e&&(e.xtype||e.itemId||e.items||e.reference))return a.adjustButtons(e,t);if(e)if(s===e)for(s=[],o=0;o<c;++o)"string"==typeof(n=e[o])?ei.Z.Toolbar.shortcuts[n]||(n=ei.Z.applyIf({itemId:n,text:n},l)):l&&(n=ei.Z.apply({},n,l)),s[o]=n;else for(o=0;o<c;++o)i=(n=s[o]).xxx,(r=u[n.itemId])&&ei.Z.applyIf(n,r),i&&(delete n.xxx,n.handler=i),l&&ei.Z.applyIf(n,l);return a.adjustButtons(s,t)},onClassMixedIn:function(e){var t=e.prototype,n=t.buttons;n&&(delete t.buttons,e.addConfig({buttons:n}))},privates:{normalizeButtonBar:function(e,t,n,r,i){var o,a,s,l=this;return e?(s=e.isComponent,ei.Z.isArray(e)?e={xtype:"toolbar",items:e}:s||(e=ei.Z.clone(e)),s||(e.$initParent=l,e.parent=l,e.xtype||(e.xtype="toolbar")),s?e.setDocked(n):n&&(e.docked=n),i&&(s?e.setEnableFocusableContainer(!1):e.enableFocusableContainer=!1),r&&!s&&(r.xtype&&delete e.xtype,(e=ei.Z.merge(ei.Z.clone(r),e)).layout=ei.Z.merge(n={},e.layout),(i=l.getButtonAlign())&&(s=l._packButtonAlign[i])&&(n.pack=s),a=this.getMinButtonWidth(),o=e.defaults,e.defaults=function(e){var t=o||{},n=!e.xtype||e.isButton;return n||(e=ei.Z.ClassManager.getByAlias("widget."+e.xtype))&&(n=e.prototype.isButton),n&&a&&!("minWidth"in t)?ei.Z.apply({minWidth:a},t):t}),t?(r=l.indexOf(t),t.destroy(),l.insert(r,e)):l.add(e)):(t&&t.destroy(),e)}}}})),ei.Z.define("GRUI.Tool",{extend:"GRUI.Component",alternateClassName:"GRUI.panel.Tool",xtype:["tool","paneltool"],isPanelTool:!0,isTool:!0,focusable:!0,tabIndex:0,focusEl:"element",ariaEl:"element",inheritUi:!0,classCls:ei.Z.baseCSSPrefix+"tool",pressedCls:ei.Z.baseCSSPrefix+"pressed",hoveredCls:ei.Z.baseCSSPrefix+"hovered",passiveCls:ei.Z.baseCSSPrefix+"passive",element:{reference:"element",tabIndex:0,listeners:{click:"onClick",mousedown:"onMouseDown",mouseover:"onMouseOver",mouseout:"onMouseOut"},children:[{reference:"iconElement",cls:ei.Z.baseCSSPrefix+"icon-el "+ei.Z.baseCSSPrefix+"font-icon"}]},handler:null,scope:null,toolOwner:null,config:{iconCls:null,type:null,passive:null},stopEvent:!0,weight:10,updateIconCls:function(e,t){this.iconElement.replaceCls(t,e)},updateType:function(e,t){var n=ei.Z.Tool.prototype.classCls,r=this.iconElement;this.type=e,r.replaceCls(t&&n+"-type-"+t,e&&n+"-type-"+e)},updateDisabled:function(e,t){this.callParent2(this,"GRUI.Component","null","updateDisabled",this.updateDisabled,arguments),this.el.removeCls([this.hoveredCls,this.pressedCls])},updatePassive:function(e){var t=this;t.setDisabled(e),t.el.toggleCls(t.passiveCls,e),t.el.setTabIndex(e?null:t.getTabIndex()),t.focusable=!e},shouldRipple:function(e){return!this.getPassive()&&this.callParent2(this,"GRUI.Component","null","shouldRipple",this.shouldRipple,arguments)},privates:{invokeToolHandler:function(e,t,n,r,i){return t&&ei.Z.callback(t,e.scope,r,0,e),e.fireEvent("click",e,i,e.toolOwner||e.ownerCt),!0},onClick:function(e){var t,n=this,r=n.handler||n.callback,i=n.toolOwner;return!n.getDisabled()&&(!1!==n.stopEvent&&e.stopEvent(),t=[n.parent,n,e],i&&(t[0]=i).augmentToolHandler&&i.augmentToolHandler(n,t),(i&&i.invokeToolHandler?i:n).invokeToolHandler(n,r,n.scope,t,e))},onMouseDown:function(e){var t=this;if(t.focusable||e.preventDefault(),t.getDisabled())return!1;t.addCls(t.pressedCls),ei.Z.GlobalEvents.setPressedComponent(t,e)},onRelease:function(){this.removeCls(this.pressedCls)},onMouseOver:function(){if(this.getDisabled())return!1;this.addCls(this.hoveredCls)},onMouseOut:function(){this.removeCls(this.hoveredCls)}}}),ei.Z.define("GRUI.mixin.Toolable",{mixinId:"toolable",config:{defaultToolWeights:{cached:!0,$value:{toggle:10,gear:20,prev:30,next:40,left:50,right:60,down:70,up:80,refresh:90,disclosure:100,plus:100,minus:110,search:120,edit:125,save:130,print:140,expand:150,collapse:160,help:170,pin:180,unpin:190,minimize:200,maximize:210,restore:220,close:230,trash:240}},toolDefaults:{xtype:"tool",zone:"end"},tools:null},toolAnchorName:"bodyElement",afterClassMixedIn:function(e){var t=e.prototype,n=t.toolDefaults,r=t.getRefItems;n&&(delete t.toolDefaults,e.getConfigurator().add({toolDefaults:ei.Z.apply({xtype:"tool",weight:0,zone:"end"},n)})),(n=t.tools)&&(delete t.tools,e.getConfigurator().add({tools:n})),t.getRefItems=r?function(e){return ei.Z.Array.push(r.call(this,e),this.getTools()||ei.Z.emptyArray)}:function(){return this.getTools()||ei.Z.emptyArray}},lookupTool:function(e){for(var t,n=this.getTools(),r=n&&n.length,i=0;i<r;++i)if((t=n[i]).type===e||t.getItemId()===e)return t;return null},addTool:function(e){var t,n=this,r=n.getTools();return r&&r.length?(r.push(e=n.instantiateTool(e)),ei.Z.sortByWeight(r),r=r[r.indexOf(e)+1],t=e.zone,r=r&&r.zone===t?r.el.dom:null,n.getToolZone(t).el.insertBefore(e.el,r)):(n.setTools([e]),e=n.getTools()[0]),e},applyTools:function(e){if(e){var t,n,r=this,i=r.createTools(e),o=i.length;for(ei.Z.sortByWeight(i),t=0;t<o;++t)i[t]=n=r.instantiateTool(i[t]),r.getToolZone(n.zone).el.appendChild(n.el);e=i}return e},instantiateTool:function(e){return(e=e.isTool?e:ei.Z.clone(e)).ownerCmp=e.toolOwner=this,(e=e.isTool?e:ei.Z.create(e)).doInheritUi(),e.addCls(this._toolPositionClsMap[e.zone]),e},updateTools:function(e,t){ei.Z.destroy(t)},privates:{_toolZoneNames:{end:"_endZone",head:"_headZone",start:"_startZone",tail:"_tailZone"},_tailedCls:ei.Z.baseCSSPrefix+"tailed",_headedCls:ei.Z.baseCSSPrefix+"headed",_toolZoneCls:ei.Z.baseCSSPrefix+"tool-zone",_toolZoneClsMap:{end:ei.Z.baseCSSPrefix+"end",head:ei.Z.baseCSSPrefix+"head",tail:ei.Z.baseCSSPrefix+"tail",start:ei.Z.baseCSSPrefix+"start"},_toolPositionClsMap:{end:ei.Z.baseCSSPrefix+"end",head:ei.Z.baseCSSPrefix+"start",tail:ei.Z.baseCSSPrefix+"end",start:ei.Z.baseCSSPrefix+"start"},_toolDockAlignCls:{left:ei.Z.baseCSSPrefix+"align-left",center:ei.Z.baseCSSPrefix+"align-center",right:ei.Z.baseCSSPrefix+"align-right"},hasToolZones:!1,adjustToolDefaults:function(e,t,n){return t=t||this.getToolDefaults(),void 0===n&&(n=this.getDefaultToolWeights()),t&&(ei.Z.applyIf(e,t),e.instanceCls=this.toolCls),e.type||e.iconCls||(e.type=e.itemId),!n||"weight"in e||(e.weight=n[e.type]),e},createTools:function(e,t){var n,r,i=this,o=ei.Z.convertKeyedItems(e,"handler","handler"),a=o.length,s=i.getDefaultToolWeights(),l=i.getToolDefaults();if(t=t||i,o===e)for(o=[],n=0;n<a;++n)(r="string"==typeof(r=e[n])?i.adjustToolDefaults({type:r},l,null):ei.Z.apply(i.adjustToolDefaults({},l,null),r)).toolOwner=t,o[n]=r;else for(n=0;n<a;++n)i.adjustToolDefaults(r=o[n],l,s),r.toolOwner=t;return o},getToolZone:function(e){var t,n=this,r=n._toolZoneNames[e],i=n[r],o="_toolDockWrap";return i||(i=ei.Z.Element.create({classList:[n._toolZoneCls,n._toolZoneClsMap[e]]}),t=n[n.toolAnchorName],n[o]||(n[o]=t.wrap({cls:ei.Z.baseCSSPrefix+"tool-dock"}),t.addCls(ei.Z.baseCSSPrefix+"tool-anchor"),n.initUiReference(o,"tool-dock"),n.syncToolableAlign()),"head"===e?(i.insertBefore(t),t.addCls(n._headedCls)):"tail"===e?(i.insertAfter(t),t.addCls(n._tailedCls)):"start"===e?i.insertBefore(n._headZone||t):"end"===e&&i.insertAfter(n._tailZone||t),n[r]=i,n.hasToolZones=!0),i},syncToolableAlign:function(){var e,t=this,n=t._toolDockWrap,r=t._toolDockAlignCls;n&&"function"==typeof t.getAlign&&(e=t.getAlign(),n.replaceCls(r[t._toolDockAlign],r[e]),t._toolDockAlign=e)},doDestroy:function(){var e=this;e.setTools(null),ei.Z.destroy(e._startZone,e._endZone,e._headZone,e._tailZone,e._toolDockWrap)}}}),ei.Z.define("GRUI.Panel",{extend:"GRUI.Container",xtype:"panel",alternateClassName:"GRUI.panel.Panel",isPanel:!0,mixins:["GRUI.panel.Buttons","GRUI.mixin.Toolable"],requires:["GRUI.layout.Box","GRUI.Toolbar"],defaultBindProperty:"title",config:{headerPosition:"top",header:null,icon:null,iconCls:null,iconAlign:null,title:null,titleAlign:null,anchor:null,anchorPosition:null,closable:null,bbar:null,lbar:null,rbar:null,tbar:null},cachedConfig:{border:!1,bodyBorder:null,bodyPadding:null,bodyStyle:null,buttonToolbar:{xtype:"toolbar",itemId:"buttonToolbar",docked:"bottom",defaultType:"button",weighted:!0,ui:"footer",defaultButtonUI:"action",layout:{type:"box",vertical:!1,pack:"center"}},closeAction:"destroy",closeToolText:"Close panel"},classCls:ei.Z.baseCSSPrefix+"panel",headerCls:null,titleCls:null,toolCls:ei.Z.baseCSSPrefix+"paneltool",sideCls:{top:ei.Z.baseCSSPrefix+"top",right:ei.Z.baseCSSPrefix+"right",bottom:ei.Z.baseCSSPrefix+"bottom",left:ei.Z.baseCSSPrefix+"left"},manageBorders:!0,allowHeader:!0,template:[{reference:"bodyWrapElement",cls:ei.Z.baseCSSPrefix+"body-wrap-el",uiCls:"body-wrap-el",children:[{reference:"bodyElement",cls:ei.Z.baseCSSPrefix+"body-el",uiCls:"body-el"}]}],initialize:function(){var e;this.callParent2(this,"GRUI.Container","null","initialize",this.initialize,arguments),(e=this.getScrollable())&&e.isVirtualScroller&&e.setAutoRefresh(!0)},addBodyCls:function(e){return this.bodyElement.addCls(e),this},removeBodyCls:function(e){return this.bodyElement.removeCls(e),this},applyBodyPadding:function(e){return(e=!0===e?5:e)&&ei.Z.dom.Element.unitizeBox(e)},applyBodyStyle:function(e,t){return t&&e===t&&ei.Z.isObject(t)&&(e=ei.Z.apply({},e)),this.bodyElement.applyStyles(e),null},addTool:function(e){var t,n=this.ensureHeader();return n&&(t=this.createTools(ei.Z.Array.from(e)))&&t.length?n.add(t):t},applyHeader:function(e,t){var n=this,r=t;return n.allowHeader=!1!==e,t&&!e&&(r=ei.Z.destroy(r)),e&&n.allowHeader&&(t=!0===e,r?t||r.setConfig(e):((e=t?{}:e).$initParent=n,r=ei.Z.factory(n.createHeader(e)),delete(n.header=r).$initParent,delete e.$initParent,((r.ownerCmp=n).maxHeightElement||n.el).insertFirst(r.el),r.doInheritUi())),r||null},updateHeader:function(e){e?this.positionHeader(e):this.syncBorders()},applyTools:function(e){var t=this.ensureHeader();t&&(t.clearTools(),(e=this.createTools(e))&&e.length&&t.add(e))},close:function(){var e=this,t=e.getCloseAction(),n="destroy"===t;!1!==e.fireEvent("beforeclose",e)&&(t&&!n&&e[t](),e.fireEvent("close",e),n&&e.destroy())},createHeader:function(e){var t=this,n={xtype:"panelheader",instanceCls:t.headerCls,docked:"top"};return t._isCreatingHeader=!0,e&&!0!==e&&ei.Z.merge(n,e),t.initialized&&(null!=(e=t.getTitle())&&ei.Z.merge(n,{title:e="string"==typeof e?{text:e}:e}),null!=(e=t.getIconCls())?n.iconCls=e:null!=(e=t.getIcon())&&(n.icon=e)),t._isCreatingHeader=!1,n},applyAnchor:function(e,t){var n,r,i=this,o=i.el.dom;if(e){if(t)return;e=i.el.insertFirst({cls:ei.Z.baseCSSPrefix+"anchor-el"}),(n=document.createElementNS("http://www.w3.org/2000/svg","svg")).setAttribute("class",ei.Z.baseCSSPrefix+"pointer-el"),r=document.createElementNS("http://www.w3.org/2000/svg","path"),n.appendChild(r),e.dom.appendChild(n),o.style.overflow="visible"}else t&&(i.anchorSize=t.destroy(),o.style.overflow="");return e},initAnchor:function(){var e,t=this,n=t.getAnchor(),r=t.sideCls.top,i=n.dom.firstChild,o=i.firstChild;n.addCls(r),n.show(),e=n.measure(),t.anchorSize=e=new ei.Z.util.Offset(e.width,e.height),t.anchorMargin=parseFloat(n.getStyle("marginLeft"))||0,n.dom.style.margin="0",i.setAttribute("height",e.y),i.setAttribute("width",e.x),o.setAttribute("d","M0 "+e.y+" L"+e.x/2+" 0.5 L"+e.x+" "+e.y),e.y-=parseFloat(ei.Z.fly(o).getStyle("stroke-width")),n.removeCls(r),n.hide()},updateAnchorPosition:function(e,t){var n=this.getAnchor(),r=this.sideCls;n&&(t&&n.removeCls(r[t.side]),e?(n.addCls(r[e.side]),n.translate(e.x,e.y),n.show()):n.hide())},updateBorder:function(e,t){var n=this;this.callParent2(this,"GRUI.Container","null","updateBorder",this.updateBorder,arguments),null===n.getBodyBorder()&&n.setBodyBorderEnabled(!1!==e),n.syncBorders()},updateBodyPadding:function(e){this.bodyElement.setStyle("padding",e)},updateBodyBorder:function(e){var t=this;e=null===e?t.getBorder():e,t.setBodyBorderEnabled(!1!==e),t.syncBorders()},updateClosable:function(e){var t=this;e?(e=t.addTool({type:"close",weight:1e3,scope:t,handler:"onCloseTool",tooltip:t.getCloseToolText(),$internal:!0}))&&e.length&&(t.closeTool=e[0]):ei.Z.destroy(t.closeTool)},updateHeaderPosition:function(e,t){this.moveHeaderPosition(e,t)},updateIcon:function(e){var t=this.ensureHeader();t&&t.setIcon(e)},updateIconCls:function(e){var t=this.ensureHeader();t&&t.setIconCls(e)},updateIconAlign:function(e){var t=this.ensureHeader();t&&t.setIconAlign(e)},applyBbar:function(e,t){return this.normalizeButtonBar(e,t,"bottom")},applyLbar:function(e,t){return this.normalizeButtonBar(e,t,"left")},applyRbar:function(e,t){return this.normalizeButtonBar(e,t,"right")},applyTbar:function(e,t){return this.normalizeButtonBar(e,t,"top")},updateTitle:function(e){var t=this.ensureHeader(),n=this.tab;t&&t.setTitle(e),n&&n.isTab&&!n.destroying&&!n.destroyed&&n.setText(e)},updateTitleAlign:function(e){var t=this.ensureHeader();t&&t.setTitleAlign(e)},updateUi:function(e,t){this.callParent2(this,"GRUI.Container","null","updateUi",this.updateUi,arguments),this.hasResizable&&this.onResizableUiChange(e,t),this.anchorSize=null},alignTo:function(e,t,n){var r,i,o,a=this,s=a.getAnchor(),l=a.initialConfig,u=(c=a.isPositioned())?a.setLeft:a.setX,c=c?a.setTop:a.setY;if(!s)return this.callParent2(this,"GRUI.Container","null","alignTo",this.alignTo,arguments);a.anchorSize||a.initAnchor(),r=a.anchorMargin,(i=e.isRegion?e:(e.isWidget?e.el:ei.Z.fly(e)).getRegion()).adjust(-r,r,r,-r),(r=a.getAlignmentInfo(i,t)).isAligned||(o=a.getParent(),a.getFloated()||(o?a.positioned=!0:a.setFloated(!0)),"unconstrainedWidth"in a&&a.setWidth(a.unconstrainedWidth),"unconstrainedHeight"in a&&a.setHeight(a.unconstrainedHeight),a.alignToArgs=[e,t,n],(o=a.getAlignRegion(i,t,ei.Z.apply({anchorSize:a.anchorSize,axisLock:a.getAxisLock()},n)))?(u.call(a,o.x),c.call(a,o.y),o.constrainWidth&&(a.unconstrainedWidth=l.width||a.self.prototype.width,i=a.el.getHeight(),a.setWidth(r.stats.width=o.getWidth()),0===o.align.position&&c.call(a,o.y+(i-a.el.getHeight()))),o.constrainHeight&&(a.unconstrainedHeight=l.height||a.self.prototype.height,a.setHeight(r.stats.height=o.getHeight())),o.anchor?(c=u=0,1&o.anchor.align?c=o.anchor.y-o.y:u=o.anchor.x-o.x,a.setAnchorPosition({side:o.anchor.position,x:u,y:c})):a.setAnchorPosition(null),a.setCurrentAlignmentInfo(r)):s&&s.show(),a.viewportResizeListener||(a.viewportResizeListener=ei.Z.on({resize:"onViewportResize",scope:a,destroyable:!0})))},getRefItems:function(e){var t=this.callParent2(this,"GRUI.Container","null","getRefItems",this.getRefItems,arguments),n=this.getConfig("header",!1,!0);return n&&(e&&n.getRefItems&&t.unshift.apply(t,n.getRefItems(e)),t.unshift(n)),t},onCloseTool:function(){this.close()},onRender:function(){var e;this.callParent2(this,"GRUI.Container","null","onRender",this.onRender,arguments),(e=this.getHeader())&&e.setRendered(!0),this.hasCollapsible&&this.onCollapsibleRendered()},doDestroy:function(){ei.Z.destroy(this.header,this.anchor),this.callParent2(this,"GRUI.Container","null","doDestroy",this.doDestroy,arguments)},privates:{headerPositionMap:{top:{cls:ei.Z.baseCSSPrefix+"header-position-top",dom:0,horz:!0},right:{cls:ei.Z.baseCSSPrefix+"header-position-right",dom:1,vert:!0},bottom:{cls:ei.Z.baseCSSPrefix+"header-position-bottom",dom:1,horz:!0},left:{cls:ei.Z.baseCSSPrefix+"header-position-left",dom:0,vert:!0}},adjustButtons:function(e,t){return this.normalizeButtonBar(e,t,"bottom",this.getButtonToolbar())},ensureHeader:function(){var e,t=this;return t._isCreatingHeader||(t.getItems(),!(e=t.getHeader())&&t.allowHeader&&(t.setHeader(!0),e=t.getHeader())),e},moveHeaderPosition:function(e,t){var n,r,i=this,o=i.element,a=(s=i.headerPositionMap)[t],s=s[e];return(a=a?a.cls:"")!==(s=s.cls)&&(t&&o.removeCls(a),o.addCls(s)),!t&&"top"===e||(r=i.ensureHeader())&&!i.isConfiguring&&(i.positionHeader(r,e),n=!0),n||i.syncBorders(),r},positionHeader:function(e,t){t=t||this.getHeaderPosition(),e.setPosition(t),this.syncBorders()},setBodyBorderEnabled:function(e){this.bodyElement.setStyle("border-width",e?"":"0")},syncBorders:function(){this.isConfiguring||this.getLayout().handleDockedItemBorders(!0)}}}),ei.Z.define("GRUI.panel.Resizable",{override:"GRUI.Panel",config:{resizable:null},hasResizable:!0,defaultResizerCls:"GRUI.panel.Resizer",applyResizable:function(e){return e&&(!0===e&&(e={}),e=ei.Z.create(ei.Z.apply({xclass:this.defaultResizerCls,target:this,ui:this.getUi()},e))),e},updateResizable:function(e,t){t&&t.destroy()},doDestroy:function(){this.setResizable(null),this.callParent2(this,"null","GRUI.Panel","doDestroy",this.doDestroy,arguments)},privates:{onResizableUiChange:function(e,t){var n=this.getResizable();n&&n.setUi(e)}}}),ei.Z.define("GRUI.Mask",{extend:"GRUI.Component",xtype:"mask",requires:["GRUI.util.InputBlocker"],config:{transparent:!1,top:0,left:0,right:0,bottom:0},baseCls:ei.Z.baseCSSPrefix+"mask",initialize:function(){var e=this;this.callParent2(this,"GRUI.Component","null","initialize",this.initialize,arguments),e.element.on("tap","onTap",e),e.on("hide","onHide",e),e.on("show","onShow",e)},onHide:function(e){e.sender&&e.tabbingDisabled&&(e.sender.enableTabbing(),e.tabbingDisabled=!1),ei.Z.util.InputBlocker.unblockInputs(),ei.Z.browser.is.AndroidStock4&&0===ei.Z.os.version.getMinor()&&(e=this.element.getFirstChild())&&e.redraw()},onShow:function(e){e.sender&&!e.tabbingDisabled&&(e.sender.disableTabbing(),e.tabbingDisabled=!0)},onTap:function(e){this.fireEvent("tap",this,e)},updateTransparent:function(e){this.toggleCls(this.baseCls+"-transparent",e)}}),ei.Z.define("GRUI.Sheet",{extend:"GRUI.Panel",xtype:"sheet",isViewportMenu:!1,hidden:!0,config:{reveal:null,cover:null,side:null,stretchX:null,stretchY:null,enter:"bottom",exit:"bottom"},translatable:{type:"csstransform"},showAnimation:{type:"slideIn",duration:250,easing:"ease-out"},hideAnimation:{type:"slideOut",duration:250,easing:"ease-in"},modal:!0,hideOnMaskTap:!0,centered:!0,classCls:ei.Z.baseCSSPrefix+"sheet",manageBorders:!1,autoSize:null,border:!0,bodyBorder:!1,floated:!0,isInputRegex:/^(input|textarea|select|a)$/i,destroy:function(){this.setSide(null),this.callParent2(this,"GRUI.Panel","null","destroy",this.destroy,arguments)},applyHideAnimation:function(e){var t,n=this.getExit(),r=n;return null===n?null:(!0===e&&(e={type:"slideOut"}),(t=this.callParent2(this,"GRUI.Panel","null","applyHideAnimation",this.applyHideAnimation,arguments))&&("bottom"===n?r="down":"top"===n&&(r="up"),t.setDirection(r)),t)},applyShowAnimation:function(e){var t,n=this.getEnter(),r=n;return null===n?null:(!0===e&&(e={type:"slideIn"}),(t=this.callParent2(this,"GRUI.Panel","null","applyShowAnimation",this.applyShowAnimation,arguments))&&("bottom"===n&&(r="down"),"top"===n&&(r="up"),t.setBefore({display:null}),t.setReverse(!0),t.setDirection(r)),t)},hide:function(e){var t=this.getSide();t?ei.Z.Viewport.hideMenu(t,e):this.callParent2(this,"GRUI.Panel","null","hide",this.hide,arguments)},show:function(e,t){var n=ei.Z.Viewport,r=t&&"side"in t?t.side:this.getSide();r?(n.setMenu(this),n.showMenu(r)):this.callParent2(this,"GRUI.Panel","null","show",this.show,arguments)},updateSide:function(e,t){var n=this,r=!n.isConfiguring&&n.isVisible();n.isViewportMenu=!!e,t&&ei.Z.Viewport.removeMenu(t),e&&(ei.Z.Viewport.setMenu(n,{side:e}),r&&n.show())},updateStretchX:function(e){this.getLeft(),this.getRight(),e&&(this.setLeft(0),this.setRight(0))},updateStretchY:function(e){this.getTop(),this.getBottom(),e&&(this.setTop(0),this.setBottom(0))}}),ei.Z.define("GRUI.menu.Item",{extend:"GRUI.Component",xtype:"menuitem",alternateClassName:"GRUI.menu.TextItem",isMenuItem:!0,menuExpandDelay:200,menuHideDelay:200,scope:null,destroyMenu:!0,clickHideDelay:0,hideOnClick:!0,config:{href:null,target:null,handler:null,text:null,menu:{lazy:!0,$value:null},menuAlign:"tl-tr?",icon:null,iconCls:null,iconAlign:"left",indented:null,separator:null},inheritUi:!0,ariaRole:"menuitem",focusable:!0,classCls:ei.Z.baseCSSPrefix+"menuitem",activeCls:ei.Z.baseCSSPrefix+"active",hasLeftIconCls:ei.Z.baseCSSPrefix+"has-left-icon",hasRightIconCls:ei.Z.baseCSSPrefix+"has-right-icon",hasArrowCls:ei.Z.baseCSSPrefix+"has-arrow",hasHrefCls:ei.Z.baseCSSPrefix+"has-href",isMenuOwner:!0,template:[{reference:"bodyElement",tag:"a",href:"#",cls:ei.Z.baseCSSPrefix+"body-el "+ei.Z.baseCSSPrefix+"unselectable",children:[{reference:"leftIconWrapElement",cls:ei.Z.baseCSSPrefix+"left-icon-wrap-el "+ei.Z.baseCSSPrefix+"icon-wrap-el",children:[{reference:"leftIconElement",cls:ei.Z.baseCSSPrefix+"left-icon-el "+ei.Z.baseCSSPrefix+"icon-el "+ei.Z.baseCSSPrefix+"font-icon"}]},{html:"\xa0",reference:"textElement",cls:ei.Z.baseCSSPrefix+"text-el"},{reference:"rightIconWrapElement",cls:ei.Z.baseCSSPrefix+"right-icon-wrap-el "+ei.Z.baseCSSPrefix+"icon-wrap-el",children:[{reference:"rightIconElement",cls:ei.Z.baseCSSPrefix+"right-icon-el "+ei.Z.baseCSSPrefix+"icon-el "+ei.Z.baseCSSPrefix+"font-icon"}]},{reference:"arrowElement",cls:ei.Z.baseCSSPrefix+"arrow-el "+ei.Z.baseCSSPrefix+"font-icon"}]}],ariaEl:"bodyElement",focusEl:"bodyElement",initialize:function(){this.callParent2(this,"GRUI.Component","null","initialize",this.initialize,arguments),this.syncHasIconCls(),ei.Z.supports.Touch&&this.handleTouch()},getFocusClsEl:function(){return this.el},expandMenu:function(e){var t=this,n=t.getMenu();!t.getDisabled()&&n&&(n.parentMenu=t.parentMenu,t.hideOnClick=!1,n.isVisible()?e&&"keydown"===e.type&&n.focus():(n.autoFocus=!e||!e.pointerType,n.showBy(t,t.getMenuAlign(),{axisLock:!0})))},getRefItems:function(e){var t,n=this.getMenu();return n&&(t=n.getRefItems(e)).unshift(n),t||[]},onFocusEnter:function(e){var t=this;this.callParent2(this,"GRUI.Component","null","onFocusEnter",this.onFocusEnter,arguments),t.addCls(t.activeCls),t.activated=!0,t.hasListeners.activate&&t.fireEvent("activate",t),t.parentMenu&&t.parentMenu.setActiveItem(t)},onFocusLeave:function(e){var t=this,n=t.menu;this.callParent2(this,"GRUI.Component","null","onFocusLeave",this.onFocusLeave,arguments),t.removeCls(t.activeCls),n&&n.hide(),t.activated=!1,t.hasListeners.deactivate&&t.fireEvent("deactivate",t),t.parentMenu&&t.parentMenu.setActiveItem(null)},onRemoved:function(e){this.callParent2(this,"GRUI.Component","null","onRemoved",this.onRemoved,arguments),this.parentMenu=null},doDestroy:function(){var e=this;e.separatorElement=ei.Z.destroy(e.separatorElement),e.setMenu(null),e.linkClickListener=ei.Z.destroy(e.linkClickListener),this.callParent2(this,"GRUI.Component","null","doDestroy",this.doDestroy,arguments)},updateText:function(e){this.textElement.dom.firstChild.data=e=null!=e&&""!==e?e:"\xa0"},applyMenu:function(e){var t=this,n=t.ariaEl.dom;return e?(e.isMenu?(e.setConstrainAlign(ei.Z.getBody()),e.ownerCmp=t):e=ei.Z.menu.Menu.create(e,{ownerCmp:t,$initParent:t,constrainAlign:ei.Z.getBody()}),n.setAttribute("aria-haspopup",!0),n.setAttribute("aria-owns",e.id)):(n.removeAttribute("aria-haspopup"),n.removeAttribute("aria-owns")),t.toggleCls(t.hasArrowCls,!!e),e},updateMenu:function(e,t){t&&(this.destroyMenu?ei.Z.destroy(t):t.parentMenu=null),this.menu=e},updateHref:function(e){this.bodyElement.dom.href=e,this.toggleCls(this.hasHrefCls,!!e)},updateTarget:function(e){this.bodyElement.dom.target=e},updateIcon:function(e){var t=this,n="left"===t.getIconAlign()?this.leftIconElement:this.rightIconElement;e?n.setStyle("background-image","url("+e+")"):n.setStyle("background-image",""),t.isConfiguring||t.syncHasIconCls()},updateIconCls:function(e,t){var n=this,r="left"===n.getIconAlign()?this.leftIconElement:this.rightIconElement;e?r.replaceCls(t,e):r.removeCls(t),n.isConfiguring||n.syncHasIconCls()},updateIconAlign:function(e){this.isConfiguring||this.syncHasIconCls()},updateSeparator:function(e){var t=this,n=t.separatorElement;e?n?n.show():(t.separatorElement=n=ei.Z.Element.create({cls:ei.Z.baseCSSPrefix+"menuseparator"}),t.el.dom.insertBefore(n.dom,t.el.dom.firstChild)):n&&n.hide()},privates:{handleTouch:function(){var e=this,t=e.bodyElement;e.linkClickListener=t.on({click:e.onClick,capture:!0,translate:!1,scope:e,destroyable:!0})},onSpace:function(e){return this.onClick(e)},onClick:function(e){var t=this,n=t.getHref(),r=t.clickHideDelay,i=e.browserEvent,o=t.getHandler(),a="touch"===e.pointerType;if(!t.linkClickListener||a||!e.parentEvent)return!((!n||t.getDisabled())&&t.bodyElement.dom===e.getTarget("a")&&(e.stopEvent(),t.getDisabled()))&&(t.getDisabled()||t.handlingClick||(t.hideOnClick&&!t.getMenu()&&(r?t.hideParentMenusTimer=ei.Z.defer(t.hideParentMenus,r,t):t.hideParentMenus()),a=t.fireEvent("click",t,e),t.destroyed||(!1!==a&&o&&ei.Z.callback(o,t.scope,[t,e],0,t),t.destroyed))?void 0:(n&&"click"!==e.type&&!i.defaultPrevented&&(t.handlingClick=!0,t.bodyElement.dom.click(),t.handlingClick=!1),a));e.stopEvent()},hideParentMenus:function(){for(var e=this.getRefOwner();e&&(e.isMenu&&e.getFloated()||e.isMenuItem);e=e.getRefOwner())e.isMenu&&e.hide()},hasIcon:function(){return!(!this.getIconCls()&&!this.getIcon())},syncHasIconCls:function(){var e=this,t=e.hasRightIconCls,n=e.hasLeftIconCls,r=e.getIconAlign();e.hasIcon()?"left"===r?e.replaceCls(t,n):"right"===r&&e.replaceCls(n,t):e.removeCls([n,t])}}}),ei.Z.define("GRUI.menu.Manager",{singleton:!0,alternateClassName:"GRUI.menu.MenuMgr",uses:["GRUI.menu.Menu"],hideAll:function(){var e,t=this.visible,n=t.length,r=!1;if(n)for(t=t.slice(),e=0;e<n;e++)t[e].hide(),r=!0;return r},privates:{groups:{},visible:[],constructor:function(){var e=this;e.onShow=function(){return e.registerGlobalListeners(),e.onShow.apply(e,arguments)}},onGlobalScroll:function(e){var t,n,r=this.visible,i=r.length;if(i&&e!==ei.Z.scroll.Scroller.viewport)for(r=r.slice(),t=0;t<i;++t)n=r[t],e.contains(n)&&n.hide()},checkActiveMenus:function(e){var t,n,r=this.visible,i=r.length,o=ei.Z.Component.from(e);if(i)for(r=r.slice(),t=0;t<i;++t)(n=r[t]).owns(e)||o&&o.isMenuOwner&&o.getMenu()===n||n.hide()},onShow:function(e){e.getFloated()&&ei.Z.Array.include(this.visible,e)},onHide:function(e){e.getFloated()&&ei.Z.Array.remove(this.visible,e)},registerGlobalListeners:function(){var e=this;delete e.onShow,ei.Z.on({mousedown:e.checkActiveMenus,scrollstart:e.onGlobalScroll,scope:e})}}}),ei.Z.define("GRUI.layout.VBox",{extend:"GRUI.layout.Box",alias:"layout.vbox",config:{vertical:!0}}),ei.Z.define("GRUI.menu.Menu",{extend:"GRUI.Panel",xtype:"menu",requires:["GRUI.menu.Item","GRUI.menu.Manager","GRUI.layout.VBox"],isMenu:!0,config:{align:"tl-bl?",indented:!0,separator:null,autoHide:null,groups:null},allowOtherMenus:!1,ignoreParentClicks:!1,mouseLeaveDelay:50,defaultType:"menuitem",autoSize:null,twoWayBindable:"groups",keyMap:{scope:"this",SPACE:"onSpaceKey",ESC:"onEscKey"},layout:{type:"vbox",align:"stretch"},classCls:ei.Z.baseCSSPrefix+"menu",indentedCls:ei.Z.baseCSSPrefix+"indented",hasSeparatorCls:ei.Z.baseCSSPrefix+"has-separator",nonMenuItemCls:ei.Z.baseCSSPrefix+"non-menuitem",allowFocusingDisabledChildren:!0,border:!0,defaultFocus:":focusable",floated:!0,focusable:!0,focusableContainer:!0,nameHolder:!0,weighted:!0,initialize:function(){var e=this,t={click:e.onClick,mouseover:e.onMouseOver,scope:e};this.callParent2(this,"GRUI.Panel","null","initialize",this.initialize,arguments),ei.Z.supports.Touch&&(t.pointerdown=e.onMouseOver),e.element.on(t),e.itemOverTask=new ei.Z.util.DelayedTask(e.handleItemOver,e),e.mouseMonitor=e.el.monitorMouseLeave(e.mouseLeaveDelay,e.onMouseLeave,e)},doDestroy:function(){var e=this;e.itemOverTask.cancel(),ei.Z.menu.Manager.onHide(e),e.parentMenu=e.ownerCmp=null,e.rendered&&e.el.un(e.mouseMonitor),this.callParent2(this,"GRUI.Panel","null","doDestroy",this.doDestroy,arguments)},showBy:function(e,t,n){this.callParent2(this,"GRUI.Panel","null","showBy",this.showBy,arguments)},onFocusEnter:function(e){var t=this;this.callParent2(this,"GRUI.Panel","null","onFocusEnter",this.onFocusEnter,arguments),t.mixins.focusablecontainer.onFocusEnter.call(t,e),t.getFloated()&&!(t=t.getInherited()).topmostFocusEvent&&(t.topmostFocusEvent=e)},onFocusLeave:function(e){this.callParent2(this,"GRUI.Panel","null","onFocusLeave",this.onFocusLeave,arguments),!1!==this.getAutoHide()&&this.hide()},onItemAdd:function(e,t){this.callParent2(this,"GRUI.Panel","null","onItemAdd",this.onItemAdd,arguments),this.syncItemIndentedCls(e),e.isMenuItem||e.isMenuSeparator||e.addCls(this.nonMenuItemCls)},onItemRemove:function(e,t,n){this.callParent2(this,"GRUI.Panel","null","onItemRemove",this.onItemRemove,arguments),e.removeCls(this.indentedCls,this.nonMenuItemCls)},beforeShow:function(){var e=this;!e.getFloated()||e.hasFloatMenuParent()||e.allowOtherMenus||ei.Z.menu.Manager.hideAll(),this.callParent2(this,"GRUI.Panel","null","beforeShow",this.beforeShow,arguments)},afterShow:function(){var e=this,t=e.ariaEl.dom;this.callParent2(this,"GRUI.Panel","null","afterShow",this.afterShow,arguments),ei.Z.menu.Manager.onShow(e),e.getFloated()&&t&&t.setAttribute("aria-expanded",!0),e.getFloated()&&(e.maxHeight=e.savedMaxHeight),e.autoFocus&&e.focus()},afterHide:function(){var e=this,t=e.ariaEl.dom;this.callParent2(this,"GRUI.Panel","null","afterHide",this.afterHide,arguments),e.lastHide=ei.Z.Date.now(),ei.Z.menu.Manager.onHide(e),e.getFloated()&&t&&t.setAttribute("aria-expanded",!1),delete e.getInherited().topmostFocusEvent},factoryItem:function(e){var t;return"string"==typeof e&&"@"!==e[0]&&(e="-"===e?{xtype:"menuseparator"}:{}),(t=this.callParent2(this,"GRUI.Panel","null","factoryItem",this.factoryItem,arguments)).isMenuItem&&(t.parentMenu=this),t},updateIndented:function(e){var t=this;t.isConfiguring||(t.bodyElement.toggleCls(t.hasSeparatorCls,!(!e||!t.getSeparator())),t.items.each(t.syncItemIndentedCls,t))},updateSeparator:function(e){this.bodyElement.toggleCls(this.hasSeparatorCls,!(!e||!this.getIndented()))},privates:{applyItemDefaults:function(e){return(e=this.callParent2(this,"GRUI.Panel","null","applyItemDefaults",this.applyItemDefaults,arguments)).isComponent||e.xtype||e.xclass||(e.group||e.name?e.xtype="menuradioitem":"checked"in e&&(e.xtype="menucheckitem")),e},applyGroups:function(e,t){var n,r,i,o,a,s,l,u=this,c=ei.Z.apply({},t),d=u.isConfiguring;if(e){for(n in u.updatingGroups=!0,e)if(l=c[n],c[n]=s=e[n],!d){for(o=0,i=(r=u.lookupName(n)).length;o<i;o++)(a=r[o]).setChecked(a.getValue()===s);u.fireEvent("groupchange",u,n,s,l)}u.updatingGroups=!1}return c},processFocusableContainerKeyEvent:function(e){var t,n=e.keyCode;if(n===e.ESC||ei.Z.fly(e.target).is("input[type=checkbox]")&&(n===e.LEFT||n===e.RIGHT||n===e.UP||n===e.DOWN))e.preventDefault(),t=this.getItemFromEvent(e),e.target=t&&t.focusEl.dom;else{if(n!==e.TAB||!ei.Z.fly(e.target).is("input[type=text],textarea"))return this.callParent2(this,"GRUI.Panel","null","processFocusableContainerKeyEvent",this.processFocusableContainerKeyEvent,arguments);e.preventDefault(),t=this.getItemFromEvent(e),e.target=t&&t.focusEl.dom,e.shiftKey?(e.shiftKey=!1,e.keyCode=e.UP):e.keyCode=e.DOWN}return e},onEscKey:function(e){this.getFloated()&&this.hide()},onSpaceKey:function(e){var t=this.getItemFromEvent(e);t&&t.isMenuItem&&t.onSpace(e)},onFocusableContainerLeftKey:function(e){e.preventDefault(),this.parentMenu&&this.hide()},onFocusableContainerRightKey:function(e){var t=this.getItemFromEvent(e);e.preventDefault(),t&&t.expandMenu(e)},onClick:function(e){var t,n,r=this,i="keydown"===e.type,o="touch"===e.pointerType;if(r.getDisabled())return e.stopEvent();if((t=r.getItemFromEvent(e))&&t.isMenuItem){if(t.getMenu()&&r.ignoreParentClicks?e.stopEvent():n=t.onClick(e),r.destroyed)return;t.getMenu()&&!1!==n&&(i||o)&&t.expandMenu(e)}t&&!t.getDisabled()||(t=void 0),r.fireEvent("click",r,t,e)},onMouseLeave:function(e){var t=this;t.itemOverTask&&t.itemOverTask.cancel(),t.getDisabled()||t.fireEvent("mouseleave",t,e)},onMouseOver:function(e){var t,n,r=this,i=(i=(i=r.getActiveItem())&&i.getMenu&&i.getMenu())&&i.isVisible(),o="touch"===e.pointerType;r.getDisabled()||(t=o?!r.el.contains(document.activeElement):!r.el.contains(e.getRelatedTarget()),(n=r.getItemFromEvent(e))&&(o?r.handleItemOver(e,n):(n.isMenuItem?n.bodyElement:n.el).contains(e.getRelatedTarget())||r.itemOverTask.delay(i?r.mouseLeaveDelay:0,null,null,[e,n])),t&&r.fireEvent("mouseenter",r,e),r.fireEvent("mouseover",r,n,e))},handleItemOver:function(e,t){var n="mouse"===e.pointerType;t.containsFocus||!n&&!t.isMenuItem||t.focus(),t.expandMenu&&n&&t.expandMenu(e)},getItemFromEvent:function(e){for(var t,n=this.bodyElement.dom,r=e.getTarget();r&&r.parentNode!==n;)r=r.parentNode;return(t=r&&ei.Z.getCmp(r.id))&&t.isMenuItem&&!e.within(t.bodyElement)?null:t},hasFloatMenuParent:function(){return this.parentMenu||this.up("menu[_floated=true]")},syncItemIndentedCls:function(e){var t=e.isMenuItem?e.getIndented():e.indented;e.toggleCls(this.indentedCls,!!(t||this.getIndented()&&!1!==t))}},statics:{create:function(e,t){return e=ei.Z.isArray(e)?ei.Z.apply({xtype:"menu",items:e},t):ei.Z.apply({xtype:"menu"},e,t),ei.Z.create(e)}},deprecated:{6.5:{configs:{plain:{message:'To achieve classic toolkit "plain" effect, use "indented".'},showSeparator:{message:'To achieve classic toolkit "showSeparator" effect, use "separator".'}}}}}),ei.Z.define("GRUI.layout.overflow.Scroller",{alias:"layout.overflow.scroller",mixins:["GRUI.mixin.Factoryable"],requires:["GRUI.Tool","GRUI.util.ClickRepeater"],config:{arrows:ei.Z.os.is.Desktop,backwardTool:{xtype:"tool",ui:"boxscroller",focusable:!1},animation:!0,forwardTool:{xtype:"tool",ui:"boxscroller",focusable:!1},toolAlign:"stretch",increment:"item",repeatInterval:500,mouseWheel:!0,wheelIncrement:10,vertical:null,owner:null,container:null,wrap:!0},cls:ei.Z.baseCSSPrefix+"boxscroller",bodyCls:ei.Z.baseCSSPrefix+"boxscroller-body",toolAlignCls:{start:ei.Z.baseCSSPrefix+"tool-align-start",end:ei.Z.baseCSSPrefix+"tool-align-end",center:ei.Z.baseCSSPrefix+"tool-align-center",stretch:ei.Z.baseCSSPrefix+"tool-align-stretch"},orientMap:{false:{cls:ei.Z.baseCSSPrefix+"horizontal",crossSize:"height",getSize:"getWidth",setCrossSize:"setHeight",measureCross:"h",scrollSize:"scrollWidth",scrollbarMargin:"margin-bottom",forwardTool:"scroll-right",backwardTool:"scroll-left",startPad:"l",endPad:"r",posProp:"x"},true:{cls:ei.Z.baseCSSPrefix+"vertical",crossSize:"width",getSize:"getHeight",setCrossSize:"setWidth",measureCross:"w",scrollSize:"scrollHeight",scrollbarMargin:"margin-right",forwardTool:"scroll-down",backwardTool:"scroll-up",startPad:"t",endPad:"b",posProp:"y"}},constructor:function(e){var t=this;t.repeaters=[],t.initConfig(e),t.syncMouseWheel(),t.getContainer().$onScrollerContainerVisible=t.sync.bind(t)},applyWrap:function(){var e,t=(e=this).getContainer(),n=e.getContainer().bodyElement,r="boxscroller",i=(e=ei.Z.Element.create({cls:e.cls,children:[{cls:e.bodyCls}]})).first();return t.boxScrollerElement=e,t.uiReferences.boxScrollerElement=r,t.initUiReference("boxScrollerElement",r),t.isConfiguring||t.syncUiCls({boxScrollerElement:"boxscroller"}),this._body=i,e.insertBefore(n),i.appendChild(n),e},getBody:function(){return this._body||this.getWrap(),this._body},onActiveItemChange:function(e,t){this.getContainer().rendered&&this.ensureVisible(t)},onActiveTabChange:function(e,t){this.getContainer().rendered&&this.ensureVisible(t)},ensureVisible:function(e,t){void 0===t&&(t=this.getAnimation()),this.getOwner().ensureVisible(e,{animation:t})},createForwardTool:function(e){return ei.Z.apply({$initParent:this.getContainer(),hidden:!0,preventRefocus:!0},e)},createBackwardTool:function(e){return ei.Z.apply({$initParent:this.getContainer(),hidden:!0,preventRefocus:!0},e)},scrollToItemOffset:function(e,t){var n=this.getAnimation();this.getOwner().ensureVisible({offset:e,scroll:t?"max":"min",animation:n})},applyVertical:function(e){return!!e},updateVertical:function(e){var t=this,n=t.orientMap[e];t.getWrap().replaceCls(t.orientMap[!e].cls,n.cls),t.getArrows()&&(t.getForwardTool().setType(n.forwardTool),t.getBackwardTool().setType(n.backwardTool)),t.isConfiguring||(t.syncContainerScrollable(),t.syncMouseWheel())},applyForwardTool:function(e,t){var n=this.getContainer();return delete(e=ei.Z.updateWidget(t,e,this,"createForwardTool")).$initParent,e.ownerCmp=n,e.doInheritUi(),e.addUi("boxscroller-"+n.xtype),e},applyBackwardTool:function(e,t){var n=this.getContainer();return delete(e=ei.Z.updateWidget(t,e,this,"createBackwardTool")).$initParent,e.ownerCmp=n,e.doInheritUi(),e.addUi("boxscroller-"+n.xtype),e},updateArrows:function(e){var t=this,n=t.getContainer(),r=t.getWrap(),i=t.getForwardTool(),o=t.getBackwardTool();r.insertFirst(o.el),r.append(i.el),t.addClickListener(i,t.onForwardClick),t.addClickListener(o,t.onBackwardClick),n.rendered?t.sync():(n.whenVisible("$onScrollerContainerVisible"),n.on({painted:"sync",scope:t,single:!0}))},updateMouseWheel:function(){this.isConfiguring||this.syncMouseWheel()},updateOwner:function(e){var t=this;(e=e.getContainer()).on({activeitemchange:"onActiveItemChange",activetabchange:"onActiveTabChange",scope:t}),ei.Z.override(e,{getRefItems:function(e){var n=this.callParent2(this,"null","null","getRefItems",this.getRefItems,arguments),r=t.getForwardTool(),i=t.getBackwardTool();return n.push(r,i),n}}),t.syncContainerScrollable(),e.getScrollable().on("scrollend","sync",t),e.on("resize","sync",t),e.bodyElement.on("resize","sync",t)},updateToolAlign:function(e,t){var n=this.toolAlignCls;this.getWrap().replaceCls(n[t],n[e])},getContainer:function(){return this.getOwner().getContainer()},destroy:function(){var e=this;ei.Z.destroy(e.repeaters),e.getForwardTool().destroy(),e.getBackwardTool().destroy(),this.callParent2(this,"null","null","destroy",this.destroy,arguments)},privates:{addClickListener:function(e,t){var n=this.getRepeatInterval();n?(n=new ei.Z.util.ClickRepeater(ei.Z.apply({target:e,preventDefault:!0,listeners:{click:t,scope:this}},n)),this.repeaters.push(n)):e.on({click:t,scope:this})},doMoveFromClick:function(e){var t=this,n=t.getContainer().getScrollable(),r=t.getAnimation(),i=t.getVertical(),o=t.getIncrement();isNaN(o)?t.scrollToItemOffset(e,"page"===o):n.scrollBy((i?0:o)*e,(i?o:0)*e,r)},onBackwardClick:function(){this.doMoveFromClick(-1)},onForwardClick:function(){this.doMoveFromClick(1)},onMouseWheel:function(e){var t=this.getContainer().getScrollable(),n=this.getVertical();e=e.getWheelDelta()*this.getWheelIncrement()*-1;t.scrollBy(n?0:e,n?e:0)},syncMouseWheel:function(){this.getContainer().getScrollerTarget()[this.getMouseWheel()&&!this.getVertical()?"on":"un"]("wheel","onMouseWheel",this)},syncContainerScrollable:function(){var e=this.getVertical();this.getContainer().setScrollable({element:this.getBody(),x:!e,y:e})},sync:function(){var e,t,n=this,r=n.getContainer(),i=r.getScrollerTarget(),o=n.orientMap[n.getVertical()],a=r.el[o.getSize](),s=i.dom[o.scrollSize],l=n.getForwardTool(),u=n.getBackwardTool(),c=ei.Z.scrollbar.size()[o.crossSize];a=a<s,s=o.posProp;n.getArrows()&&a?(l.show(),u.show(),e=(t=r.getScrollable()).getMaxPosition()[s],t=t.getPosition()[s],l.setDisabled(t+i.getPadding(o.endPad)>=e),u.setDisabled(t<=i.getPadding(o.startPad))):(l.hide(),u.hide()),r.bodyElement.setStyle(o.scrollbarMargin,a?-c+"px":0),n.getBody()[o.setCrossSize](r.bodyElement.measure(o.measureCross))}}}),ei.Z.define("GRUI.field.Dirty",{extend:"GRUI.Mixin",mixinConfig:{id:"dirtyfield",after:{_fixReference:"fixDirtyState"}},config:{bubbleDirty:!0,dirty:{lazy:!0,$value:!1}},dirty:!1,_childDirtyState:null,adjustChildDirtyCount:function(e){var t=this._childDirtyState;t&&(t.ready?(t.counter+=e?1:-1,this.setDirty(!!t.counter)):e&&++t.counter)},beginSyncChildDirty:function(){this._childDirtyState={counter:0,ready:!1}},finishSyncChildDirty:function(){var e=this,t=e._childDirtyState,n=!!t.counter;n!==e.dirty?e.setDirty(n):n&&e.informParentDirty(n),t.ready=!0},fireDirtyChange:function(){this.fireEvent("dirtychange",this,this.dirty)},fixDirtyState:function(){var e=this;!e._childDirtyState&&e.dirty&&e.informParentDirty(!0)},informParentDirty:function(e){var t=this,n=t.getBubbleDirty()&&t.lookupNameHolder(),r=t._childDirtyState,i=n&&n._childDirtyState;!i||r&&!r.ready&&i.ready&&!e||n.adjustChildDirtyCount(e,t)},invalidateChildDirty:function(){this._childDirtyState=null},isDirty:function(){return ei.Z.referencesDirty&&ei.Z.fixReferences(),this.getDirty()},updateDirty:function(e){var t=this;t.dirty=e,t.isDirtyInitializing||(t.fireEvent&&t.fireDirtyChange(),t.informParentDirty(e))}}),ei.Z.define("GRUI.field.Field",{extend:"GRUI.Component",alternateClassName:"GRUI.form.Field",xtype:"field",isField:!0,isFormField:!0,cachedConfig:{bodyAlign:"start",labelAlign:"left",labelCls:null,labelTextAlign:"left",labelWidth:null,labelMinWidth:null,labelWrap:!1},config:{name:null,label:null,required:!1,requiredMessage:"This field is required",value:null,dataType:{cached:!0,$value:null},validators:null,validationMessage:"Is in the wrong format",validateDisabled:null,autoFitErrors:null,inline:null,error:null,errorMessage:null,errorTarget:"qtip",errorTpl:null,errorTip:null,sideError:null,tipError:null,titleError:null,underError:null},htmlErrorsTpl:['<tpl if="count == 1">','<tpl for="errors">{.:htmlEncode}</tpl>','<tpl elseif="count">','<ul class="{listCls}">','<tpl for="errors"><li>{.:htmlEncode}</li></tpl>',"</ul>","</tpl>"],plainErrorsTpl:['<tpl if="count">','<tpl for="errors" between="\\n">{.}</tpl>',"</tpl>"],_errorTplMap:{title:"plainErrorsTpl"},originalValue:null,focusable:!0,classCls:ei.Z.baseCSSPrefix+"field",requiredCls:ei.Z.baseCSSPrefix+"required",noLabelWrapCls:ei.Z.baseCSSPrefix+"no-label-wrap",invalidCls:ei.Z.baseCSSPrefix+"invalid",noAutoFitErrorsCls:ei.Z.baseCSSPrefix+"no-auto-fit-errors",inlineCls:ei.Z.baseCSSPrefix+"inline",labelAlignVerticalCls:ei.Z.baseCSSPrefix+"label-align-vertical",labelAlignHorizontalCls:ei.Z.baseCSSPrefix+"label-align-horizontal",labeledCls:ei.Z.baseCSSPrefix+"labeled",verticalLabelMap:{top:1,placeholder:1,bottom:1},horizontalLabelMap:{left:1,right:1},nameable:!0,validateOnInit:"auto",errorElement:null,errorIconElement:null,errorMessageElement:null,element:{reference:"element",classList:[ei.Z.supports.CSSMinContent?"":ei.Z.baseCSSPrefix+"no-min-content",ei.Z.supports.PercentageSizeFlexBug?ei.Z.baseCSSPrefix+"has-percentage-size-flex-bug":""]},initialize:function(){var e=this;this.callParent2(this,"GRUI.Component","null","initialize",this.initialize,arguments),""===e.getValue()&&"all"===e.validateOnInit&&e.validate(),e.handleFieldDefaults()},didValueChange:function(e,t){return!this.isEqual(e,t)},getTemplate:function(){return[{reference:"labelElement",cls:ei.Z.baseCSSPrefix+"label-el",tag:"label",children:[{reference:"labelTextElement",cls:ei.Z.baseCSSPrefix+"label-text-el",tag:"span"}]},{reference:"bodyWrapElement",cls:ei.Z.baseCSSPrefix+"body-wrap-el",children:[{reference:"bodyElement",cls:ei.Z.baseCSSPrefix+"body-el",children:this.getBodyTemplate()},{reference:"errorElement",cls:ei.Z.baseCSSPrefix+"error-el",children:[{reference:"errorIconElement",cls:ei.Z.baseCSSPrefix+"error-icon-el "+ei.Z.baseCSSPrefix+"font-icon"},{reference:"errorMessageElement",cls:ei.Z.baseCSSPrefix+"error-message-el"}]}]}]},getBodyTemplate:ei.Z.emptyFn,initElement:function(){this.callParent2(this,"GRUI.Component","null","initElement",this.initElement,arguments),this.innerElement=this.innerElement||this.bodyElement},onFocusLeave:function(e){this.callParent2(this,"GRUI.Component","null","onFocusLeave",this.onFocusLeave,arguments),this.completeEdit()},completeEdit:ei.Z.emptyFn,updateBodyAlign:function(e,t){var n=this.element;t&&n.removeCls(ei.Z.baseCSSPrefix+"body-align-"+t),e&&n.addCls(ei.Z.baseCSSPrefix+"body-align-"+e)},updateAutoFitErrors:function(e){this.toggleCls(this.noAutoFitErrorsCls,!1===e)},applyErrorTpl:function(e){return e&&!e.isTemplate?ei.Z.XTemplate.get(e):e},applyDataType:function(e){return e&&ei.Z.Factory.dataField(e)},formatErrors:function(e){var t=this;return(t.getErrorTpl()||t.lookupTpl(t._errorTplMap[t.getErrorTarget()]||"htmlErrorsTpl")).apply({count:e?e.length:0,label:t.getLabel(),errors:e})},updateError:function(e){e=this.formatErrors(ei.Z.Array.from(e)),this.setErrorMessage(e)},updateErrorMessage:function(e){var t,n=this;if(n.fireEvent("errorchange",n,e),!n.preventMark)switch(n.toggleInvalidCls(!!e),n.getErrorTarget()){case"side":n.setSideError(e);break;case"qtip":n.setTipError(e);break;case"title":n.setTitleError(e);break;case"under":n.setUnderError(e);break;case"parent":(t=n.up("[onFieldErrorChange]"))&&t.onFieldErrorChange(n,e)}},updateErrorTarget:function(e,t){var n,r=this;t&&(r.removeCls(ei.Z.baseCSSPrefix+"error-target-"+t),"qtip"===t?r.setTipError(null):"title"===t?r.setTitleError(null):"side"===t?r.setSideError(null):"under"===t?r.setUnderError(null):"parent"===t&&(n=r.up("[onFieldErrorChange]"))&&n.onFieldErrorChange(r)),e&&(r.addCls(ei.Z.baseCSSPrefix+"error-target-"+e),r.isConfiguring||(t=r.getError())&&("qtip"===e?r.setTipError(t):"title"===e?r.setTitleError(t):"side"===e?r.setSideError(t):"under"===e?r.setUnderError(t):"parent"===e&&(n=r.up("[onFieldErrorChange]"))&&n.onFieldErrorChange(r,t)))},updateInline:function(e){this.toggleCls(this.inlineCls,e)},updateSideError:function(e){e=e&&ei.Z.apply({html:e},this.getErrorTip()),this.errorElement.getData().qtip=e},updateTipError:function(e){e=e&&ei.Z.apply({html:e},this.getErrorTip()),this.bodyElement.getData().qtip=e},updateTitleError:function(e){var t=this.el.dom;e?t.setAttribute("title",e):t.removeAttribute("title")},updateUnderError:function(e){this.errorMessageElement.dom.innerHTML=e||""},updateLabel:function(e){this.labelTextElement.setHtml(e),this.el.toggleCls(this.labeledCls,!!e)},updateLabelAlign:function(e,t){var n=this,r=n.element;t&&r.removeCls(ei.Z.baseCSSPrefix+"label-align-"+t),e&&r.addCls(ei.Z.baseCSSPrefix+"label-align-"+e),r.toggleCls(n.labelAlignVerticalCls,e in n.verticalLabelMap),r.toggleCls(n.labelAlignHorizontalCls,e in n.horizontalLabelMap)},updateLabelTextAlign:function(e,t){var n=this.element;t&&n.removeCls(ei.Z.baseCSSPrefix+"label-text-align-"+t),e&&n.addCls(ei.Z.baseCSSPrefix+"label-text-align-"+e)},updateLabelCls:function(e,t){var n=this.labelElement;e&&n.addCls(e),t&&n.removeCls(t)},updateLabelWidth:function(e){this.labelElement.setWidth(e)},updateLabelMinWidth:function(e){this.labelElement.setStyle("min-width",ei.Z.Element.addUnits(e))},updateLabelWrap:function(e){this.element.toggleCls(this.noLabelWrapCls,!e)},updateName:function(e){this.name=e},updateRequired:function(e){var t=this;t.element.toggleCls(t.requiredCls,e),t.isConfiguring||t.validate()},updateRequiredMessage:function(){this.isConfiguring||this.validate()},updateDisabled:function(e,t){this.callParent2(this,"GRUI.Component","null","updateDisabled",this.updateDisabled,arguments),this.isConfiguring||this.validate()},updateValidateDisabled:function(){this.isConfiguring||this.validate()},applyValue:function(e){return this.isConfiguring&&(this.originalValue=e),e},updateValue:function(e,t){var n,r=this;ei.Z.isEmpty(e)&&ei.Z.isEmpty(t)||r.validate(),e!==t&&(n=r.rawToValue(r.processRawValue(r.getRawValue())),ei.Z.isEmpty(n,!0)||String(e)===String(n)||(r._value=e=n),r.isConfiguring||r.fireEvent("change",r,e,t))},reset:function(){return this.setValue(this.originalValue),this},resetOriginalValue:function(){this.originalValue=this.getValue()},isDirty:function(){return!this.isEqual(this.getValue(),this.originalValue)},toggleInvalidCls:function(e){this.el[e?"addCls":"removeCls"](this.invalidCls)},markInvalid:function(e){this.setError(e)},clearInvalid:function(){this.setError(null)},isValid:function(){return!this.getError()},isEqual:function(e,t){return String(e)===String(t)},applyValidators:function(e){for(var t,n=(t=(e=e&&!ei.Z.isArray(e)?[e]:e)&&e.length)?[]:null,r=0;r<t;++r)n.push(this.decodeValidator(e[r]));return n},wrapValidatorFn:function(e,t){var n=this,r=t&&t.scope;return new ei.Z.data.validator.Validator((function(t){return ei.Z.callback(e,r,[t],0,n)}))},doValidate:function(e,t,n){for(var r,i=this.getValidators(),o=i&&i.length,a=0;a<o;++a)r=i[a],n&&r.lazy||!0!==(r=r.validate(e))&&t.push(r)},parseValue:ei.Z.identityFn,validate:function(e){var t,n,r,i,o,a=this;return!(!a.isConfiguring||"none"!==a.validateOnInit)||(a.getDisabled()&&!a.getValidateDisabled()||(n=[],a.isInputField&&!a.isSelectField?(i=(t=!(o=a.getInputValue()))&&a.inputElement.dom.validity)&&i.badInput&&(n.push(a.badFormatMessage),t=!1):t=""===(o=a.getValue())||null==o,t&&a.getRequired()?n.push(a.getRequiredMessage()):n.length||(t||(o=a.parseValue(o,n)),n.length||(i=a._validationField,r=a._validationRecord,i&&r&&i.validate(o,null,n,r),t||a.doValidate(o,n,e))),!n.length)?(a.setError(null),!0):(a.setError(n),!1))},getFocusClsEl:function(){return this.element},updateHeight:function(e,t){this.callParent2(this,"GRUI.Component","null","updateHeight",this.updateHeight,arguments),this.syncFormLayoutHeight()},onAdded:function(e,t){this.callParent2(this,"GRUI.Component","null","onAdded",this.onAdded,arguments),this.syncFormLayoutHeight(),this.validateLayout()},onRemoved:function(e){this.callParent2(this,"GRUI.Component","null","onRemoved",this.onRemoved,arguments),this.syncFormLayoutHeight()},rawToValue:ei.Z.identityFn,processRawValue:ei.Z.identityFn,transformRawValue:ei.Z.identityFn,getRawValue:function(){var e=this.inputElement?this.inputElement.getValue():ei.Z.valueFrom(this.rawValue,"");return this.rawValue=e},handleFieldDefaults:function(){var e,t,n,r,i,o=this,a=o.getInherited();if(a&&(e=a.fieldDefaults))for(t in r=o.initialConfig,e)r[t]||(n=ei.Z.util.Format.capitalize(t),i=e[t],o["set"+n]?o["set"+n](i):o[t]=i)},serialize:function(){var e,t=this.getValue();return null!=t&&(e=this._validationField||this.getDataType())&&e.serialize?e.serialize(t):t},privates:{syncFormLayoutHeight:function(){var e=this.parent,t=this.getHeight();t&&e&&e.getLayout().isFormLayout||(t=null),this.bodyElement.setHeight(t)},validateLayout:function(){var e=this.getErrorTarget(),t=this.parent;this.isInner&&t&&t.getLayout().isFormLayout&&(this.setLabelAlign("left"),"under"===e&&this.setErrorTarget("side"))},applyBind:function(e,t){var n,r=t&&t.value,i=this.callParent2(this,"GRUI.Component","null","applyBind",this.applyBind,arguments);return i&&(n=i.value,this.hasBindingValue=!!n,n!==r&&this.getInherited().modelValidation&&this.updateValueBinding(i)),i},updateValueBinding:function(e){var t=e.value,n=e.$fieldBinding;n&&(n.destroy(),e.$fieldBinding=null),t&&t.bindValidationField&&(this.fieldBinding=t.bindValidationField("setValidationField",this))},setValidationField:function(e,t){this._validationField=e,this._validationRecord=t},decodeValidator:function(e){var t=ei.Z.typeOf(e),n=e.fn;return"function"===t?this.wrapValidatorFn(e):"regexp"===t?ei.Z.Factory.validator({type:"format",matcher:e}):"object"===t&&n&&!e.isValidator?this.wrapValidatorFn(n,e):ei.Z.Factory.validator(e)}}}),ei.Z.define("GRUI.field.Input",{extend:"GRUI.field.Field",xtype:"inputfield",isInputField:!0,tag:"input",config:{inputType:{cached:!0,$value:"text"},readOnly:!1,inputValue:null},focusEl:"inputElement",ariaEl:"inputElement",inputTabIndex:0,getBodyTemplate:function(){return[this.getInputTemplate()]},getInputTemplate:function(){return{tag:this.tag,reference:"inputElement",tabindex:this.inputTabIndex,cls:ei.Z.baseCSSPrefix+"input-el"}},initElement:function(){this.callParent2(this,"GRUI.field.Field","null","initElement",this.initElement,arguments),this.labelElement.dom.setAttribute("for",this.inputElement.id)},updateDisabled:function(e,t){this.callParent2(this,"GRUI.field.Field","null","updateDisabled",this.updateDisabled,arguments),this.inputElement.dom.disabled=!!e},updateInputType:function(e){this.setInputAttribute("type",e)},updateName:function(e,t){this.callParent2(this,"GRUI.field.Field","null","updateName",this.updateName,arguments),this.setInputAttribute("name",e)},updateReadOnly:function(e){this.setInputAttribute("readonly",!!e||null)},updateValue:function(e,t){this.canSetInputValue()&&this.setInputValue(e),this.callParent2(this,"GRUI.field.Field","null","updateValue",this.updateValue,arguments)},applyInputValue:function(e){return null!=e?e+"":""},completeEdit:function(){var e=this,t=e.getInputValue();null!==e.parseValue(t)&&e.setInputValue(e.getValue())},updateInputValue:function(e){var t=this.inputElement.dom;t.value!==e&&(t.value=e)},reset:function(){var e=this,t=e.originalValue;return e.isEqual(t,e.getValue())?(e.setInputValue(t),e.isValid()||e.validate()):e.setValue(t),e},privates:{canSetInputValue:function(){return!0},setInputAttribute:function(e,t){var n=this.inputElement.dom;ei.Z.isEmpty(t,!0)?n.removeAttribute(e):n.setAttribute(e,t)}},deprecated:{6.5:{configs:{inputCls:null}}}}),ei.Z.define("GRUI.field.trigger.Base",{extend:"GRUI.Widget",alias:"trigger.base",mixins:["GRUI.mixin.Factoryable"],factoryConfig:{defaultType:"trigger",aliasPrefix:"trigger."},isTrigger:!0,config:{field:null,group:null,side:null,name:null,triggers:null},classCls:ei.Z.baseCSSPrefix+"trigger",groupedCls:ei.Z.baseCSSPrefix+"grouped",inheritUi:!0,statics:{sort:function(e){return ei.Z.sortByWeight(e),e}},doDestroy:function(){var e,t,n=this.getTriggers();if(n)for(e=0,t=n.length;e<t;e++)n[e].destroy();this.setTriggers(null),this.callParent2(this,"GRUI.Widget","null","doDestroy",this.doDestroy,arguments)},updateField:function(e){this.field=this.ownerCmp=e,this.doInheritUi()},updateGroup:function(e){this.isConfiguring||this.getField().syncTriggers()},updateSide:function(){this.isConfiguring||this.getField().syncTriggers()},updateTriggers:function(e){var t,n,r=this,i=r.element.dom;if(r.toggleCls(r.groupedCls,!(!e||!e.length)),e)for(t=0,n=e.length;t<n;t++)i.appendChild(e[t].element.dom)}}),ei.Z.define("GRUI.field.trigger.Trigger",{extend:"GRUI.field.trigger.Base",xtype:"trigger",alias:"trigger.trigger",requires:["GRUI.util.ClickRepeater"],config:{handler:null,iconCls:null,repeat:null,scope:null,focusOnTap:!0},interactiveCls:ei.Z.baseCSSPrefix+"interactive",template:[{reference:"iconElement",classList:[ei.Z.baseCSSPrefix+"icon-el",ei.Z.baseCSSPrefix+"font-icon"]}],constructor:function(e){var t,n=this;this.callParent2(this,"GRUI.field.trigger.Base","null","constructor",this.constructor,arguments),(t=n.getRepeat())?n.repeater=new ei.Z.util.ClickRepeater(ei.Z.apply({target:n,preventDefault:!0,listeners:{mousedown:"onClickRepeaterTouchStart",mouseup:"onClickRepeaterTouchEnd",click:"onClickRepeaterClick",scope:n}},t)):n.element.on({click:"onClick",mousedown:"onMouseDown",scope:n})},doDestroy:function(){ei.Z.destroyMembers(this,"repeater"),this.callParent2(this,"GRUI.field.trigger.Base","null","doDestroy",this.doDestroy,arguments)},onClickRepeaterClick:function(e,t){this.onClick(t)},onClick:function(e){var t=this,n=!t.getDisabled()&&t.getHandler(),r=t.getField();!r||t.getDisabled()||r.getDisabled()||("mouse"!==e.pointerType&&(e.preventDefault(),t.getFocusOnTap()&&(r.getFocusTrap?r.getFocusTrap():r.getFocusEl()).dom!==document.activeElement&&(t.isExpandTrigger&&(r.focusingFromExpandTrigger=!0),r.focus())),n&&ei.Z.callback(n,t.getScope(),[r,t,e],null,r))},onMouseDown:function(e){var t;"mouse"===e.pointerType&&((t=this.getFocusOnTap()&&this.getField())&&!t.getDisabled()&&t.focus(),e.preventDefault())},onClickRepeaterTouchStart:function(e,t){this.onMouseDown(t)},onClickRepeaterTouchEnd:function(e,t){var n=this,r=n.field;ei.Z.callback(n.endHandler,n.scope,[r,n,t],0,r)},updateHandler:function(e){this.toggleCls(this.interactiveCls,!!e)},updateIconCls:function(e,t){this.iconElement.replaceCls(t,e)}}),ei.Z.define("GRUI.field.trigger.Clear",{extend:"GRUI.field.trigger.Trigger",xtype:"cleartrigger",alias:"trigger.clear",classCls:ei.Z.baseCSSPrefix+"cleartrigger",weight:-1e3,hidden:!0,handler:"onClearIconTap",scope:"this"}),ei.Z.define("GRUI.field.Text",{extend:"GRUI.field.Input",xtype:"textfield",alternateClassName:"GRUI.form.Text",requires:["GRUI.field.trigger.Clear","GRUI.Deferred"],config:{clearable:!0,placeholder:null,maxLength:null,autoComplete:null,autoCapitalize:null,autoCorrect:null,autoHideInputMask:null,inputMask:null,pattern:null,triggers:{clear:{type:"clear"}},editable:!0,bodyAlign:"stretch",labelInPlaceholder:{lazy:!0,$value:!0},textAlign:null},cachedConfig:{animateUnderline:!1,parseValidator:null},bubbleEvents:["action"],badFormatMessage:"Value does not match the required format",defaultBindProperty:"value",twoWayBindable:{value:1},publishes:{value:1},inputType:"text",classCls:ei.Z.baseCSSPrefix+"textfield",focusedCls:ei.Z.baseCSSPrefix+"focused",emptyCls:ei.Z.baseCSSPrefix+"empty",webkitBorderBoxBugCls:ei.Z.baseCSSPrefix+"webkit-border-box-bug",requiredIndicator:"*",getBodyTemplate:function(){var e=[{reference:"beforeInputElement",cls:ei.Z.baseCSSPrefix+"before-input-el"}];return e.push(this.getInputTemplate()),e.push({reference:"afterInputElement",cls:ei.Z.baseCSSPrefix+"after-input-el"}),[{reference:"inputWrapElement",cls:ei.Z.baseCSSPrefix+"input-wrap-el"+(ei.Z.supports.WebKitInputTableBoxModelBug?" "+this.webkitBorderBoxBugCls:""),children:e},{reference:"underlineElement",cls:ei.Z.baseCSSPrefix+"underline-el"}]},initialize:function(){var e=this;ei.Z.isRobot&&(e.focusedInputDelay=0),this.callParent2(this,"GRUI.field.Input","null","initialize",this.initialize,arguments),e.inputElement.on({keyup:"onKeyUp",keydown:"onKeyDown",keypress:"onKeyPress",paste:"onPaste",mousedown:"onMouseDown",input:{fn:"onInput",delegated:!1},scope:e}),(ei.Z.isChrome||ei.Z.isChromeMobile)&&"placeholder"===e.getLabelAlign()&&e.inputElement.on("animationstart",e.onPlaceholderAutoFill,e),e.syncEmptyState()},clearValue:function(){var e=this,t=e.getInputMask();t?t.showEmptyMask(e,!0):e.forceSetValue(""),e.syncEmptyState()},isEqual:function(e,t){return this.transformValue(e)===this.transformValue(t)},forceSetValue:function(e){this.forceInputChange=!0,this.setValue(e),this.forceInputChange=!1},transformValue:function(e){return null==e?"":e},applyInputMask:function(e,t){var n=ei.Z.field.InputMask;return e?n.from(e,t):null},updateInputMask:function(e,t){this.hasMask=!1,t&&t.release(),e&&(this.hasMask=!0,e.syncPattern(this))},doValidate:function(e,t,n){var r;this.callParent2(this,"GRUI.field.Input","null","doValidate",this.doValidate,arguments),n||(r=this.getInputMask())&&!r.isFilled(e)&&e!==r._mask&&t.push(this.badFormatMessage)},parseValue:function(e,t){var n,r,i,o,a,s,l=this,u=l.getParseValidator();if(u){for(n=l._validationField,i=2;0<i--;)for(o=(s=i?l.getValidators():n&&n.getValidators())&&s.length,r=0;r<o;++r)if((a=s[r]).parse&&null!==(a=a.parse(e)))return a;null===(e=u.parse(e))&&t&&t.push(l.badFormatMessage)}return e},applyValue:function(e,t){if(!e||"string"!=typeof e||null!==(e=this.parseValue(e)))return this.transformValue(this.callParent2(this,"GRUI.field.Input","null","applyValue",this.applyValue,[e,t]))},updateInputValue:function(e,t){var n=this,r=n.getInputMask();this.callParent2(this,"GRUI.field.Input","null","updateInputValue",this.updateInputValue,arguments),n.syncEmptyState(),n.syncLabelPlaceholder(!1),r&&r.onChange(this,e,t)},updateTextAlign:function(e,t){var n=this.element;t&&n.removeCls(ei.Z.baseCSSPrefix+"text-align-"+t),e&&n.addCls(ei.Z.baseCSSPrefix+"text-align-"+e)},updatePlaceholder:function(e){this.setInputAttribute("placeholder",e)},updateMaxLength:function(e){this.setInputAttribute("maxlength",e)},applyAutoComplete:function(e){return!0===e||"on"===e},updateAutoComplete:function(e){this.setInputAttribute("autocomplete",e?"on":"off")},applyAutoCapitalize:function(e){return!0===e||"on"===e},updateAutoCapitalize:function(e){this.setInputAttribute("autocapitalize",e?"on":"off")},applyAutoCorrect:function(e){return!0===e||"on"===e},updateAutoCorrect:function(e){this.setInputAttribute("autocorrect",e?"on":"off")},updateReadOnly:function(e){var t,n,r=this,i=r.getTriggers();for(t in r.getEditable(),this.callParent2(this,"GRUI.field.Input","null","updateReadOnly",this.updateReadOnly,arguments),i)!1!==(n=i[t]).disableOnReadOnly&&n.setDisabled(e);r.syncEmptyState()},updateEditable:function(e){var t,n=this.getTriggers(),r=this.getReadOnly();for(t in this.updateReadOnly(!e),n)!1!==n[t].disableOnReadOnly&&n[t].setDisabled(r)},updatePattern:function(e){this.setInputAttribute("pattern",e)},updateDisabled:function(e,t){this.callParent2(this,"GRUI.field.Input","null","updateDisabled",this.updateDisabled,arguments),this.syncEmptyState()},updateClearable:function(e,t){var n;this.isConfiguring||(n=(n=this.getTriggers())&&n.clear,e?n||this.addTrigger("clear","clear"):n&&this.removeTrigger("clear"))},applyTriggers:function(e,t){var n,r,i,o=t||{},a=this.getClearable();for(n in e)r=e[n],(i=o[n])&&i.destroy(),!r||!a&&"clear"===n||(o[n]=this.createTrigger(n,r));return o},updateTriggers:function(){this.syncTriggers()},addTrigger:function(e,t){var n=this.getTriggers();return t=this.createTrigger(e,t),n?(n[e]=t,this.syncTriggers()):((n={})[e]=t,this.setTriggers(n)),t},removeTrigger:function(e,t){var n=this.getTriggers(),r=e;return r.isTrigger?r=e.getName():e=n[r],delete n[r],!1!==t?e.destroy():(n=e.el.dom).parentNode.removeChild(n),this.syncTriggers(),e},fireKey:function(e){e.isSpecialKey()&&this.fireEvent("specialkey",this,e)},onKeyPress:function(e){var t=this,n=t.getInputMask();n&&n.onKeyPress(t,t.getValue(),e),t.fireEvent("keypress",t,e),ei.Z.supports.SpecialKeyDownRepeat||t.fireKey(e)},onKeyDown:function(e){var t=this,n=t.getInputMask();t.lastKeyTime=Date.now(),n&&n.onKeyDown(t,t.getValue(),e),t.ignoreInput=!0,ei.Z.supports.SpecialKeyDownRepeat&&t.fireKey(e),t.fireAction("keydown",[t,e],"doKeyDown")},doKeyDown:ei.Z.emptyFn,onKeyUp:function(e){this.fireAction("keyup",[this,e],"doKeyUp")},doKeyUp:function(e,t){e.syncEmptyState(),13===t.browserEvent.keyCode&&e.fireAction("action",[e,t],"doAction")},onInput:function(e){var t,n=this,r=n.inputElement.dom,i=r.value,o=n.getInputMask();o&&(o.processAutocomplete(this,i),i=r.value),n._inputValue=i,n.hasFocus||"placeholder"!==n.getLabelAlign()||n.syncLabelPlaceholder(!0),i=i&&n.parseValue(i,t=[]),t&&t.length?n.setError(t):(o=n.getValue(),n.setValue(i),n.getValue()===o&&n.validate()),n.syncEmptyState(),n.ignoreInput?n.ignoreInput=!1:ei.Z.defer((function(){n.ignoreInput||n.destroyed||(n.fireEvent("keyup",e),n.ignoreInput=!1)}),10)},doAction:function(){document.documentElement.getBoundingClientRect().top<0&&this.blur()},onClearIconTap:function(e,t){this.fireAction("clearicontap",[this,e,t],"doClearIconTap")},doClearIconTap:function(){this.clearValue()},onFocusEnter:function(e){var t=this,n=t.getInputMask();this.callParent2(this,"GRUI.field.Input","null","onFocusEnter",this.onFocusEnter,arguments),t.addCls(t.focusedCls),t.syncLabelPlaceholder(!0),n&&n.onFocus(t,t.getValue())},onFocusLeave:function(e){var t=this,n=t.getInputMask();this.callParent2(this,"GRUI.field.Input","null","onFocusLeave",this.onFocusLeave,arguments),t.removeCls(t.focusedCls),t.syncLabelPlaceholder(!0),n&&n.onBlur(t,t.getValue())},onPaste:function(e){this.forceInputChange=!0,this.handlePaste(e),this.forceInputChange=!1},getCaretPos:function(){return this.inputElement.getCaretPos()},setCaretPos:function(e){this.inputElement.setCaretPos(e)},getTextSelection:function(){return this.inputElement.getTextSelection()},select:function(e,t,n){return this.containsFocus&&this.inputElement.selectText(e,t,n),this},reset:function(){this.callParent2(this,"GRUI.field.Input","null","reset",this.reset,arguments),this.syncEmptyState()},onClick:function(e){this.fireEvent("click",e)},onMouseDown:function(e){this.fireEvent("mousedown",e)},trimValueToMaxLength:function(){var e=this.getMaxLength(),t=this.getValue();e&&t.length>e&&this.setValue(t.slice(0,e))},doDestroy:function(){var e,t=this,n=t.getTriggers(),r=t.triggerGroups,i=t.labelElement&&t.labelElement.getActiveAnimation();if(i&&i.stop(),r){for(e in r)r[e].destroy();t.triggerGroups=null}for(e in n)n[e].destroy();t.setTriggers(null),t.setInputMask(null),this.callParent2(this,"GRUI.field.Input","null","doDestroy",this.doDestroy,arguments)},onRender:function(){this.callParent2(this,"GRUI.field.Input","null","onRender",this.onRender,arguments),this.syncLabelPlaceholder()},onPlaceholderAutoFill:function(e){var t=this;"onAutoFillStart"===e.browserEvent.animationName&&(t._animPlaceholderLabel=!0,t.setLabelInPlaceholder(!1),t.inputElement.removeListener("animationstart",t.onPlaceholderAutoFill,t))},getRefItems:function(e){var t,n,r=this.getTriggers(),i=[];for(t in r)n=r[t],i.push(n),e&&n.getRefItems&&i.push.apply(i,n.getRefItems(e));return i},privates:{focusedInputDelay:300,forceInputChange:!1,hasMask:!1,lastKeyTime:0,applyParseValidator:function(e){return this.decodeValidator(e)},updateLabelInPlaceholder:function(e){var t=this,n=t.getPlaceholder()||"",r=t._animPlaceholderLabel;if("placeholder"!==t.getLabelAlign()||!t.getLabel())return t.clearWhenVisible("doPositionPlaceholder"),void t.setInputAttribute("placeholder",n);t.whenVisible("doPositionPlaceholder",[e,r]),t.el.toggleCls(ei.Z.baseCSSPrefix+"label-inside",e)},updateAnimateUnderline:function(e){this.toggleCls(ei.Z.baseCSSPrefix+"animate-underline",e)},canSetInputValue:function(){var e=this;return e.hasMask||e.forceInputChange||!e.hasFocus||Date.now()-e.lastKeyTime>e.focusedInputDelay},doPositionPlaceholder:function(e,t){var n,r=this.labelElement,i=r.getActiveAnimation();i&&i.stop(),(i=this.lastPlaceholderAnimInfo)||(this.lastPlaceholderAnimInfo=i=this.getPlaceholderAnimInfo()),n=i.inside,i=i.outside,e={from:e?i:n,to:e?n:i,preserveEndState:!0,duration:250,easing:"ease-out"},t?r.animate(e):r.setStyle(e.to)},getPlaceholderLabel:function(){var e=this.getLabel();return e&&this.getRequired()&&(e+=" "+this.requiredIndicator),e},getPlaceholderAnimInfo:function(){var e=this.element,t=this.labelElement,n=this.inputElement,r=t.getOffsetsTo(e),i=(e=n.getOffsetsTo(e),t.getPadding("l")),o=n.getPadding("l"),a=t.getPadding("t"),s=n.getPadding("t");return{inside:{transform:{translateX:e[0]-r[0]+(o-i)+"px",translateY:e[1]-r[1]+(s-a)+"px"},"font-size":n.getStyle("font-size")},outside:{transform:{translateX:"0px",translateY:"0px"},"font-size":t.getStyle("font-size")}}},handlePaste:function(e){var t=this,n=t.getInputMask();n&&n.onPaste(t,t.getValue(),e),t.fireEvent("paste",t,e)},createTrigger:function(e,t){return t.isTrigger||(!0===t?t={type:e}:"string"==typeof t&&(t={type:t}),t=(t=ei.Z.apply({name:e,field:this},t)).xtype?ei.Z.create(t):ei.Z.Factory.trigger(t)),t},syncLabelPlaceholder:function(e){var t=this;t._animPlaceholderLabel=e,t.rendered&&(e=!t.hasValue()&&(!t.hasFocus||t.getDisabled()||t.getReadOnly()),t.setLabelInPlaceholder(e)),t._animPlaceholderLabel=!1},hasValue:function(){return this.inputElement&&this.inputElement.dom.value},processRawValue:function(e){var t,n=this.stripCharsRe;return n&&(n.global||(t="g",t=(t+=n.ignoreCase?"i":"")+(n.multiline?"m":""),n=new RegExp(n.source,t)),(t=e.replace(n,""))!==e&&(this.transformRawValue.$nullFn||(t=this.transformRawValue(t)),e=this.inputElement.dom.value=t)),e},syncTriggers:function(){var e,t,n,r,i,o,a=this,s=a.getTriggers(),l=a.beforeInputElement,u=a.afterInputElement,c=a.triggerGroups||(a.triggerGroups={}),d=[],f=[],h={},p=ei.Z.field.trigger.Base;for(e in s)((n=(t=s[e]).getGroup())?h[n]||(h[n]=[]):"left"===t.getSide()?d:f).push(t);for(n in h)(r=c[n])||(r=(r=s[n])||new p,c[n]=r),r.setTriggers(p.sort(h[n])),("left"===r.getSide()?d:f).push(r);for(p.sort(d),p.sort(f),i=0,o=d.length;i<o;i++)l.appendChild(d[i].element);for(i=0,o=f.length;i<o;i++)u.appendChild(f[i].element);for(n in c)n in h||((r=c[n]).setTriggers(null),r.destroy(),delete c[n])},syncEmptyState:function(){var e,t=this,n=t.getTriggers(),r=t.getInputMask(),i=(n=n&&n.clear,t.inputElement.dom.value);t.toggleCls(t.emptyCls,!i),n&&(t.getClearable()&&(!t.hasValue()||t.getDisabled()||t.getReadOnly()||(e=!0),r&&i===r._mask&&(e=!1)),e?n.show():n.hide())}},deprecated:{6.5:{configs:{placeHolder:"placeholder",clearIcon:"clearable"},methods:{getPlaceHolder:"getPlaceholder",setPlaceHolder:"setPlaceholder"}}}},(function(){ei.Z.os.is.Android&&window.addEventListener("resize",(function(){var e=document.activeElement,t=e&&e.tagName;"INPUT"!==t&&"TEXTAREA"!==t||(e=(t=ei.Z.Component.from(e))&&t.element&&t.element.dom)&&(e.scrollIntoViewIfNeeded?e.scrollIntoViewIfNeeded():e.scrollIntoView())}))})),ei.Z.define("GRUI.Editor",{extend:"GRUI.Container",xtype:"editor",isEditor:!0,config:{field:{xtype:"textfield"}},floated:!0,allowBlur:!0,revertInvalid:!0,hideEl:!0,value:"",alignment:"c-c?",offset:[0,0],shadow:"frame",constrain:!1,swallowKeys:!0,completeOnEnter:!0,cancelOnEsc:!0,cancelOnClear:!1,updateEl:!1,focusOnToFront:!1,baseCls:ei.Z.baseCSSPrefix+"editor",editing:!1,preventDefaultAlign:!0,useBoundValue:!0,specialKeyDelay:1,matchFont:!1,getLocation:ei.Z.emptyFn,beforeEdit:function(e,t){return this.fireEvent("beforestartedit",this,e,t,this.getLocation())},applyField:function(e){return e.isReactElement?e:ei.Z.widget(e)},updateField:function(e,r){var i=this;if(r&&(i.remove(r,!0),r.un({specialkey:"onSpecialKey",clearicontap:"onFieldClear",scope:this}),i._fieldSwallower=ei.Z.destroy(i._fieldSwallower)),e&&e.isReactElement){this.ref=t.createRef();r=t.forwardRef((function(n,r){return t.cloneElement(e.jsxElement,gt(gt({},n),{},{ref:r}))})),r=t.createElement(r,{defaultValue:"",onFocusLeave:i.onFocusLeave.bind(i),ref:this.ref});var o=i.rootElement;return i.rootElement||(o=(0,n.createRoot)(i.element.dom),i.rootElement=o),void o.render(r)}e&&(r=e.inputElement,i.add(e),e.on({specialkey:"onSpecialKey",clearicontap:"onFieldClear",scope:this}),i.swallowKeys&&(i._fieldSwallower=r.swallowEvent(["keypress","keydown"])))},onAdded:function(e){this.ownerCmp=e,this.callParent2(this,"GRUI.Container","null","onAdded",this.onAdded,arguments)},onSpecialKey:function(e,t){var n=this,r=t.getKey(),i=n.completeOnEnter&&r===t.ENTER,o=(r=n.cancelOnEsc&&r===t.ESC,n.specialKeyTask);t.fromBoundList||!i&&!r||(t.stopEvent(),o||(n.specialKeyTask=o=new ei.Z.util.DelayedTask),o.delay(n.specialKeyDelay,i?n.completeEdit:n.cancelEdit,n)),n.fireEvent("specialkey",n,e,t)},startEdit:function(e,t,n){var r,i=this,o=i.getField(),a=i.getLocation(),s=a.column,l=s.getRenderer();!i.allowBlur&&i.editing&&i.toggleBoundEl(!0),i.completeEdit(!0),i.boundEl=e=ei.Z.get(e),r=i.boundEl.dom,i.useBoundValue&&!ei.Z.isDefined(t)&&(t=ei.Z.String.trim(r.textContent||r.innerText||r.innerHTML)),!1!==i.beforeEdit(e,t)&&(i.context&&(t=i.context.value),i.matchFont&&!e.getStyle("font")&&(e.getStyle("fontWeight"),e.getStyle("fontSize"),e.getStyle("lineHeight"),e.getStyle("fontFamily")),s.useRenderFnValueToEdit&&"function"==typeof l?i.startValue=l(t,a.record,s.getField(),a.cell,s):i.startValue=t,i.show(),i.getFloated()||i.setTop(0),i.realign(),o.isReactElement?i.setValue(t):(o.suspendEvents(),o.setValue(i.startValue),o.resetOriginalValue(),o.resumeEvents()),!1!==n&&(o.isReactElement?(r=i.ref.current.getInputEl&&i.ref.current.getInputEl())&&r.focus():o.focus(!!o.selectOnFocus||[Number.MAX_VALUE])),i.toggleBoundEl(!1),i.editing=!0)},realign:function(){var e=this;e.setConstrainAlign(ei.Z.getBody().getConstrainRegion()),e.alignTo(e.boundEl,e.alignment,{offset:e.offset})},completeEdit:function(e,t){var n,r=this,i=(r.getField(),r.startValue),o=r.context&&r.context.cancel;r.editing&&(n=r.getValue(),r.ignoreNoChange?r.onEditComplete(e,!1,t):!1!==r.fireEvent("beforecomplete",r,n,i,r.getLocation())&&(n=r.getValue(),r.updateEl&&r.boundEl&&r.boundEl.setHtml(n),r.onEditComplete(e,o,t),r.fireEvent("complete",r,n,i,r.getLocation())))},afterShow:function(){var e=this;e.callParent2(e,"GRUI.Container","null","afterShow",e.afterShow,arguments),e.fireEvent("startedit",e,e.boundEl,e.startValue,e.getLocation())},onFieldClear:function(){this.cancelOnClear&&this.cancelEdit()},cancelEdit:function(e,t){var n,r=this,i=r.startValue,o=r.getField();r.editing&&(o&&(n=r.editedValue=r.getValue(),o.isReactElement?r.setValue(i):(o.suspendEvents(),r.setValue(i),o.resumeEvents())),r.onEditComplete(e,!0,t),r.fireEvent("canceledit",r,n,i),delete r.editedValue)},onEditComplete:function(e){var t=this;t.getField(),t.editing=!1,e||(t.hide(),t.toggleBoundEl(!0))},onFocusLeave:function(e){var t=this;!0===t.allowBlur&&t.editing&&t.completeEdit(),this.callParent2(this,"GRUI.Container","null","onFocusLeave",this.onFocusLeave,arguments)},updateHidden:function(e,t){var n,r=this;e&&!r.destroying&&(n=r.getField(),r.editing?r.completeEdit():n.collapse&&n.collapse()),this.callParent2(this,"GRUI.Container","null","updateHidden",this.updateHidden,arguments)},getValue:function(){var e=this.getField();return(e.isReactElement?this.ref.current:e).getValue()},setValue:function(e){var t=this.getField();(t.isReactElement?this.ref.current:t).setValue(e)},toggleBoundEl:function(e){this.hideEl&&(this.boundEl.setVisibilityMode(ei.Z.Element.VISIBILITY),this.boundEl.setVisible(e))},doDestroy:function(){var e=this.specialKeyTask;e&&e.cancel(),this.callParent2(this,"GRUI.Container","null","doDestroy",this.doDestroy,arguments)}}),ei.Z.define("GRUI.LoadMask",{extend:"GRUI.Mask",xtype:"loadmask",config:{message:"Loading...",cls:ei.Z.baseCSSPrefix+"loading-mask",messageCls:ei.Z.baseCSSPrefix+"mask-message",indicator:!0},getTemplate:function(){var e=ei.Z.baseCSSPrefix;return[{reference:"innerElement",cls:e+"mask-inner",children:[{reference:"indicatorElement",cls:e+"loading-spinner-outer",children:[{cls:e+"loading-spinner",children:[{tag:"span",cls:e+"loading-top"},{tag:"span",cls:e+"loading-right"},{tag:"span",cls:e+"loading-bottom"},{tag:"span",cls:e+"loading-left"}]}]},{reference:"messageElement"}]}]},updateMessage:function(e){var t=ei.Z.baseCSSPrefix+"has-message";e?this.addCls(t):this.removeCls(t),this.messageElement.setHtml(e)},updateMessageCls:function(e,t){this.messageElement.replaceCls(t,e)},updateIndicator:function(e){this[e?"removeCls":"addCls"](ei.Z.baseCSSPrefix+"indicator-hidden")}}),ei.Z.define("GRUI.TitleBar",{extend:"GRUI.Container",xtype:"titlebar",requires:["GRUI.Button","GRUI.Title","GRUI.Spacer"],defaultBindProperty:"title",isToolbar:!0,classCls:ei.Z.baseCSSPrefix+"titlebar",inheritUi:!0,config:{cls:ei.Z.baseCSSPrefix+"navigation-bar",title:null,titleAlign:"center",defaultType:"button",defaultButtonUI:null,minHeight:null,layout:{type:"hbox",align:"center"},items:[],maxButtonWidth:"40%"},autoSize:null,border:!1,beforeInitialize:function(){this.applyItems=this.applyInitialItems},initialize:function(){var e=this;this.callParent2(this,"GRUI.Container","null","initialize",this.initialize,arguments),delete e.applyItems,e.add(e.initialItems),delete e.initialItems,e.on({scope:e,painted:"refreshTitlePosition",single:!0})},applyInitialItems:function(e){var t=this,n=t.getTitleAlign(),r=t.getDefaults()||{};switch(t.initialItems=e,t.leftBox=t.add({xtype:"container",style:"position: relative",cls:ei.Z.baseCSSPrefix+"titlebar-left",autoSize:null,layout:{type:"hbox",align:"center"},listeners:{resize:"refreshTitlePosition",scope:t}}),t.spacer=t.add({xtype:"component",style:"position: relative",cls:ei.Z.baseCSSPrefix+"titlebar-center",flex:1,listeners:{resize:"refreshTitlePosition",scope:t}}),t.rightBox=t.add({xtype:"container",style:"position: relative",cls:ei.Z.baseCSSPrefix+"titlebar-right",autoSize:null,layout:{type:"hbox",align:"center"},listeners:{resize:"refreshTitlePosition",scope:t}}),n){case"left":t.titleComponent=t.leftBox.add({xtype:"title",cls:ei.Z.baseCSSPrefix+"title-align-left",hidden:r.hidden}),t.refreshTitlePosition=ei.Z.emptyFn;break;case"right":t.titleComponent=t.rightBox.add({xtype:"title",cls:ei.Z.baseCSSPrefix+"title-align-right",hidden:r.hidden}),t.refreshTitlePosition=ei.Z.emptyFn;break;default:t.titleComponent=t.add({xtype:"title",hidden:r.hidden,centered:!0})}t.doAdd=t.doBoxAdd,t.remove=t.doBoxRemove,t.doInsert=t.doBoxInsert},doBoxAdd:function(e){var t=this,n=t.getTitleAlign();t.addDefaultButtonUI(e),"right"===e.config.align?t.rightBox.add(e):t.titleComponent&&"left"===n?t.leftBox.insertBefore(e,t.titleComponent):t.leftBox.add(e)},doBoxRemove:function(e,t){("right"===e.config.align?this.rightBox:this.leftBox).remove(e,t)},doBoxInsert:function(e,t){var n=this;n.addDefaultButtonUI(t),("right"===t.config.align?n.rightBox:n.leftBox).insert(e,t)},addDefaultButtonUI:function(e){var t=this.getDefaultButtonUI();t&&(e.isSegmentedButton?null==e.getDefaultUI()&&e.setDefaultUI(t):e.isButton&&null==e.getUi()&&e.setUi(t))},calculateMaxButtonWidth:function(){var e=this.getMaxButtonWidth();return ei.Z.isString(e)&&(e=parseInt(e.replace("%",""),10)),Math.round(this.element.getWidth()/100*e)},refreshTitlePosition:function(){var e,t,n,r,i;this.destroyed||((e=this.titleComponent.renderElement).setWidth(null),e.setLeft(null),n=(r=this.leftBox).down("button"),t=1===r.getItems().getCount(),n&&t&&(null==n.getWidth()&&n.renderElement.setWidth("auto"),t=r.renderElement.getWidth(),(r=this.calculateMaxButtonWidth())<t&&n.renderElement.setWidth(r)),t=this.spacer.renderElement.getBox(),r=(n=e.getBox()).width-t.width,i=n.left,n=n.right,0<r&&(i+=r/=2,n-=r,e.setWidth(t.width)),r=t.left-i,i=n-t.right,0<r?e.setLeft(r):0<i&&e.setLeft(-i),e.repaint())},updateTitle:function(e){this.getItems(),this.titleComponent.setTitle(e),this.isPainted()&&this.refreshTitlePosition()}}),ei.Z.toaster=function(e,t){var n=document.createElement("div");n.innerText=e,t.appendChild(n),n.classList="grui-toaster",setTimeout((function(){n.remove()}),1e3)},ei.Z.define("GRUI.dataview.Location",{isDataViewLocation:!0,isLocation:!0,child:null,event:null,item:null,record:null,recordIndex:-1,sourceElement:null,view:null,viewIndex:-1,constructor:function(e,t){this.view=e,null!=t&&this.attach(t)},attach:function(e){var t,n,r,i=this,o=i.view,a=o.store;e.isEvent&&(r=(i.event=e).target),!e.isElement&&1!==e.nodeType||(r=e),(i.source=e).isWidget&&(r=e.getFocusEl(),e=e.element),"number"==typeof e?(n=o.itemFromRecord(e),i.recordIndex=e,t=a&&a.getAt(e)):(t=e.isModel?e:o.mapToRecord(e),n=o.mapToItem(e),i.recordIndex=a?a.indexOf(t):-1),n&&!r&&(r=n.isWidget?n.getFocusEl():n),i.child=n,(i.record=t)&&n&&(i.item=n),n&&(i.viewIndex=o.mapToViewIndex(n)),i.sourceElement=ei.Z.getDom(r)},clone:function(){var e=this,t=new this.self(e.view);return t.event=e.event,t.sourceElement=e.sourceElement,t.item=e.item,t.record=e.record,t.recordIndex=e.recordIndex,t.viewIndex=e.viewIndex,t},equals:function(e){return e&&e.view===this.view&&e.isDataViewLocation&&e.sourceElement===this.sourceElement},getFocusEl:function(e){var t=this.get(),n=null;return(t=t&&t.isWidget?t.element:t)?"dom"===e||!0===e?ei.Z.getDom(t):ei.Z.get(t):n},get:function(){return this.child},isFirstDataItem:function(){return 0===this.recordIndex},isFirstViewItem:function(){var e=this.view;return e.infinite?e.previous(null==this.child):0===this.viewIndex},isLastDataItem:function(){return this.recordIndex===this.view.store.getCount()-1},isLastViewItem:function(){var e=this.view;return e.infinite?e.next(null==this.child):this.viewIndex===e.innerItems.length-1},refresh:function(){var e=this,t=e.view,n=e.child;n=t.mapToItem(e.record)||(t.items.contains(n)?n:t.mapToItem(Math.min(e.viewIndex,t.dataItems.length-1)));return new this.self(t,n)},isFirst:function(){return this.view.isFirstItem(this.child)},isLast:function(){return this.view.isLastItem(this.child)},next:function(e){for(var t=this,n=t.nextItem(e),r=n&&n.get();n&&(!r||!r.el.isFocusable());){if(n.equals(t))return t;r=(n=n.nextItem(e))&&n.get()}return n||t},previous:function(e){for(var t=this,n=t.previousItem(e),r=n&&n.get();n&&(!r||!r.el.isFocusable());){if(n.equals(t))return t;r=(n=n.previousItem(e))&&n.get()}return n||t},nextItem:function(e){var t,n=this.view,r=this.child;e="boolean"==typeof e?e:!(!e||!e.wrap);if(n.isLastItem(r)){if(!e)return null;t=n.getFirstItem()}else t=n.nextItem(r);return new this.self(n,t)},previousItem:function(e){var t,n=this.view,r=this.child;e="boolean"==typeof e?e:!(!e||!e.wrap);if(n.isFirstItem(r)){if(!e)return null;t=n.getLastItem()}else t=n.previousItem(r);return new this.self(n,t)},privates:{as:function(e,t){if(e){if(e.isWidget){if("cmp"===t)return e;e=e.el}"dom"===t?e=e.dom||e:"el"!==t||e.dom||(e=ei.Z.get(e))}return e||null}}}),ei.Z.define("GRUI.dataview.NavigationModel",{extend:"GRUI.Evented",alias:"navmodel.dataview",mixins:["GRUI.mixin.Factoryable","GRUI.mixin.Bufferable"],requires:["GRUI.dataview.Location"],factoryConfig:{type:"navmodel",defaultType:"dataview",instanceProp:"isNavigationModel"},isNavigationModel:!0,config:{view:null,disabled:!1},virtualKeyboardInputRe:/^(input|textarea)$/i,bufferableMethods:{handleChildTrigger:1},locationClass:"GRUI.dataview.Location",setLocation:function(e,t){var n,r,i,o=this,a=o.getView(),s=o.location,l=t&&t.animation;if(null==e)return o.clearLocation();if(e.isDataViewLocation||(e=this.createLocation(e)),i=e.view,!e.equals(s)){if(n=e.record,s=e.child,n&&!s)return i.ensureVisible(n,{animation:l}).then((function(){o.destroyed||i.getNavigationModel().setLocation({record:n,column:e.column},t)}));s&&null==o.floatingItems&&(l=(s=s.isComponent?s.el:ei.Z.fly(s)).up(),r=s.getStyleValue("float"),o.floatingItems=a.getInline&&a.getInline()||s.isStyle("display","inline-block")||"left"===r||"right"===r||l.isStyle("display","flex")&&l.isStyle("flex-direction","row")),(a=i.getScrollable())&&a.ensureVisible(e.sourceElement,{animation:t&&t.animation}),o.handleLocationChange(e,t),o.destroyed||o.doFocus()}},clearLocation:function(){var e,t=this;t.location&&(t.lastLocation=t.location,(e=t.location.getFocusEl())&&!e.destroyed?(ei.Z.fly(e).removeCls(t.focusedCls),t.previousLocation=t.location):t.previousLocation=null,t.location=null)},getLocation:function(){return this.location},getPreviousLocation:function(){var e=this.previousLocation;return!e||e.sourceElement&&e.sourceElement.destroyed||e.refresh(),e},disable:function(){this.setDisabled(!0)},enable:function(){this.setDisabled(!1)},privates:{createLocation:function(e,t){return ei.Z.create(this.locationClass,this.getView(),e,t)},getKeyNavCfg:function(e){var t=this;return{target:e.getFocusEl(),processEvent:t.processViewEvent,processEventScope:t,eventName:"keydown",defaultEventAction:"stopEvent",esc:t.onKeyEsc,f2:t.onKeyF2,up:t.onKeyUp,down:t.onKeyDown,right:t.onKeyRight,left:t.onKeyLeft,pageDown:t.onKeyPageDown,pageUp:t.onKeyPageUp,home:t.onKeyHome,end:t.onKeyEnd,space:t.onKeySpace,enter:t.onKeyEnter,tab:t.onKeyTab,A:{ctrl:!0,handler:t.onSelectAllKeyPress},scope:t}},updateView:function(e){var t=this,n=t.getKeyNavCfg(e);t.focusedCls=e.focusedCls,n&&(t.keyNav=new ei.Z.util.KeyNav(n)),t.viewListeners=e.on(t.getViewListeners(e))},getViewListeners:function(e){var t={scope:this};return t[e.getTriggerEvent()]="onChildTrigger",t},processViewEvent:function(e){var t,n=this.getLocation();if(n&&e.keyCode&&(t=ei.Z.fly(e.target).component,e.navigationMode=t&&t.parent===this.getView(),e.setCurrentTarget(n.sourceElement),!ei.Z.fly(e.target).isInputField()))return e},doFocus:function(e){var t,n;(e=e||this.location)&&(n=e&&e.getFocusEl(),ei.Z.os.is.iOS&&(e=e.sourceElement,t=document.activeElement,e&&t&&e.nodeName.match(this.virtualKeyboardInputRe)&&t.nodeName.match(this.virtualKeyboardInputRe))||n&&n.focus())},onFocusMove:function(e){var t=this.createLocation(e);t.equals(this.location)||this.handleLocationChange(t,{event:e,navigate:!1})},handleLocationChange:function(e,t){var n,r,i=this,o=i.location,a=i.getView();(i.previousLocation=o)&&(n=(i.lastLocation=o).getFocusEl())&&!n.destroyed&&ei.Z.fly(n).removeCls(i.focusedCls),(n=(i.location=e)&&e.getFocusEl("dom"))&&(r=e.get())&&((r=r.isWidget?r.el:ei.Z.get(r))&&n===r.dom&&r.addCls(i.focusedCls),t&&(t.event||t.select)&&!1!==t.navigate&&i.onNavigate(t.event)),a.destroyed||a.fireEvent("navigate",a,e,o)},onKeyUp:function(e){var t=this;e.preventDefault(),t.location?t.floatingItems?t.moveUp(e):t.movePrevious({event:e}):t.setLocation(0)},onKeyDown:function(e){var t=this;e.preventDefault(),t.location?t.floatingItems?t.moveDown(e):t.moveNext({event:e}):t.setLocation(0)},onKeyLeft:function(e){e.preventDefault(),this.movePrevious({event:e})},onKeyRight:function(e){e.preventDefault(),this.moveNext({event:e})},onKeyF2:function(e){return!1},onKeyEsc:function(e){return!1},onKeyTab:function(e){return!this.location.actionable},onKeyPageDown:function(e){var t,n,r=this;e.preventDefault(),r.location.actionable||r.floatingItems||(n=((t=r.getView()).infinite?t.getItemTop(r.location.child):r.location.child.el.dom.offsetTop)+t.el.getClientRegion().height,(t=r.createLocation(t.getItemFromPoint(0,n))).child&&t.child.el.isFocusable()||(t=t.previous()),r.setLocation(t,{event:e}))},onKeyPageUp:function(e){var t,n,r=this;e.preventDefault(),r.location.actionable||r.floatingItems||(n=((t=r.getView()).infinite?t.getItemTop(r.location.child):r.location.child.el.dom.offsetTop)-t.el.getClientRegion().height,(t=r.createLocation(t.getItemFromPoint(0,n))).child&&t.child.el.isFocusable()||(t=t.next()),r.setLocation(t,{event:e}))},onKeyHome:function(e){this.setLocation(0,{event:e})},onKeyEnd:function(e){this.setLocation(this.getView().getStore().last(),{event:e})},onKeySpace:function(e){this.onNavigate(e)},onKeyEnter:function(e){e.stopEvent(),this.getView()._onChildTap(e)},onSelectAllKeyPress:function(e){var t=this.getView(),n=t.getSelectable();if(n&&t.getStore().getCount())return n[n.allSelected?"deselectAll":"selectAll"](),e.preventDefault(),!1},moveUp:function(e){var t=this.getView(),n=this.location,r=this.location.sourceElement,i=ei.Z.fly(r).getAnchorXY("t");i[1]-=ei.Z.fly(r).getMargin("tb")+10,(r=(r=t.getItemFromPagePoint(i[0],i[1],!0))&&r.isFocusable()?r:n.isFirst()?t.getLastItem():t.getFirstItem())&&this.setLocation(r,{event:e})},moveDown:function(e){var t=this.getView(),n=this.location,r=n.sourceElement,i=ei.Z.fly(r).getAnchorXY("b");i[1]+=ei.Z.fly(r).getMargin("tb")+10,(r=(r=t.getItemFromPagePoint(i[0],i[1]))&&r.isFocusable()?r:n.isLast()?t.getFirstItem():t.getLastItem())&&this.setLocation(r,{event:e})},moveNext:function(e){var t=this.getLocation();(t=t&&t.next(e))&&this.setLocation(t,e)},movePrevious:function(e){var t=this.getLocation();(t=t&&t.previous(e))&&this.setLocation(t,e)},onChildTrigger:function(e,t){var n=t.event,r=n.type===("touch"===n.pointerType?"tap":"touchstart");event.target.id===t.child.id?this.handleLocationChange(t,{event:n}):r?this.handleChildTrigger(e,t):this.doHandleChildTrigger(e,t)},doHandleChildTrigger:function(e,t){var n=this.location,r=t.event,i=r.currentTarget,o=t.isGridLocation?"equalCell":"equals";n&&n[o](t)?i&&i.onclick||this.onNavigate(r):this.setLocation(t,{event:r})},onNavigate:function(e){var t=this.location;e=e||new ei.Z.event.Event({target:t.sourceElement}),ei.Z.apply(e,{navigationModel:this,from:this.previousLocation,to:t}),this.getView().onNavigate(e)},updateDisabled:function(e){this.keyNav&&(e?this.keyNav.disable():this.keyNav.enable())}}}),ei.Z.define("GRUI.dataview.selection.Selection",{mixins:["GRUI.mixin.Factoryable"],factoryConfig:{type:"selection",defaultType:"records",instanceProp:"isSelection"},isSelection:!0,config:{selectionModel:null},constructor:function(e){e.isDataView&&(e={selectionModel:e.getSelectionModel()}),this.initConfig(e)},destroy:function(){this.clear(),this.callParent2(this,"null","null","destroy",this.destroy,arguments)},privates:{applySelectionModel:function(e){var t=e.getView();return this.view=t.isGrid?t.ownerGrid:t,e}}}),ei.Z.define("GRUI.dataview.selection.Rows",{extend:"GRUI.dataview.selection.Selection",alias:"selection.rows",requires:["GRUI.util.Spans"],isRows:!0,config:{selected:!0},clone:function(){return new this.self({selectionModel:this.getSelectionModel(),selected:(new ei.Z.util.Spans).unstash(this.getSelected().stash())})},add:function(e,t,n){var r,i,o,a=this,s=a.view;for((e=1===e.length?e[0]:e).isEntity&&(o=e,e=s.mapToRecordIndex(e)),(e="number"==typeof e?[e,e+1]:e)[0]>e[1]&&(i=e[1],e[1]=e[0],e[0]=i),a.lastSelected=e[1],t||a.clear(),a.getSelected().add(e),r=e[0];r<e[1];r++)s.onItemSelect(r);a.manageSelection(o),n||a.getSelectionModel().fireSelectionChange()},remove:function(e,t){var n,r=this,i=r.getSelectionModel(),o=r.view;if(i.getDeselectable()||1!==r.getCount()){for("number"==typeof(e=(e=1===e.length?e[0]:e).isEntity?o.mapToRecordIndex(e):e)&&(e=[e,e+1]),r.getSelected().remove(e),n=e[0];n<e[1];n++)o.onItemDeselect(n);t||i.fireSelectionChange()}},isSelected:function(e){for(var t,n=this.getSelected().spans,r=n.length,i=e.isEntity?this.view.getStore().indexOf(e):e,o=0;o<r;o++)if(i>=(t=n[o])[0]&&i<t[1])return!0;return!1},getCount:function(){return this.getSelected().getCount()},selectAll:function(){for(var e=this.view,t=e.dataItems.length,n=0;n<t;n++)e.onItemSelect(n);this.getSelected().add(0,e.store.getTotalCount()||e.store.getCount()),this.getSelectionModel().fireSelectionChange()},getFirstRowIndex:function(){return this.getSelected().spans.length?this.getSelected().spans[0][0]:0},getLastRowIndex:function(){var e=this.getSelected().spans;return e.length?e[e.length-1][1]-1:0},eachRow:function(e,t){for(var n,r,i,o=this.getSelected().spans,a=o&&o.length,s=0;s<a;s++)for(i=(r=o[s])[0];!1!==n&&i<r[1];i++)n=e.call(this||t,i)},eachColumn:function(e,t){var n,r=this.view.getHeaderContainer().getVisibleColumns(),i=r.length;if(this.getCount())for(n=0;n<i;n++)if(!1===e.call(this||t,r[n],n))return},eachCell:function(e,t){var n,r,i,o,a,s=this,l=s.getSelected(),u=s.view,c=u.ownerGrid.getVisibleColumnManager().getColumns(),d=s.dragRange,f=!1;c&&(n=c.length,o=new ei.Z.grid.Location(u),l&&s.eachRow((function(i){for(o.setItem(i),r=0;r<n;r++)if(o.setColumn(c[r]),!1===e.call(t||s,o,o.columnIndex,o.recordIndex))return!(f=!0)})),f||null==d||s.view.getStore().getRange(d[0],d[1],{forRender:!1,callback:function(l){for(a=l.length,r=0;!f&&r<a;r++)for(o.setItem(l[r]),i=0;!f&&i<n;i++)o.setColumn(c[i]),!1===e.call(t||s,o,o.columnIndex,o.recordIndex)&&(f=!0)}}))},privates:{applySelected:function(e){return e.isSpans?e:new ei.Z.util.Spans},compareRanges:function(e,t){return e[0]-t[0]},clear:function(e){for(var t=this,n=t.getSelectionModel(),r=t.view,i=r.dataItems.length,o=r.renderInfo.indexTop,a=0;a<i;a++)r.onItemDeselect(a+o);t.getSelected().clear(),!n.getDeselectable()&&t.lastSelected&&t.add(t.lastSelected,!0,!0),t.manageSelection(null),e||n.fireSelectionChange()},addRecordRange:function(e,t){return this.add([e,t+1],!0)},removeRecordRange:function(e,t){return this.remove([e,t+1])},isAllSelected:function(){var e=this.view.store;return this.getCount()===(e.getTotalCount()||e.getCount())},setRangeStart:function(e){null==e?this.dragRange=null:(this.dragRange=[e,e],this.view.onItemSelect(e,!0))},setRangeEnd:function(e){var t,n,r=this,i=r.dragRange||(r.dragRange=[0,e]),o=i[1],a=i[0],s=r.view,l=s.renderInfo,u=i[1]=e,c=[],d=!1;for(e<a&&(e=a,a=u),t=Math.max(Math.min(i[0],a,o,e),l.indexTop),n=Math.min(Math.max(i[1],a,o,e),l.indexBottom-1);t<=n;t++)t<a||e<t?(s.onItemDeselect(t),c[c.length?1:0]=t):(s.onItemSelect(t,!0),d=!0);d&&r.addRange(!0),c.length&&r.removeRecordRange(c[0],c[1]),r.lastSelectedIndex=e},addRange:function(e){var t=this.dragRange;t&&(this.addRecordRange(t[0],t[1]),e||(this.dragRange=null))},extendRange:function(e){this.addRecordRange(e.start,e.end)},reduceRange:function(e){this.removeRecordRange(e.start,e.end)},getRange:function(){var e=this.dragRange;return null==e?[0,-1]:e[0]<=e[1]?e:[e[1],e[0]]},getRangeSize:function(){var e=this.getRange();return e[1]-e[0]+1},onSelectionFinish:function(){var e=this,t=e.getContiguousSelection();t?e.getSelectionModel().onSelectionFinish(e,new ei.Z.grid.Location(e.view,{record:t[0],column:0}),new ei.Z.grid.Location(e.view,{record:t[1],column:e.view.getHeaderContainer().getVisibleColumns().length-1})):e.getSelectionModel().onSelectionFinish(e)},getContiguousSelection:function(){var e=this.getSelected(),t=this.view.store,n=e.spans;if(1===n&&t.getAt(n[0][0])&&t.getAt(n[0][1]))return e.spans[0]},manageSelection:function(e){var t=this.view.getStore(),n=this.getSelectionModel();t.isVirtualStore&&"single"===n.getMode()&&((n=n.getSelected()).length&&this.adjustPageLock(t,n.getAt(0),-1),e?(n.splice.apply(n,[0,0,e]),this.adjustPageLock(t,e,1)):n.remove(n.getAt(0)))},adjustPageLock:function(e,t,n){e.isVirtualStore&&t&&(e=e.pageMap.getPageOf(e.indexOf(t)))&&e.adjustLock("active",n)}}}),ei.Z.define("GRUI.dataview.selection.Records",{extend:"GRUI.dataview.selection.Rows",alias:"selection.records",isRecords:!0,config:{selected:null},clone:function(){return new this.self({selectionModel:this.getSelectionModel(),selected:this.getSelected()})},addRowRange:function(e,t,n,r){var i;t<e&&(i=t,t=e,e=i),this.add(this.getSelectionModel().getStore().getRange(e,t-1),n,r)},removeRowRange:function(e,t,n){var r;t<e&&(r=t,t=e,e=r),this.remove(this.getSelectionModel().getStore().getRange(e,t-1),n)},add:function(e,t,n){e=ei.Z.Array.from(e);var r=this.getSelected(),i=r.getCount();t=[t?i:0,t?0:i,e];r.suppressEvent=n,r.splice.apply(r,t),r.suppressEvent=!1},remove:function(e,t){e=ei.Z.Array.from(e);var n=this.getSelected();this.getSelectionModel().getDeselectable()||1!==n.getCount()||ei.Z.Array.remove(e,n.first()),e.length&&(n.suppressEvent=t,n.remove(e),n.suppressEvent=!1)},isSelected:function(e){return!(!e||!e.isModel)&&!!this.getSelected().byInternalId.get(e.internalId)},getRecords:function(){return this.getSelected().getRange()},selectAll:function(e){var t=this.getSelected();t.suppressEvent=e,t.add(this.getSelectionModel().getStore().getRange()),t.suppressEvent=!1},getFirstRowIndex:function(){return this.getCount()?this.view.getStore().indexOf(this.getSelected().first()):0},getLastRowIndex:function(){return this.getCount()?this.view.getStore().indexOf(this.getSelected().last()):-1},eachRow:function(e,t){var n=this.getSelected();n&&n.each(e,t||this)},eachColumn:function(e,t){var n,r=this.view.getHeaderContainer().getVisibleColumns(),i=r.length;if(this.getSelected().getCount())for(n=0;n<i;n++)if(!1===e.call(this||t,r[n],n))return},eachCell:function(e,t){var n,r,i,o,a=this,s=a.getSelected(),l=a.view,u=l.getHeaderContainer().getVisibleColumns();u&&(n=u.length,i=new ei.Z.grid.Location(l),s&&s.each((function(s){for(o=i.clone({record:s}),r=0;r<n;r++)if(o=o.cloneForColumn(u[r]),!1===e.call(t||a,o,o.columnIndex,o.recordIndex))return!1})))},beginUpdate:function(){this.getSelected().beginUpdate()},endUpdate:function(){this.getSelected().endUpdate()},privates:{clear:function(e){var t,n=this.getSelected();n&&(t=[0,n.getCount()],this.getSelectionModel().getDeselectable()||(t[2]=n.last()),n.suppressEvent=e,n.splice.apply(n,t),n.suppressEvent=!1)},addRecordRange:function(e,t){var n=this.view.getStore(),r=t;e&&e.isGridLocation&&(e=e.recordIndex),(t=t&&t.isGridLocation?r=t.recordIndex:t)<e&&(t=e,e=r),r=n.getRange(e,t||e),this.getSelected().add(r)},removeRecordRange:function(e,t){var n=this.view.getStore(),r=t;e&&e.isGridLocation&&(e=e.recordIndex),t&&t.isGridLocation&&(r=t=r=t.recordIndex),t<e&&(t=e,e=r),r=n.getRange(e,t||e),this.getSelected().remove(r)},onSelectionFinish:function(){var e=this,t=e.getContiguousSelection();t?e.getSelectionModel().onSelectionFinish(e,new ei.Z.grid.Location(e.view,{record:t[0],column:0}),new ei.Z.grid.Location(e.view,{record:t[1],column:e.view.getHeaderContainer().getVisibleColumns().length-1})):e.getSelectionModel().onSelectionFinish(e)},getContiguousSelection:function(){var e,t=this.view.getStore(),n=ei.Z.Array.sort(this.getSelected().getRange(),(function(e,n){return t.indexOf(e)-t.indexOf(n)})),r=n.length;if(r){if(1===r&&-1===t.indexOf(n[0]))return!1;for(e=1;e<r;e++)if(t.indexOf(n[e])!==t.indexOf(n[e-1])+1)return!1;return[t.indexOf(n[0]),t.indexOf(n[r-1])]}},applySelected:function(e){return e},refresh:function(){var e=this.view,t=this.getSelectionModel(),n=this.getSelected(),r=t.getLastSelected();ei.Z.dataview.selection.Model.refreshCollection(n,t.getStore().getData(),t.ignoredFilters,e.beforeSelectionRefresh&&e.beforeSelectionRefresh.bind(e)),-1===(e=n.indexOf(r))?t.setLastSelected(n.last()):t.setLastSelected(n.getAt(e))}}}),ei.Z.define("GRUI.dataview.selection.Model",{extend:"GRUI.Evented",alias:"selmodel.dataview",mixins:["GRUI.mixin.Factoryable"],requires:["GRUI.dataview.selection.Records","GRUI.dataview.selection.Rows","GRUI.util.Collection"],factoryConfig:{type:"selmodel",defaultType:"dataview",aliasPrefix:"selmodel."},isSelectionModel:!0,config:{view:null,store:null,disabled:null,mode:"single",deselectable:!0,toggleOnClick:!0,lastSelected:null,selected:!0,selectedRecord:void 0,selection:{type:"records"}},modes:{single:!0,simple:!0,multi:!0},onNavigate:function(e){this.getDisabled()||this.selectWithEvent(e.to.record,e)},getSelectedRecords:function(){var e=this.getSelection();return e&&e.isRecords?e.getRecords():ei.Z.emptyArray},getStoreListeners:function(){return{add:"onSelectionStoreAdd",remove:"onSelectionStoreRemove",update:"onSelectionStoreUpdate",clear:{fn:"onSelectionStoreClear",priority:1e3},load:"onSelectionStoreLoad",refresh:"refreshSelection",idchanged:"onIdChanged"}},applySelected:function(e,t){var n=this,r=n.getStore(),i={rootProperty:"data",extraKeys:{byInternalId:{rootProperty:!1,property:"internalId"}},sorters:[function(e,t){return r.indexOf(e)-r.indexOf(t)}],autoSort:!1};return t&&(t.removeObserver(n),n.destroySelected&&(t.destroy(),n.destroySelected=!1)),e&&e.isCollection?(n.destroySelected=!1,e.setConfig(i)):(n.destroySelected=!0,e=new ei.Z.util.Collection(ei.Z.apply(i,e))),n.observerPriority=1e3,e.addObserver(n),e},updateSelected:function(e){this.setSelectedRecord(e.last()||null)},applyMode:function(e){var t=this.getView(),n=t.getRenderTarget();return e=e?e.toLowerCase():"single",n.toggleCls(t.multiSelectCls,"multi"===e),this.modes[e]?e:"single"},updateMode:function(e){var t=this.getSelection();"multi"!==e&&1<t.getCount()&&t.add(this.getLastSelected(),!1)},updateView:function(e){this.setStore(e?e.getStore():null)},applyStore:function(e){return e?ei.Z.data.StoreManager.lookup(e):null},updateStore:function(e,t){var n=this,r=ei.Z.apply({scope:n},n.getStoreListeners());t&&ei.Z.isObject(t)&&t.isStore&&t.un(r),e&&(e.on(r),t&&n.refreshSelection())},selectByLocation:function(e){this.select(e.record)},selectAll:function(e){this.select(this.getStore().getRange(),!0,e)},deselectAll:function(e){var t=this.getSelected();t.suppressEvent=e,t.removeAll(),t.suppressEvent=!1},applySelectedRecord:function(e){return!1===e?null:e},updateSelectedRecord:function(e){var t=this,n=t.getSelected(),r=n.getCount();e?(n.last()!==e&&("single"===t.getMode()?n.splice(0,r,e):n.add(e)),t.setLastSelected(e)):!t.isConfiguring&&r&&t.deselectAll(),t.getView().publishState("selection",e)},selectWithEvent:function(e,t){var n=this,r=n.getMode(),i=n.isSelected(e);"multi"===r?n.selectWithEventMulti(e,t,i):i?(n.getDeselectable()&&"single"===r&&n.getToggleOnClick()||"simple"===r||t.ctrlKey)&&n.deselect(e):n.select(e,"simple"===r),!t.shiftKey&&n.isSelected(e)&&(n.selectionStart=e)},selectWithEventMulti:function(e,t,n){var r=this,i=t.shiftKey,o=(t=t.ctrlKey,i?r.selectionStart:null);i&&o?r.selectRange(o,e,t):n?r.deselect(e):r.select(e,!0)},selectRange:function(e,t,n){var r=this.getStore();e="number"==typeof e?e:r.indexOf(e),(t="number"==typeof t?t:r.indexOf(t))<e&&(r=e,e=t,t=r),this.getSelection().addRowRange(e,t+1,n)},select:function(e,t,n){var r,i=this;i.getDisabled()||(e="number"==typeof e?[i.getStore().getAt(e)]:e)&&("single"===i.getMode()&&e?(i.getSelected().getCount()&&i.getSelection().clear(!0),r=e.length?e[0]:e,i.doSingleSelect(r,n)):i.doMultiSelect(e,t,n))},doSingleSelect:function(e,t){this.doMultiSelect([e],!1,t)},doMultiSelect:function(e,t,n){null===e||this.getDisabled()||this.getSelection().add(e,t,n)},deselect:function(e,t){var n,r,i,o,a;if(!this.getDisabled()){for(e=ei.Z.isArray(e)?e:[e],n=this.getSelection(),r=this.getStore(),i=e.length,o=0;o<i;o++)"number"==typeof(a=e[o])&&(e[o]=r.getAt(a));n.remove(e,t)}},onCollectionRemove:function(e,t){var n=this.getView(),r=t.items;this.getSelection().allSelected=this.allSelected=!1,t.next||t.replacement||this.setSelectedRecord(e.last()||null),n.onItemDeselect(r,e.suppressEvent),e.suppressEvent||this.fireSelectionChange(r,!1)},onCollectionAdd:function(e,t){var n=this,r=n.getView(),i=n.getSelection();t=t.items;r.destroyed||(i.allSelected=this.allSelected=i.getCount()===r.getStore().getCount(),n.setSelectedRecord(e.last()||null),r.onItemSelect("single"===n.getMode()?t[0]:t,e.suppressEvent),e.suppressEvent||n.fireSelectionChange(t,!0))},fireSelectionChange:function(e,t){var n=this.getView(),r=this.getSelection();this.fireEvent("selectionchange",this.view,e,t,r),n.fireEvent("selectionchange",this.view,e,t,r)},getSelections:function(){if(this.getSelection().isRecords)return this.getSelected().getRange()},isRowSelected:function(e){var t=this.getSelection();return!(!t||!t.isRows&&!t.isRecords)&&(e=ei.Z.isNumber(e)?this.getStore().getAt(e):e,t.isSelected(e))},isSelected:function(e){return this.getSelection().isSelected(e)},hasSelection:function(){return 0<this.getSelection().getCount()},refreshSelection:function(){this.getSelection().isRecords&&this.getSelection().refresh()},onSelectionStoreRemove:function(e,t){var n=this.getSelection();n.isRecords&&n.remove(t)},onSelectionStoreClear:function(e){this.getSelection().clear()},getSelectionCount:function(){return this.getSelection().getCount()},destroy:function(){this.setView(null),ei.Z.destroy(this.selection,this.destroySelected?this.selected:null)},onIdChanged:function(e,t,n,r){var i=this.getSelected();i&&i.updateKey(t,n)},onSelectionStoreAdd:ei.Z.emptyFn,onSelectionStoreLoad:ei.Z.emptyFn,onSelectionStoreUpdate:ei.Z.emptyFn,onItemSelect:ei.Z.emptyFn,onItemDeselect:ei.Z.emptyFn,onEditorKey:ei.Z.emptyFn,privates:{addIgnoredFilter:function(e){e&&ei.Z.Array.include(this.ignoredFilters||(this.ignoredFilters=[]),e)},removeIgnoredFilter:function(e){var t=this.ignoredFilters;t&&(ei.Z.Array.remove(t,e),t.length||(this.ignoredFilters=null))},onSelectionFinish:ei.Z.privateFn,applySelection:function(e,t){if(t){if(t.type===e.type)return t.setConfig(e),t;ei.Z.destroy(t)}return e&&(t=this.getStore(),e=ei.Z.Factory.selection(ei.Z.apply({selectionModel:this,type:t&&t.isVirtualStore?"rows":"records",selected:this.getSelected()},e))),e}},statics:{refreshCollection:function(e,t,n,r){var i,o,a,s,l,u,c,d=t.getFilters().getFilterFn(),f=[],h=[];if(n){for(c=[],o=n.length,s=0;s<o;s++)n[s].getDisabled()||(c.push(n[s]),n[s].setDisabled(!0));c.length?t=t.getSource()||t:n=null}if(e.getCount()){for(a=(i=e.getRange()).length,s=0;s<a;s++)l=i[s],(u=(u=t.get(t.getKey(l)))&&n&&!d(u)?null:u)?u!==l&&(f.push(l),h.push(u)):f.push(l);r&&r(f,h),e.suppressEvent=!0,e.splice(e.getCount(),f,h),e.suppressEvent=!1}if(c)for(o=c.length,s=0;s<o;s++)c[s].setDisabled(!1)}}}),ei.Z.define("GRUI.dataview.EmptyText",{extend:"GRUI.Component",xtype:"emptytext",classCls:ei.Z.baseCSSPrefix+"emptytext",inheritUi:!0,html:"No data to display",top:0,right:0,bottom:0,left:0}),ei.Z.define("GRUI.dataview.Abstract",{extend:"GRUI.Container",mixins:["GRUI.mixin.ConfigProxy","GRUI.mixin.ItemRippler"],isDataView:!0,requires:["GRUI.LoadMask","GRUI.XTemplate","GRUI.data.StoreManager","GRUI.dataview.NavigationModel","GRUI.dataview.selection.Model","GRUI.dataview.EmptyText"],cachedConfig:{associatedData:null,deferEmptyText:!0,deselectOnContainerClick:!0,disableSelection:!1,emptyTextDefaults:{xtype:"emptytext"},emptyItemText:"\xa0",itemsFocusable:!0,itemTpl:"<div>{text:htmlEncode}</div>",loadingText:"Loading...",pressedDelay:100,scrollToTopOnRefresh:!0,storeEventListeners:{add:"onStoreAdd",beforeload:"onStoreBeforeLoad",clear:"onStoreClear",load:"onStoreLoad",refresh:"onStoreRefresh",remove:"onStoreRemove",update:"onStoreUpdate"},triggerEvent:"childtap",triggerCtEvent:"tap"},config:{itemButtonMode:!1,data:null,emptyState:null,emptyText:null,enableTextSelection:null,inline:null,itemCls:null,loadingHeight:null,markDirty:null,navigationModel:{type:"dataview"},selectable:!0},autoSize:null,publishes:{selection:1},twoWayBindable:{selection:1},eventedConfig:{store:void 0},proxyConfig:{selectable:{configs:["mode","deselectable","lastSelected","selected"],methods:["isSelected","select","selectAll","deselectAll","getSelections","hasSelection","getSelectionCount"]}},emptyTextProperty:"html",restoreFocus:!0,refreshCounter:0,selectionModel:"dataview",defaultBindProperty:"store",focusable:!0,scrollable:!0,tabIndex:0,classCls:ei.Z.baseCSSPrefix+"dataview",focusedCls:ei.Z.baseCSSPrefix+"focused",hoveredCls:ei.Z.baseCSSPrefix+"hovered",inlineCls:ei.Z.baseCSSPrefix+"inline",noWrapCls:ei.Z.baseCSSPrefix+"nowrap",pressedCls:ei.Z.baseCSSPrefix+"pressed",scrollDockCls:ei.Z.baseCSSPrefix+"scrolldock",selectedCls:ei.Z.baseCSSPrefix+"selected",hasLoadedStore:!1,scrollDockedItems:null,storeListeners:null,_trueStore:null,beforeInitialize:function(e){this.dataItems=[],this.callParent2(this,"GRUI.Container","null","beforeInitialize",this.beforeInitialize,arguments)},initialize:function(){var e=this;e.generateSelectorFunctions(),this.callParent2(this,"GRUI.Container","null","initialize",this.initialize,arguments),e.bodyElement.on({touchstart:"_onChildTouchStart",touchend:"_onChildTouchEnd",touchcancel:"_onChildTouchCancel",tap:"_onChildTap",tapcancel:"_onChildTapCancel",longpress:"_onChildLongPress",taphold:"_onChildTapHold",singletap:"_onChildSingleTap",doubletap:"_onChildDoubleTap",swipe:"_onChildSwipe",mouseover:"_onChildMouseOver",mouseout:"_onChildMouseOut",contextmenu:"_onChildContextMenu",delegate:e.eventDelegate,scope:e}),ei.Z.scrollbar.width()&&e.bodyElement.on("touchstart","_onContainerTouchStart",e),e.on(e.getTriggerCtEvent(),"onContainerTrigger",e)},onRender:function(){var e=this;this.callParent2(this,"GRUI.Container","null","onRender",this.onRender,arguments),e.forceRefreshOnRender?e.runRefresh():e.virtualColumRender||e.refresh()},doDestroy:function(){var e=this;e.destroyAllRipples(),e.clearPressedTimer(),e.setStore(null),e.setNavigationModel(null),e.setSelectable(null),e.lastPressedLocation=null,this.callParent2(this,"GRUI.Container","null","doDestroy",this.doDestroy,arguments)},createEmptyText:function(e){var t=ei.Z.apply({},this.getEmptyTextDefaults());return"string"==typeof e?t[this.emptyTextProperty]=e:e&&ei.Z.apply(t,e),t.isEmptyText=t.hidden=!0,t.showInEmptyState=null,t},ensureVisible:function(e,t){for(var n,r=this.ensureVisiblePlan(e,t);n=r.steps.pop();)this[n](r);return r.promise},gatherData:function(e,t){var n=this,r=e&&e.getData(n.associatedData);return r&&(void 0===t&&(t=n.store.indexOf(e)),r=n.prepareData(r,t,e)),r||null},getFirstDataItem:function(){return this.dataItems[0]||null},getFirstItem:function(){return this.getFastItems()[0]||null},getItemAt:function(e){var t=this.getFastItems();return e<0&&(e+=t.length),t[e]||null},getItemIndex:function(e){return this.mapToRecordIndex(e)},getItem:function(e){var t=null;return e&&-1<(e=e.isEntity?this.store.indexOf(e):e)?this.getItemAt(e):t},getLastDataItem:function(){var e=this.dataItems;return e[e.length-1]||null},getLastItem:function(){var e=this.getFastItems();return e[e.length-1]},getScrollDockedItems:function(e){var t=this.scrollDockedItems;return(t=t&&(e?t[e=this.scrollDockAliases[e]||e].slice():t.start.items.concat(t.end.items)))||[]},isItemSelected:function(e){return!!(e=this.mapToRecord(e))&&this.isSelected(e)},isFirstItem:function(e){return ei.Z.getDom(e)===this.getFirstItem()},isFirstDataItem:function(e){return ei.Z.getDom(e)===this.getFirstDataItem()},isLastItem:function(e){return ei.Z.getDom(e)===this.getLastItem()},isLastDataItem:function(e){return ei.Z.getDom(e)===this.getLastDataItem()},mapToItem:function(e,t){var n=this,r=n.element;return(r=(r=e&&e.isEvent?e.getTarget(n.itemSelector,r):e&&(e.isElement||1===e.nodeType)?ei.Z.fly(e).findParent(n.itemSelector,r):e&&e.isEntity?n.itemFromRecord(e):e&&e.isComponent&&n.items.contains(e)?e:(r=n.getFastItems(),e<0&&(e+=r.length),r[e||0]))&&n.itemAs(r,t||(n.isElementDataView?"el":"cmp")))||null},mapToRecord:function(e){var t,n=this,r=n.element,i=n.store;return e&&e.isEntity?(i&&i.getById(e.id)===e&&(t=e),e=null):e&&e.isEvent?e=e.getTarget(n.itemSelector,r):e&&(e.isElement||1===e.nodeType)?e=ei.Z.fly(e).findParent(n.itemSelector,r):"number"==typeof e&&(e=n.mapToItem(e)),e&&(r=(r=e.isWidget?e.el:e).dom||r,n.itemSelector(r)&&(t=(t=r.getAttribute("data-recordid"))&&i.getByInternalId(+t))),t||null},mapToRecordIndex:function(e,t){e=this.mapToRecord(e);var n=-1,r=this.store;return e?(r=t&&r.isGroupStore?r.getSource():r).indexOf(e):n},mapToViewIndex:function(e,t){var n,r=this,i=-1,o=e,a=(e=r.element,r.getFastItems());if("number"==typeof o){for(t=t||0;o<a.length;++o)if(+(n=(n=a[o]).isWidget?n.el.dom:n).getAttribute("data-recordindex")===o+t){i=o;break}}else o&&(o.isEntity?o=r.itemFromRecord(o):o.isEvent?o=o.getTarget(r.itemSelector,e):!o.isElement&&1!==o.nodeType||(o=ei.Z.fly(o).findParent(r.itemSelector,e)),o&&a.length&&(a[0].isWidget?o.isWidget||(o=ei.Z.Component.from(o)):o=o.nodeType?o:o.el.dom,i=Array.prototype.indexOf.call(a,o)));return i},nextItem:function(e,t){return e=this.traverseItem(e,1),t?this.itemAs(e,t):e},previousItem:function(e,t){return e=this.traverseItem(e,-1),t?this.itemAs(e,t):e},prepareData:function(e,t,n){return e},refresh:function(){this.whenVisible("runRefresh")},setLocation:function(e,t){return this.getNavigationModel().setLocation(e,t)},onFocusEnter:function(e){if(this.callParent2(this,"GRUI.Container","null","onFocusEnter",this.onFocusEnter,arguments),e.within(this.getRenderTarget())||e.target===this.getFocusEl().dom)return this.onInnerFocusEnter(e)},onInnerFocusEnter:function(e){var t,n=this,r=n.getNavigationModel();"scrollbar"===r.lastLocation?e.relatedTarget&&e.relatedTarget.focus():(t=e.target===n.getFocusEl().dom?(t=n.restoreFocus&&r.getPreviousLocation())?t.refresh():e.backwards?n.getLastDataItem():n.getFirstDataItem():e,n.toggleChildrenTabbability(!1),n.getFastItems().length&&(t&&t.isWidget&&(t=t.getFocusEl()||t.el),r.setLocation(t,{event:e,navigate:!1})),r.getLocation()&&n.el.dom.setAttribute("tabIndex",-1))},onFocusLeave:function(e){var t=this.getNavigationModel();t.getLocation()&&(t.setLocation(null,{event:e}),this.el.dom.setAttribute("tabIndex",0)),this.callParent2(this,"GRUI.Container","null","onFocusLeave",this.onFocusLeave,arguments)},onInnerFocusLeave:function(e){this.getNavigationModel().setLocation(null,{event:e})},onFocusMove:function(e){var t=this,n=t.el,r=t.getRenderTarget(),i=e.event.toComponent,o=e.event.fromComponent;return n.contains(e.toElement)?n.contains(e.toElement)&&!r.contains(e.toElement)&&r.contains(e.fromElement)?t.onInnerFocusLeave(e.event):n.contains(e.fromElement)&&!r.contains(e.fromElement)&&r.contains(e.toElement)?t.onInnerFocusEnter(e.event):((r.contains(e.fromElement)||r.contains(e.toElement))&&(i!==t&&i.up("dataview,componentdataview")!==t||o!==t&&o.up("dataview,componentdataview")!==t||t.getNavigationModel().onFocusMove(e.event)),this.callParent2(this,"GRUI.Container","null","onFocusMove",this.onFocusMove,arguments)):this.callParent2(this,"GRUI.Container","null","onFocusMove",this.onFocusMove,arguments)},onItemAdd:function(e,t){var n,r=this,i=e.scrollDock,o=r.scrollDockCls;!e.$dataItem&&e.isInner&&(i=null!==i?i||"end":i)&&((n=r.scrollDockedItems)||(r.scrollDockedItems=n={start:{items:[],height:0,filter:r.filterScrollDockStart,name:i},end:{items:[],height:0,filter:r.filterScrollDockEnd,name:i}}),i=r.scrollDockAliases[i]||i,(i=n[e.scrollDock=i]).items=r.innerItems.filter(i.filter),void 0===e.showInEmptyState&&(e.showInEmptyState=!1),e.addCls(o+" "+o+"-"+i.name),r.getItemsFocusable()&&e.el.set({tabIndex:-1}),r.addScrollDockedItem&&r.addScrollDockedItem(e)),this.callParent2(this,"GRUI.Container","null","onItemAdd",this.onItemAdd,arguments)},onItemDeselect:function(e,t){var n=this;n.isConfiguring||n.destroyed||(t?n.setItemSelection(e,!1):n.fireEventedAction("deselect",[n,e],"setItemSelection",n,[e,!1]))},onItemSelect:function(e,t){t?this.setItemSelection(e,!0):this.fireEventedAction("select",[this,e],"setItemSelection",this,[e,!0])},onChildTouchStart:function(e){var t=this,n=e.item,r=e.event,i=t.hasListeners,o=t.getNavigationModel().getLocation(),a=o&&o.actionable;e.actionable||(e.equalCell||e.equals)(o)||t.rippleItem(n,r),i[o="beforechildtouchstart"]&&!1===t.fireEvent(o,t,e)||i[o="beforeitemtouchstart"]&&!1===t.fireEvent(o,t,e.viewIndex,n,e.record,r)||(a||t.doChildTouchStart(e),t.fireChildEvent("touchstart",e))},onChildTouchEnd:function(e){var t=e.item,n=this.getNavigationModel().getLocation(),r=e.event;n&&n.actionable||this.rippleItem(t,r),this.clearPressedCls("touchend",e)},onChildTouchCancel:function(e){this.clearPressedCls("touchcancel",e)},onChildTouchMove:function(e){this.fireChildEvent("touchmove",e)},onChildTap:function(e){this.fireChildEvent("tap",e)},onChildTapCancel:function(e){this.getItemButtonMode()||this.clearPressedCls("tapcancel",e)},onChildContextMenu:function(e){this.fireChildEvent("contextmenu",e)},onChildLongPress:function(e){this.fireChildEvent("longpress",e)},onChildTapHold:function(e){this.fireChildEvent("taphold",e)},onChildSingleTap:function(e){this.fireChildEvent("singletap",e)},onChildDoubleTap:function(e){this.fireChildEvent("doubletap",e)},onChildSwipe:function(e){this.fireChildEvent("swipe",e)},onChildMouseOver:function(e){var t=this,n=e.item;t.mouseOverItem!==n&&(t.mouseOverItem=n,t.doHover&&t.toggleHoverCls(!0),t.fireChildEvent("mouseenter",e))},onChildMouseOut:function(e){var t=this,n=t.getItemButtonMode(),r=e.item,i=e.event.getRelatedTarget(t.itemSelector);r&&r.dom!==i&&(t.doHover&&t.toggleHoverCls(!1),n?t.fireChildEvent("mouseleave",e):this.clearPressedCls("mouseleave",e),t.mouseOverItem=null)},onNavigate:function(e){var t=!this.destroyed&&this.getSelectable();t&&this.shouldSelectItem(e)&&t.onNavigate(e)},shouldSelectItem:function(e){var t=this.getSelectable();t=e.stopSelection||!t||t.getDisabled()||e.isNavKeyPress()&&e.ctrlKey;return!(t=(e=!t&&e.getTarget("."+ei.Z.baseCSSPrefix+"item-no-select,."+ei.Z.baseCSSPrefix+"item-no-tap",this.element))?this.el.contains(e):t)},onStoreAdd:function(){this.syncEmptyState()},onStoreBeforeLoad:function(){this.handleBeforeLoad()},onStoreClear:function(){this.doClear()},onStoreLoad:function(){this.hasLoadedStore=!0,this.clearMask(),this.syncEmptyState()},onStoreRefresh:function(){this.refresh()},onStoreRemove:function(){this.syncEmptyState()},onStoreUpdate:function(e,t,n,r,i){var o=this;i&&(i.indexChanged||i.filtered)||(i=o.itemFromRecord(t))&&o.syncItemRecord({item:i,modified:o.indexModifiedFields(r),record:t}),o.isSelected(t)&&o.setItemSelection(t,!0)},updateAssociatedData:function(e){this.associatedData={associated:e}},updateData:function(e){var t=this,n=t.store;n||t.config.store?!n&&t.config.store?t.config.store.data=e:n&&(n=n.isGrouped()?n.getSource():n).loadData&&(n.loadData(e),t.fireEvent("updatedata",t,e)):(t.settingStoreFromData=!0,t.setStore({data:e,autoDestroy:!0}),t.settingStoreFromData=!1)},updateDisableSelection:function(e){this.getRenderTarget().toggleCls(this.showSelectionCls,!e)},updateEmptyText:function(e){var t=e,n=this.emptyTextCmp;n&&(e&&"string"!=typeof e||((t={})[this.emptyTextProperty]=e||"\xa0"),n.setConfig(t)),this.isConfiguring||this.syncEmptyState()},updateEnableTextSelection:function(e){this.setUserSelectable({bodyElement:!!e})},updateInline:function(e){var t=this,n=e&&!1===e.wrap;t.toggleCls(t.inlineCls,!!e),ei.Z.isEdge&&n&&t.el.measure("w"),t.toggleCls(t.noWrapCls,n)},updateItemCls:function(e,t){if(!this.isConfiguring)for(var n,r=this.dataItems,i=r.length,o=0;o<i;o++)(n=(n=r[o]).isWidget?n.el:ei.Z.fly(n)).replaceCls(t,e)},applyItemTpl:function(e){return ei.Z.XTemplate.get(e)},updateItemTpl:function(){this.isConfiguring||this.refresh()},updateMarkDirty:function(e){var t,n,r,i=this.dataItems;for(e=!!e,t=0,n=i.length;t<n;t++)((r=i[t]).el||ei.Z.fly(r)).toggleCls(this.markDirtyCls,e)},updateMasked:function(e){var t=this,n=t.getLoadingHeight();e?n&&n>t.el.getHeight()&&(t.hasLoadingHeight=!0,t.oldMinHeight=t.getMinHeight(),t.setMinHeight(n)):!t.destroying&&t.hasLoadingHeight&&(t.setMinHeight(t.oldMinHeight),delete t.hasLoadingHeight)},applySelectable:function(e,t){var n=this,r={type:n.selectionModel,view:n},i=n.selection;if(e=!1===e?{disabled:!0}:e){if("string"==typeof e)e={type:n.selectionModel,mode:e.toLowerCase(),view:n};else{if(e.isSelectionModel)return e.setConfig(r);e=ei.Z.apply(r,e)}e=t?t.setConfig(e):ei.Z.Factory.selmodel(n.mergeProxiedConfigs("selectable",e)),i&&(delete n.selection,e.select(i))}return e},applyStore:function(e){return e=e?ei.Z.data.StoreManager.lookup(e):null,this.store=this._trueStore=e},updateStore:function(e,t){var n,r=this,i=r.autoMask;if(t&&(t.destroyed||(t.getAutoDestroy()?t.destroy():ei.Z.destroy(r.storeListeners)),r.dataRange=r.storeListeners=ei.Z.destroy(r.dataRange),r.destroying||r.destroyed||e||r.doClear()),e){if(r.destroying)return;r.attachStoreEvents(e,ei.Z.apply({scope:r,destroyable:!0},r.getStoreEventListeners())),e.isLoaded()&&(r.hasLoadedStore=!0),n=!e.isTreeStore&&e.hasPendingLoad(),r.bindStore(e),r.initialized&&r.refresh()}r.isConfiguring&&!r.settingStoreFromData||r.getSelectable().setStore(e),i&&!n?(r.setMasked(!1),r.autoMask=!1):!i&&n&&r.handleBeforeLoad()},updateHidden:function(e,t){this.callParent2(this,"GRUI.Container","null","updateHidden",this.updateHidden,arguments),this.destroyAllRipples()},privates:{associatedData:!0,doHover:!0,showSelectionCls:ei.Z.baseCSSPrefix+"show-selection",multiSelectCls:ei.Z.baseCSSPrefix+"multi-select",markDirtyCls:ei.Z.baseCSSPrefix+"mark-dirty",scrollbarSelector:"."+ei.Z.baseCSSPrefix+"scrollbar",scrollDockAliases:{top:"start",bottom:"end"},attachStoreEvents:function(e,t){this.storeListeners=e.on(t)},createLocation:function(){var e=this.getNavigationModel();return e.createLocation.apply(e,arguments)},getSelection:function(){return this.getSelectable().getSelectedRecord()},setSelection:function(e){return this.getSelectable().setSelectedRecord(e)},generateSelectorFunctions:function(){var e=this.getRenderTarget(),t=this.bodyElement;this.eventDelegate=this.itemSelector=function(n){return n&&(n.parentNode===t.dom||n.parentNode===e.dom)}},bindStore:function(e){this._trueStore=e,this.dataRange=e.createActiveRange()},clearMask:function(){this.setMasked(!1),this.autoMask=!1},clearPressedCls:function(e,t){var n=t.record,r=t.child;this.clearPressedTimer(),n&&r&&(r.isWidget?r.element:ei.Z.fly(r)).removeCls(this.pressedCls),this.fireChildEvent(e,t)},clearPressedTimer:function(){var e=this.pressedTimeout;e&&(ei.Z.undefer(e),delete this.pressedTimeout)},doAddPressedCls:function(e){(e=this.itemFromRecord(e))&&(e=e.isWidget?e.element:ei.Z.fly(e)).addCls(this.pressedCls)},doClear:function(){this.syncEmptyState()},doChildTouchStart:function(e){var t=this,n=e.record,r=t.getItemButtonMode(),i=t.getPressedDelay();t.clearPressedTimer(),n&&(0<i?t.pressedTimeout=ei.Z.defer(t.doAddPressedCls,i,t,[n]):t.doAddPressedCls(n),r&&(t.lastPressedLocation=e,ei.Z.GlobalEvents.setPressedComponent(t,e)))},onRelease:function(){this.lastPressedLocation&&this.clearPressedCls("release",this.lastPressedLocation),this.lastPressedLocation=null},ensureVisiblePlan:function(e,t){var n,r=this.store;return e.record?(e=(t=ei.Z.apply({},e)).record,delete t.record):t=ei.Z.apply({},t),e.isEntity?n=r.indexOf(e):"number"==typeof e&&(n=e,e=r.getAt(e)),t.record=e,t.recordIndex=n,t.animation=t.animation||t.animate,t.async=!!t.animation,t.steps=[],n<0||n>=r.getCount()?t.promise=ei.Z.Deferred.getCachedRejected():(!this.dataRange.isVirtualRange||e||!n&&0!==n||(t.async=!0),t.steps.push("ensureVisibleFocus","ensureVisibleSelect","ensureVisiblePrep")),t},ensureVisibleFocus:function(e){var t,n;e.focus&&(!(n=(t=this).isGrid)||"column"in e||(e.column=0),e.async?e.promise=e.promise.then((function(r){return t.getNavigationModel().setLocation(n?e:e.record),r})):t.getNavigationModel().setLocation(n?e:e.record))},ensureVisiblePrep:function(e){function t(){return delete i.goto,n?i.goto(n[0],n[1]).then((function(){if(e.record=r.store.getAt(e.recordIndex),!e.record)throw new Error("Unable to get record")})):ei.Z.Promise.resolve()}var n,r=this,i=r.dataRange,o=e.async?(i.goto=function(e,t){n?(n[0]=e,n[1]=t):n=[e,t]},(o=r.ensureVisibleScroll(e)).then((function(e){return t().then((function(){return e}))}),(function(e){throw t(),e}))):r.ensureVisibleScroll(e);e.promise=o},ensureVisibleScroll:function(e){var t=e.item||(e.item=this.itemFromRecord(e.recIndex));return this.getScrollable().ensureVisible(t.el,{animation:e.animation})},ensureVisibleSelect:function(e){var t,n,r;e.select&&(n=(t=this).getSelectable(),e.async?e.promise=e.promise.then((function(i){return e.column?(r=t.createLocation(e),n.selectCells(r,r)):n.select(e.record),i})):e.column?(r=t.createLocation(e),n.selectCells(r,r)):n.select(e.record))},filterScrollDockStart:function(e){return"start"===(e=e.scrollDock)||"top"===e},filterScrollDockEnd:function(e){return"end"===(e=e.scrollDock)||"bottom"===e},findTailItem:function(e){for(var t=e?this.innerItems:this.items.items,n=-1,r=null,i=t.length;0<i--&&"end"===t[i].scrollDock;)r=t[n=i];return e?r:n},fireChildEvent:function(e,t){var n=this,r="item"+e,i=(e="child"+e,n.hasListeners);i[e]&&n.fireEvent(e,n,t),i[r]&&t.record&&n.fireEvent(r,n,t.viewIndex,t.item,t.record,t.event)},getEmptyTextCmp:function(){var e=this,t=e.emptyTextCmp;return t||(e.emptyTextCmp=t=e.add(e.createEmptyText(e.getEmptyText()))),t},getRecordIndexFromPoint:function(e,t){return(e=this.getItemFromPoint(e,t))?this.mapToRecordIndex(e):-1},getItemFromPoint:function(e,t){var n=(r=this.getScrollable()).getPosition(),r=r.getSize(),i=this.getScrollerTarget().getXY();return this.getItemFromPagePoint(Math.max(Math.min(e,r.x),0)+i[0]-n.x,Math.max(Math.min(t,r.y),0)+i[1]-n.y)},getItemFromPagePoint:function(e,t){for(var n,r,i=this.getFastItems(),o=i.length,a=new ei.Z.util.Point(e,t),s=null,l=0;l<o;l++)if((r=(n=i[l]).isWidget?n.element:ei.Z.fly(n)).getRegion().contains(a)){s=n.isWidget?n:ei.Z.get(r);break}return s},handleBeforeLoad:function(){var e=this.getLoadingText();e&&(this.autoMask=!0,this.setMasked({xtype:"loadmask",message:e})),this.hideEmptyText()},hideEmptyText:function(){var e=this.emptyTextCmp;e&&e.hide()},indexModifiedFields:function(e){return e},itemAs:function(e,t){return"number"==typeof e?e=null:e&&("cmp"===t?e.isWidget||(e=ei.Z.getCmp(e.id)):(e=e.isWidget?e.el:e)&&(e.isElement?"dom"===t&&(e=e.dom):"el"===t&&(e=ei.Z.fly(e)))),e},itemFromRecord:function(e){return-1<(e=e.isEntity?this.store.indexOf(e):e)&&this.dataItems[e]||null},onContainerTrigger:function(e){e.target===this.element.dom&&this.getDeselectOnContainerClick()&&this.store&&this.getSelectable().deselectAll()},runRefresh:function(){var e=this,t=e.store,n=e.getScrollToTopOnRefresh(),r=!n&&e.getScrollable(),i=r&&r.getMaxPosition().y;e.syncEmptyState(),!t||e.isConfiguring||!t.isTreeStore&&t.hasPendingLoad()||(e.fireEventedAction("refresh",[e],"doRefresh",e,[n]),r&&r.getMaxPosition().y<i&&r.refresh())},saveFocusState:function(){var e,t,n,r,i=this,o=i.getNavigationModel(),a=o.location;return a?(t=a.record,e=a.viewIndex,function(){(n=i.getFastItems().length)&&(r=(r=t?i.mapToItem(t):r)||i.mapToItem(Math.min(e||0,n-1)),o.setLocation(null),o.setLocation(r))}):ei.Z.emptyFn},setItemHidden:function(e,t){t?e.$hidden||(e.hide(),e.$hidden=!0):e.$hidden&&(e.$hidden=!1,e.show())},setItemSelection:function(e,t){var n,r,i,o=this,a=(e=ei.Z.Array.from(e)).length,s=o.pressedCls,l=o.selectedCls,u=s;if(t?i=l:u=[s,l],!o.isConfiguring&&!o.destroyed)for(n=0;n<a;n++)r=e[n],(r=o.itemFromRecord(r))&&((r=r.isWidget?r.element:ei.Z.fly(r)).removeCls(u),i&&r.addCls(i))},shouldRippleItem:function(e,t){return!(!this.getDisableSelection()&&this.isItemSelected(e))&&this.mixins.itemrippler.shouldRippleItem.call(this,e,t)},syncEmptyState:function(){var e=this,t=e.store,n=!t||!t.getCount()&&e.getEmptyText(),r=e.emptyTextCmp;return n?!e.hasLoadedStore&&e.getDeferEmptyText()||t&&t.hasPendingLoad()||(r=r||e.getEmptyTextCmp()).show():r&&r.hide(),e.setEmptyState(n),n},toggleChildrenTabbability:function(e){var t=this.getRenderTarget();e?t.restoreTabbableState({skipSelf:!0}):t.saveTabbableState({skipSelf:!0,includeSaved:!1})},toggleHoverCls:function(e){var t=this.mouseOverItem;t&&!t.destroyed&&t.toggleCls(this.hoveredCls,e)},_onChildEvent:function(e,t){var n=this.lastPressedLocation;return(t=this.createLocation(t)).child&&(t.pressing=!(!n||n.child!==t.child),this[e](t)),t},_onChildTouchStart:function(e){(e=(e=this._onChildEvent("onChildTouchStart",e).child)&&(e.element||ei.Z.get(e)))&&e.on("touchmove","_onChildTouchMove",this)},_onChildTouchMove:function(e){this._onChildEvent("onChildTouchMove",e)},_onChildTouchEnd:function(e){(e=(e=this._onChildEvent("onChildTouchEnd",e).child)&&(e.element||ei.Z.get(e)))&&e.un("touchmove","_onChildTouchMove",this)},_onChildTouchCancel:function(e){(e=(e=this._onChildEvent("onChildTouchCancel",e).child)&&(e.element||ei.Z.get(e)))&&e.un("touchmove","_onChildTouchMove",this)},_onChildTap:function(e){e.getTarget("."+ei.Z.baseCSSPrefix+"item-no-tap",this.element)||this._onChildEvent("onChildTap",e)},_onChildTapCancel:function(e){this._onChildEvent("onChildTapCancel",e)},_onChildContextMenu:function(e){this._onChildEvent("onChildContextMenu",e)},_onChildLongPress:function(e){this._onChildEvent("onChildLongPress",e)},_onChildTapHold:function(e){this._onChildEvent("onChildTapHold",e)},_onChildSingleTap:function(e){this._onChildEvent("onChildSingleTap",e)},_onChildDoubleTap:function(e){this._onChildEvent("onChildDoubleTap",e)},_onChildSwipe:function(e){this._onChildEvent("onChildSwipe",e)},_onChildMouseOver:function(e){var t=e.getRelatedTarget(this.itemSelector);e.getTarget(this.itemSelector)!==t&&this._onChildEvent("onChildMouseOver",e)},_onChildMouseOut:function(e){e.getRelatedTarget(this.itemSelector)===e.getTarget(this.itemSelector)&&e.getRelatedTarget(this.eventDelegate)||this._onChildEvent("onChildMouseOut",e)},_onContainerTouchStart:function(e){var t;e.getTarget(this.scrollbarSelector)?(e.preventDefault(),t=!0):e.getTarget(this.itemSelector)||(e.preventDefault(),this.bodyElement.getClientRegion().contains(e.getPoint())||(t=!0)),t&&(this.getNavigationModel().lastLocation="scrollbar")},setupChildEvent:ei.Z.privateFn,updateEmptyState:function(e){for(var t,n,r,i,o=this.items.items,a=0;a<o.length;++a){if((n=i=!1)===(t=(r=o[a]).showInEmptyState))n=!(i=!e);else if(t)if("function"==typeof t){if(n=!(i=r.showInEmptyState(e)),null==i)continue}else n=!(i=e);n?r.isInner?this.setItemHidden(r,!0):r.hide():i&&(r.isInner?this.setItemHidden(r,!1):r.show())}},applyNavigationModel:function(e){return e&&ei.Z.Factory.navmodel(ei.Z.apply({view:this},e="string"==typeof e?{type:e}:e))},updateNavigationModel:function(e,t){ei.Z.destroy(t)},getUseComponents:function(){return this.isComponentDataView}}}),ei.Z.define("GRUI.dataview.GenericItem",{mixinId:"dataviewitem",isDataViewItem:!0,config:{innerCls:null,contentCls:null,recordIndex:null},updateRecordIndex:function(e){this.el.dom.setAttribute("data-recordindex",e)},getDataview:function(){return this.parent},updateInnerCls:function(e,t){this.innerElement.replaceCls(t,e)},updateContentCls:function(e,t){this.getInnerHtmlElement().replaceCls(t,e)},privates:{$dirty:!1,dirtyCls:ei.Z.baseCSSPrefix+"dirty",augmentToolHandler:function(e,t){var n=this;t[1]={event:t.pop(),item:n,list:n.parent,record:n.getRecord(),tool:t[1]}},handleEmptyText:function(e){var t;return e||(t=this.parent)&&t.getEmptyItemText&&(e=t.getEmptyItemText()),e},syncDirty:function(e){var t=this;(e=!!e&&e.dirty)!==t.$dirty&&(t.toggleCls(t.dirtyCls,e),t.$dirty=e)}}}),ei.Z.define("GRUI.dataview.DataItem",(function(e){return{extend:"GRUI.Container",alternateClassName:"GRUI.dataview.component.DataItem",xtype:"dataitem",mixins:["GRUI.dataview.GenericItem"],config:{itemCls:null,dataMap:{cached:!0,$value:null}},html:"\xa0",classCls:ei.Z.baseCSSPrefix+"dataitem",inheritUi:!0,autoSize:null,defaultType:"component",referenceHolder:!0,template:[{reference:"bodyElement",cls:ei.Z.baseCSSPrefix+"body-el",uiCls:"body-el",children:[{reference:"innerElement",cls:ei.Z.baseCSSPrefix+"inner-el",uiCls:"inner-el"}]}],updateItemCls:function(e,t){this.el.replaceCls(t,e)},updateRecord:function(t){var n,r,i=this;i.destroying||((r=i.getViewModel())&&r.setData({record:t}),r=i.getDataMap(),n=i.getTpl(),r&&e.executeDataMap(t,i,r),i.syncDirty(t),!n&&r&&!i.hasListeners.updatedata||(r=i.parent.gatherData(t),n&&i.updateData(r),i.hasListeners.updatedata&&i.fireEvent("updatedata",i,r)))},updateHtml:function(e,t){this.callParent2(this,"GRUI.Container","null","updateHtml",this.updateHtml,arguments)},privates:{applyDataMap:function(t){return e.parseDataMap(t)},getRenderTarget:function(){return this.innerElement},statics:{assignDataToItem:function(e,t,n,r){var i,o,a,s,l,u,c=ei.Z.Config.map;for(s in n)if(t[l=r?s:(l=c[s])&&l.names.set]){for(u=e,o=0,a=(i=n[s]).length;u&&o<a;++o)u=u.interpret(i[o]);t[l](o<a?null:u)}},executeDataMap:function(t,n,r){var i,o,a,s;for(i in r)(s=r[i])&&(o=!1,((a="#"===i?n:n.lookup(i))||("function"==typeof n[i]&&(a=n[i](),o=!0),a))&&e.assignDataToItem(t,a,s,o))},parseDataMap:function(e){var t,n,r,i,o={};for(r in e)for(i in o[r]=t={},n=e[r])t[i]=n[i].split(".");return o}}}}})),ei.Z.define("GRUI.dataview.Component",{extend:"GRUI.dataview.Abstract",xtype:"componentdataview",requires:["GRUI.dataview.DataItem"],isComponentDataView:!0,config:{itemInnerCls:null,itemConfig:{xtype:"dataitem"},itemContentCls:null,itemDataMap:null,maxItemCache:20,striped:null,itemCount:0},firstCls:ei.Z.baseCSSPrefix+"first",lastCls:ei.Z.baseCSSPrefix+"last",oddCls:ei.Z.baseCSSPrefix+"odd",beforeInitialize:function(e){this.itemCache={max:0,unused:[]},this.callParent2(this,"GRUI.dataview.Abstract","null","beforeInitialize",this.beforeInitialize,arguments)},isFirstItem:function(e){return e===this.getFirstItem()},isFirstDataItem:function(e){return e===this.getFirstDataItem()},isLastItem:function(e){return e===this.getLastItem()},isLastDataItem:function(e){return e===this.getLastDataItem()},doDestroy:function(){ei.Z.destroy(this.itemCache.unused,this.dataRange),this.callParent2(this,"GRUI.dataview.Abstract","null","doDestroy",this.doDestroy,arguments)},onRender:function(){var e=this,t=e.getItemConfig(),n=t.viewModel;n&&(e.hasItemVm=!0,t.viewModel=ei.Z.applyIf({scheduler:null},n),e.lookupViewModel()||e.setViewModel(!0)),this.callParent2(this,"GRUI.dataview.Abstract","null","onRender",this.onRender,arguments)},getViewItems:function(){return this.getInnerItems().slice()},onStoreAdd:function(e,t,n){var r=this;this.callParent2(this,"GRUI.dataview.Abstract","null","onStoreAdd",this.onStoreAdd,arguments),r.setItemCount(e.getCount()),r.syncItemRange(r.getStoreChangeSyncIndex(n))},onStoreRemove:function(e,t,n){var r,i=this,o=t.length,a=i.dataItems.splice(n,o),s=i.getItemCount();if(this.callParent2(this,"GRUI.dataview.Abstract","null","onStoreRemove",this.onStoreRemove,arguments),a.length){for(r=o;0<r--;)i.removeDataItem(a[r]);i.setItemCount(s-o),i.syncItemRange(i.getStoreChangeSyncIndex(n))}},updateItemInnerCls:function(e){if(!this.isConfiguring)for(var t,n=this.dataItems,r=n.length,i=0;i<r;i++)(t=n[i]).setInnerCls&&t.setInnerCls(e)},applyItemConfig:function(e,t){var n;return e=e||{},!t||e.xtype||e.xclass||(n=t.xtype,t=t.xclass,(n||t)&&((e=ei.Z.apply({},e))[t?"xclass":"xtype"]=t||n)),e},updateItemConfig:function(){this.isConfiguring||(this.clearItems(),this.refresh())},updateItemContentCls:function(e){if(!this.isConfiguring)for(var t,n=this.dataItems,r=n.length,i=0;i<r;i++)(t=n[i]).setContentCls&&t.setContentCls(e)},applyItemDataMap:function(e){return ei.Z.dataview.DataItem.parseDataMap(e)},updateMaxItemCache:function(e){this.itemCache.max=e},updateStriped:function(e){var t,n,r,i=this,o=i.dataItems,a=i.oddCls;if(i.striped=!!e,!i.isConfiguring)for(t=0;t<o.length;++t)n=o[t].el,r=e?+n.dom.getAttribute("data-recordindex"):0,n.toggleCls(a,r%2)},privates:{dataRange:null,infinite:!1,striped:!1,_itemChangeHandlers:["changeItemRecordIndex","changeItemRecord","changeItemIsFirst","changeItemIsLast"],acquireItem:function(e,t){var n,r=this,i=null;return"number"==typeof e&&(i=e,e=null),e||(e=r.getItemConfig(),t=r.getItemsFocusable()),(n=r.itemCache.unused.pop())?(n.removeCls(r._cachedRemoveClasses),r.addDataItem(n,i)):(n=r.createDataItem(e),e=(n=r.addDataItem(n,i)).element,t&&(n.getFocusEl()||e).setTabIndex(-1),e.dom.setAttribute("data-viewid",r.id)),n},addDataItem:function(e,t){var n=this;return e=(t=null===t?n.findTailItem(!1):t)<0?n.add(e):n.insert(t,e),n.dataItems.push(e),e},changeItem:function(e,t){var n,r=this,i=t+((i=(s=r.store).currentPage)?(i-1)*s.pageSize:0),o=r.dataItems,a=(o=e<0?o.length+e:e,e=r.dataRange.records[t],r.getItemForRecord(o,e,t)),s=s.getCount(),l=r._itemChangeHandlers,u={isFirst:!t,isLast:t===s-1,item:a,itemIndex:o,record:e,recordIndex:t,datasetIndex:i};for(u.afterEl=u.beforeEl=u.itemEl=s=a.renderElement,u.itemClasses=s.getClassMap(!1),u.isFirstChanged=a.isFirst!==u.isFirst,u.isLastChanged=a.isLast!==u.isLast,n=0;n<l.length;++n)r[l[n]](u);return s.setClassMap(u.itemClasses,!0),u},changeItemIsFirst:function(e){if(e.isFirstChanged){var t,n,r=this.firstCls,i=e.item,o=e.itemClasses,a=this.scrollDockedItems;if(i.isFirst=e.isFirst){if(o[r]=1,a&&!this.infinite)for(n=(a=a.start.items).length,t=0;t<n;++t)a[t].renderElement.insertBefore(e.beforeEl)}else delete o[r]}},changeItemIsLast:function(e){if(e.isLastChanged){var t,n,r=e.item,i=e.itemClasses,o=this.lastCls,a=this.scrollDockedItems;if(r.isLast=e.isLast){if(i[o]=1,a&&!this.infinite)for(n=(a=a.end.items).length,t=0;t<n;++t)a[t].renderElement.insertAfter(e.afterEl)}else delete i[o]}},changeItemRecord:function(e){this.syncItemRecord(e)},changeItemRecordIndex:function(e){var t=e.item,n=e.recordIndex,r=e.itemClasses,i=this.oddCls;t.$datasetIndex=e.datasetIndex,t.isDataViewItem?t.getRecordIndex()!==n&&t.setRecordIndex(n):t.el.dom.setAttribute("data-recordindex",n),this.striped&&e.recordIndex%2?r[i]=1:delete r[i]},clearItemCaches:function(){var e=this.itemCache.unused;ei.Z.destroy(e),e.length=0},clearItems:function(){for(var e=this.dataItems,t=e.length,n=this.itemCache.unused,r=0;r<t;++r)this.removeDataItem(e[r],!0);ei.Z.destroy(n),e.length=n.length=0,this.setItemCount(0)},createDataItem:function(e){var t=this,n={xtype:t.getDefaultType(),tpl:t.getItemTpl(),$dataItem:"record"},r=t.getItemInnerCls();return r&&(n.innerCls=r),(r=t.getItemContentCls())&&(n.contentCls=r),(n=ei.Z.apply(n,e||t.getItemConfig())).cls=[n.cls,t.getMarkDirty()?t.markDirtyCls:"",t.getItemCls()].join(" "),n},doClear:function(){this.setItemCount(0),this.callParent2(this,"GRUI.dataview.Abstract","null","doClear",this.doClear,arguments)},doRefresh:function(e){var t=this,n=t.dataRange.records.length,r=t.getScrollable();++t.refreshCounter,r&&e&&r.scrollTo(0,0),n?(e=t.saveFocusState(),t.hideEmptyText(),t.setItemCount(n),t.syncItemRange(),t.hasSelection()&&t.setItemSelection(t.getSelections(),!0),e()):t.doClear()},getCacheForItem:function(){return this.itemCache},getFastItems:function(){return this.getInnerItems()},getItemForRecord:function(e){return this.dataItems[e]},getStoreChangeSyncIndex:function(e){return e},removeCachedItem:function(e,t,n,r){var i=!1;return(t=!t&&n&&n.unused)&&t.length<n.max?(r?this.setItemHidden(e,!0):this.remove(e,!1),t.push(e)):(e.destroy(),i=!0),i},removeDataItem:function(e,t){return this.removeCachedItem(e,t,!t&&this.getCacheForItem(e))},syncItemRange:function(e,t){var n,r=this.store.getCount();for(null==t&&(t=r),n=e||0;n<t;++n)this.changeItem(n,n)},syncItemRecord:function(e,t){var n=e.item,r=e&&e.itemClasses,i=n.getRecord(),o=t||e.record,a=this.getItemDataMap(),s=n.el,l=n.getViewModel(),u=this.selectedCls;i===o?t||(n.isRecordRefreshable?n.refresh(e):n.updateRecord(o,i)):(this.getSelectable().isRowSelected(o)?r?r[u]=!0:s.addCls(u):r?delete r[u]:s.removeCls(u),n.setRecord(o),n.el.dom.setAttribute("data-recordid",o.internalId),n.isDragging&&(n.draggingRecordId===o.id?r[n.dragMarkerCls]=!0:delete r[n.dragMarkerCls])),a&&ei.Z.dataview.DataItem.executeDataMap(o,n,a),l&&l.setData({record:e.record})},traverseItem:function(e,t){var n=this.innerItems,r=null,i=e;return e&&(e.isElement&&(i=ei.Z.getCmp(e.id)),-1<(e=n.indexOf(i))&&(r=n[e+t]||null)),r},updateItemCount:function(e){var t,n,r=this,i=r.dataItems;if(i.length<e)for(t=r.getItemConfig(),n=r.getItemsFocusable();i.length<e;)r.acquireItem(t,n);for(;i.length>e;)r.removeDataItem(i.pop())}}},(function(e){(e=e.prototype)._cachedRemoveClasses=[e.pressedCls,e.selectedCls]})),ei.Z.define("GRUI.dataview.GroupStore",{extend:"GRUI.data.ChainedStore",isGroupStore:!0,syncSourceGrouping:!0,getRootSource:function(){for(var e=this.source;e&&e.getSource;)e=e.getSource();return e},getTotalCount:function(){return this.getRootSource().getTotalCount()},load:function(e){var t=this.getRootSource();if(t)return t.load.apply(t,arguments)},loadPage:function(e,t){var n=this.getRootSource();if(this.currentPage=e,n)return n.loadPage.apply(n,arguments)},sync:function(e){var t=this.getRootSource();return t.sync.apply(t,arguments)},erase:function(e){var t=this.getRootSource();return t.erase.apply(t,arguments)},nextPage:function(e){this.loadPage(this.currentPage+1,e)},previousPage:function(e){this.loadPage(this.currentPage-1,e)},setGrouper:function(e){var t=this.getSource();t&&e!==t.getGrouper()&&(t.setGrouper(e),e=t.getGrouper()),this.callParent2(this,"GRUI.data.ChainedStore","null","setGrouper",this.setGrouper,arguments),this.refreshFromSource()},constructDataCollection:function(){var e=this,t=this.callParent2(this,"GRUI.data.ChainedStore","null","constructDataCollection",this.constructDataCollection,arguments);return t.transformItems=function(n){return e.transformItems(t,n)},t},createFiltersCollection:function(){return this.getSource().getFilters()},refreshFromSource:function(){var e=this.getData(),t=this.list,n=t.getScrollToTopOnRefresh();t.setScrollToTopOnRefresh(!1),e.onCollectionRefresh(e.getSource()),t.setScrollToTopOnRefresh(n)},transformItems:function(e,t){var n,r,i,o,a,s,l,u,c=t.length,d=this.list,f=d.isGrouping()&&d.getCollapsible(),h=t,p={},g=this.getSource(),m=g.getModel(),v=f&&g.getGrouper().getProperty();if(f)for(s=e.getSource().getGroups(),u=f.getCollapsed(),i=0;i<c;++i)a=t[i],l=s.getItemGroup(a),((o=d.groupFrom(r=l.getGroupKey()))?o.collapsed:u)?(n=n||(h=t.slice(0,i)),p[r]||((o=l.placeholderRec)||(l.placeholderRec=o=new m,o.data[v]=o.$groupKey=r,o.$groupValue=l.getGroupValue(),o.$collapsedGroupPlaceholder=!0,o.$srcGroup=l),p[r]=o,n.push(o))):n&&n.push(a);return h},updateSource:function(e,t){var n=this;e&&(n.list.store=n),t&&!t.destroyed&&t.getAutoDestroy()&&t.destroy(),this.callParent2(this,"GRUI.data.ChainedStore","null","updateSource",this.updateSource,arguments),e&&!n.destroying&&n.getSorters().setSource(e.getSorters())}}),ei.Z.define("GRUI.dataview.Pinnable",{mixinId:"dataviewpinnable",isDataViewPinnable:!0,config:{pinned:null},pinnedCls:ei.Z.baseCSSPrefix+"pinned",updatePinned:function(e){var t=(r=this).el,n=r.pinnedCls,r=r._pinnedClsMap,i=t.getClassMap(!1);delete i[r.top],delete i[r.bottom],e?(i[n]=!0,(n=r[e])&&(i[n]=!0)):delete i[n],t.setClassMap(i,!0)},_pinnedClsMap:{top:ei.Z.baseCSSPrefix+"pinned-top",bottom:ei.Z.baseCSSPrefix+"pinned-bottom"}}),ei.Z.define("GRUI.dataview.ItemHeader",{extend:"GRUI.Component",xtype:"itemheader",mixins:["GRUI.mixin.Toolable","GRUI.dataview.Pinnable"],isItemHeader:!0,config:{group:null,contentWidth:null},html:"\xa0",classCls:ei.Z.baseCSSPrefix+"itemheader",inheritUi:!0,toolDefaults:{ui:"itemheader"},template:[{reference:"bodyElement",cls:ei.Z.baseCSSPrefix+"body-el",uiCls:"body-el"}],setGroup:function(e){var t=this,n=t._group;return t._group=e,t.updateGroup(e,n),t},updateGroup:function(e,t){var n=this;t&&e!==t&&t.getHeader()===n&&t.setHeader(null),e&&(e.setHeader(n),t=n.getRefOwner(),e=n.reactComponent||t&&t.getConfig().groupHeader,(t=n.getGroupHeaderTplData()).field=t.groupField,t.value=t.groupValue,n.renderReactComponent(e,n.getInnerHtmlElement().dom,t))},getScrollerTarget:function(){return this.el},doDestroy:function(){var e=this;setTimeout((function(){e.rootComponent&&e.rootComponent.unmount()}),0),this.mixins.toolable.doDestroy.call(this),this.callParent2(this,"GRUI.Component","null","doDestroy",this.doDestroy,arguments)},privates:{augmentToolHandler:function(e,t){var n=t[1]={event:t.pop(),group:this.getGroup(),itemHeader:t[0],tool:t[1]};t[0]=n.list=this.parent},getGroupHeaderTplData:function(e){var t=this.getGroup(),n=this.parent,r=t&&t.data;return(t=r&&{name:r.getGroupKey(),group:t,groupField:n.getStore().getGrouper().getProperty(),children:r.items,count:r.length})&&(t.value=r.items[0].data[t.groupField]),e||(t.html=ei.Z.htmlEncode(t.name)),t.groupValue=t.value,t},getList:function(){return this.parent},onToggleCollapse:function(){this.getGroup().toggleCollapsed()},updateContentWidth:function(e){var t=this._toolDockWrap||this.bodyElement;t&&t.setWidth(e||null)}}}),ei.Z.define("GRUI.dataview.ListCollapser",{isListCollapser:!0,config:{collapsed:null,collapseToolText:"Collapse this group",expandToolText:"Expand this group",footer:!1,tool:{xtype:"tool",type:"collapse",handler:"up.onToggleCollapse",itemId:"groupCollapser",weight:900,zone:"end"}},collapsedCls:ei.Z.baseCSSPrefix+"group-collapsed",list:null,constructor:function(e){this.initConfig(e)},privates:{isRecordRendered:function(e){var t=this.list,n=t.groupFrom(e);return!(n&&n.collapsed)&&t.isRecordRendered(e)}}}),ei.Z.define("GRUI.dataview.ListGroup",{requires:["GRUI.data.Group"],$configPrefixed:!1,config:{collapsed:null,collapsible:null,header:null},data:null,list:null,beginIndex:-1,endIndex:-1,nextGroup:null,previousGroup:null,constructor:function(e){this.initConfig(e)},collapse:function(){this.toggleCollapsed(!0)},expand:function(){this.toggleCollapsed(!1)},getCollapseTool:function(){var e=this.peekHeader();return e&&e.lookupTool("groupCollapser")},isAttached:function(){var e=this,t=e.data,n=e.list,r=(r=n.store.getGroups()).get(t.getGroupKey());return ei.Z.getExpando(r,n.expandoKey)===e},toggleCollapsed:function(e){var t=this,n=t.list;!1!==t.getCollapsible()&&t.isAttached()&&(null==e&&(e=!t.getCollapsed()),!1!==n.fireEvent("beforegroup"+(e?"collapse":"expand"),n,t)&&t.setCollapsed(e))},applyCollapsed:function(e){return!!e},updateCollapsed:function(e,t){var n=this,r=n.list,i=r.getCollapsible(),o=n.getCollapseTool(),a=n.peekHeader();n.isAttached()&&(o&&(o.setType(e?"expand":"collapse"),o.setTooltip(e?i.getExpandToolText():i.getCollapseToolText())),a&&a.el.toggleCls(i.collapsedCls,e),e!==!!t&&r.syncGroupCollapse(n,e))},updateHeader:function(e){var t,n,r;e&&(n=(t=this).list.getCollapsible(),r=t.getCollapsed(),n&&(t.getCollapseTool()||e.addTool(n.getTool()),r===!!r?t.updateCollapsed(r,r):t.setCollapsed(!!r)))},peekHeader:function(){var e=this,t=e.getHeader();return!t||!t.destroying&&e.isAttached()||e.setHeader(t=null),t}},(function(e){var t=e.prototype;ei.Z.each(["contains","containsAll","containsKey","each","eachKey","find","findBy","findIndex","findIndexBy","first","last","get","getAt","getByKey","getCount","getRange","getValues","indexOf","indexOfKey","getSummaryRecord"],(function(e){t[e]=function(){var t=this.data;return t&&t[e].apply(t,arguments)}}))})),ei.Z.define("GRUI.dataview.Disclosable",{mixinId:"disclosable",isListItem:!0,toolDefaults:{ui:"listitem"},toolAnchorName:"innerElement",getDisclosure:function(){return this.lookupTool("disclosure")},privates:{invokeDisclosure:function(e,t,n){var r=this.parent;if("disclosure"===e.type&&!t&&r&&r.onItemDisclosureTap)return r.onItemDisclosureTap(this,n),!0},syncDisclosure:function(e){var t=this.getDisclosure(),n=this.parent;t&&t.setHidden(n.shouldHideDisclosure(e))}}}),ei.Z.define("GRUI.dataview.SimpleListItem",{extend:"GRUI.Component",alternateClassName:"GRUI.dataview.component.SimpleListItem",xtype:"simplelistitem",mixins:["GRUI.dataview.Disclosable","GRUI.mixin.Toolable","GRUI.dataview.GenericItem","GRUI.dataview.Pinnable"],classCls:ei.Z.baseCSSPrefix+"listitem",inheritUi:!0,html:"\xa0",template:[{reference:"bodyElement",cls:ei.Z.baseCSSPrefix+"body-el",uiCls:"body-el",children:[{reference:"innerElement",cls:ei.Z.baseCSSPrefix+"inner-el",uiCls:"inner-el"}]}],doDestroy:function(){this.mixins.toolable.doDestroy.call(this),this.callParent2(this,"GRUI.Component","null","doDestroy",this.doDestroy,arguments)},handleFocusEvent:ei.Z.emptyFn,updateRecord:function(e){var t,n=this;n.destroying||n.destroyed||(t=(t=n.parent)&&t.gatherData(e),n.updateData(t),n.syncDisclosure(e))},updateHtml:function(e,t){this.callParent2(this,"GRUI.Component","null","updateHtml",this.updateHtml,arguments)},privates:{getRenderTarget:function(){return this.innerElement},invokeToolHandler:function(e,t,n,r,i){return!this.invokeDisclosure(e,t,i)&&e.invokeToolHandler(e,t,n,r,i)}}}),ei.Z.define("GRUI.dataview.ListItemPlaceholder",{extend:"GRUI.dataview.SimpleListItem",xtype:"listitemplaceholder",isListItemPlaceholder:!0,config:{group:null},html:"",cls:ei.Z.baseCSSPrefix+"listitem-placeholder"}),ei.Z.define("GRUI.dataview.List",{extend:"GRUI.dataview.Component",alternateClassName:"GRUI.List",xtype:"list",isList:!0,requires:["GRUI.dataview.GroupStore","GRUI.dataview.ItemHeader","GRUI.dataview.ListCollapser","GRUI.dataview.ListGroup","GRUI.dataview.SimpleListItem"],mixins:["GRUI.mixin.Bufferable"],config:{bufferSize:20,collapseDefaults:{cached:!0,$value:{xclass:"GRUI.dataview.ListCollapser"}},collapsible:{lazy:!0,$value:!0},disclosureProperty:"disclosure",grouped:!1,groupFooter:{cached:!0,$value:null},groupHeader:{cached:!0,$value:{xtype:"itemheader"}},groupPlaceholder:{cached:!0,$value:{xtype:"listitemplaceholder"}},indexBar:null,infinite:null,minimumBufferDistance:5,onItemDisclosure:{$value:null,merge:function(e,t,n){return"string"===(n=e&&n&&n.$isClass&&typeof e)||"function"===n?{handler:e,scope:"self"}:e}},pinFooters:!1,pinHeaders:!0,pinnedFooter:{lazy:!0,$value:null},pinnedHeader:{lazy:!0,$value:{xtype:"itemheader"}},preventSelectionOnDisclose:!0,preventSelectionOnTool:!0,hideRowLines:null,useSimpleItems:null,variableHeights:null,grouping:null,horizontalOverflow:{evented:!0,$value:null},innerCtHeight:null,innerWidth:null,pinnedFooterHeight:null,pinnedHeaderHeight:null,topRenderedIndex:null,verticalOverflow:null,visibleHeight:null,visibleLeft:null,visibleTop:null,visibleWidth:null},bufferableMethods:{syncVerticalOverflow:1},classCls:ei.Z.baseCSSPrefix+"list",itemConfig:{xtype:"simplelistitem"},maintainChildNodes:!1,placeholderHeight:null,rowHeight:0,scrollable:{x:!1,y:!0},storeEventListeners:{groupchange:"onStoreGroupChange",totalcountchange:"onStoreTotalCountChange"},template:[{reference:"bodyElement",cls:ei.Z.baseCSSPrefix+"body-el",uiCls:"body-el",children:[{reference:"outerCt",className:ei.Z.baseCSSPrefix+"list-outer-ct",children:[{reference:"innerCt",className:ei.Z.baseCSSPrefix+"list-inner-ct"}]}]}],beforeInitialize:function(e){var t=this;t.getInfinite()||t.innerCt.on("resize","onInnerCtResize",t),t.expandoKey="list-"+t.$iid,t.gapMap={},t.itemTranslationMethod||(t.itemTranslationMethod=ei.Z.supports.TranslateYCausesHorizontalScroll?"cssposition":"csstransform"),t.groupingInfo={header:{config:t.getGroupHeader(),creator:"createGroupHeader",name:"$header",offset:0,max:0,unused:[]},footer:{config:t.getGroupFooter(),creator:"createGroupFooter",name:"$footer",offset:1,max:0,unused:[]},placeholder:{max:0,unused:[]}},t.bodyElement.on({resize:"onBodyResize",scope:t}),t.selfPartner=[t],t.stickyItems=[],t.stickyItemsByRecordId={},this.callParent2(this,"GRUI.dataview.Component","null","beforeInitialize",this.beforeInitialize,arguments)},doDestroy:function(){var e=this,t=e.groupingInfo,n=ei.Z.Viewport;e.infinite&&ei.Z.os.is.iOS&&n&&n.un("orientationchange","onOrientationChange",e),ei.Z.destroy(e.resyncListener,t.header.unused,t.footer.unused,t.placeholder.unused),this.callParent2(this,"GRUI.dataview.Component","null","doDestroy",this.doDestroy,arguments)},createIndexBar:function(e){return ei.Z.apply({xtype:"indexbar",$initParent:this,parent:this,hidden:!0},e)},createPinnedFooter:function(e){return(e=this.createPinnedHeaderFooter(e)).bottom=0,e.pinned="bottom",e},createPinnedHeader:function(e){var t=this.getGroupHeader();return(e=this.createPinnedHeaderFooter(e)).top=0,e.pinned="top",!e.tpl&&t.tpl&&(e.tpl=t.tpl),"tools"in e||(t=t&&t.tools)&&(e.tools=t),e},groupFrom:function(e){var t,n,r=this,i=r.isGrouping()&&r.store,o=r.expandoKey,a=null;return i&&(n=i.getGroups(),e.isGroup?e=e.getGroupKey():e.isModel&&(e=n.getGrouper().getGroupString(e)),(t=n.get(e))&&!(a=ei.Z.getExpando(t,o))&&(a={data:(n=i.isGroupStore?i.getSource().getGroups():n).get(e),list:r},(i=r.getCollapsible())&&(a.collapsed=i.getCollapsed()),a=new ei.Z.dataview.ListGroup(a),ei.Z.setExpando(t,o,a))),a},isGrouping:function(){var e=this,t=!(!(t=e.getGrouped()&&e.store)||!t.getGrouper());return e.setGrouping(t),t},isRecordRendered:function(e){var t=this,n=t.renderInfo;return!t.infinite||(e=e.isEntity?t.store.indexOf(e):e)>=n.indexTop&&e<n.indexBottom},mapToViewIndex:function(e){return this.infinite&&"number"==typeof e&&(e-=this.renderInfo.indexTop),this.callParent2(this,"GRUI.dataview.Component","null","mapToViewIndex",this.mapToViewIndex,arguments)},scrollToRecord:function(e,t){return this.ensureVisible({record:e,animation:t})},shouldSelectItem:function(e){var t,n=this,r=!this.callParent2(this,"GRUI.dataview.Component","null","shouldSelectItem",this.shouldSelectItem,arguments);return r||(t=(t=e.getTarget(n.toolSelector))&&n.el.contains(t)&&ei.Z.Component.from(t))&&null==(r=t.preventSelection)&&(r="disclosure"===t.type?n.getPreventSelectionOnDisclose():n.getPreventSelectionOnTool()),!r},onBodyResize:function(e,t){var n=this,r=t.height;(t=t.width)===n.getVisibleWidth()?n.setVisibleHeight(r):(n.suspendSync=!0,n.setVisibleHeight(n.outerCt.measure("h")),n.suspendSync=!1,n.setVisibleWidth(t),n.refreshScrollerSize())},onItemAdd:function(e,t){var n=this;return n.infinite&&(e.$dataItem&&n.variableHeights&&e.on("resize","onDataItemResize",n),e.isInner&&e.setTranslatable({type:n.itemTranslationMethod})),this.callParent2(this,"GRUI.dataview.Component","null","onItemAdd",this.onItemAdd,arguments)},onItemRemove:function(e,t,n){var r=e.$height,i=e.scrollDock;this.callParent2(this,"GRUI.dataview.Component","null","onItemRemove",this.onItemRemove,arguments),i&&r&&(ei.Z.Array.remove(this.scrollDockedItems[i].items,e),this.adjustScrollDockHeight(i,-r))},onStoreAdd:function(e,t,n){var r=this;r.syncEmptyState(),r.infinite?r.getVisibleHeight()&&(r.refreshGrouping(),r.resyncOnPaint()):(r.refreshGrouping(),r.setItemCount(e.getCount()),r.syncItemRange(Math.max(0,n-1)))},onStoreRemove:function(e,t,n){var r=this,i=r.getNavigationModel();r.infinite?(r.getVisibleHeight()&&(r.refreshGrouping(),r.resyncOnPaint()),r.syncEmptyState()):(r.refreshGrouping(),this.callParent2(this,"GRUI.dataview.Component","null","onStoreRemove",this.onStoreRemove,arguments)),i.location&&(r=i.location.refresh(),i.setLocation(r))},onStoreUpdate:function(e,t,n,r,i){var o,a,s,l,u,c=this,d=c.allPartners;if(i&&i.groupChanged&&c.isGrouping())c.refreshGrouping(),c.syncRows();else if(this.callParent2(this,"GRUI.dataview.Component","null","onStoreUpdate",this.onStoreUpdate,arguments),c.partnerManager&&c.isActivePartner()&&null!==(s=c.measurePartners(t)))for(a=0,o=d.length;a<o;++a)u=(l=d[a]).itemFromRecord(t),l.handleItemResize(u,s,!0)},applyCollapsible:function(e){var t=null,n=this.store;return!e||n&&n.isVirtualStore||(t=ei.Z.clone(this.getCollapseDefaults()),(t=!0!==e?ei.Z.merge(t,e):t).list=this,t=ei.Z.create(t)),t},updateCollapsible:function(e){},updateGrouped:function(){this.initialized&&(this.refreshGrouping(),this.syncRows())},updateGroupFooter:function(e){var t=this.groupingInfo;t&&(t.footer.config=e)},applyGroupHeader:function(e){var t=e&&e.tpl;return"function"==typeof t&&null!=t?ei.Z.apply({},e):(null!=t&&((e=ei.Z.apply({},e)).tpl=ei.Z.XTemplate.get(t)),e)},updateGroupHeader:function(e){var t=this.groupingInfo;t&&(t.header.config=e)},updateGrouping:function(e){this.toggleCls(this.groupedCls,e)},applyIndexBar:function(e,t){return ei.Z.updateWidget(t,e,this,"createIndexBar")},updateIndexBar:function(e){e&&this.add(e)},applyItemConfig:function(e,t){var n,r,i=this.callParent2(this,"GRUI.dataview.Component","null","applyItemConfig",this.applyItemConfig,arguments);return this.getOnItemDisclosure()&&(n={disclosure:!0},r=i.tools,i.tools=r?ei.Z.merge(n,r):n),i},updateInfinite:function(e){var t=this,n=ei.Z.Viewport;(t.infinite=e)?(t.setItemHidden=t.setItemHiddenInfinite,t.el.addCls(t.infiniteCls),t.innerCt.addCls(t.infiniteCls),t.renderInfo={atBegin:!1,atEnd:!1,bottom:0,height:0,top:0,indexBottom:0,indexTop:0},t.getScrollable().on({scope:t,offsetychange:"onOffsetChange",offsetxchange:"onOffsetChange",scroll:"onContainerScroll",scrollstart:"onContainerScrollStart",scrollend:"onContainerScrollEnd"}),ei.Z.os.is.iOS&&(t.on("navigate",t.onListNavigate,t),n&&n.on("orientationchange","onOrientationChange",t))):ei.Z.os.is.iOS&&n&&n.un("orientationchange","onOrientationChange",t)},onListNavigate:function(e,t,n){var r=t.sourceElement.nodeName;!n||"INPUT"!==r&&"TEXTAREA"!==r||e.scrollToRecord(t.record)},updateMaxItemCache:function(e,t){var n=this.groupingInfo;this.callParent2(this,"GRUI.dataview.Component","null","updateMaxItemCache",this.updateMaxItemCache,arguments),n.header.max=n.footer.max=n.placeholder.max=e},updatePinFooters:function(e){var t=this,n=t.pinnedFooter;t.pinFooters=e,t.isConfiguring||(t.setupFooterPinning()?t.infinite&&t.syncPinnedFooter():n&&t.setItemHidden(n,!0))},applyPinnedFooter:function(e,t){var n=this;e=ei.Z.updateWidget(t,e,n,"createPinnedFooter");return t||((t=n.getIndexBar())?(t=n.indexOf(t),n.insert(t,e)):n.add(e),n.setItemHidden(e,!0)),e},updatePinnedFooter:function(e){this.pinnedFooter=e,this.setupFooterPinning(),e&&(e.$pinnedFooter=!0)},updatePinHeaders:function(e){var t=this,n=t.pinnedHeader;t.pinHeaders=e,t.isConfiguring||(t.setupHeaderPinning()?t.infinite&&t.syncPinnedHeader():n&&t.setItemHidden(n,!0))},applyPinnedHeader:function(e,t){return e=ei.Z.updateWidget(t,e,this,"createPinnedHeader"),!t&&e&&(this.insert(0,e),this.setItemHidden(e,!0)),e},updatePinnedHeader:function(e){this.pinnedHeader=e,this.setupHeaderPinning(),e&&(e.$pinnedHeader=!0)},updateHideRowLines:function(e){this.innerCt.toggleCls(this.noRowLinesCls,!0===e)},createScrollable:function(e){var t=this.callParent2(this,"GRUI.dataview.Component","null","createScrollable",this.createScrollable,arguments);return this.infinite?ei.Z.apply({type:"virtual",innerElement:this.innerCt},t):t},applyStore:function(e,t){var n=this,r=this.callParent2(this,"GRUI.dataview.Component","null","applyStore",this.applyStore,arguments);return r&&(r.isVirtualStore?n.setCollapsible(null):n.isGrouping()&&n.getCollapsible()&&(n.store=r=new ei.Z.dataview.GroupStore({autoDestroy:!0,list:n,source:r}))),r},updateUseSimpleItems:function(e){var t=this.getItemConfig();t=ei.Z.applyIf({xtype:e?"simplelistitem":"listitem"},t);this.setItemConfig(t)},updateVariableHeights:function(e){this.variableHeights=e},privates:{toolSelector:"."+ei.Z.baseCSSPrefix+"tool:not(."+ei.Z.baseCSSPrefix+"passive)",infiniteCls:ei.Z.baseCSSPrefix+"infinite",groupFirstCls:ei.Z.baseCSSPrefix+"group-first",groupLastCls:ei.Z.baseCSSPrefix+"group-last",groupedCls:ei.Z.baseCSSPrefix+"grouped",hasPinnedFooterCls:ei.Z.baseCSSPrefix+"has-pinned-footer",hasPinnedHeaderCls:ei.Z.baseCSSPrefix+"has-pinned-header",noRowLinesCls:ei.Z.baseCSSPrefix+"no-row-lines",stickyCls:ei.Z.baseCSSPrefix+"sticky",tombstoneCls:ei.Z.baseCSSPrefix+"tombstone",blockingScroll:0,gapAfter:0,groupingInfo:null,heightSyncs:0,manageHorizontalOverflow:!0,pinnedFooter:null,pinnedHeader:null,lastAdjustedPosition:null,measuredHeight:null,renderInfo:null,suspendSync:!1,onContainerScroll:function(e,t,n){var r,i,o=this;o.blockingScroll||(r=o._visibleLeft,i=o.infinite?o.lastAdjustedPosition:o._visibleTop,o.setVisibleLeft(t),o.setVisibleTop(n),o.fireEvent("scroll",o,{x:t,y:n,oldX:r,oldY:i}))},onContainerScrollStart:function(){var e=this,t=e.partnerManager;e.variableHeights&&t&&t.claimActivePartner(e),e.toggleHoverCls(!1),e.doHover=!1},onContainerScrollEnd:function(){var e=this,t=e.partnerManager;e.doHover=!0,e.toggleHoverCls(!0),e.variableHeights&&t&&t.releaseActivePartner(e)},onDataItemResize:function(e,t,n,r,i){null===r&&null===i||this.handleItemResize(e,n)},onItemDisclosureTap:function(e,t){var n=e.getRecord(),r=this.store.indexOf(n);this.fireAction("disclose",[this,n,e,r,t],"doDisclose")},onOrientationChange:function(){this.rowHeight=0},_onChildTouchCancel:function(e){e.getTarget(this.toolSelector)||this.callParent2(this,"GRUI.dataview.Component","null","_onChildTouchCancel",this._onChildTouchCancel,arguments)},_onChildTouchEnd:function(e){e.getTarget(this.toolSelector)||this.callParent2(this,"GRUI.dataview.Component","null","_onChildTouchEnd",this._onChildTouchEnd,arguments)},_onChildTouchStart:function(e){e.getTarget(this.toolSelector)||this.callParent2(this,"GRUI.dataview.Component","null","_onChildTouchStart",this._onChildTouchStart,arguments)},onOffsetChange:function(e){for(var t=this.dataItems,n=t.length,r=0;r<n;r++)e.syncOffsets(t[r].getTranslatable())},onRangeAvailable:function(e,t,n){this.syncRows()},onScrollDockItemHide:function(e){var t=e.$height;t&&(this.adjustScrollDockHeight(e.scrollDock,-t),e.$height=null)},onScrollDockItemResize:function(e,t,n){var r=e.$height;r!==n&&(e.$height=n,this.adjustScrollDockHeight(e.scrollDock,n-r))},onScrollDockItemShow:function(e){var t=e.$height;null==t&&(t=this.measureItem(e)),this.adjustScrollDockHeight(e.scrollDock,t)},onStoreGroupChange:function(e){var t;this.initialized&&(e.isGroupStore||(t=e.getAutoDestroy(),e.setAutoDestroy(!1),this.setStore(e),e.setAutoDestroy(t)),this.refreshGrouping(),this.syncRows())},onStoreTotalCountChange:function(){this.getVisibleHeight()&&this.syncRowsToHeight(),this.syncEmptyState()},addDataItem:function(e,t){var n=this.callParent2(this,"GRUI.dataview.Component","null","addDataItem",this.addDataItem,arguments);return this.infinite&&this.getScrollable().syncOffsets(n.getTranslatable()),n.$height=this.variableHeights?null:this.rowHeight,n},addScrollDockedItem:function(e){this.infinite&&(e.on({hide:"onScrollDockItemHide",resize:"onScrollDockItemResize",show:"onScrollDockItemShow",scope:this}),e.$height=null,this.setItemHidden(e,!0))},adjustContentTop:function(e){for(var t,n,r,i,o=this,a=this.dataItems,s=a.length,l=o.renderInfo,u=o.scrollDockedItems,c=0;c<s;++c)t=a[c],o.setItemPosition(t,t.$position+e),(n=t.$header)&&o.setItemPosition(n,n.$position+e),(n=t.$footer)&&o.setItemPosition(n,n.$position+e),t.$y0+=e,t.$y1+=e;if(u){if(l.atBegin)for(s=(i=u.start.items).length,c=0;c<s;++c)(r=i[c]).getHidden()||o.setItemPosition(r,r.$position+e);if(l.atEnd)for(s=(i=u.end.items).length,c=0;c<s;++c)(r=i[c]).getHidden()||o.setItemPosition(r,r.$position+e)}},adjustScrollDockHeight:function(e,t){var n=this.scrollDockedItems;(n=n&&n[e])&&(n.height+=t,this.resyncOnPaint())},adjustRenderedRows:function(e,t){var n=this,r=n.getBufferSize(),i=n.getMinimumBufferDistance(),o=(a=n.renderInfo).indexTop,a=a.indexBottom,s=n.dataItems.length,l=n.getVisibleHeight(),u=n.store.getCount(),c=n.recordIndexByPosition(e);l=n.recordIndexByPosition(e+l);if(t<e){if(i<=a-l)return}else if(i<=c-o)return;0<(t=Math.max(0,Math.min(c-(r>>>1),u-s))-o)&&t<s?n.rollDown(t):t<0&&-t<s?n.rollUp(-t):(t||n.refreshing)&&n.teleport(e)},bindStore:function(e){var t=this;e=new(e.getModel());t.dataRange=t.store.createActiveRange({prefetch:!0,callback:"onRangeAvailable",scope:t}),(t.tombstoneRec=e).tombstone=!0,t.getVisibleHeight()&&t.syncRowsToHeight()},bisectPosition:function(e){var t,n,r=this.dataItems,i=0,o=r.length-1;if((e=e||0)<r[0].$y0)return-1;for(;i<=o;){if(e===(n=r[t=i+o>>>1].$y0))return t;n<e?i=1+t:o=t-1}return i&&e<r[i-1].$y1&&--i,i},blockAndScrollTo:function(e,t){var n=this,r=n.getScrollable();return r.getPosition().y!==e&&(r.on({single:!0,priority:-1e3,scroll:function(){--n.blockingScroll}}),++n.blockingScroll),r.scrollTo(null,e,t)},changeHeaderFooter:function(e,t,n,r){var i=this,o=n.name,a=e[o]||null,s=i.infinite;(t=(r=r&&n.config)&&n.map[t])?(a||((a=n.unused.pop())||(a=i[n.creator]()),a=i.reorderItem(a,e,n.offset)),a.$dataRow=e,a.setGroup(t)):a&&(!i.removeGroupItem(a,n,!r)&&s&&(i.setItemHidden(a,!0),i.reorderItem(a)),a=null),e[o]=a},changeItem:function(e,t){var n=this.callParent2(this,"GRUI.dataview.Component","null","changeItem",this.changeItem,arguments),r=n.item;return this.infinite&&this.variableHeights&&(r.$height=null),n},changeItemGrouping:function(e){var t,n=this,r=n.isGrouping(),i=n.groupingInfo,o=e.item;e=e.recordIndex;n.changeHeaderFooter(o,e,i.header,r),r&&o.isListItemPlaceholder&&(t=n.getCollapsible())&&(r=t.getFooter()),n.changeHeaderFooter(o,e,i.footer,r)},changeItemIsFirst:function(e){if(e.isFirstChanged){var t,n,r=this.scrollDockedItems;if(this.callParent2(this,"GRUI.dataview.Component","null","changeItemIsFirst",this.changeItemIsFirst,arguments),r&&!e.isFirst&&this.infinite)for(n=(r=r.start.items).length,t=0;t<n;++t)this.setItemHidden(r[t],!0)}},changeItemIsLast:function(e){if(e.isLastChanged){var t,n,r=this.scrollDockedItems;if(this.callParent2(this,"GRUI.dataview.Component","null","changeItemIsLast",this.changeItemIsLast,arguments),r&&!e.isLast&&this.infinite)for(n=(r=r.end.items).length,t=0;t<n;++t)this.setItemHidden(r[t],!0)}},changeItemRecord:function(e){var t=e.itemClasses,n=this.tombstoneCls;e.record?(delete t[n],this.syncItemRecord(e)):(t[n]=1,this.syncItemRecord(e,this.tombstoneRec))},changeItemStuck:function(e){var t=e.item,n=e.record,r=n&&this.stickyItemsByRecordId[n.internalId]||null;t.$sticky?n!==t.getRecord()&&this.dislodgeItem(t,e,r):r&&(this.dislodgeItem(t,e,r),this.removeDataItem(t))},clearItemCaches:function(){var e,t,n;this.groupingInfo&&(e=(n=this.groupingInfo).header.unused,t=n.footer.unused,n=n.placeholder.unused,this.callParent2(this,"GRUI.dataview.Component","null","clearItemCaches",this.clearItemCaches,arguments),ei.Z.destroy(e,t,n),e.length=t.length=n.length=0)},constrainStickyItem:function(e){var t,n=this,r=n.pinnedFooter,i=n.pinnedHeader,o=!1,a=n.renderInfo,s=e.$recordIndex,l=n.measureItem(e,n),u=e.$sticky,c=u.pos,d=n.getVisibleTop(),f=(l=d+n.getVisibleHeight()-l,c);return u.floated?(n.setItemHidden(e,!1),null):(i&&(d+=n.measureItem(i)),r&&(l-=n.measureItem(r)),s<a.indexTop?(t=!0,c=d,o="top"):s>=a.indexBottom?(t=!0,c=l,o="bottom"):c<d?(c=d,o="top"):l<c&&(c=l,o="bottom"),u.autoPin?(f=c,e.isDataViewPinnable&&e.setPinned(o)):t&&n.setItemHidden(e,!0),f)},createGroupFooter:function(){var e=this.getGroupFooter();return(e=ei.Z.apply({$dataItem:"footer"},e="string"==typeof e?{xtype:e}:e)).$initParent=e.ownerCmp=e.list=this,e},createGroupHeader:function(){var e,n=this.getGroupHeader(),r=(r=this.getCollapsible())&&r.getTool();return t.isValidElement(n)&&(n={xtype:"itemheader",reactComponent:n}),(n=ei.Z.apply({$dataItem:"header"},n)).$initParent=n.ownerCmp=n.list=this,r&&(r=ei.Z.clone(r),!(e=n.tools)||ei.Z.isArray(e)?(n.tools=e=e?e.slice():[],e.push(r)):(n.tools=e=ei.Z.apply({},e),e[r.itemId]=r)),n},createGroupPlaceholder:function(){var e=this.getGroupPlaceholder();return((e=ei.Z.apply({$dataItem:"placeholder"},e="string"==typeof e?{xtype:e}:e)).$initParent=e.ownerCmp=e.list=this).variableHeights||(e.$height=this.placeholderHeight),e},createPinnedHeaderFooter:function(e){return ei.Z.merge({translatable:{type:"csstransform"},isPinnedItem:!0,list:this},e)},dislodgeItem:function(e,t,n){var r=this,i=r.dataItems,o=e.$sticky;return n?n.$sticky&&!n.$sticky.dislodged&&r.dislodgeItem(n,{itemIndex:i.indexOf(n)}):(n=r.acquireItem(r.indexOf(e)),i.pop()),(r.dataItems[t.itemIndex]=t.item=n).$footer=e.$footer,n.$header=e.$header,n.$position=null,e.$footer=e.$header=null,o&&(o.dislodged=!0),(o=n.$sticky)&&(o.dislodged=!1),n},doClear:function(){var e=this,t=(r=e.groupingInfo).header.unused,n=r.footer.unused,r=r.placeholder.unused;ei.Z.destroy(t,n,r),n.length=t.length=r.length=0,e.infinite?(e.setItemCount(0),e.lastAdjustedPosition=null,e.setVisibleTop(0),e.getScrollable().scrollTo(null,0),e.refreshScrollerSize(),e.syncEmptyState()):this.callParent2(this,"GRUI.dataview.Component","null","doClear",this.doClear,arguments)},doDisclose:function(e,t,n,r,i){var o,a=e.getOnItemDisclosure();a&&!0!==a&&(a.handler&&(o=a.scope,a=a.handler),ei.Z.callback(a,o,[t,n,r,i],0,e))},doRefresh:function(e){var t,n,r,i=this,o=i.getScrollable(),a=i.store;i.infinite?(n=++i.refreshCounter,i.refreshGrouping(),a.getCount()?(i.hideEmptyText(),1<n&&o&&(e?(n=i.saveFocusState(),i.blockAndScrollTo(0,!1),i.lastAdjustedPosition=null,i.refreshing=!0,i.syncRowsToHeight(!1),i.resetVisibleTop(),i.setVisibleTop(0),i.refreshing=!(t=!0),n()):r=o.getPosition().y)):i.dataItems.length&&!a.hasPendingLoad()&&i.doClear(),t||(i.resync(!0),null!=r&&r!==o.getPosition().y&&o.scrollTo(null,r))):(i.refreshGrouping(),this.callParent2(this,"GRUI.dataview.Component","null","doRefresh",this.doRefresh,arguments))},ensureVisibleScroll:function(e){var t=this,n=e.recordIndex,r=e.item||(e.item=t.itemFromRecord(n)),i=t.getScrollable();return r?i.ensureVisible(r.el,{align:e.align,animation:e.animation,highlight:e.highlight,x:!1}):(r=i.getSize(),i=Math.floor((r?r.y:0)*(n/t.store.getCount())),e.animation=!1,t.nextTeleportTopIndex=n,t.setVisibleTop(i),delete t.nextTeleportTopIndex,r=t.blockAndScrollTo(i,!1),e.item=t.itemFromRecord(n),r.then((function(){return t.destroyed||(e.item=t.itemFromRecord(n)),e})))},getCacheForItem:function(e){return e="record"===(e=e.$dataItem)?this.itemCache:this.groupingInfo[e]},getItemForRecord:function(e,t){var n,r,i=this,o=i.dataItems[e],a=t&&!!t.$collapsedGroupPlaceholder,s=i.groupingInfo.placeholder,l=o.el.dom;return a!==!!o.isListItemPlaceholder&&(n={itemIndex:e},a?((r=s.unused.pop())||(r=i.createGroupPlaceholder()),(r=i.insert(e,r)).setGroup(i.groupFrom(t)),l.parentNode.insertBefore(r.el.dom,l),i.dislodgeItem(o,n,r),i.removeDataItem(o),o=r):(r=o,o=i.dislodgeItem(r,n),l.parentNode.insertBefore(o.el.dom,l),i.removeGroupItem(r,s))),o},getItemFromPoint:function(e,t){var n,r=this;return r.infinite?(n=Math.max(0,Math.min(t,r.getScrollable().getSize().y)),n=r.recordIndexByPosition(n),r.dataItems[n-r.renderInfo.indexTop]):this.callParent2(this,"GRUI.dataview.Component","null","getItemFromPoint",this.getItemFromPoint,arguments)},getItemTop:function(e){return e=e.$header||e,this.infinite?e.$y0:this.getScrollable().getEnsureVisibleXY(e.element,{align:{y:"start?"}}).y},getPositionedItemTarget:function(e){return e&&"inner"===e.layer?this.callParent2(this,"GRUI.dataview.Component","null","getPositionedItemTarget",this.getPositionedItemTarget,arguments):this.bodyElement},getRecordIndexFromPoint:function(e,t){return this.infinite?this.recordIndexByPosition(Math.max(0,Math.min(t,this.getScrollable().getSize().y))):this.callParent2(this,"GRUI.dataview.Component","null","getRecordIndexFromPoint",this.getRecordIndexFromPoint,arguments)},getRenderPartners:function(){var e=this.allPartners;return e&&this.variableHeights?e:this.selfPartner},getRenderTarget:function(){return this.innerCt},getScrollableClientRegion:function(){return this.callParent2(this,"GRUI.dataview.Component","null","getScrollableClientRegion",this.getScrollableClientRegion,arguments).adjust(this.getPinnedHeaderHeight()||0,0,-(this.getPinnedFooterHeight()||0),0)},getScrollerTarget:function(){return this.outerCt},getStoreChangeSyncIndex:function(e){return this.isGrouping()?Math.max(0,e-1):e},handleItemResize:function(e,t,n){var r,i,o=this.dataItems,a=this.renderInfo,s=e.$dataRow||e;t+=e.el.getMargin("tb"),!n&&e.$height===t||(e.$height=t,-1<(n=o.indexOf(s))&&(e=a.indexTop&&a.indexBottom>=this.store.getCount()?(r=!0,i=n+1,s.$y1):(i=o.length-n,s.$y0),this.positionItems(e,r,i)))},isActivePartner:function(){return!this.variableHeights||!this.partnerManager||this.partnerManager.isActivePartner(this)},itemFromRecord:function(e){var t,n=this.store;return(t=n?this.infinite?(n=e.isEntity?n.indexOf(e):e,this.dataItems[n-this.renderInfo.indexTop]):this.callParent2(this,"GRUI.dataview.Component","null","itemFromRecord",this.itemFromRecord,arguments):t)||null},measureItem:function(e,t){var n,r=e.$height;return null==r&&(!this.variableHeights&&t&&(r=t.rowHeight)||(r=(n=e.el.measure("h"))+e.el.getMargin("tb"),t&&(t.rowHeight=r)),this.setItemHeight(e,r),e.$measured=n),r},measureItems:function(){var e,t,n,r,i,o,a,s,l=this,u=l.scrollDockedItems,c=l.dataItems,d=c.length,f=l.partnerManager&&l.isActivePartner(),h=l.hasItemVm,p=l.placeholderHeight;if(l.variableHeights)for(h&&l.lookupViewModel().notify();0<d--;)s=c[d],f?l.measurePartners(s):(null==s.$height&&(s.$height=l.measureItem(s)),(e=s.$header)&&null==e.$height&&(e.$height=l.measureItem(e)),(e=s.$footer)&&(e.$height=l.measureItem(e)));else if(d&&(!(o=l.rowHeight)||o<30||null===p))for(n=0;n<d;++n)(s=c[n]).isListItemPlaceholder?(null===p&&(s.$height=null,l.placeholderHeight=p=l.measureItem(s)),s.$height=p):(o||(s.$height=null,l.rowHeight=o=l.measureItem(s)),s.$height=o,s.$height<30&&(a=s.el.dom.offsetHeight,s.$height=a));if(u){for(t=0,d=(i=u.start.items).length;0<d--;)(r=i[d]).getHidden()||(t+=r.$height||l.measureItem(r));for(u.start.height=t,t=0,d=(i=u.end.items).length;0<d--;)(r=i[d]).getHidden()||(t+=r.$height||l.measureItem(r));u.end.height=t}},measurePartners:function(e,t){var n,r,i,o,a,s,l=this.allPartners,u=l.length,c=new Array(u),d=0,f=0,h=!0;for(e.isDataViewItem&&(e=e.getRecord()),this.hasItemVm&&!t&&this.lookupViewModel().notify(),a=0;a<u;++a)n=l[a].itemFromRecord(e),(c[a]=n).setMinHeight(null);for(a=0;a<u;++a)o=(n=c[a]).$height,delete n.$height,r=l[a].measureItem(n),i=n.$measured,s=s||o!==r,0===a&&(d=r,f=i),r!==d&&(h=!1,d<r&&(d=r,f=i));if(!h)for(a=0;a<u;++a)(n=c[a]).setMinHeight(f),l[a].setItemHeight(n,d);return s?f:null},onInnerCtResize:function(){this.syncVerticalOverflow()},positionItems:function(e,t,n){for(var r,i,o,a,s,l=this.renderInfo,u=this.dataItems,c=u.length,d=this.scrollDockedItems,f=this.getRenderPartners(),h=f.length,p=0;p<h;++p)s=f[p],t?s.positionItemsBottomUp(e,n):s.positionItemsTopDown(e,n);for(c?(l.top=u[0].$y0,l.bottom=u[c-1].$y1):l.top=l.bottom=d&&d.start.height||0,l.height=l.bottom-l.top,p=0;p<h;++p){if(s=f[p],l.atEnd&&(a=l.bottom,a+=s.gapAfter,d=s.scrollDockedItems))for(c=(o=d.end.items).length,r=0;r<c;++r)(i=o[r]).getHidden()||(a+=s.setItemPosition(i,a));s.refreshScrollerSize()}},positionItemsBottomUp:function(e,t){for(var n,r,i,o,a,s,l=this,u=(d=l.groupingInfo).footer,c=d.header,d=l.renderInfo,f=l.dataItems,h=l.scrollDockedItems,p=e,g=d.indexTop,m=t;0<m--;)a=p,(n=(o=f[m]).$footer)&&(p-=r=null==(r=n.$height)?l.measureItem(n,u):r,l.setItemPosition(n,p)),p-=o.$height,o.$sticky?(o.$sticky.pos=p,null!==(s=l.constrainStickyItem(o))&&l.setItemPosition(o,s)):l.setItemPosition(o,p),(n=o.$header)&&(p-=r=null==(r=n.$height)?l.measureItem(n,c):r,l.setItemPosition(n,p)),p-=l.gapMap[m+g]||0,o.$y0=p,o.$y1=a;if(d.atBegin&&h)for(m=(h=h.start.items).length;0<m--;)(i=h[m]).getHidden()||(p-=i.$height,l.setItemPosition(i,p));(p<0||0<p&&0===d.indexTop)&&l.adjustContentTop(-p)},positionItemsTopDown:function(e,t){var n,r,i,o,a,s,l=this,u=l.groupingInfo,c=u.footer,d=u.header,f=l.dataItems,h=f.length,p=l.scrollDockedItems,g=l.renderInfo.indexTop,m=e;if(t=t||h,l.renderInfo.atBegin&&t===h&&p)for(p=p.start.items,r=m=0;r<p.length;++r)(i=p[r]).getHidden()||(m+=l.setItemPosition(i,m));for(r=h-t;r<h;++r)o=f[r],a=m,m+=l.gapMap[g+r]||0,(n=o.$header)&&(null==n.$height&&l.measureItem(n,d),m+=l.setItemPosition(n,m)),o.$sticky?(o.$sticky.pos=m,null!==(s=l.constrainStickyItem(o))&&(m+=l.setItemPosition(o,s))):m+=l.setItemPosition(o,m),(n=o.$footer)&&(null==n.$height&&l.measureItem(n,c),m+=l.setItemPosition(n,m)),o.$y0=a,o.$y1=m},refreshGrouping:function(){var e,t=this,n=t.isGrouping();t.infinite&&((e=n&&t.getPinFooters()?t.getPinnedFooter():t.pinnedFooter)&&t.setItemHidden(e,!0),(e=n&&t.getPinHeaders()?t.getPinnedHeader():t.pinnedHeader)&&t.setItemHidden(e,!0)),t.refreshGroupIndices(),t.syncIndexBar()},refreshGroupIndices:function(){var e,t,n,r,i,o,a,s=this.store,l=this.isGrouping()?s.getGroups():null,u=(c=this.groupingInfo).footer,c=c.header,d=l&&l.length,f=null;if(d){for(c.map=o={},c.indices=r=[],u.map=t={},u.indices=e=[],a=0;a<d;++a)n=this.groupFrom(i=l.getAt(a)),i=s.indexOf(i.first()),n.previousGroup=f,r.push(i),o[n.beginIndex=i]=n,f&&(f.nextGroup=n,e.push(i-1),t[(f.endIndex=i)-1]=f),f=n;n.nextGroup=null,n.endIndex=a=s.getCount(),e.push(--a),t[a]=n}else c.map=c.indices=u.map=u.indices=null},refreshScrollerSize:function(){var e,t,n,r=this;r.store&&r.infinite&&(r.syncContentTop(),e=r.renderInfo,t=r.scrollDockedItems,n=r.store.getCount(),n=e.bottom+(n-e.indexBottom)*r.rowHeight,(t=t&&t.end)&&(n+=t.height),r.getScrollable().setSize({x:null,y:n}),r.setVerticalOverflow(n>r.getVisibleHeight()),r.refreshPinnedAreas())},reorderItem:function(e,t,n){n=n||0;var r=this,i=r.innerItems,o=i.length,a=(n=null==t?o:t.isWidget?i.indexOf(t)+n:t,t=r.items,n<o?t.indexOf(i[n]):t.length);return e.isWidget&&r.infinite&&!r.maintainChildNodes&&e.parent===r?(t.insert(a,e),-1<(a=i.indexOf(e))&&(i.splice(a,1),a<n&&--n),n<o?i.splice(n,0,e):i.push(e)):e=r.insert(a,e),e},recordIndexByPosition:function(e){var t=this.renderInfo,n=t.top,r=t.bottom,i=t.indexTop;return n=e<n?Math.floor(e/n*i):e<r?i+this.bisectPosition(e):(e-=r,Math.min(t.indexBottom+Math.floor(e/this.rowHeight),this.store.getCount()-1))},removeDataItem:function(e,t){var n=e.$header,r=e.$footer,i=this.groupingInfo;return n&&this.removeGroupItem(n,i.header,t),r&&this.removeGroupItem(r,i.footer,t),e.$header=e.$footer=null,this.callParent2(this,"GRUI.dataview.Component","null","removeDataItem",this.removeDataItem,arguments)},removeGroupItem:function(e,t,n){return(n=this.removeCachedItem(e,n,t,this.infinite))||(e.$dataRow=null,e.setGroup&&e.setGroup(null)),n},resync:function(e){var t=this,n=t.outerCt.measure("h");t.resyncListener=null,n&&(n===t.getVisibleHeight()?t.syncRowsToHeight(e):t.setVisibleHeight(n))},resyncOnPaint:function(){this.whenVisible("resync",[!0])},rollDown:function(e){var t,n,r,i,o,a,s=this,l=s.dataItems,u=s.renderInfo,c=u.indexBottom,d=l[l.length-1],f=s.innerItems.indexOf(d)+1,h=s.getRenderPartners(),p=h.length;for(d.$footer&&++f,s.setTopRenderedIndex(u.indexTop+e),r=0;r<p;++r)for(l=(o=h[r]).dataItems,n=f,i=0;i<e;i++)a=l.shift(),l.push(a),t=(a.$header?1:0)+(a.$footer?1:0),n-=t-=((a=o.changeItem(-1,c+i).item).$header?1:0)+(a.$footer?1:0),(t=a.$header)&&o.reorderItem(t,n),o.reorderItem(a,n),(t=a.$footer)&&o.reorderItem(t,n);s.measureItems(),s.positionItems(u.bottom,!1,e)},rollUp:function(e){var t,n,r,i,o,a,s=this,l=s.dataItems,u=s.renderInfo,c=u.indexTop,d=l[0],f=s.innerItems.indexOf(d),h=s.getRenderPartners(),p=h.length;for(d.$header&&--f,s.setTopRenderedIndex(c-e),--c,r=0;r<p;++r)for(l=(o=h[r]).dataItems,n=f,i=0;i<e;i++)a=l.pop(),l.unshift(a),(t=(a=o.changeItem(0,c-i).item).$footer)&&o.reorderItem(t,n),o.reorderItem(a,n),(t=a.$header)&&o.reorderItem(t,n);s.measureItems(),s.positionItems(u.top,!0,e)},setGaps:function(e){var t=this;ei.Z.Object.equals(t.gapMap,e=e||{})||(t.gapMap=e,t.gapAfter=t.gapMap[t.store.getCount()]||0,t.syncRowsToHeight(!0))},setItemHiddenInfinite:function(e,t){t?e.$hidden||(e.$hidden=!0,e.$position=null,e.translate(0,-1e4)):e.$hidden=!1},setItemPosition:function(e,t){return e.$hidden&&this.setItemHidden(e,!1),e.$position!==t&&(e.$position=t,e.translate(null,t)),e.$height},setupFooterPinning:function(){return this.setupGroupPinning(this.getPinFooters(),this.pinnedFooter,this.hasPinnedFooterCls,"setPinnedFooterHeight")},setupGroupPinning:function(e,t,n,r){return(e=e&&!!t)?t.setScrollable({x:!1,y:!1}):this[r](0),this.el.toggleCls(n,e),e},setupHeaderPinning:function(){return this.setupGroupPinning(this.getPinHeaders(),this.pinnedHeader,this.hasPinnedHeaderCls,"setPinnedHeaderHeight")},shouldHideDisclosure:function(e){var t,n;return!(n=this.getOnItemDisclosure()?!(t=this.getDisclosureProperty())||!1!==e.data[t]:n)},stickItem:function(e,t){var n=this,r=e.$sticky,i=e.getRecord(),o=n.stickyCls,a=n.stickyItems,s=n.stickyItemsByRecordId;t?(r||(a.push(e),(s[i.internalId]=e).addCls(o),e.$sticky=r={pos:e.$position}),ei.Z.apply(r,t),null!==(t=n.constrainStickyItem(e))&&n.setItemPosition(e,t)):r&&(ei.Z.Array.remove(a,e),delete s[i.internalId],e.removeCls(o),e.$sticky=null,r.autoPin&&e.isDataViewPinnable&&e.setPinned(!1),r.floated&&delete e.$position,r.dislodged?n.removeDataItem(e):n.setItemPosition(e,r.pos))},syncContentTop:function(){var e=this,t=e.renderInfo,n=e.getVisibleTop(),r=e.getVisibleHeight(),i=e.getMinimumBufferDistance()*e.rowHeight;t.atEnd||0<=(n=n+r-(t.bottom-i))&&e.getScrollable().scrollBy(null,-n,!1)},syncGroupCollapse:function(e,t){this.store.refreshFromSource(),this.fireEvent(t?"groupcollapse":"groupexpand",this,e)},syncIndexBar:function(){var e=this.getIndexBar(),t=this.store;e&&e.setHidden(this.getEmptyState()||!t||!t.getGrouper())},syncPinnedFooter:function(e){var t,n,r,i,o=this,a=o.dataItems,s=a&&a.length,l=o.pinnedFooter,u=o.renderInfo,c=(s=o.pinFooters&&l&&s&&o.isGrouping(),l),d=(u=u.indexTop,o.scrollDockedItems);e=e||o.getVisibleTop(),s&&(s=o.getScrollable().getSize().y,(c=(e+=o.getVisibleHeight())<=o.renderInfo.top||e>=s-(d?d.end.height:0)-o.gapAfter)||(s=o.bisectPosition(e-1)+u,t=(i=o.groupingInfo.footer).indices,n=ei.Z.Number.binarySearch(t,s),l.setGroup(i.map[t[n]]),s===t[n]&&a[s-u].$y1===e?c=!0:n?(n=t[n-1])<u?r=0:(r=a[n-u].$y1,(i=o.gapMap[n+1]||0)&&!(c=e-r<i)&&(r+=i)):r=d?d.start.height:0,c||(s=o.measureItem(l),o.setItemPosition(l,r=(r=e-r)<s?s-r:0)))),c?o.setItemHidden(l,!0):l&&o.syncPinnedHorz(l)},syncPinnedHeader:function(e){var t,n,r,i=this,o=i.dataItems,a=o&&o.length,s=i.pinnedHeader,l=i.renderInfo,u=i.pinHeaders&&s&&a&&i.isGrouping(),c=s,d=l.indexTop,f=i.scrollDockedItems;e=e||i.getVisibleTop()||0,u&&!(c=f&&e<=f.start.height||(r=i.bisectPosition(e))<0||a<=r)&&((f=(u=i.groupingInfo.header).indices)[t=ei.Z.Number.binarySearch(f,r+=d)]!==r&&--t,r=f[t],s.setGroup(u.map[r]),d<=r&&(u=o[r-d],c=(r=i.gapMap[r]||0)?e-u.$y0<r:u.$y0===e),c||(++t<f.length?n=(t=f[t]-d)<a?o[t].$y0-e:0:c=(n=l.bottom-e)<=0,c||(r=i.measureItem(s),i.setItemPosition(s,(n=n&&n<r?n-r:0)||0)))),c?i.setItemHidden(s,!0):s&&i.syncPinnedHorz(s)},syncPinnedHorz:function(e){var t=this,n=e.getScrollable();e.el.setWidth(t.getScrollable().getClientSize().x),e.isItemHeader&&t.getHorizontalOverflow()&&e.setContentWidth(t.getInnerWidth()),t.getHorizontalOverflow()&&!1!==t.getScrollable().isPrimary&&n.scrollTo(t.getVisibleLeft(),null)},syncRows:function(e){var t,n,r,i,o,a,s,l,u,c,d=this,f=d.renderInfo,h=d.scrollDockedItems,p=d.getRenderPartners();if(d.infinite){if(d.isActivePartner()){if(o=d.getMaxHeight(),i=d.dataItems.length,r=f.indexTop,l=p.length,i)for(e?n=f.bottom:(n=f.top,!r&&h&&(n=h.start.height)),t=0;t<l;++t)for(u=0;u<i;++u)p[t].changeItem(u,r+u);for(d.measureItems(),d.positionItems(n,e,i),t=0;t<l;++t)(c=p[t]).pinnedHeader&&c.syncPinnedHeader(),c.pinnedFooter&&c.syncPinnedFooter(),c.stickyItems.length&&c.syncStickyItems(),o&&(s=c.innerCt,a=f.bottom+c.gapAfter,(h=c.scrollDockedItems)&&(a+=h.end.height),s=s.measure("h"),s=c.el.measure("h")-s+c.el.getBorderWidth("tb"),s=Math.min(o-s,a),c.setInnerCtHeight(s))}}else d.syncItemRange()},syncRowsToHeight:function(e){var t,n,r,i,o,a,s,l=this,u=l.getBufferSize(),c=l.infinite,d=l.getItemCount(),f=0<l.rowHeight&&l.rowHeight||24,h=!l.heightSyncs++,p=l.renderInfo,g=p&&p.indexBottom,m=l.store&&l.store.getCount(),v=l.getMaxHeight()||l.getVisibleHeight();if(l.isActivePartner()&&(r||l.store)){for(r=c?(r=Math.ceil(v/f)+u,Math.min(r,m)):m,o=(t=l.getRenderPartners()).length,i=0;i<o;++i)s=(a=t[i]).isActivePartner(),a.setItemCount(r),(h&&l.store.isVirtualStore||d!==r||m<g)&&(c&&s&&(n=Math.min(m-r,p.indexTop),(n=Math.max(0,n))===a.getTopRenderedIndex()?a.updateTopRenderedIndex(n):a.setTopRenderedIndex(n)),d||a.refreshGrouping(),(e=!1!==e)&&m<g&&s&&(p.top=p.indexTop*f));(e||h)&&l.syncRows()}},syncStickyItems:function(){for(var e,t,n=this.stickyItems,r=n.length,i=0;i<r;++i)null!==(t=this.constrainStickyItem(e=n[i]))&&this.setItemPosition(e,t)},doSyncVerticalOverflow:function(){var e=this.getScrollable();this.setVerticalOverflow(e.getSize().y>e.getClientSize().y)},resetVisibleTop:function(){this.lastAdjustedPosition=this._visibleTop=null},setItemHeight:function(e,t){e.$height=t,e.$pinnedFooter?this.setPinnedFooterHeight(t):e.$pinnedHeader&&this.setPinnedHeaderHeight(t)},teleport:function(e){var t,n,r=this,i=r.getScrollable().getSize(),o=r.renderInfo,a=r.dataItems.length,s=r.store.getCount(),l=(a=s-a,r.getBufferSize()),u=r.scrollDockedItems;(n=void 0!==(n=r.nextTeleportTopIndex)?n:Math.floor(e/i.y*s))<a?(l=Math.min(n,l>>>1),o.top=(n-=l)?Math.max(0,e-r.rowHeight*l):u?u.start.height:0):(t=!0,n=a,o.bottom=i.y-r.gapAfter,u&&(o.bottom-=u.end.height)),r.setTopRenderedIndex(n),r.syncRows(t)},toggleHoverCls:function(e){var t,n,r,i,o=this.mouseOverItem,a=this.hoveredCls,s=this.partners;if(this.callParent2(this,"GRUI.dataview.Component","null","toggleHoverCls",this.toggleHoverCls,arguments),s&&o)for(i=o.getRecord(),n=0,t=s.length;n<t;++n)(r=s[n].itemFromRecord(i))&&r.toggleCls(a,e)},setItemSelection:function(e,t){var n,r,i,o,a,s=this.partners||[];if(this.callParent2(this,"GRUI.dataview.Component","null","setItemSelection",this.setItemSelection,arguments),this.isActivePartner())for(r=0,n=e.length;r<n;r++)for(i=0,a=s.length;i<a;++i)o=s[i].getSelectable(),t?o.setSelectedRecord(e[r]):o.deselect(e[r],!0)},syncItemRecord:function(e,t){for(var n=this.partners||[],r=e.item.getRecord(),i=this.callParent2(this,"GRUI.dataview.Component","null","syncItemRecord",this.syncItemRecord,arguments),o=0,a=n.length;o<a;++o)if(n[o].getSelectable().isRowSelected(r)){this.getSelectable().setSelectedRecord(r);break}return i},traverseItem:function(e,t){var n,r=this.dataItems,i=this.renderInfo;return e&&this.infinite&&(t<0?e!==r[0]||e.isFirst||(n=i.indexTop):e!==r[r.length-1]||e.isLast||(n=i.indexBottom+1)),n?n-1:this.callParent2(this,"GRUI.dataview.Component","null","traverseItem",this.traverseItem,arguments)},updateEmptyState:function(e,t){this.callParent2(this,"GRUI.dataview.Component","null","updateEmptyState",this.updateEmptyState,arguments),this.syncIndexBar()},updateHorizontalOverflow:function(e){var t=this.getScrollable();this.manageHorizontalOverflow&&(t.setX(e),e||t.scrollTo(0,null))},updateInnerCtHeight:function(e){this.innerCt.setHeight(e)},updateInnerWidth:function(e){var t=this,n=t.innerCt,r=t.pinnedHeader,i=t.pinnedFooter,o=0;null==e?(n.setStyle("width",""),t.setHorizontalOverflow(!1)):(n.setStyle("width",e+"px"),null!=(n=t.getVisibleWidth())&&(t.getVerticalOverflow()&&(o=t.getScrollable().getScrollbarSize().width),t.setHorizontalOverflow(n<e+o))),t.refreshScrollerSize(),r&&t.syncPinnedHorz(r),i&&t.syncPinnedHorz(i)},updateItemCount:function(e,t){var n=this.infinite&&this.renderInfo;this.callParent2(this,"GRUI.dataview.Component","null","updateItemCount",this.updateItemCount,arguments),!e&&n&&(n.atBegin=n.atEnd=!0)},updatePinnedFooterHeight:function(e){this.destroyed||this.destroying||this.fireEvent("pinnedfooterheightchange",this,e)},updatePinnedHeaderHeight:function(e){this.destroyed||this.destroying||this.fireEvent("pinnedheaderheightchange",this,e)},updateTopRenderedIndex:function(e){var t=this.store,n=this.renderInfo,r=e+this.dataItems.length;(t.isLoaded()||t.getAutoLoad())&&(n.atBegin=!e,n.atEnd=r===t.getCount(),(n.indexTop=e)===(n.indexBottom=r)&&t.isVirtualStore&&(r=e+t.getPageSize(),null!==(n=t.getTotalCount())&&(r=Math.min(n,r))),this.dataRange.goto(e,r))},updateVerticalOverflow:function(e,t){var n,r,i,o=this,a=o.items.items,s=a.length;if(o.infinite){for(i=o.getScrollable().getScrollbarSize().reservedWidth,n=0;n<s;++n)(r=a[n]).isPinnedItem&&r.el.setStyle("width",i);o.syncPinnedHeader(),o.syncPinnedFooter(),null!=t&&e!==t&&o.updateVisibleWidth(o.bodyElement.getWidth())}o.fireEvent("verticaloverflowchange",o,e)},updateVisibleHeight:function(e,t){var n=this;n.infinite?n.store&&n.syncRowsToHeight():n.syncVerticalOverflow(),n.fireEvent("visibleheightchange",n,e,t)},updateVisibleLeft:function(){this.infinite&&!this.suspendSync&&this.refreshPinnedAreas()},updateVisibleTop:function(e,t){var n,r,i,o,a,s=this;if(s.isActivePartner()&&s.infinite)for(t=s.lastAdjustedPosition,(n=s.dataItems.length&&(null==t||Math.abs(e-t)>s.rowHeight))&&(s.lastAdjustedPosition=e,s.adjustRenderedRows(e,t)),i=0,r=(a=s.getRenderPartners()).length;i<r;++i)o=a[i],n&&(o.lastAdjustedPosition=e),o.refreshPinnedAreas(e)},updateVisibleWidth:function(e){var t=this.getInnerWidth(),n=0;null!=t&&(this.getVerticalOverflow()&&(n=this.getScrollable().getScrollbarSize().width),this.setHorizontalOverflow(e<t+n))},refreshPinnedAreas:function(e){this.syncPinnedHeader(e),this.syncPinnedFooter(e),this.stickyItems.length&&this.syncStickyItems()}}},(function(e){(e=(e=e.prototype)._itemChangeHandlers=e._itemChangeHandlers.slice()).unshift("changeItemStuck"),e.push("changeItemGrouping")})),ei.Z.define("GRUI.dataview.BoundListLocation",{extend:"GRUI.dataview.Location",next:function(e){for(var t=this.nextItem(e),n=t&&t.get();t&&(!n||!t.record);){if(t.equals(this))return;n=(t=t.nextItem(e))&&t.get()}return t},previous:function(e){for(var t=this.previousItem(e),n=t&&t.get();t&&(!n||!t.record);){if(t.equals(this))return;n=(t=t.previousItem(e))&&t.get()}return t}}),ei.Z.define("GRUI.dataview.BoundListNavigationModel",{extend:"GRUI.dataview.NavigationModel",alias:"navmodel.boundlist",requires:["GRUI.dataview.BoundListLocation"],config:{navigateOnSpace:!0},locationClass:"GRUI.dataview.BoundListLocation",privates:{getKeyNavCfg:function(e){var t=this;if(!1!==t.keyboard&&(e=(e.ownerField||e).getFocusEl()))return{target:e,eventName:"keydown",defaultEventAction:"stopEvent",esc:t.onKeyEsc,up:t.onKeyUp,down:t.onKeyDown,right:t.onKeyRight,left:t.onKeyLeft,pageDown:t.onKeyPageDown,pageUp:t.onKeyPageUp,home:t.onKeyHome,end:t.onKeyEnd,tab:t.onKeyTab,space:t.onKeySpace,enter:t.onKeyEnter,A:{ctrl:!0,handler:t.onSelectAllKeyPress},priority:1001,scope:t}},getViewListeners:function(e){var t=this.callParent2(this,"GRUI.dataview.NavigationModel","null","getViewListeners",this.getViewListeners,arguments);return t.childtouchstart="onChildTouchStart",t.childTap="onChildTap",t},doFocus:ei.Z.privateFn,handleLocationChange:function(e,t){var n=e.sourceElement,r=this.getView().ownerField;n&&r&&r.inputElement.dom.setAttribute("aria-activedescendant",n.id),this.callParent2(this,"GRUI.dataview.NavigationModel","null","handleLocationChange",this.handleLocationChange,arguments)},onChildTouchStart:function(e,t){"touch"!==(t=t.event).pointerType&&t.preventDefault()},onChildTap:function(e,t){var n=this,r=t.event;e.destroyed||("touch"===r.pointerType&&r.preventDefault(),e=n.createLocation(t.item),n.location&&n.location.equals(e)?n.onNavigate(r):n.setLocation(e,{event:t.event,animation:!0})),"touch"===r.pointerType&&r.stopEvent()},onChildTrigger:ei.Z.privateFn,onKeyLeft:function(){return!0},onKeyRight:function(){return!0},onKeySpace:function(e){return this.getNavigateOnSpace()&&(e.preventDefault(),this.onNavigate(e)),!0},onKeyEsc:function(){var e=this.getView(),t=e.ownerField;if(!t||!e.isVisible())return!0;t.collapse()},onKeyTab:function(e){var t=this.getView(),n=t.ownerField;return t.isVisible()&&(n.getSelectOnTab()&&this.selectHighlighted(e),n.collapse&&n.collapse()),!0},onKeyEnter:function(e){var t=(n=this.getView()).getSelectable(),n=n.ownerField;return e.stopEvent(),n.getMultiSelect&&n.getMultiSelect()||!t.isSelected(this.location.record)||!n.collapse?this.selectHighlighted(e):n.collapse(),e.fromBoundList=!0,n.fireEvent("specialkey",n,e),!1},onNavigate:function(e){var t=e&&(e.pointerType||this.getNavigateOnSpace()&&e.keyCode===e.SPACE),n=this.getView().getRefOwner();t&&(this.callParent2(this,"GRUI.dataview.NavigationModel","null","onNavigate",this.onNavigate,arguments),n&&n.maybeCollapse&&n.maybeCollapse(e))},selectHighlighted:function(e){var t,n=this,r=n.getView(),i=r.getStore(),o=r.getSelectable(),a=n.location;a&&r.getViewItems().length&&(!(t=a.record)||e.getKey()!==e.ENTER&&o.isSelected(t)||(o.selectWithEvent(t,e),r.getStore().contains(t)||(o=Math.min(a.recordIndex,i.getCount()-1),n.setLocation(i.getAt(o)))))}}}),ei.Z.define("GRUI.dataview.BoundList",{extend:"GRUI.dataview.List",xtype:"boundlist",requires:["GRUI.dataview.BoundListNavigationModel"],tabIndex:null,focusEl:null,focusable:!1,itemsFocusable:!1,navigationModel:{type:"boundlist"},itemConfig:{cls:ei.Z.baseCSSPrefix+"boundlistitem",tools:{selected:{zone:"start",passive:!0,cls:ei.Z.baseCSSPrefix+"selected-icon",iconCls:ei.Z.baseCSSPrefix+"fa fa-check"}}},onFocusEnter:ei.Z.emptyFn,onFocusLeave:ei.Z.emptyFn,afterShow:function(){this.callParent2(this,"GRUI.dataview.List","null","afterShow",this.afterShow,arguments),this.getNavigationModel().enable()},afterHide:function(e){var t=e.getNavigationModel();this.callParent2(this,"GRUI.dataview.List","null","afterHide",this.afterHide,arguments),t.setLocation(null),t.disable()},privates:{beforeSelectionRefresh:function(e,t){for(var n=e.length,r=0;r<n;)e[r].isEntered?(e.splice(r,1),n--):r++}}}),ei.Z.define("GRUI.dataview.DataView",{extend:"GRUI.dataview.Abstract",alternateClassName:"GRUI.DataView",xtype:"dataview",isElementDataView:!0,constructor:function(e){if(e&&e.useComponents)return new ei.Z.dataview.Component(e);this.callParent2(this,"GRUI.dataview.Abstract","null","constructor",this.constructor,arguments)},getViewItems:function(){return Array.prototype.slice.call(this.getFastItems())},onStoreAdd:function(e,t,n){this.callParent2(this,"GRUI.dataview.Abstract","null","onStoreAdd",this.onStoreAdd,arguments),this.renderItems(n,n+t.length)},onStoreRemove:function(e,t,n){this.removeItems(n,n+t.length)},getItemClass:function(e){return this.getItemCls()},privates:{dirtyCls:ei.Z.baseCSSPrefix+"dirty",changeItem:function(e){var t=this,n=t.dataItems[e],r=t.dataRange.records[e],i=t.store.getCount();t.syncItemRecord({isFirst:!e,isLast:e===i-1,item:n,record:r,recordIndex:e})},clearItems:function(){for(var e,t=this.dataItems;t.length;)e=t.pop(),ei.Z.fly(e).destroy()},createDataItem:function(e,t){var n=this,r=n.store,i=n.gatherData(t,e),o=n.getMarkDirty();r=(i=ei.Z.Element.create(n.getItemElementConfig(e,i,r))).dom;return o&&i.addCls(n.markDirtyCls),r.setAttribute("data-viewid",n.id),r.setAttribute("data-recordid",t.internalId),r.setAttribute("data-recordindex",e),i},doClear:function(){this.clearItems(),this.callParent2(this,"GRUI.dataview.Abstract","null","doClear",this.doClear,arguments)},resetSelection:function(e){this.setItemSelection(e,!1)},doRefresh:function(e){var t,n=this,r=n.dataRange.records,i=r.length,o=n.dataItems.length,a=n.getScrollable();if(a&&e&&a.scrollTo(0,0),++n.refreshCounter,i){for(e=n.saveFocusState(),n.hideEmptyText(),n.resetSelection(r),i<o?(n.removeItems(i,o),o=i):o<i&&n.renderItems(o,i),t=0;t<o;++t)n.changeItem(t);n.hasSelection()&&n.setItemSelection(n.getSelections(),!0),e()}else n.doClear()},getFastItems:function(){return this.getRenderTarget().dom.childNodes},getItemElementConfig:function(e,t,n){var r=this;e={cls:r.baseCls+"-item "+(r.getItemClass(t)||""),html:r.renderItemTpl(e,t,n)};return r.getItemsFocusable()&&(e.tabIndex=-1),e},removeItems:function(e,t){for(var n=this.dataItems.splice(e,t-e),r=0;r<n.length;++r)ei.Z.fly(n[r]).destroy()},renderItems:function(e,t){var n,r,i=this,o=i.dataItems,a=i.dataRange.records,s=i.getRenderTarget().dom,l=[e,0],u=i.dataItems[e]||null;for(a.length&&i.hideEmptyText(),u=u||(u=i.findTailItem(!0))&&u.el.dom,r=e;r<t;++r)l.push(n=i.createDataItem(r,a[r]).dom),s.insertBefore(n,u);o.splice.apply(o,l)},renderItemTpl:function(e,t,n){var r=this.getItemTpl(),i=n.getData().items;return t.xcount="number"==typeof t.xcount?t.xcount:n.getCount(),t.xindex="number"==typeof t.xindex?t.xindex:e,(n=null==(n=r.apply(t,i,e+1,i.length))?"":String(n))||this.getEmptyItemText()},syncItemRecord:function(e){var t=this,n=e.item,r=ei.Z.fly(n),i=e.record,o=t.store,a=(e=e?e.recordIndex:o.indexOf(i),t.gatherData(i,e));n.innerHTML=t.renderItemTpl(e,a,o),n.setAttribute("data-recordid",i.internalId),n.setAttribute("data-recordindex",e),r.toggleCls(t.dirtyCls,i.dirty),r.toggleCls(t.selectedCls,t.getSelectable().isRowSelected(i))},traverseItem:function(e,t){var n,r=this.getRenderTarget().dom.childNodes,i=null;return e&&(e.isElement?n=e.dom:e.isWidget&&(n=e.el.dom),-1<(e=Array.prototype.indexOf.call(r,n))&&(i=(i=r[e+t]||null)&&(ei.Z.getCmp(i.id)||i))),i}}}),ei.Z.define("GRUI.dataview.ListItem",{extend:"GRUI.dataview.DataItem",alternateClassName:"GRUI.dataview.component.ListItem",xtype:"listitem",requires:["GRUI.dataview.ItemHeader"],mixins:["GRUI.dataview.Disclosable","GRUI.mixin.Toolable","GRUI.dataview.Pinnable"],classCls:[ei.Z.baseCSSPrefix+"listitem",ei.Z.baseCSSPrefix+"container",ei.Z.baseCSSPrefix+"component"],classClsRoot:!0,inheritUi:!0,items:null,updateRecord:function(e){var t=this;t.destroying||t.destroyed||(this.callParent2(this,"GRUI.dataview.DataItem","null","updateRecord",this.updateRecord,arguments),t.syncDisclosure(e))},doDestroy:function(){this.mixins.toolable.doDestroy.call(this),this.callParent2(this,"GRUI.dataview.DataItem","null","doDestroy",this.doDestroy,arguments)},privates:{invokeToolHandler:function(e,t,n,r,i){return!this.invokeDisclosure(e,t,i)&&e.invokeToolHandler(e,t,n,r,i)}}}),ei.Z.define("GRUI.layout.HBox",{extend:"GRUI.layout.Box",alias:"layout.hbox",config:{vertical:!1}}),ei.Z.define("GRUI.tip.ToolTip",{extend:"GRUI.Panel",xtype:"tooltip",floated:!0,hidden:!0,shadow:!0,border:!0,bodyBorder:!1,anchor:!1,closeAction:"hide",config:{align:"l-r?",alignDelegate:null,allowOver:null,anchorToTarget:!0,autoHide:!0,delegate:null,dismissDelay:5e3,hideDelay:300,mouseOffset:[15,18],quickShowInterval:250,showDelay:500,showOnTap:null,target:null,trackMouse:!1},classCls:ei.Z.baseCSSPrefix+"tooltip",headerCls:ei.Z.baseCSSPrefix+"tooltipheader",titleCls:ei.Z.baseCSSPrefix+"tooltiptitle",toolCls:[ei.Z.baseCSSPrefix+"paneltool",ei.Z.baseCSSPrefix+"tooltiptool"],closeToolText:null,constructor:function(e){this.currentTarget=new ei.Z.dom.Fly,this.callParent2(this,"GRUI.Panel","null","constructor",this.constructor,arguments)},getRefOwner:function(){var e=this.getTarget();return e&&e.isComponent?e:this.callParent2(this,"GRUI.Panel","null","getRefOwner",this.getRefOwner,arguments)},updateAnchor:function(){this.doRealignToTarget()},applyAlign:function(e){var t=e[e.length-1];return"?"!==t&&"!"!==t&&(e+="?"),e},updateAlign:function(){this.doRealignToTarget()},updateAllowOver:function(e){var t=this;t.overListeners=ei.Z.destroy(t.overListeners),e&&(t.overListeners=t.el.on({mouseenter:"onTipOver",mouseleave:"onTipOut",scope:t,destroyable:!0}))},applyTarget:function(e){return e&&!e.isComponent?ei.Z.get(e.el||e):e},updateTarget:function(e,t){var n=this;t&&t.un("destroy",n.destroy,n),e?e.isComponent?(n.targetElement=e.element,e.on("destroy",n.destroy,n)):n.targetElement=ei.Z.get(e):n.targetElement=null,n.attachTargetListeners()},updateTrackMouse:function(e){e&&this.setAllowOver(e)},updateDisabled:function(e,t){var n,r=this;this.callParent2(this,"GRUI.Panel","null","updateDisabled",this.updateDisabled,arguments),e&&(r.clearTimers(),r.hide(),n=null),r.attachTargetListeners(n)},updateShowOnTap:function(e){this.isConfiguring||this.attachTargetListeners()},realignToTarget:function(){this.doRealignToTarget()},showBy:function(e,t,n){var r=this,i=r.getAlignDelegate();e.isEvent?r.alignToEvent(e):(e.isWidget?r.updateCurrentTarget(e.element.dom):e.isElement?r.updateCurrentTarget(e.dom):e.nodeType&&r.updateCurrentTarget(e),!i||(e=ei.Z.fly(e)).down(i,!0)||e.up(i,r.targetElement,!0),this.callParent2(this,"GRUI.Panel","null","showBy",this.showBy,arguments))},beforeShow:function(e){var t=this;!1!==this.callParent2(this,"GRUI.Panel","null","beforeShow",this.beforeShow,arguments)&&(e.alignment||!t.pointerEvent&&!t.getTarget()||(e.alignment={component:t.targetElement,alignment:t.getAlign(),options:{overlap:t.getTrackMouse()&&!t.getAnchor()}}),t.clearTimer("dismiss"))},afterShow:function(){var e=this;this.callParent2(this,"GRUI.Panel","null","afterShow",this.afterShow,arguments),e.postprocessShow(),e.mousedownListener=ei.Z.on({mousedown:"onDocMouseDown",scope:e,destroyable:!0})},hide:function(){var e=this;e.clearTimer("hide"),e.clearTimer("dismiss"),this.callParent2(this,"GRUI.Panel","null","hide",this.hide,arguments),e.lastHidden=new Date,e.updateCurrentTarget(null),ei.Z.destroy(e.mousedownListener)},doDestroy:function(){var e=this;e.clearTimers(),e.setTarget(null),e.destroyMembers("mousedownListener","overListeners"),this.callParent2(this,"GRUI.Panel","null","doDestroy",this.doDestroy,arguments)},privates:{allowRealign:!0,onDocMouseDown:function(e){var t=this,n=t.getDelegate();e.within(t.el.dom)?"mouse"!==e.pointerType&&t.getAllowOver()&&t.clearTimer("dismiss"):t.getClosable()||(!e.within(t.targetElement)||n&&!e.getTarget(n,t.targetElement)?(t.disable(),t.enableTimer=ei.Z.defer(t.enable,100,t)):t.delayHide())},onTargetOver:function(e){var t,n=this,r=n.targetElement,i=n.getDelegate(),o=n.currentTarget;if(!(n.getDisabled()||n.getAllowOver()&&n.el.contains(e.target))){if(i){if(o.contains(e.target))return;if((t=e.getTarget(i,r))&&e.getRelatedTarget(i)===t)return}else{if(r.contains(e.relatedTarget))return;t=r.dom}t?n.handleTargetOver(e,t):o.dom&&n.handleTargetOut()}},handleTargetOver:function(e,t){var n=this,r=n.hasListeners;if(n.pointerEvent=e,n.updateCurrentTarget(t),n.isVisible()){if(r.beforeshow&&!1===n.fireEvent("beforeshow",n))return n.hide();n.clearTimer("hide"),n.clearTimer("dismiss"),n.showByTarget(t),r.show&&n.fireEvent("show",n),n.postprocessShow()}else n.delayShow(t)},postprocessShow:function(){var e=this,t=e.getDismissDelay();e.clearTimer("show"),t&&e.getAutoHide()&&(e.dismissTimer=ei.Z.defer(e.hide,t,e)),e.toFront()},onTargetTap:function(e){"mouse"!==e.pointerType&&ei.Z.fly(e.target).isVisible(!0)&&this.onTargetOver(e)},onTargetOut:function(e){this.currentTarget.dom&&!this.currentTarget.contains(e.relatedTarget)&&!this.getAllowOver()&&e.within(this.el,!0)&&this.handleTargetOut()},handleTargetOut:function(){var e=this;e.showTimer&&e.clearTimer("show"),e.isVisible()&&e.getAutoHide()&&e.delayHide()},onTipOver:function(){this.clearTimer("hide"),this.clearTimer("dismiss")},onTipOut:function(e){this.currentTarget.dom&&e.getPoint().isContainedBy(this.currentTarget.getRegion())||this.handleTargetOut()},onMouseMove:function(e){var t=this,n=t.getDismissDelay();t.el.contains(e.target)||(t.pointerEvent=e),t.isVisible()&&t.currentTarget.contains(e.target)&&(n&&!1!==t.getAutoHide()&&(t.clearTimer("dismiss"),t.dismissTimer=ei.Z.defer(t.hide,n,t)),t.getTrackMouse()&&t.alignToEvent(e))},delayShow:function(e){var t=this;t.clearTimer("hide"),t.getHidden()&&!t.showTimer?t.getDelegate()&&ei.Z.Date.getElapsed(t.lastHidden)<t.getQuickShowInterval()?t.showByTarget(e):t.showTimer=ei.Z.defer(t.showByTarget,t.pointerEvent&&"mouse"!==t.pointerEvent.pointerType?0:t.getShowDelay(),t,[e]):t.getHidden()||!1===t.getAutoHide()||t.showByTarget(e)},showByTarget:function(e){var t=this,n=t.getAnchorToTarget()&&!t.getTrackMouse();t.lastShowWasPointer=!n,t.showBy(n?e:t.pointerEvent,t.getAlign(),{overlap:t.getTrackMouse()&&!t.getAnchor()})},delayHide:function(){var e=this;e.isHidden()||e.hideTimer||(e.clearTimer("dismiss"),e.hideTimer=ei.Z.defer(e.hide,e.getHideDelay(),e))},alignToEvent:function(e){var t=this,n={overlap:t.getTrackMouse()&&!t.getAnchor()},r=t.getMouseOffset(),i=(e=e.getPoint().adjust(-Math.abs(r[1]),Math.abs(r[0]),Math.abs(r[1]),-Math.abs(r[0])),t.getAnchor()?t.getAlign():null);!i&&r&&(i=0<r[0]?0<r[1]?"tl-br?":"bl-tr?":0<r[1]?"tr-bl?":"br-tl?"),t.isVisible()?(t.clearTimer("hide"),t.alignTo(e,i,n)):t.showBy(e,i,n)},_timerNames:{},clearTimer:function(e){var t,n=this,r=n[t=(t=n._timerNames)[e]||(t[e]=e+"Timer")];r&&(ei.Z.undefer(r),n[t]=null,"show"===e&&n.isHidden()&&n.updateCurrentTarget(null))},clearTimers:function(){this.clearTimer("show"),this.clearTimer("dismiss"),this.clearTimer("hide"),this.clearTimer("enable")},clipTo:function(e,t){var n=e.isRegion?e:(e.isComponent?e.el:ei.Z.fly(e)).getConstrainRegion();this.callParent2(this,"GRUI.Panel","null","clipTo",this.clipTo,arguments),this.tipElement.clipTo(n,t)},doRealignToTarget:function(){var e=this,t=(t=e.currentTarget)&&t.dom;e.clearTimers(),e.allowRealign&&e.isVisible()&&t&&e.realign(null,e.getAlign())},updateCurrentTarget:function(e){var t=this.currentTarget,n=t.dom;t.attach(e),this.isConfiguring||this.fireEvent("hovertarget",this,t,n)},attachTargetListeners:function(e){var t,n=this;n.targetListeners=ei.Z.destroy(n.targetListeners),null!==e&&(e=n.targetElement)&&(t={mouseover:"onTargetOver",mouseout:"onTargetOut",mousemove:"onMouseMove",scope:n,destroyable:!0},n.getShowOnTap()&&(t.tap="onTargetTap"),n.targetListeners=e.on(t))}}}),ei.Z.define("GRUI.dataview.plugin.ItemTip",{extend:"GRUI.tip.ToolTip",alias:"plugin.dataviewtip",anchor:!0,showOnTap:!0,defaultBindProperty:"data",config:{cmp:null,constrainToView:!0},listeners:{beforeshow:"onBeforeShow",show:"onShow",scope:"this"},init:ei.Z.emptyFn,destroy:function(){this.parent=null,this.callParent2(this,"GRUI.tip.ToolTip","null","destroy",this.destroy,arguments)},applyData:function(e){return e.isEntity?e.getData(!0):e},updateCmp:function(e){var t=this,n=e.getScrollable();(t.dataview=t.parent=e).on("initialize","onDataViewInitialized",t),n&&n.on("scroll","onDataViewScroll",t)},onDataViewInitialized:function(e){var t=this;t.setTarget(e.bodyElement),t.itemSelector=e.itemSelector,t.getDelegate()||t.setDelegate(t.itemSelector)},onBeforeShow:function(){var e=this,t=e.getViewModel(),n=e.getCmp().createLocation(e.currentTarget);n.record&&(e.getBind()?(t.set("record",n.record),t.set("recordIndex",e.location.recordIndex),t.notify()):e.setData(n.record.data))},onShow:function(){this.checkScrollVisibility()},onDataViewScroll:function(){this.checkScrollVisibility()},privates:{initId:function(e){"dataviewtip"===e.id?e.id=this.id=this.getId():this.callParent2(this,"GRUI.tip.ToolTip","null","initId",this.initId,arguments)},checkScrollVisibility:function(){var e,t=this;t.isVisible()&&t.getConstrainToView()&&(t.realignToTarget(),e=t.getAnchor()||t.el,(e=t.dataview.getScrollable().isInView(e)).x&&e.y||t.hide())},applyBind:function(e,t){var n=this,r=n.getCmp(),i=n.getViewModel();r=r.lookupViewModel();i?i.setParent(r):n.setViewModel(ei.Z.Factory.viewModel({parent:r,data:{}})),this.callParent2(this,"GRUI.tip.ToolTip","null","applyBind",this.applyBind,arguments)}}}),ei.Z.define("GRUI.dataview.plugin.ListPaging",{extend:"GRUI.plugin.Abstract",alias:"plugin.listpaging",alternateClassName:"GRUI.plugin.ListPaging",config:{autoPaging:!1,bufferZone:8,loadMoreText:"Load More...",noMoreRecordsText:"No More Records",loadMoreCmp:{xtype:"component",cls:ei.Z.baseCSSPrefix+"listpaging",scrollDock:"end",hidden:!0,inheritUi:!0},loading:!1},loadTpl:'<div class="'+ei.Z.baseCSSPrefix+'loading-spinner"><span class="'+ei.Z.baseCSSPrefix+'loading-top"></span><span class="'+ei.Z.baseCSSPrefix+'loading-right"></span><span class="'+ei.Z.baseCSSPrefix+'loading-bottom"></span><span class="'+ei.Z.baseCSSPrefix+'loading-left"></span></div><div class="'+ei.Z.baseCSSPrefix+'message">{message}</div>',init:function(e){var t=this;e.on("storechange","onStoreChange",t),t.bindStore(e.getStore()),t.addLoadMoreCmp()},destroy:function(){ei.Z.destroy(this._storeListeners),this.callParent2(this,"GRUI.plugin.Abstract","null","destroy",this.destroy,arguments)},updateAutoPaging:function(e){var t=this.getCmp().getScrollable(),n={scroll:"onScroll",scope:this};e?(t.on(n),this.ensureBufferZone()):t.un(n)},bindStore:function(e){var t=this,n={beforeload:"onStoreBeforeLoad",load:"onStoreLoad",filter:"onFilter",destroyable:!0,scope:t};t._storeListeners=ei.Z.destroy(t._storeListeners),e&&(t._storeListeners=e.on(n))},disableDataViewMask:function(){var e=this.cmp;this._listMask=e.getLoadingText(),e.setLoadingText(null)},enableDataViewMask:function(){this._listMask&&(this.cmp.setLoadingText(this._listMask),delete this._listMask)},applyLoadMoreCmp:function(e,t){return ei.Z.updateWidget(t,e,this,"createLoadMoreCmp")},createLoadMoreCmp:function(e){return ei.Z.apply({html:this.getLoadTpl().apply({message:this.getLoadMoreText()})},e)},updateLoadMoreCmp:function(e,t){ei.Z.destroy(t),e&&e.el.on({tap:"loadNextPage",scope:this})},onScroll:function(){this.ensureBufferZone()},updateLoading:function(e){this.getLoadMoreCmp().toggleCls(this.loadingCls,e)},onStoreChange:function(e,t){this.bindStore(t)},onStoreBeforeLoad:function(e){0===e.getCount()&&this.getLoadMoreCmp().hide()},onStoreLoad:function(){this.syncState()},onFilter:function(e){this.getLoadMoreCmp.setVisible(0===e.getCount())},addLoadMoreCmp:function(){var e=this;e.isAdded||(e.cmp.add(e.getLoadMoreCmp()),e.isAdded=!0,e.syncState())},storeFullyLoaded:function(){var e=this.cmp.getStore(),t=e?e.getTotalCount():null;return null!==t&&t<=e.currentPage*e.getPageSize()},loadNextPage:function(){var e=this,t=e.cmp;e.storeFullyLoaded()||(e.setLoading(!0),e.disableDataViewMask(),e.currentScrollToTopOnRefresh=t.getScrollToTopOnRefresh(),t.setScrollToTopOnRefresh(!1),t.getStore().nextPage({addRecords:!0}))},privates:{loadingCls:ei.Z.baseCSSPrefix+"loading",ensureBufferZone:function(){var e=this,t=e.cmp;if(t.isPainted())return e.ensureBufferZone=e.doEnsureBufferZone,void e.doEnsureBufferZone();e.waitingForPainted||(e.waitingForPainted=!0,t.on({painted:{single:!0,fn:function(){delete e.waitingForPainted,e.ensureBufferZone()}}}))},doEnsureBufferZone:function(){var e=this,t=e.cmp,n=t.getStore(),r=t.getScrollable(),i=n&&n.getCount(),o=e.getBufferZone();n&&i&&r&&!e.getLoading()&&(i=Math.min(Math.max(0,i-o),i-1),!(n=(t=t.mapToItem(n.getAt(i)))&&t.element.getBox())||(0<o?n.top+1:n.bottom)>r.getElement().getBox().bottom||e.loadNextPage())},getLoadTpl:function(){return ei.Z.XTemplate.getTpl(this,"loadTpl")},syncState:function(){var e=this,t=e.cmp,n=e.getLoadMoreCmp(),r=e.storeFullyLoaded(),i=t.store,o=r?e.getNoMoreRecordsText():e.getLoadMoreText();i&&i.getCount()&&n.show(),e.setLoading(!1),n.setHtml(e.getLoadTpl().apply({message:o})),n.setDisabled(r),void 0!==e.currentScrollToTopOnRefresh&&(t.setScrollToTopOnRefresh(e.currentScrollToTopOnRefresh),delete e.currentScrollToTopOnRefresh),e.enableDataViewMask(),e.getAutoPaging()&&e.ensureBufferZone()}}}),ei.Z.define("GRUI.dataview.plugin.SortableList",{extend:"GRUI.plugin.Abstract",alias:"plugin.sortablelist",alternateClassName:"GRUI.plugin.SortableList",requires:["GRUI.drag.Source","GRUI.drag.proxy.Original"],config:{list:null,source:{xclass:"GRUI.drag.Source",handle:"."+ei.Z.baseCSSPrefix+"list-sortablehandle",constrain:{vertical:!0},proxy:{getElement:function(e){return this.getSource().list.mapToItem(e.initialEvent).el}}}},init:function(e){this.setList(e)},updateList:function(e){var t;e&&(t=this.getSource())&&(t.list=e,t.setElement(e.getRenderTarget()))},applySource:function(e){return e&&ei.Z.create(e)},updateSource:function(e,t){var n=this.getList();ei.Z.destroy(t),e&&(e.on({scope:this,dragstart:"onDragStart",dragmove:"onDrag",dragend:"onDragEnd"}),n&&(e.list=n,e.setElement(n.getRenderTarget())))},onDragStart:function(e,t){var n=this.getList(),r=n.mapToItem(t.initialEvent);r.addCls(ei.Z.baseCSSPrefix+"item-no-ripple"),r.translate(0,0),t.item=r,t.startIndex=r.getRecordIndex(),t.listTop=n.element.getY(),t.itemHeight=r.el.measure("h"),t.halfHeight=t.itemHeight/2,n.stickItem(r,{floated:!0})},onDrag:function(e,t){var n=this.getList(),r={},i=Math.max(0,t.cursor.current.y-t.listTop);i=n.bisectPosition(i+n.getVisibleTop()+t.halfHeight);t.index=i+=n.renderInfo.indexTop,r[i]=t.itemHeight,n.setGaps(r)},onDragEnd:function(e,t,n){var r,i,o=this,a=o.getList(),s=t.item,l=s.el.dom.style,u=a.getStore(),c=t.index,d=a.mapToItem(u.getAt(c));s.getTranslatable().on("animationend",(function(){o.destroyed||(r=t.startIndex,i=s.getRecord(),a.stickItem(s),a.setGaps(null),s.removeCls(ei.Z.baseCSSPrefix+"item-no-ripple"),r!==c&&(u.insert(c,i),c=u.indexOf(i),a.fireEvent("dragsort",a,a.mapToItem(i),c)))}),o,{single:!0}),n.stopPropagation(),n=d?d.$y0:a.mapToItem(u.getAt(c-1)).$y1,d=s.element.getTop(!0),l.left=l.top="",s.translate(0,d),s.translate(null,n,{duration:100})}}),ei.Z.define("GRUI.layout.Carousel",{extend:"GRUI.layout.Auto",alias:"layout.carousel",requires:["GRUI.Deferred"],config:{visibleChildren:1,frontIndex:{$value:!0,lazy:!0},animation:!0},vertical:!1,targetCls:ei.Z.baseCSSPrefix+"layout-carousel",wrapCls:ei.Z.baseCSSPrefix+"layout-carousel-wrap",itemCls:ei.Z.baseCSSPrefix+"layout-carousel-item",singularCls:ei.Z.baseCSSPrefix+"layout-carousel-singular",destroy:function(){var e=this.getContainer();ei.Z.destroy(e.carouselElement,this.activeAnim),this.callParent2(this,"GRUI.layout.Auto","null","destroy",this.destroy,arguments)},updateContainer:function(e,t){this.callParent2(this,"GRUI.layout.Auto","null","updateContainer",this.updateContainer,arguments),e.bodyElement.addCls(this.wrapCls),e.carouselElement=e.getRenderTarget().appendChild({cls:this.targetCls}),ei.Z.override(e,{privates:{getRenderTarget:function(){return this.carouselElement}}})},onContainerInitialized:function(e){var t=this;this.callParent2(this,"GRUI.layout.Auto","null","onContainerInitialized",this.onContainerInitialized,arguments),t.frontItem||t.setFrontItem(t.getFrontIndex(),!1)},updateVisibleChildren:function(e){var t,n,r=this,i=r.getContainer().getRenderTarget(),o=r.getLayoutItems(),a=r.calcItemBasis(e)+"%";for(o.length>e&&(i.setStyle("left","-"+a),i.setStyle("transform","translateX("+a+")")),t=0,n=o.length;t<n;t++)o[t].el.setStyle("flex-basis",a);i.toggleCls(r.singularCls,1===e)},applyFrontIndex:function(e){var t;return"number"!=typeof e?(t=this.getVisibleChildren()-1)&&(t%2?Math.floor(t/2)+1:t/2):e},applyDuration:function(e){return"number"!=typeof e?parseInt(e,10)||500:e},calcItemBasis:function(e){return 1===(e=null!=e?e:this.getVisibleChildren())?100:e%2?(100/e).toFixed(5):100/e},insertInnerItem:function(e,t){this.callParent2(this,"GRUI.layout.Auto","null","insertInnerItem",this.insertInnerItem,arguments),0===t&&(this.frontItem=e),e.el.setStyle("order",t+1),e.el.setStyle("flex-basis",this.calcItemBasis()+"%")},getLayoutItemCount:function(){return this.getLayoutItems().length},getLayoutItems:function(){return this.getContainer().getInnerItems()},getItemIndex:function(e){return this.getContainer().innerIndexOf(e)},shiftIndex:function(e,t){var n=this.getLayoutItemCount();return e+=t,t<0?e=e<0?n-1:e:0<t&&(e=n<=e?0:e),e},getVisibleItems:function(){return this.visibleItems},getEdgeItem:function(e){var t=this.getOrderedLayoutItems();return e<0?t[0]:t[t.length-1]},getFirstVisibleItem:function(){return this.getVisibleItems()[0]},getLastVisibleItem:function(){var e=this.getVisibleItems();return e[e.length-1]},getFrontItem:function(){return this.frontItem},getFrontItemIndex:function(){return this.getItemIndex(this.getFrontItem())},getOrderedLayoutItems:function(){return ei.Z.Array.clone(this.getLayoutItems()).sort(this.sortByOrder)},setFrontItem:function(e,t){var n,r,i,o,a,s,l,u,c=this,d=c.getContainer().getRenderTarget(),f=c.getFrontIndex(),h=c.getVisibleChildren(),p=c.getLayoutItems();if(p.length<h)return ei.Z.Deferred.getCachedResolved();for("number"!=typeof e&&(e=p.indexOf(e)),o=c.calcItemBasis(),d.setStyle("left","-"+o+"%"),i=c.getFrontItem(),c.frontItem=p[e],f++,e=(p=p.slice(e).concat(p.slice(0,e))).indexOf(i),p=p.slice(-f).concat(p.slice(0,p.length-f)),(t=null==t?c.getAnimation():t)&&("boolean"==typeof t&&(t={}),i=-1<e&&e<=Math.floor(p.length/2)?1:-1,ei.Z.destroy(c.activeAnim),l=(u=new ei.Z.Deferred).promise,c.activeAnim=ei.Z.Animator.run(ei.Z.apply({element:d,to:{transform:{translateX:o*i+"%"}},callback:function(){c.orderItems(p),u.resolve(),c.activeAnim=null}},t))),c.visibleItems=r=[],a=0,s=p.length;a<s;a++)n=p[a],0<a&&a<=h&&r.push(n),n.$carouselOrder=a+1;return t||(c.orderItems(p),l=ei.Z.Deferred.getCachedResolved()),r.sort(c.sortByOrder),l},getMoveItem:function(e){var t=this.getFrontItemIndex();t=this.shiftIndex(t,e);return this.getLayoutItems()[t]},cancelAnimation:function(){ei.Z.destroy(this.activeAnim)},move:function(e,t){return this.setFrontItem(this.getMoveItem(e),t)},prev:function(e){return this.move(-1,e)},next:function(e){return this.move(1,e)},privates:{orderItems:function(e){for(var t,n=e.length,r=0;r<n;++r)(t=e[r]).el.setStyle("order",t.$carouselOrder+1)},sortByOrder:function(e,t){return+e.$carouselOrder-t.$carouselOrder}}}),ei.Z.define("GRUI.grid.CellEditor",{extend:"GRUI.Editor",xtype:"celleditor",isCellEditor:!0,floated:!1,classCls:ei.Z.baseCSSPrefix+"celleditor",config:{autoPin:!0},relayedEvents:["beforestartedit","startedit","beforecomplete","complete","canceledit","specialkey"],swallowKeys:!1,layout:"fit",shadow:!1,allowBlur:!0,alignment:"tl-tl",zIndex:10,useBoundValue:!1,inheritUi:!0,field:{inheritUi:!0},constructor:function(e){var t;this.callParent2(this,"GRUI.Editor","null","constructor",this.constructor,arguments),(t=e.plugin?e.plugin.getGrid():t)&&t.relayEvents(this,this.relayedEvents)},beforeEdit:function(e,t){var n=this.callParent2(this,"GRUI.Editor","null","beforeEdit",this.beforeEdit,arguments);return!1!==n?this.$activeLocation.beforeEdit(this):n},startEdit:function(e,t,n){var r,i,o,a=this;return e&&(i=(r=e.cell).el,t=null!=t?t:e.record.get(r.dataIndex),a.$activeLocation=e,a.ownerCmp=r,a.render(i),this.callParent2(this,"GRUI.Editor","null","startEdit",this.startEdit,[i,t,n]),a.editing?(a.$activeRow=r=e.row,a.$activeGrid=i=r.grid,a.editingPlugin.editing=!0,t=a.getField().isReactElement?this.ref.current.getInputEl():a.getField().getFocusEl(),a.editingPlugin.location=a.$activeLocation=o=new ei.Z.grid.Location(i,t),a.editingPlugin.activeEditor=a,i.stickItem(r,{autoPin:a.getAutoPin()})):a.$activeLocation=null),o},onFocusLeave:function(e){var t=this,n=(n=t.$activeLocation)&&n.row;t.editingPlugin.getGrid().destroying||(t.isCancelling?t.cancelEdit():t.completeEdit(!1,n&&e&&n.isAncestor(e.fromComponent)&&n.isAncestor(e.toComponent))),t.isCancelling=!1},onFocusEnter:function(e){this.$activeLocation&&(e.relatedTarget=e.fromElement=this.$activeLocation.getFocusEl("dom")),this.callParent2(this,"GRUI.Editor","null","onFocusEnter",this.onFocusEnter,arguments)},getLocation:function(){return this.$activeLocation},onSpecialKey:function(e,t){t.getKey()===t.ESC?this.isCancelling=!0:this.callParent2(this,"GRUI.Editor","null","onSpecialKey",this.onSpecialKey,arguments)},onEditComplete:function(e,t,n){var r,i,o,a,s=this,l=s.$activeLocation,u=s.getValue();this.callParent2(this,"GRUI.Editor","null","onEditComplete",this.onEditComplete,arguments),l&&(n=n||e,o=l.row.grid,t||u===s.startValue||(r=l.record,i=l.cell.dataIndex,(a=l.column).useRenderFnValueToEdit&&"function"==typeof a.refactorCellEditedValue&&(u=a.refactorCellEditedValue(u,l.record,a.getField(),l.cell,a)),r&&(r.set(i,u),n&&o.ensureVisible(l.record),l.refresh())),n||((a=l.row).$sticky&&o.stickItem(a,null),s.$stickyVisibility=s.$activeLocation=s.$activeRow=s.$activeGrid=null,s.editingPlugin.editing=!1,s.editingPlugin.location=s.editingPlugin.activeEditor=null))},realign:ei.Z.emptyFn,toggleBoundEl:function(e){var t=this.$activeLocation;t&&this.hideEl&&(t=t.cell)&&t.bodyElement.setVisibility(e)}}),ei.Z.define("GRUI.grid.Location",{extend:"GRUI.dataview.Location",isGridLocation:!0,actionable:!1,cell:null,column:null,columnIndex:-1,summary:!1,row:null,rowBody:null,isTreeLocation:!1,inheritableStatics:{defineProtoProperty:function(e,t){Object.defineProperty(this.prototype,e,{get:function(){var n=this[t]();return Object.defineProperty(this,e,{value:n,configurable:!0}),n}})}},attach:function(e){var t,n,r,i,o=this,a=o.view,s=a.store;e.constructor===Object&&("number"==typeof(r=e.record)&&(r=s.getAt(Math.max(Math.min(r,s.getCount()-1),0))),"number"==typeof(i=e.column)&&(i=(n=a.getVisibleColumns())[Math.max(Math.min(i,n.length-1),0)]),r&&i||(r?i=a.getFirstVisibleColumn():r=s.getAt(0)),e=(t=a.mapToCell(r,i))?t.element:(o._setColumn(i),r)),this.callParent2(this,"GRUI.dataview.Location","null","attach",this.attach,[e]),(s=o.item)&&s.isGridRow&&(o.row=s,o.summary=s.isSummaryRow,(t=t||a.mapToCell(e))||(i=(n=a.getVisibleColumns())[0])&&(t=s.getCellByColumn(i)),(o.cell=t)?(o.column=r=t.getColumn(),n=n||a.getVisibleColumns(),o.columnIndex=n.indexOf(r),o.isTreeLocation=!!t.isTreeCell):o.rowBody=a.mapToRowBody(e))},beforeEdit:function(e){return this.fireEditEvent("beforeedit",e)},fireEditEvent:function(e,t){var n=this,r=n.view;return t&&(n.editor=t),r.fireEvent(e,r,n)},clone:function(e){var t,n,r=this,i=this.callParent2(this,"GRUI.dataview.Location","null","clone",this.clone,arguments);return e&&(void 0!==e.record&&(n=e.record),void 0!==e.column&&(t=e.column),delete i.sourceElement),null!=n?(delete r.source,r.superclass.attach.call(i,n),i.row=i.item):(i.row=i.child=r.row,i.summary=r.summary,i.rowBody=r.rowBody),null!=t?i._setColumn(t):(i.cell=n=r.cell,i.column=r.column,i.columnIndex=r.columnIndex,r.isTreeLocation=!(!n||!n.isTreeCell)),i},cloneForColumn:function(e){return this.clone({column:e})},equals:function(e){var t=this;return!(!e||e.view!==t.view||!e.isGridLocation)&&t.actionable===e.actionable&&(t.sourceElement&&t.actionable?e.sourceElement===t.sourceElement:t.recordIndex===e.recordIndex&&t.record===e.record&&t.column===e.column)},equalCell:function(e){var t=this;return!!t&&e&&e.view===t.view&&e.isGridLocation&&t.recordIndex===e.recordIndex&&t.column===e.column},getFocusEl:function(e){var t=this,n=t.actionable?t.sourceElement:(n=t.get())&&!n.destroyed&&n.el.dom;return ei.Z.getBody().contains(n)?t.as(n,e||"el"):null},getCell:function(e){var t=this.cell,n=null;return t?"dom"===e||!0===e?t.el.dom:"cmp"===e?t:t.el:n},get:function(){return this.cell},isFirstColumn:function(){var e=this.column,t=!1;return e?this.view.isFirstVisibleColumn(e):t},isLastColumn:function(){var e=this.column,t=!1;return e?this.view.isLastVisibleColumn(e):t},refresh:function(){var e,t=(e=this).column,n=e.columnIndex;return-1===(e=e.view.getHeaderContainer().indexOfLeaf(t))&&(e=-1===n?0:n),this.callParent2(this,"GRUI.dataview.Location","null","refresh",this.refresh,arguments)._setColumn(e)},next:function(e){var t,n=this;if(n.actionable)return n.navigate();for(t=n.nextCell(e);t&&!t.get().el.isFocusable();t=t.nextCell(e));return t||n},previous:function(e){var t,n=this;if(n.actionable)return n.navigate(!0);for(t=n.previousCell(e);t&&!t.get().el.isFocusable();t=t.previousCell(e));return t||n},down:function(e){var t,n=this,r=e&&e.column||n.column,i=n.nextItem(e);if(i){for(i._setColumn(r),t=i.get();i&&(!t||!t.el.isFocusable());)(i=i.nextItem(e))&&(i._setColumn(r),t=i.get());if(i&&!i.equals(n))return i}return n},up:function(e){var t,n=e&&e.column||this.column,r=this.previousItem(e);if(r)for(r._setColumn(n),t=r.get();r&&(!t||!t.el.isFocusable());)(r=r.previousItem(e))&&(r._setColumn(n),t=r.get());return r&&!r.equals(this)?r:this},privates:{determineActionable:function(){var e=this.sourceElement,t=this.cell,n=!1;return!e||t&&!t.destroyed&&t.element.dom===e?n:ei.Z.fly(e).isFocusable(!0)},navigate:function(e){for(var t,n,r,i=this,o=i.sourceElement,a=i.view,s=a.getScrollable(),l=a.getNavigationModel().actionables,u=l&&l.length,c=i.clone(),d=i.clone(),f={callback:function(e){(r=ei.Z.fly(e)).$isFocusTrap||!r.isFocusable()||(r=ei.Z.Component.from(e))&&r.getDisabled()||h.push(e)},reverse:e,skipSelf:!0},h=[];c&&!n&&c.get();){if(h.length=0,c.get().el.visit(f),o=h[o?ei.Z.Array.indexOf(h,o)+1:0])(n=c).source=n.sourceElement=o,delete n.actionable,c.child&&s.ensureVisible(c.child.el),s.ensureVisible(o),o.focus();else{if((c=c[e?"previousCell":"nextCell"]()).equals(d))return i;if(c&&u)for(t=0;!n&&t<u;t++)a.ensureVisible(c.record,{column:c.columnIndex,focus:!0}),n=l[t].activateCell(c)}d=c}return n||i},activate:function(){var e,t,n,r=this.view,i=r.getScrollable(),o=r.getNavigationModel().actionables,a=o&&o.length,s=this.clone();if(s.get().el.visit({callback:function(t){if(ei.Z.fly(t).isFocusable())return e=t,!1},skipSelf:!0}),e)(n=s).source=n.sourceElement=e,delete n.actionable,s.child&&i.ensureVisible(s.child.el),i.ensureVisible(e),e.focus();else for(t=0;!n&&t<a;t++)n=o[t].activateCell(s);return n},getFocusables:function(){var e=[],t=this.sourceElement;return t&&ei.Z.fly(t).visit({callback:function(t){ei.Z.fly(t).isFocusable()&&e.push(t)},skipSelf:!0}),e},nextCell:function(e){var t,n=this,r=n.clone(),i=n.clone(),o=n.getVisibleColumns(),a=n.view.store.indexOf(n.row.getRecord()),s=!1;e&&(s="boolean"==typeof e?e:e.wrap);do{if((t=o.indexOf(i.column)+1)!==o.length&&n.child.isGridRow?i=n.getUpdatedLocation(o[t],a):a<n.view.store.getData().count()-1?i=n.getUpdatedLocation(o[0],a+1):s&&(i=n.getUpdatedLocation(o[0],0)),i&&i.equals(r))break;if(!i){i=r;break}}while(i&&!i.sourceElement);return i},getVisibleColumns:function(){for(var e=this.view,t=e.allPartners||[e],n=t.length,r=[],i=0;i<n;i++)r=r.concat(t[i].getVisibleColumns());return r},previousCell:function(e){var t,n=this,r=n.clone(),i=n.clone(),o=n.getVisibleColumns(),a=n.view.store.indexOf(n.row.getRecord()),s=!1;e&&(s="boolean"==typeof e?e:e.wrap);do{if(-1!=(t=o.indexOf(i.column)-1)&&n.child.isGridRow?i=n.getUpdatedLocation(o[t],a):0<a?i=n.getUpdatedLocation(o[o.length-1],a-1):s&&(i=n.getUpdatedLocation(o[o.length-1],n.view.store.getData().count()-1)),i&&i.equals(r))break;if(!i){i=r;break}}while(i&&!i.sourceElement);return i},getUpdatedLocation:function(e,t){var n=e.getGrid();t=this.view.store.getData().getAt(t);return(t=n.createLocation(t)).column=e,t.columnIndex=n.getVisibleColumns().indexOf(e),t.cell=t.row&&t.row.getCellByColumn(e),t.cell?(delete this.event,delete this.actionable,t.isTreeLocation=!!t.cell.isTreeCell,t.sourceElement=t.cell.el.dom,t):null},_setColumn:function(e){var t,n=this,r=n.view.getVisibleColumns();return"number"==typeof e?e=r[t=e]:t=r.indexOf(e),delete n.event,delete n.actionable,n.column=e,n.columnIndex=t,n.cell=n.row&&n.row.getCellByColumn(e),n.cell&&(n.isTreeLocation=!!n.cell.isTreeCell,n.sourceElement=n.cell.el.dom),n}}},(function(e){e.defineProtoProperty("actionable","determineActionable")})),ei.Z.define("GRUI.grid.NavigationModel",{extend:"GRUI.dataview.NavigationModel",alias:"navmodel.grid",requires:["GRUI.grid.Location"],locationClass:"GRUI.grid.Location",statics:{ignoreInputFieldKeys:{PAGE_UP:!0,PAGE_DOWN:!0,END:!0,HOME:!0,LEFT:!0,UP:!0,RIGHT:!0,DOWN:!0}},setLocation:function(e,t){var n=this,r=n.getView(),i=t&&t.event;return n.columnIndex=-1,null==e||e.isGridLocation||(ei.Z.isArray(e)?e={column:e[0],record:e[1]}:"number"==typeof e&&(e=r.store.getAt(e)),e=n.createLocation(e),i&&(e.event=i)),this.callParent2(this,"GRUI.dataview.NavigationModel","null","setLocation",this.setLocation,arguments)},clearLocation:function(){var e,t=this;t.location&&(t.previousLocation=t.location,(e=t.location.sourceElement)&&ei.Z.fly(e).removeCls(t.focusedCls),t.location=null)},registerActionable:function(e){var t=this,n=t.getView(),r=t.actionables||(t.actionables=[]);ei.Z.Array.contains(r,e)||(r.push(e),(r=e.getTriggerEvent())&&((t={scope:t,args:[e]})[r]="triggerActionable",e.triggerEventListener=n.bodyElement.on(t)))},unregisterActionable:function(e){var t=this.actionables;t&&ei.Z.Array.remove(t,e)},privates:{onFocusMove:function(e){var t=this,n=t.getView(),r=t.getLocation();if(e.toElement===n.el.dom&&r)return t.clearLocation(),t.setLocation(r);(r=t.createLocation(e)).equals(t.location)||t.handleLocationChange(r,{event:e,navigate:!1})},processViewEvent:function(e){var t=this.getView(),n=t.mapToCell(e);return(!ei.Z.fly(e.target).isInputField()||!this.self.ignoreInputFieldKeys[e.getKeyName()])&&(n&&n.row.grid===t?e:void 0)},activateCell:function(e){e.clone().activate()},triggerActionable:function(e,t){(t=(t=this.createLocation(t)).cell&&e.activateCell(t))&&this.setLocation(t)},onChildTouchStart:function(e,t){var n=t.event;t.header||t.footer?n.preventDefault():this.location&&!this.location.equalCell(t)&&this.setLocation(t,{event:t.event,navigate:"childtouchstart"===this.getView().getTriggerEvent()})},onKeyUp:function(e){e.preventDefault(),this.location.actionable||(this.location?this.moveUp(e):this.setLocation(0))},onKeyDown:function(e){e.preventDefault(),this.location.actionable||(this.location?this.moveDown(e):this.setLocation(0))},onKeyLeft:function(e){var t=this.location,n=t.isLastColumn()&&t.isFirstColumn();if(t.actionable){if(ei.Z.fly(e.target).isInputField())return!0}else{if(e.preventDefault(),t.isTreeLocation&&!t.record.isLeaf()&&t.record.isExpanded()&&n===!e.ctrlKey)return t.cell.collapse();e.shiftKey&&t.isFirstColumn()||this.movePrevious({event:e})}},onKeyRight:function(e){var t=this.location,n=t.isLastColumn()&&t.isFirstColumn();if(t.actionable){if(ei.Z.fly(e.target).isInputField())return!0}else{if(e.preventDefault(),t.isTreeLocation&&!t.record.isLeaf()&&!t.record.isExpanded()&&n===!e.ctrlKey)return t.cell.expand();e.shiftKey&&t.isLastColumn()||this.moveNext({event:e})}},onKeyF2:function(e){this.location.actionable?this.onKeyEsc():this.activateCell(this.location)},onKeyEsc:function(e){this.location.actionable&&this.location.get().el.focus()},onKeyTab:function(e){var t=this,n=t.location;if(!n.actionable)return!0;t.location=e.shiftKey?n.previous():n.next()},onKeyPageDown:function(e){var t,n,r,i=this;e.preventDefault(),i.location.actionable||(n=((t=i.getView()).infinite?t.getItemTop(i.location.child):i.location.child.el.dom.offsetTop)+t.getVisibleHeight(),r=t.getRecordIndexFromPoint(0,n),t.ensureVisible(r).then((function(){(r=new ei.Z.grid.Location(t,{record:r,column:i.location.column})).sourceElement&&ei.Z.fly(r.sourceElement).isFocusable()||(r=r.up()),i.setLocation(r,{event:e})})))},onKeyPageUp:function(e){var t,n,r,i=this;e.preventDefault(),i.location.actionable||(n=((t=i.getView()).infinite?t.getItemTop(i.location.child):i.location.child.el.dom.offsetTop)-t.getVisibleHeight(),r=t.getRecordIndexFromPoint(0,n),t.ensureVisible(r).then((function(){(r=new ei.Z.grid.Location(t,{record:r,column:i.location.column})).sourceElement&&ei.Z.fly(r.sourceElement).isFocusable()||(r=r.down()),i.setLocation(r,{event:e})})))},onKeyHome:function(e){e.preventDefault(),this.location.actionable||(e.ctrlKey?this.setLocation({record:this.getView().getStore().first(),column:this.location.column},{event:e}):this.setLocation({record:this.location.record,column:this.getView().getFirstVisibleColumn()},{event:e}))},onKeyEnd:function(e){e.preventDefault(),this.location.actionable||(e.ctrlKey?this.setLocation({record:this.getView().getStore().last(),column:this.location.column},{event:e}):this.setLocation({record:this.location.record,column:this.getView().getLastVisibleColumn()},{event:e}))},onKeySpace:function(e){var t,n,r=ei.Z.fly(e.target);return this.onNavigate(e),this.location.actionable?r.isInputField()?n=!0:t=r.events:(r=this.location.getFocusables()).length&&(t=ei.Z.get(r[0]).events),t&&(t.tap&&t.tap.fire(e),t.click&&t.click.fire(e)),n},onKeyEnter:function(e){var t=this.location;e.stopEvent(),t.actionable?this.onKeySpace(e):t.isTreeLocation&&null!=t.record.data.checked?t.record.set("checked",!t.record.data.checked):this.activateCell(t)},onSelectAllKeyPress:function(e){return!!ei.Z.fly(e.target).isInputField()||this.callParent2(this,"GRUI.dataview.NavigationModel","null","onSelectAllKeyPress",this.onSelectAllKeyPress,arguments)},moveUp:function(e){var t=this.getLocation();(t=t&&t.up())&&this.setLocation(t,{event:e})},moveDown:function(e){var t=this.getLocation();(t=t&&t.down())&&this.setLocation(t,{event:e})}}}),ei.Z.define("GRUI.grid.cell.Base",{extend:"GRUI.Widget",xtype:"gridcellbase",isGridCell:!0,mixins:["GRUI.mixin.Toolable"],cachedConfig:{align:null,cls:null,bodyCls:null,bodyStyle:null,cellCls:null,selectable:null},config:{column:null,hidden:!1,record:null,value:null},classCls:ei.Z.baseCSSPrefix+"gridcell",dirtyCls:ei.Z.baseCSSPrefix+"dirty",alignCls:{left:ei.Z.baseCSSPrefix+"align-left",center:ei.Z.baseCSSPrefix+"align-center",right:ei.Z.baseCSSPrefix+"align-right"},inheritUi:!0,cellSelector:"."+ei.Z.baseCSSPrefix+"gridcell",defaultBindProperty:"value",toolTip:null,toolDefaults:{zone:"head",ui:"gridcell"},getTemplate:function(){var e={reference:"bodyElement",cls:ei.Z.baseCSSPrefix+"body-el",uiCls:"body-el"};return(e.children=this.innerTemplate)||(e.html="\xa0"),[e]},doDestroy:function(){this.setColumn(null),this.setRecord(null),this.mixins.toolable.doDestroy.call(this),this.callParent2(this,"GRUI.Widget","null","doDestroy",this.doDestroy,arguments)},getComputedWidth:function(){return this.getHidden()?0:this.getWidth()},updateAlign:function(e,t){var n=this,r=n.alignCls;t&&n.removeCls(r[t]),e&&n.addCls(r[e]),n.syncToolableAlign()},updateBodyCls:function(e,t){(e||t)&&this.bodyElement.replaceCls(t,e)},updateBodyStyle:function(e){this.bodyElement.applyStyles(e)},updateCellCls:function(e,t){this.element.replaceCls(t,e)},updateCls:function(e,t){this.element.replaceCls(t,e)},updateColumn:function(e){var t=null,n=this.row;e&&(t=n&&n.isSummaryRow&&e.getSummaryDataIndex()||e.getField()),this.dataIndex=t},updateRecord:function(){this.destroyed||this.destroying||this.refresh()},updateSelectable:function(e){this.toggleCls(ei.Z.baseCSSPrefix+"item-no-select",!1===e)},refresh:function(e){var t,n=this,r=n.refreshContext;n.isBound("value")||(t=(e=e||r)&&e.modified)&&!n.bound(t)||(n.refreshContext=t=n.beginRefresh(e),(e=n.refreshValue(t))!==n.getValue()?n.setValue(e):n.writeValue&&n.writeValue(),n.refreshContext=r)},refreshValue:function(e){var t,n=this,r=e.record,i=e.dataIndex;return e.summary?t=n.summarize(e):r&&i&&(t=r.get(i),(r=!(!(e=r.modified)||!e.hasOwnProperty(i)))!==n.$dirty&&(n.toggleCls(n.dirtyCls,r),n.$dirty=r)),t},updateValidationStatus:function(e,t){var n=this,r=n.refreshContext,i=(o=r.column).errorCls,o=o.getValidator(),a=n.getColumn().getGrid();a.validatorTooltip||(a.validatorTooltip=ei.Z.create("GRUI.tip.ToolTip",{target:a,autoHide:!0,delegate:ei.Z.baseCSSPrefix+"gridcell",trackMouse:!0,listeners:{beforeshow:function(e){var t=e.validationMsgMapper[e.currentTarget.dom.id];if(!t)return!1;e.setHtml(t)}}}),a.validatorTooltip.validationMsgMapper={}),"function"==typeof o&&!r.summary&&r.record&&(o=o.call(n,e,r.record.getData(!0),t,r),ei.Z.isString(o)||!1===o?(n.addCls(i),a.validatorTooltip.validationMsgMapper[n.element.dom.id]=o||"Invalid Data"):n.removeCls(i))},privates:{$dirty:!1,refreshContext:null,storeMethodRe:/^(?:average|max|min|sum)$/,augmentToolHandler:function(e,t){var n=t[1]={event:t.pop(),record:this.getRecord(),column:this.getColumn(),cell:t[0],tool:t[1]};t[0]=n.grid=n.column.getGrid()},beginRefresh:function(e){var t=this,n=t.getColumn(),r=t.row;return(e=e||(r?r.beginRefresh():{record:t.getRecord()})).cell=t,e.column=n,e.dataIndex=t.dataIndex,e.scope=n.getScope(),e},bound:function(e){return!!e[this.dataIndex]},summarize:function(e){var t,n=e.column,r=n.getSummaryType(),i=e.dataIndex,o=(e.group,e.store),a=e.records;return r?t=ei.Z.isFunction(r)?r.call(o,o.data.items.slice(),i):"count"===r?o.getCount():this.storeMethodRe.test(r)?o[r](i):ei.Z.callback(r,null,[o.data.items.slice(),i,o],0,this):(r=n.getSummary())?t=r.calculate(a,i,"data",0,a.length):i&&(t=e.record.get(i)),t}},deprecated:{6.5:{configs:{innerStyle:"bodyStyle",innerCls:"bodyCls"}}}}),ei.Z.define("GRUI.grid.cell.Text",{extend:"GRUI.grid.cell.Base",xtype:"textcell",config:{encodeHtml:!0,rawValue:null,zeroValue:null},getTemplate:function(){var e=this.callParent2(this,"GRUI.grid.cell.Base","null","getTemplate",this.getTemplate,arguments);return e[0]["data-qoverflow"]=!0,e},formatValue:function(e){var t,n,r=this,i=r.refreshContext,o=i.column,a=r.getZeroValue(),s=o.getFormatter();return i.summary?((t=o.getSummaryRenderer())&&(s=null,n=i.scope,e="string"==typeof t?ei.Z.callback(t,n,[e,i],0,o):t.call(n||r,e,i)),s=o.getSummaryFormatter()||s):0===e&&null!==a&&(e=a,s=null),null!=(e=s?s(e):e)?String(e):""},printValue:function(e){var t=this,n=t.refreshContext;return t.refreshContext=t.beginRefresh(n),e=t.formatValue(e),t.getEncodeHtml()&&(e=ei.Z.htmlEncode(e)),t.refreshContext=n,e},updateRawValue:function(e){var t=this.bodyElement.dom;e=null==e?"":e;this.getEncodeHtml()?t.textContent=e:t.innerHTML=e},updateValue:function(){var e=this,t=e.refreshContext,n=e.row;n&&n.parent&&(t||(e.refreshContext=e.beginRefresh()),e.writeValue(),e.refreshContext=t)},updateZeroValue:function(){this.isConfiguring||this.refresh()},writeValue:function(){var e=this,t=e.getValue();(t=e.formatValue(t))||(t=e.getColumn().getEmptyText()),e.setRawValue(t)}}),ei.Z.define("GRUI.grid.cell.Cell",{extend:"GRUI.grid.cell.Text",xtype:"gridcell",config:{tpl:null,renderer:null,formatter:null,scope:null},friendly:null,updateColumn:function(e,t){var n,r,i,o=this,a=!0;this.callParent2(this,"GRUI.grid.cell.Text","null","updateColumn",this.updateColumn,arguments),e&&(n=e.getTpl(),r=e.getRenderer(),i=e.getFormatter(),null!==r&&(o.setRenderer(r),a="function"==typeof r&&1===r.length),null!==n&&(o.setTpl(n),a=!1),null!==i&&o.setFormatter(i),o.friendly=a)},applyTpl:function(e){return ei.Z.XTemplate.get(e)},applyFormatter:function(e){var t=this,n=e;return"string"==typeof n?(e=ei.Z.app.bind.Parser.fly(n),n=e.compileFormat(),e.release(),function(e){return n(e,t.getScope()||t.resolveListenerScope())}):n},updateTpl:function(){this.isConfiguring||this.refresh()},updateRenderer:function(){this.isConfiguring||this.refresh()},updateFormatter:function(){this.isConfiguring||this.refresh()},formatValue:function(e){var t,n,r,i,o=this,a=o.refreshContext,s=a.dataIndex,l=a.column,u=a.record,c=o.getZeroValue(),d=e,f=a.summary;return a.summary||0!==e||null===c?(i=o.getTpl(a))?((t=a.data)||(a.data=t=a.summary?a.record.getData():a.grid.gatherData(a.record)),d=i.apply(t)):(i=o.getFormatter(),f?((n=l.getSummaryRenderer())&&(i=null,r=a.scope,"string"==typeof n?(d=ei.Z.callback(n,r,[e,a],0,l),o.friendly=!1):(d=n.call(r||o,e,a),1<n.length&&(o.friendly=!1))),i=l.getSummaryFormatter()||i):(n=o.getRenderer())&&(t=[e,u,s,o,l],r=o.getScope()||a.scope,d="function"==typeof n?n.apply(r||l,t):ei.Z.callback(n,r,t,0,o)),i&&(d=i(d)),this.updateValidationStatus(e,d)):d=c,null!=d?String(d):e},privates:{bound:function(e){var t,n,r,i=this,o=!!e[i.dataIndex];if(!o)if(n=(t=i.getColumn())&&t.getDepends())for(r=n.length;!o&&0<r--;)o=!!e[n[r]];else i.friendly||(o=!0);return o}}}),ei.Z.define("GRUI.grid.RowBody",{extend:"GRUI.Component",xtype:"rowbody",config:{widget:null},classCls:ei.Z.baseCSSPrefix+"rowbody",inheritUi:!0,template:[{reference:"spacerElement",cls:ei.Z.baseCSSPrefix+"spacer-el"},{reference:"contentElement",cls:ei.Z.baseCSSPrefix+"content-el"}],initialize:function(){var e;this.callParent2(this,"GRUI.Component","null","initialize",this.initialize,arguments),(e=this.row.getGrid())&&e.hasRowExpander&&(e=e.findPlugin("rowexpander"))&&this.spacerElement.setWidth(e.getColumn().getWidth())},applyWidget:function(e){var t=this.row;return e&&(e=ei.Z.apply({ownerCmp:t},e),e=ei.Z.widget(e)),e},updateWidget:function(e,t){t&&t.destroy(),e&&this.contentElement.appendChild(e.element)},updateRecord:function(e,t){var n=this;e&&n.renderReactComponent(n.rowbodyComponent,n.getInnerHtmlElement().dom,e.data)},getInnerHtmlElement:function(){return this.contentElement},doDestroy:function(){var e=this;setTimeout((function(){e.rootComponent&&e.rootComponent.unmount()}),0),this.setWidget(null),this.callParent2(this,"GRUI.Component","null","doDestroy",this.doDestroy,arguments)}}),ei.Z.define("GRUI.grid.Row",{extend:"GRUI.Component",xtype:"gridrow",requires:["GRUI.grid.cell.Cell","GRUI.grid.RowBody"],mixins:["GRUI.mixin.Queryable","GRUI.dataview.GenericItem","GRUI.dataview.Pinnable"],isGridRow:!0,isRecordRefreshable:!0,hasGridCells:!0,cachedConfig:{collapsed:!0},config:{body:null,expandedField:null,defaultCellUI:null,stickyVisibility:null,flexbox:!1},classCls:[ei.Z.baseCSSPrefix+"listitem",ei.Z.baseCSSPrefix+"gridrow"],inheritUi:!0,expandedCls:ei.Z.baseCSSPrefix+"expanded",flexboxCls:ei.Z.baseCSSPrefix+"flexbox",element:{reference:"element",children:[{reference:"cellsElement",className:ei.Z.baseCSSPrefix+"cells-el"}]},constructor:function(e){this.cells=[],this.pageCells=[],this.columnMap={},this.callParent2(this,"GRUI.Component","null","constructor",this.constructor,arguments)},updateFlexbox:function(e){this.cellsElement.el.toggleCls(this.flexboxCls,e)},doDestroy:function(){var e=this;e.setRecord(null),e.setBody(null),e.cells=ei.Z.destroy(e.cells),this.callParent2(this,"GRUI.Component","null","doDestroy",this.doDestroy,arguments)},collapse:function(){this.setCollapsed(!0)},expand:function(){this.setCollapsed(!1)},toggleCollapsed:function(){this.setCollapsed(!this.getCollapsed())},updateCollapsed:function(e){var t=this,n=t.getBody(),r=t.getParent(),i=t.getRecord(),o=t.getExpandedField(),a=t.expandedCls,s=t.expanderCell;i&&(o?i.set(o,!e):(o=r.$recordsExpanded||(r.$recordsExpanded={}),e?delete o[i.internalId]:o[i.internalId]=!0)),s&&s.setCollapsed(e),n&&(e?(n.hide(),t.removeCls(a)):(n.show(),t.addCls(a)))},applyBody:function(e,t){return ei.Z.updateWidget(t,e,this,"createBody")},createBody:function(e){return{xtype:"rowbody",ownerCmp:this,row:this,hidden:!0,rowbodyComponent:e}},updateBody:function(e){var t=this,n=t.getParent();e&&(t.bodyElement.appendChild(e.element),t.rendered&&!e.rendered&&e.setRendered(!0)),n&&(n.setVariableHeights(!0),n.hasRowExpander||t.expand())},onAdded:function(e){var t,n,r,i,o,a,s=this,l=s.cells;if(this.callParent2(this,"GRUI.Component","null","onAdded",this.onAdded,arguments),e)for(i=0,a=(r=e.getColumns()).length;i<a;i++){if(t=l[i],n=r[i],t){if(t.getColumn()===n)continue;for(o=l.length;o-- >i;)t=l[o],s.removeColumn(t.getColumn())}s.addColumn(r[i])}},addColumn:function(e){this.insertColumn(this.cells.length,e)},getCells:function(e){return e?ei.Z.ComponentQuery.query(e,this.cells):this.cells},getRefItems:function(e){for(var t,n=[],r=this.getConfig("body",!1,!0),i=this.cells,o=i&&i.length,a=0;a<o;a++)t=i[a],n.push(t),e&&t.getRefItems&&n.push.apply(n,t.getRefItems());return r&&(n.push(r),e&&r.getRefItems&&n.push.apply(n,r.getRefItems())),n},insertColumn:function(e,t){var n,r=this,i=r.cells,o=r.parent&&r.parent.virtualColumRender;t.isHeaderGroup||(n=r.createCell(t),e>=i.length?(o?r.pageCells.push(n):r.cellsElement.appendChild(n.element),i.push(n)):(o?r.pageCells.splice(e,0,n):n.element.insertBefore(i[e].element),i.splice(e,0,n)),(r.columnMap[t.getId()]=n).isExpanderCell&&(r.expanderCell=n),r.rendered&&n.setRendered(!0))},insertColumnBefore:function(e,t){var n,r,i=this,o=i.columnMap[e.getId()],a=i.cells;t=t?(n=i.getCellByColumn(t),a.indexOf(n)):a.length-(o?1:0);o?(r=a.indexOf(o),ei.Z.Array.move(a,r,t),n?o.element.insertBefore(n.element):i.cellsElement.appendChild(o.element)):i.insertColumn(t,e)},removeColumn:function(e){var t=this.columnMap,n=t[e=e.getId()];n&&(ei.Z.Array.remove(this.cells,n),delete t[e],n.destroy())},updateRecord:function(e){this.destroyed||this.destroying||this.getRefOwner()&&this.getRefOwner().virtualColumRender||this.refresh()},setColumnWidth:function(e){var t=this.getCellByColumn(e);t&&t.setWidth(e.getComputedWidth())},showColumn:function(e){this.setCellHidden(e,!1)},hideColumn:function(e){this.setCellHidden(e,!0)},getCellByColumn:function(e){return this.columnMap[e.getId()]},getColumnByCell:function(e){return e.getColumn()},updateStickyVisibility:function(e){this.fireEvent("stickyvisiblitychange",e)},refresh:function(e){var t,n,r,i,o=this,a=o.cells,s=o.getBody(),l=a.length,u=o.getExpandedField(),c=o.getParent(),d=c.getSelectable(),f=d.getSelection(),h=f.isCells||f.isColumns;for(o.refreshContext=e=o.beginRefresh(e),i=e.record,o.syncDirty(i),n=t=0;t<l;++t)r=a[t],e.summary&&r.getColumn().getIgnore()||(r.getRecord()===i?r.refresh(e):(r.refreshContext=e,r.setRecord(i),r.refreshContext=null),h&&r.toggleCls(c.selectedCls,d.isCellSelected(o._recordIndex,n))),r.isHidden()||n++;e.cell=e.column=e.dataIndex=e.scope=null,s&&(s.refreshContext=e,s.getRecord()===i?s.updateRecord(i):s.setRecord(i),s.refreshContext=null,u?o.setCollapsed(!i.get(u)):(f=c.$recordsExpanded||(c.$recordsExpanded={}),c.hasRowExpander&&o.setCollapsed(!f[i.internalId]))),o.refreshContext=null},privates:{refreshContext:null,beginRefresh:function(e){var t=this.getParent();return(e=e||{}).grid=t,e.record=this.getRecord(),e.row=this,e.store=t.store,e},createCell:function(e){return e=e.createCell(this),delete(e=ei.Z.create(e)).$initParent,e.inheritUi&&e.doInheritUi(),e.el.setTabIndex(-1),e},setCellHidden:function(e,t){(e=this.getCellByColumn(e))&&e.setHidden(t)},getGrid:function(){return this.grid||this.getParent()}}}),ei.Z.define("GRUI.grid.HeaderContainer",{extend:"GRUI.Container",xtype:"headercontainer",isHeaderContainer:!0,config:{columns:null,defaultColumnUI:null,sortable:!0,verticalOverflow:null,reserveScrollbar:null,grid:null},docked:"top",defaultType:"column",layout:{type:"hbox",align:"stretch"},inheritUi:!0,scrollable:{x:!1,y:!1},weighted:!0,autoSize:null,constructor:function(e){var t=this,n=!t.isGridColumn;(t.isRootHeader=n)&&(e.grid._headerContainer=t),t.columns=[],this.callParent2(this,"GRUI.Container","null","constructor",this.constructor,arguments),n&&(e.grid._headerContainer=null)},initialize:function(){var e=this;this.callParent2(this,"GRUI.Container","null","initialize",this.initialize,arguments),e.isRootHeader&&(e.setInstanceCls(ei.Z.baseCSSPrefix+"headercontainer"),e.on({tap:"onHeaderTap",triggertap:"onHeaderTriggerTap",columnresize:"onColumnResize",show:"onColumnShow",hide:"onColumnHide",sort:"onColumnSort",scope:e,delegate:"[isLeafHeader]"}),e.on({tap:"onGroupTap",triggertap:"onGroupTriggerTap",show:"onGroupShow",hide:"onGroupHide",add:"onColumnAdd",move:"onColumnMove",remove:"onColumnRemove",scope:e,delegate:"[isHeaderGroup]"}),e.on({add:"onColumnAdd",move:"onColumnMove",remove:"onColumnRemove",scope:e}))},getRootHeaderCt:function(){var e=this.getGrid();return e&&e.getHeaderContainer()},getColumnForField:function(e){for(var t,n=this.columns,r=n.length,i=0;i<r;++i)if(t=n[i].getColumnForField(e))return t;return null},getColumns:function(e){var t=this.columns;if(e)if("string"==typeof e)t=ei.Z.ComponentQuery.query(e,t);else if(ei.Z.isFunction(e))return t.filter(e);return t},getVisibleColumns:function(){var e=this;return e.visibleColumns||(e.visibleColumns=e.columns.filter(e.visibleLeafFilter))},getClosestVisibleHeader:function(e){return(e="number"==typeof e?this.getVisibleColumns()[e]:e)&&e.hidden?e.next(":visible")||e.prev(":visible"):e},indexOfLeaf:function(e){return this.getVisibleColumns().indexOf(e)},factoryItem:function(e){var t=this.getGrid(),n=e;return e.isComponent?e.isGridColumn&&e.setGrid(t):(e=ei.Z.apply({grid:t},e),delete n.$initParent),this.callParent2(this,"GRUI.Container","null","factoryItem",this.factoryItem,arguments)},updateColumns:function(e){var t=this;t.isRootHeader&&(t.columns=[],t.visibleColumns=null,t.add(e))},beginColumnUpdate:function(){var e=this;e.isRootHeader&&(e.hasBulkUpdate=e.hasBulkUpdate||0,e.hasBulkUpdate++,1===e.hasBulkUpdate&&(e.bulkAdd=[],e.updateMenuDisabledState=ei.Z.emptyFn))},endColumnUpdate:function(){var e,t,n,r,i=this;if(i.isRootHeader&&i.hasBulkUpdate&&(i.hasBulkUpdate--,0===i.hasBulkUpdate)){if(e=(n=i.bulkAdd)&&n.length){for(i.visibleColumns=null,i.columns=i.getLeaves(),t=0;t<e;t++)(r=n[t]).columnIndex=i.columns.indexOf(r.column);for(ei.Z.Array.sort(n,i.sortByColumnIndex),t=0;t<e;t++)r=n[t],i.fireEvent("columnadd",i,r.column,r.columnIndex)}i.getGrid().refreshInnerWidth(),i.bulkAdd=null,delete i.updateMenuDisabledState,i.updateMenuDisabledState(),this.isRootHeader&&this.onColumnComputedWidthChange()}},sortByColumnIndex:function(e,t){return e.columnIndex-t.columnIndex},add:function(e){var t,n=this.getRootHeaderCt();return n&&n.beginColumnUpdate(),t=this.callParent2(this,"GRUI.Container","null","add",this.add,arguments),n&&n.endColumnUpdate(),t},insert:function(e,t){var n,r=this.getRootHeaderCt();return r&&r.beginColumnUpdate(),n=this.callParent2(this,"GRUI.Container","null","insert",this.insert,arguments),r&&r.endColumnUpdate(),n},remove:function(e,t){var n,r=this.getRootHeaderCt();return r&&r.beginColumnUpdate(),n=this.callParent2(this,"GRUI.Container","null","remove",this.remove,arguments),r&&r.endColumnUpdate(),n},onColumnAdd:function(e,t){var n,r,i,o=this,a=o.getGrid();if(t.isHeaderGroup)for(i=0,r=(n=t.getItems().items).length;i<r;i++)o.onColumnAdd(t,n[i]);else null==t.getUi()&&t.setUi(o.getDefaultColumnUI()),t.setGrid(a),o.bulkAdd.push({column:t});o.updateMenuDisabledState()},onColumnMove:function(e,t,n,r){var i,o=this,a=o.columns,s=null;o.visibleColumns=null,t.isHeaderGroup?(i=t.getItems().items,s=t):i=[t],r=a.indexOf(i[0]),o.columns=o.getLeaves(),o.fireEvent("columnmove",o,i,s,r)},onColumnRemove:function(e,t){var n,r,i,o=this;if(o.visibleColumns=null,t.isHeaderGroup){if(!t.destroying)for(i=(n=t.getItems().items).length,r=0;r<i;r++)o.onColumnRemove(t,n[r])}else ei.Z.Array.remove(o.columns,t),o.fireEvent("columnremove",o,t);o.updateMenuDisabledState()},onHeaderTap:function(e,t){var n=this.getGrid(),r=n.store,i=n.getSelectable();!1!==this.fireEvent("columntap",this,e,t)&&i.onHeaderTap&&(i.onHeaderTap(this,e,t),i.getColumns()&&r.data.length&&(t=(t=new ei.Z.grid.Location(n,r.getAt(0))).cloneForColumn(e),n.getNavigationModel().setLocation(t.cloneForColumn(e))))},onGroupTriggerTap:function(e){e.showMenu()},onHeaderTriggerTap:function(e){e.showMenu()},onColumnShow:function(e){this.visibleColumns=null,this.fireEvent("columnshow",this,e),this.updateMenuDisabledState(),this.isRootHeader&&this.onColumnComputedWidthChange()},onColumnHide:function(e){this.visibleColumns=null,this.fireEvent("columnhide",this,e),this.updateMenuDisabledState(),this.isRootHeader&&this.onColumnComputedWidthChange()},onGroupShow:function(e){var t,n,r=e.getInnerItems(),i=r.length;for(this.visibleColumns=null,t=0;t<i;t++)(n=r[t]).isHidden()||this.fireEvent("columnshow",this,n);this.updateMenuDisabledState()},onGroupHide:function(e){var t,n,r=e.getInnerItems(),i=r.length;for(this.visibleColumns=null,t=0;t<i;t++)n=r[t],this.fireEvent("columnhide",this,n);this.updateMenuDisabledState()},onGroupTap:function(e,t){return this.fireEvent("headergrouptap",this,e,t)},onColumnResize:function(e,t,n){this.fireEvent("columnresize",this,e,t,n)},onColumnSort:function(e,t,n){null!==t&&this.fireEvent("columnsort",this,e,t,n)},scrollTo:function(e){this.getScrollable().scrollTo(e)},updateGrid:function(e){this.isRootHeader&&(this.parent=e)},doDestroy:function(){this.setGrid(null),this.callParent2(this,"GRUI.Container","null","doDestroy",this.doDestroy,arguments)},afterRender:function(){this.callParent2(this,"GRUI.Container","null","afterRender",this.afterRender,arguments),this.isRootHeader&&this.onColumnComputedWidthChange()},privates:{columnsResizing:null,updateVerticalOverflow:function(){this.syncReserveSpace()},updateReserveScrollbar:function(){this.syncReserveSpace()},updateMenuDisabledState:function(){if(this.rendered){var e,t,n,r,i=this.isRootHeader?this:this.getRootHeaderCt(),o=[],a=[];for(i.visitPreOrder("gridcolumn:not([hidden])",(function(e){o.push(e),e.isHidden(!0)||e.getMenuDisabled()||!e.getConfig("menu",!0)||a.push(e)})),e=o.length,t=0;t<e;++t)(r=(n=o[t]).getHideShowMenuItem(!1))&&(n=1<a.length||a[0]!==n,r["set"+(r.getMenu()?"CheckChange":"")+"Disabled"](!n))}},getLeaves:function(){return this.query("[isLeafHeader]")},onColumnComputedWidthChange:function(e,t){var n,r,i,o,a=this,s=0,l=a.columnsResizing;if(!a.destroying)if(l)l.push(e);else{for(a.columnsResizing=l=[],r=(n=a.getColumns()).length,i=0;i<r;i++)s+=(o=n[i])===e?(l.push(o),t):o.isHidden(!0)?0:o.measureWidth();s=Math.floor(s),a.getGrid().onColumnComputedWidthChange(l,s),a.columnsResizing=null}},setRendered:function(e){this.visibleColumns=null,this.callParent2(this,"GRUI.Container","null","setRendered",this.setRendered,arguments)},setSortState:function(){for(var e,t,n,r=this.getGrid(),i=r.getStore(),o=r.getColumns(),a=i.isGrouped(),s=o&&o.length,l=i.getSorters(),u=i.getGrouper(),c=i.getGroupers(!1),d=0;d<s;d++)n=(e=o[d]).sorter,c&&c.length?a=!1:t=i.getGroupField()===e.getField(),n&&(a&&!t?n=null:a&&t?n=u:l.contains(n)||u===n||(n=null)),e.setSortState(n)},syncReserveSpace:function(){var e,t=this,n=0;(t.getVerticalOverflow()||t.getReserveScrollbar())&&(e=t.getGrid())&&(e=e.getScrollable())&&(n=e.getScrollbarSize().width+"px"),t.el.setStyle("padding-right",n),t.fireEvent("synreservespace",t,n)},visibleLeafFilter:function(e){return e.isLeafHeader&&!e.isHidden()}}}),ei.Z.define("GRUI.menu.CheckItem",{extend:"GRUI.menu.Item",xtype:"menucheckitem",isMenuCheckItem:!0,hideOnClick:!1,config:{checked:!1,checkHandler:null,checkChangeDisabled:!1,value:null,showCheckbox:null},classCls:ei.Z.baseCSSPrefix+"menucheckitem",checkedCls:ei.Z.baseCSSPrefix+"checked",checkboxIconElCls:ei.Z.baseCSSPrefix+"checkbox-icon-el",ariaRole:"menuitemcheckbox",defaultBindProperty:"checked",submenuText:"{0} submenu",href:null,target:null,element:{reference:"element",tabindex:ei.Z.is.iOS?-1:null,cls:ei.Z.baseCSSPrefix+"unselectable "+ei.Z.baseCSSPrefix+"has-left-icon"},focusEl:"checkboxElement",ariaEl:"checkboxElement",getTemplate:function(){var e=this.callParent2(this,"GRUI.menu.Item","null","getTemplate",this.getTemplate,arguments),t=e[0];return t.tag="div",t.href=null,t.children.push({tag:"input",type:"checkbox",reference:"checkboxElement",cls:ei.Z.baseCSSPrefix+"checkbox-el"}),e},initialize:function(){var e=this;this.callParent2(this,"GRUI.menu.Item","null","initialize",this.initialize,arguments),e.element.on({mousedown:"onCheckboxMousedown",translate:!1,scope:e}),e.checkboxElement.on({change:"onCheckboxChange",delegated:!1,scope:e}),this.syncCheckboxCls()},enableFocusable:function(){this.mixins.focusable.enableFocusable(),this.checkboxElement.dom.readOnly=""},disableFocusable:function(){this.mixins.focusable.disableFocusable(),this.checkboxElement.dom.readOnly="readonly"},setChecked:function(e,t){var n=this,r=n.isConfiguring;t&&(n.isConfiguring=!0),this.callParent2(this,"GRUI.menu.Item","null","setChecked",this.setChecked,arguments),t&&(n.isConfiguring=r)},updateChecked:function(e){this.checkboxElement.dom.checked=e,this.onCheckChange()},updateCheckChangeDisabled:function(e){this.checkboxElement.dom.readOnly=e},updateValue:function(e){this.checkboxElement.dom.value=e},updateText:function(e){var t=this,n=t.ariaEl.dom;this.callParent2(this,"GRUI.menu.Item","null","updateText",this.updateText,arguments),null===t.getValue()&&t.setValue(e),n&&t.getMenu()&&n.setAttribute("aria-label",ei.Z.String.formatEncode(t.submenuText,e))},applyShowCheckbox:function(e){return!!e},updateShowCheckbox:function(e){this.checkboxElement.setDisplayed(e)},updateIcon:function(e,t){this.callParent2(this,"GRUI.menu.Item","null","updateIcon",this.updateIcon,arguments),this.isConfiguring||this.syncCheckboxCls()},updateIconCls:function(e,t){this.callParent2(this,"GRUI.menu.Item","null","updateIconCls",this.updateIconCls,arguments),this.isConfiguring||this.syncCheckboxCls()},updateIconAlign:function(e,t){this.callParent2(this,"GRUI.menu.Item","null","updateIconAlign",this.updateIconAlign,arguments),this.isConfiguring||this.syncCheckboxCls()},privates:{onSpace:function(e){this.getDisabled()&&e.preventDefault()},onClick:function(e){var t,n,r=this,i=r.arrowElement;return r.getDisabled()&&e.preventDefault(),"mouse"!==e.pointerType&&(n=r.bodyElement.getRegion(),r.getMenu()&&n.setWidth(n.getWidth()-i.getWidth()-i.getMargin("lr")),n.contains(e.getPoint())?t=!1:e.preventDefault()),r=this.callParent2(this,"GRUI.menu.Item","null","onClick",this.onClick,arguments),!1===t?t:r},onCheckboxMousedown:function(e){(!ei.Z.isApple||ei.Z.isChrome)&&this.checkboxElement.contains(e.target)||e.preventDefault()},onCheckboxChange:function(){var e=this,t=e.checkboxElement.dom,n=e.getChecked(),r=t.checked;if(e.getCheckChangeDisabled())return t.checked=n,!1;r===n||e.getDisabled()||(!1===e.fireEvent("beforecheckchange",e,r)?t.checked=!r:e.setChecked(r))},onCheckChange:function(){var e=this,t=e.checkboxElement.dom.checked,n=e.el,r=e.ariaEl.dom;n.toggleCls(e.checkedCls,!!t),r&&r.setAttribute("aria-checked",e.getMenu()?"mixed":t),e.publishState("checked",t),e.isConfiguring||(ei.Z.callback(e.getCheckHandler(),e.scope,[e,t],0,e),e.fireEvent("checkchange",e,t))},syncHasIconCls:function(){var e=this;e.toggleCls(e.hasRightIconCls,e.hasIcon())},syncCheckboxCls:function(){var e,t=(i=this).leftIconElement,n=i.rightIconElement,r=i.checkboxIconElCls,i=i.hasIcon()&&"left"===i.getIconAlign()?(e=n,t):(e=t,n);e.addCls(r),i.removeCls(r)}}}),ei.Z.define("GRUI.grid.column.Column",{extend:"GRUI.grid.HeaderContainer",alternateClassName:"GRUI.grid.column.Template",xtype:["gridcolumn","column","templatecolumn"],isGridColumn:!0,mixins:["GRUI.mixin.StyleCacher"],requires:["GRUI.util.TextMetrics"],useRenderFnValueToEdit:!1,_toolZoneCls:ei.Z.baseCSSPrefix+"tool-zone",config:{tools:null,align:void 0,cell:{xtype:"reactcell"},field:null,locked:null,defaultWidth:100,depends:null,emptyText:{cached:!0,$value:"\xa0"},text:"\xa0",sortable:!0,groupable:!0,resizable:!0,hideable:!0,renderer:null,formatter:null,scope:null,editable:null,editor:null,defaultEditor:{lazy:!0,$value:{}},editorDefaults:{cached:!0,$value:{default:{xtype:"textfield",autoComplete:!1,textAlign:void 0},"bool,boolean":{xtype:"checkboxfield",bodyAign:void 0},date:{xtype:"datefield",textAlign:void 0},"float,number":{xtype:"numberfield",textAlign:void 0},"int,integer":{xtype:"numberfield",decimals:0,textAlign:void 0}}},ignore:!1,ignoreExport:!1,exportStyle:null,exportRenderer:!1,summary:null,summaryCell:null,summaryDataIndex:null,summaryFormatter:null,summaryRenderer:null,summaryType:null,summaries:{$value:{count:!0},lazy:!0,merge:function(e,t){return this.mergeSets(e,t)}},exportSummaryRenderer:!1,minWidth:40,tpl:null,computedWidth:null,filterType:null,grouper:{lazy:!0,$value:null},groupHeaderTpl:null,groupFormatter:!1,sorter:{lazy:!0,$value:!0},scratchCell:{lazy:!0,$value:!0},menu:{lazy:!0,$value:{}},menuDisabled:null,hideShowMenuItem:{lazy:!0,$value:{xtype:"menucheckitem"}},validator:ei.Z.emptyFn},errorCls:"grui-grid-cell-error",updateLocked:function(e){var t,n,r;return(r=(r=this.getGrid())&&r.region)&&(n=(t=r.lockedGrid).getRegionKey(e),(n=t.getRegion(n))&&n!==r&&t.handleChangeRegion(n,this)),e},toolDefaults:{ui:"gridcolumn",zone:"tail"},toolAnchorName:"titleWrapElement",dockTools:!1,scrollable:!1,docked:null,sortState:null,ariaSortStates:{ASC:"ascending",DESC:"descending"},inheritUi:!0,classCls:ei.Z.baseCSSPrefix+"gridcolumn",sortedCls:ei.Z.baseCSSPrefix+"sorted",secondarySortCls:ei.Z.baseCSSPrefix+"secondary-sort",auxSortCls:ei.Z.baseCSSPrefix+"aux-sort",resizableCls:ei.Z.baseCSSPrefix+"resizable",groupCls:ei.Z.baseCSSPrefix+"group",leafCls:ei.Z.baseCSSPrefix+"leaf",menuOpenCls:ei.Z.baseCSSPrefix+"menu-open",alignCls:{left:ei.Z.baseCSSPrefix+"align-left",center:ei.Z.baseCSSPrefix+"align-center",right:ei.Z.baseCSSPrefix+"align-right"},onSummaryChange:null,grouperIdPrefix:ei.Z.baseCSSPrefix+"gridgrouper",constructor:function(e){var t,n=this,r=e.sorter&&e.sorter.sorterFn;e.columns||n.columns?t=n.isHeaderGroup=!0:n.isLeafHeader=!0,r&&(r.customSorterfn=!0),this.callParent2(this,"GRUI.grid.HeaderContainer","null","constructor",this.constructor,arguments),n.addCls(t?n.groupCls:n.leafCls),n.getConfig("menu",!0)||null!==n.getMenuDisabled()||n.setMenuDisabled(!0)},applyTools:function(e){var n,r=this;t.isValidElement(e)&&(n=ei.Z.Element.create({classList:[r._toolZoneCls]}),r=r[r.toolAnchorName],n.insertAfter(r),this.renderReactComponent(e,n.el.dom))},getTemplate:function(){var e=this.beforeTitleTemplate,t=this.afterTitleTemplate,n=[];return e&&n.push.apply(n,e),n.push({reference:"titleElement",className:ei.Z.baseCSSPrefix+"title-el",children:[{reference:"textElement",className:ei.Z.baseCSSPrefix+"text-el","data-qoverflow":!0},{reference:"sortIconElement",cls:ei.Z.baseCSSPrefix+"sort-icon-el "+ei.Z.baseCSSPrefix+"font-icon"}]}),t&&n.push.apply(n,t),[{reference:"headerElement",cls:ei.Z.baseCSSPrefix+"header-el",children:[{reference:"titleWrapElement",cls:ei.Z.baseCSSPrefix+"title-wrap-el",uiCls:"title-wrap-el",children:n},{reference:"resizerElement",cls:ei.Z.baseCSSPrefix+"resizer-el "+ei.Z.baseCSSPrefix+"item-no-tap"},{reference:"triggerElement",cls:ei.Z.baseCSSPrefix+"trigger-el "+ei.Z.baseCSSPrefix+"font-icon "+ei.Z.baseCSSPrefix+"item-no-tap"}]},{reference:"bodyElement",cls:ei.Z.baseCSSPrefix+"body-el",uiCls:"body-el"}]},initialize:function(){var e=this;e.isLeafHeader&&!e.getWidth()&&null==e.getFlex()&&e.setWidth(e.getDefaultWidth()),this.callParent2(this,"GRUI.grid.HeaderContainer","null","initialize",this.initialize,arguments),e.element.on({tap:"onColumnTap",longpress:"onColumnLongPress",scope:this}),e.triggerElement.on({tap:"onTriggerTap",scope:this}),e.resizerElement.on({tap:"onResizerTap",doubletap:"onResizerDoubleTap",scope:this}),e.isHeaderGroup&&(e.on({add:"doVisibilityCheck",remove:"doVisibilityCheck",show:"onColumnShow",hide:"onColumnHide",move:"onColumnMove",delegate:"> column",scope:e}),e.on({show:"onShow",scope:e}))},doDestroy:function(){var e=this;e.destroyMembers("editor","resizeListener","menu","hideShowMenuItem","childColumnsMenu"),e.setScratchCell(null),setTimeout((function(){e.rootComponent&&e.rootComponent.unmount()}),0),this.callParent2(this,"GRUI.grid.HeaderContainer","null","doDestroy",this.doDestroy,arguments)},onAdded:function(e,t){this.visibleIndex=null,this.setGrid(e._grid),this.callParent2(this,"GRUI.grid.HeaderContainer","null","onAdded",this.onAdded,arguments)},ensureEditor:function(){var e=this,t=e.getEditable(),n=!1!==t&&e.getEditor();return!n&&t&&(t=e.getDefaultEditor(),n=ei.Z.create(t),e.setEditor(n)),n},getVisibleIndex:function(){var e,t=this.visibleIndex;return null==t&&(this.isHeaderGroup?t=!1:(e=this.getRootHeaderCt())&&(t=e.indexOfLeaf(this)),this.visibleIndex=t),t},_columnScopeRe:/^column\./,_gridScopeRe:/^grid\./,applyMenu:function(e){var t,n,r,i,o,a,s=this,l=s.getGrid(),u=s._columnScopeRe,c=s._gridScopeRe;if(ei.Z.destroy(s.sortChangeListener),e&&!e.isMenu){for(ei.Z.isArray(e)?(t=e,e=null):e.items||(e={items:e}),(e=(n=l.getColumnMenu())?(n=ei.Z.clone(n),e?ei.Z.merge(n,e):n):e?ei.Z.clone(e):{}).ownerCmp=s,e=ei.Z.create(e),s.sortChangeListener=e.on({groupchange:"onColumnMenuGroupChange",scope:s}),r=(o=e.getItems().items)&&o.length;0<r--;)i=o[r],u.test(a=i.getHandler()||"")?(i.setHandler(a.substr(7)),i.scope=s):c.test(a)?(i.setHandler(a.substr(5)),i.scope=l):i.isMenuCheckItem&&(u.test(a=i.getCheckHandler()||"")?(i.setCheckHandler(a.substr(7)),i.scope=s):c.test(a)&&(i.setCheckHandler(a.substr(5)),i.scope=l));t&&e.add(t),l.fireEvent("columnmenucreated",l,s,e)}return e},updateMenu:function(e,t){t&&t.destroy()},beforeShowMenu:function(e){var t=this,n=t.getGrid().getStore(),r=n&&!!n.getGrouper(),i=e.getComponent("groupByThis"),o=e.getComponent("showInGroups"),a=e.getComponent("sortAsc"),s=e.getComponent("sortDesc");if(a.setDisabled(!n),s.setDisabled(!n),!n)return i.setHidden(!0),void o.setHidden(!0);e.suspendEvent("groupchange"),a&&t.syncMenuItemState(a),s&&t.syncMenuItemState(s),i&&i.setHidden(!(t.canGroup()&&!n.isTreeStore)),e.resumeEvent("groupchange"),o&&(o.setHidden(n.isTreeStore),o.setChecked(r),o.setDisabled(!r))},showMenu:function(){var e,t=this,n=!t.getMenuDisabled()&&t.getMenu(),r=t.menuOpenCls;n&&(e=t.getGrid(),!1!==t.beforeShowMenu(n)&&!1!==e.beforeShowColumnMenu(t,n)&&(n.showBy(t.triggerElement),t.addCls(r),n.on({single:!0,hide:function(){t.destroyed||t.destroying||t.removeCls(r),e.destroyed||e.destroying||e.onColumnMenuHide(t,n)}})))},getCells:function(){for(var e,t=[],n=this.getGrid().items.items,r=n.length,i=0;i<r;++i)(e=n[i]).isGridRow&&t.push(e.getCellByColumn(this));return t},getColumnForField:function(e){return e===this.getField()?this:this.callParent2(this,"GRUI.grid.HeaderContainer","null","getColumnForField",this.getColumnForField,arguments)},isHideable:function(){var e=[];return this.getRootHeaderCt().visitPreOrder("gridcolumn:not([hidden])",(function(t){!t.getMenuDisabled()&&t.getConfig("menu",!0)&&e.push(t)})),1<e.length||e[0]!==this},applyTpl:function(e){return ei.Z.XTemplate.get(e)},applyAlign:function(e,t){return null==e?this.isHeaderGroup?"center":"left":e},updateAlign:function(e,t){var n=this.alignCls;t&&this.removeCls(n[t]),e&&this.addCls(n[e])},onColumnTap:function(e){var t,n=this,r=(t=n.getGrid()).getSelectable(),i=(t=t.getStore())&&t.getSorters(!0),o=t&&n.pickSorter(),a=(i=o?i.indexOf(o):-1,o&&(-1!==i||o===t.getGrouper()));if(ei.Z.Component.from(e)===n&&!e.getTarget("."+ei.Z.baseCSSPrefix+"item-no-tap",n))return!t||!n.isSortable()||r&&r.getColumns()||(o.isGrouper?(o.toggle(),t.group(o)):0===i?n.toggleSortState():a?t.sort(o,"prepend"):n.sort("ASC")),n.fireEvent("tap",n,e)},onTriggerTap:function(e){this.fireEvent("triggertap",this,e)},onResizerTap:function(e){e.getPoint().isContainedBy(this.triggerElement.getRegion())&&this.fireEvent("triggertap",this,e)},onResizerDoubleTap:function(e){e.claimGesture(),ei.Z.asap(this.autoSize,this)},onColumnLongPress:function(e){this.fireEvent("longpress",this,e)},onGroupByThis:function(){var e,t=this,n=t.getGrid(),r=t.getGrouper();n=n.getStore();r||null!=(e=t.getField())&&(t.setGrouper({property:e}),r=t.getGrouper()),r&&n.setGrouper(r)},onColumnMenuGroupChange:function(e,t,n){"sortDir"===t&&this.setSortDirection(n)},getSortDirection:function(){var e=this.pickSorter();return e&&e.getDirection()},setSortDirection:function(e){var t=this.getGrid().getStore(),n=this.pickSorter(),r=t.getSorters(!0),i=n&&(r.contains(n)||n.isGrouper);if(e){if(!i)return this.sort(e);n.getDirection()!==e&&(n.setDirection(e),n.isGrouper?t.group(n):(r.beginUpdate(),r.endUpdate()))}else n&&r.remove(n);t.getRemoteSort()||this.getRootHeaderCt().setSortState()},syncMenuItemState:function(e){var t,n,r;e&&(t=this.isSortable(),r=this.getGrid().getStore(),r=(n=this.pickSorter())&&(r.getSorters().contains(n)||n.isGrouper),e.setDisabled(!t),e.setChecked(t&&r&&n.getDirection()===e.getValue()))},onToggleShowInGroups:function(){this.getGrid().getStore().setGrouper(null)},updateResizable:function(){var e=this,t=null!=e.getWidth(),n=null!=e.getFlex();e.toggleCls(e.resizableCls,!(!e.getResizable()||!(t||n||e.isLeafHeader)))},updateText:function(e){this.setHtml(e||"\xa0")},onResize:function(){this.isHidden(!0)||(this.updateResizable(this.getResizable()),this.measureWidth(),this.syncRowHeight())},syncRowHeight:function(){for(var e,t=this.getGrid().allPartners||[this.getGrid()],n=t.length,r=0;r<n;++r)(e=t[r]).virtualColumRender||e.syncRowsToHeight(!0)},getComputedWidth:function(){return this.isVisible(!0)?this._computedWidth:0},updateColumns:function(e){this.getItems(),this.add(e)},measureWidth:function(){var e=this.el.measure("w");return this.setComputedWidth(e),e},updateComputedWidth:function(e,t){var n=this,r=!n.isConfiguring&&n.getRootHeaderCt();r&&(r.onColumnComputedWidthChange(n,e),n.fireEvent("columnresize",n,e,t))},updateField:function(e){this.isConfiguring||this.pickSorter()&&this.setSorter(null)},applyGroupHeaderTpl:function(e){return ei.Z.XTemplate.get(e)},updateGroupHeaderTpl:function(e){var t=this.grouper;t&&(t.headerTpl=e)},isSortable:function(){var e=this;return e.isLeafHeader&&e.getSortable()&&(e.pickSorter()||e.getField())&&e.getRootHeaderCt().getSortable()&&!1!==e.getGrid().sortableColumns},applyEditor:function(e){return t.isValidElement(e)?{jsxElement:e,isInstance:!0,isReactElement:!0,type:e.type.name}:e&&!e.isInstance?((e="string"==typeof e?{xtype:e}:e).xtype||(e=ei.Z.apply({xtype:e.field?"celleditor":"textfield"},e)),ei.Z.create(e)):e},applyEditorDefaults:function(e){var t,n,r,i={};if(e)for(n in e)for(r=n.split(","),t=0;t<r.length;++t)i[r[t]]=e[n];return i},applyDefaultEditor:function(e){var t,n=this,r=n.getField(),i="bodyAlign",o="textAlign";return r&&(r=n.getGrid().store.getModel().getField(r),e.isInstance||(e=ei.Z.clone(e)).xtype||(t=n.getEditorDefaults(),o in(t=ei.Z.clone(r&&t[r.type]||t.default))&&void 0===t[o]?t[o]=n.getAlign():i in t&&void 0===t[i]&&(t[i]=n.getAlign()),ei.Z.applyIf(e,t)),e._validationField=r),e},updateEditor:function(e,t){e&&(e.$column=this)},applyFormatter:function(e){var t=this,n=e;return n&&(e=ei.Z.app.bind.Parser.fly(n),n=e.compileFormat(),e.release(),function(e){return n(e,t.getScope()||t.resolveListenerScope())})},applySummaryFormatter:function(e){var t=this,n=e;return n&&(e=ei.Z.app.bind.Parser.fly(n),n=e.compileFormat(),e.release(),function(e){return n(e,t.getScope()||t.resolveListenerScope())})},applyGrouper:function(e){var t=e;return t&&!t.isInstance&&("string"==typeof(t="string"==typeof(t="string"==typeof t?{groupFn:t}:ei.Z.apply({},t)).groupFn?this.scopeReplacer(t,e,"groupFn","setGroupFn"):t).sorterFn&&(t=this.scopeReplacer(t,e,"sorterFn","setSorterFn")),e=new ei.Z.util.Grouper(t)),e&&(e.owner=this.getGrid(),e.headerTpl=this.getGroupHeaderTpl()),e},updateGrouper:function(e,t){var n=this.getGrid().getStore();n&&t&&t===n.getGrouper()&&n.setGrouper(e),this.grouper=e},applySorter:function(e){var t,n=e;if(n&&!n.isInstance){if(!0===n){if(!(t=this.getSortParam()))return null;n={property:t,direction:"ASC"}}else"string"==typeof(n="string"==typeof n?{sorterFn:n}:n).sorterFn&&(n=this.scopeReplacer(n,e,"sorterFn","setSorterFn"));n.property||(n.property=this.getSortParam()||null),e=new ei.Z.util.Sorter(n)}return e&&(e.owner=this.getGrid()),e},updateSorter:function(e,t){var n,r;(r=(r=this.getGrid().getStore())?r.getSorters():null)&&t&&-1<(n=r.indexOf(t))&&(e?r.splice(n,1,e):r.remove(t)),this.sorter=e},pickSorter:function(){var e,t,n=this,r=n.getGrid().getStore();return r.isGrouped()&&((t=r.getGroupers(!1))?e=t.get(n.getField()):r.getGroupField()===n.getField()&&(e=n.getGrouper()||r.getGrouper()),e&&(n.sortState=e.getDirection())),e||n.getSorter()},applyHideShowMenuItem:function(e,t){return ei.Z.updateWidget(t,e,this,"createHideShowMenuItem")},createHideShowMenuItem:function(e){return ei.Z.apply({text:this.getText(),checked:!this.getHidden(),column:this},e)},getHideShowMenuItem:function(e){var t,n=this,r=this.callParent2(this,"GRUI.grid.HeaderContainer","null","getHideShowMenuItem",this.getHideShowMenuItem,arguments),i=n.items.items,o=i.length,a=[],s=n.childColumnsMenu;if(n.isHeaderGroup&&!1!==e&&(s||(r.setMenu({}),n.childColumnsMenu=s=r.getMenu()),!s.items.length||n.rebuildChildColumnsMenu)){for(t=0;t<o;t++)i[t].getHideable()&&a.push(i[t].getHideShowMenuItem());s.removeAll(!1),s.add(a)}return r["set"+(r.getMenu()?"CheckChange":"")+"Disabled"](!n.isHideable()),r},getInnerHtmlElement:function(){return this.textElement},getSortParam:function(){return this.getField()},applyCell:function(e,t){return t?ei.Z.apply(t,e):e},createCell:function(e){var t,n=this,r={row:e,ownerCmp:e||n,column:n,width:n.rendered?n.getComputedWidth()||n.measureWidth():n.getWidth(),minWidth:n.getMinWidth()},i=n.getAlign();return e&&e.isSummaryRow?(t=n.getSummaryCell())||"widgetcell"===(t=n.getCell()).xtype&&((t=ei.Z.apply({},t)).xtype="gridcell",delete t.widget):t=n.getCell(),i&&(r.align=i),e&&(r.hidden=n.isHidden(e.getGrid().getHeaderContainer()),r.record=e.getRecord(),(r.ui=e.getDefaultCellUI())||delete r.ui),"string"==typeof t?r.xtype=t:ei.Z.apply(r,t),r},applyScratchCell:function(e,t){return e&&((e=ei.Z.create(this.createCell())).printValue||(ei.Z.destroy(e),(e=this.createCell()).xtype="gridcell",e=ei.Z.create(e)),e.addCls(this.floatingCls)),t&&t.destroy(),e},printValue:function(e){var t,n=this.getGrid().dataItems[0];return(t=(t=n&&n.isGridRow?n.getCellByColumn(this):t)&&t.printValue?t:this.getScratchCell()).printValue(e)},autoSize:function(){var e,t,n,r,i,o,a,s=this,l=Math.max,u=new ei.Z.util.TextMetrics,c=0,d=0,f=s.getCells(),h=s.getGrid();if(s.getResizable()){if(a=h.getStore(),e=s.getField(),a&&e)if(i=a.isVirtualStore?a.pageMap.pages:a.getData()&&a.getData().items,e&&ei.Z.isArray(i))for(n=i.length,r=0;r<n;r++)d=l(d,u.getWidth(i[r].get(e)));else if(ei.Z.isObject(i))for(o in i)for(n=(t=i[o].records)&&t.length,r=0;r<n;r++)d=l(d,u.getWidth(t[r].get(e)));if(d=l(d,s.textElement.dom.offsetWidth+s.titleElement.getPadding("lr")),f.length){for(n=f.length,a=f[0].element,r=0;r<n;r++)d=l(d,f[r].element.getTextWidth());ei.Z.supports.ScrollWidthInlinePaddingBug&&(c+=a.getPadding("r")),h.getColumnLines()&&(c+=a.getBorderWidth("lr")),d+=c}d=l(d+1,s.getMinWidth()),s.setWidth(d),u.destroy()}},refactorCellEditedValue:null,getListOfSummaries:function(){for(var e,t=[],n=this.getSummaries()||{},r=ei.Z.Object.getAllKeys(n),i=r.length,o=0;o<i;o++)n[e=r[o]]&&t.push(e);return t},applySummaries:function(e,t){return this.self.getConfigurator().configs.summaries.mergeSets(e)},privates:{directionSequence:{null:"ASC",ASC:"DESC",DESC:null},applySummary:function(e){return e&&ei.Z.Factory.dataSummary(e)},beginRefresh:function(e){var t=this.getGrid();return(e=e||{}).column=this,e.grid=t,e.store=t.store,e},canGroup:function(){return this.getGroupable()&&(this.getField()||this.getGrouper())},sort:function(e,t){var n=this,r=n.pickSorter(),i=n.getGrid(),o=i.getStore(),a=o.getSorters();n.isSortable()&&(r.isGrouper?r.getDirection()!==e&&(r.toggle(),o.group(r)):e?(r?0!==a.indexOf(r)&&r.setDirection(e):(n.setSorter({property:n.getSortParam(),direction:"ASC"}),r=n.getSorter()),o.sort(r,t||i.getMultiColumnSort()?"multi":"replace")):r&&(a.remove(r),o.getRemoteSort()||n.getRootHeaderCt().setSortState()))},toggleSortState:function(){this.sort(this.directionSequence[this.sortState])},setSortState:function(e){var t,n=this,r=n.getGrid().getStore(),i=r.isGrouped()&&r.getGrouper(),o=n.sortState,a=null,s=n.sortedCls,l=n.secondarySortCls,u=n.auxSortCls,c=s+"-asc",d=s+"-desc",f=n.ariaEl.dom,h="",p=[l,u];switch(e&&("string"==typeof e?a=e:(i=e===i?0:r.getSorters().indexOf(e),a=e.getDirection(),h=1===i?l:1<i?u:"")),r=a!==o,n.sortState=a){case"DESC":t=[s,d,h],p.push(c);break;case"ASC":t=[s,c,h],p.push(d);break;default:p.push(s,c,d)}n.replaceCls(p,t),f&&(a?f.setAttribute("aria-sort",n.ariaSortStates[a]):f.removeAttribute("aria-sort")),r&&n.fireEvent("sort",n,a,o)},getVisibleCount:function(){for(var e=this.getInnerItems(),t=e.length,n=0,r=0;r<t;++r)e[r].isHeaderGroup?n+=e[r].getVisibleCount():n+=e[r].isHidden()?0:1;return n},onShow:function(){var e;this.getVisibleCount()||(e=this.getComponent(0))&&e.show()},doVisibilityCheck:function(){for(var e=this,t=e.getInnerItems(),n=t.length,r=0;r<n;r++)if(!t[r].isHidden())return void(e.isHidden()&&(e.initialized?e.show():e.setHidden(!1)));e.hide(),e.rebuildChildColumnsMenu=!0,e.updateMenuDisabledState()},onColumnShow:function(){var e,t=this;0<t.getVisibleCount()&&(t.show(),(e=t.getHideShowMenuItem(!1)).setChecked(!0),e.setCheckChangeDisabled(!1)),t.rebuildChildColumnsMenu=!0,t.updateMenuDisabledState()},onColumnHide:function(e){var t,n=this;0===n.getVisibleCount()&&(n.hide(),(t=n.getHideShowMenuItem(!1)).setChecked(!1),t.setCheckChangeDisabled(!0)),n.rebuildChildColumnsMenu=!0,n.updateMenuDisabledState()},onColumnMove:function(e){this.rebuildChildColumnsMenu=!0},scopeReplacer:function(e,t,n,r){var i=this,o=e[n];return"string"==typeof o&&(n=n||"sorterFn",r=r||"setSorterFn",(e=t===e?ei.Z.apply({},e):e)[n]=function(){var e=i.resolveListenerScope(),t=e&&e[o],n=0;return t&&(this[r](t.bind(e)),n=t.apply(e,arguments)),n}),e}}}),ei.Z.define("GRUI.grid.filters.Column",{override:"GRUI.grid.column.Column",config:{filter:null},createFilter:function(e){var t,n,r,i=this,o=i.getFilter();return!1!==o&&(o&&!0!==o?"string"==typeof o&&(t=!0,o={type:o}):(t=!0,o={}),o.type||(t||(t=!0,o=ei.Z.clone(o)),(o.type=i.defaultFilterType||i.columnFilterTypes[i.xtype])||(r=(r=i.getGrid().getStore())&&r.getModel(),(n=i.getField())&&r&&(n=r.getField(n),o.type=i.fieldFilterTypes[n&&n.type])),o.type||(o=!1)),e&&o&&(t||(o=ei.Z.clone(o)),o=ei.Z.apply(o,e))),o},privates:{columnFilterTypes:{booleancolumn:"boolean",datecolumn:"date",numbercolumn:"number"},fieldFilterTypes:{auto:"string",bool:"boolean",date:"date",float:"number",number:"number",int:"number",integer:"number",string:"string"}}},(function(){ei.Z.Factory.define("gridFilters",{defaultType:"string"})})),ei.Z.define("GRUI.grid.cell.Date",{extend:"GRUI.grid.cell.Text",xtype:"datecell",isDateCell:!0,requires:["GRUI.Date"],config:{format:""},updateColumn:function(e,t){this.callParent2(this,"GRUI.grid.cell.Text","null","updateColumn",this.updateColumn,[e,t]),e&&e.isDateColumn&&null!==(t=e.getFormat())&&this.setFormat(t)},applyFormat:function(e){return e||ei.Z.Date.defaultFormat},updateFormat:function(e){this.isConfiguring||this.writeValue()},formatValue:function(e){var t;return ei.Z.isString(e)&&(t=Date.parse(e),isNaN(t)||(e=new Date(t))),t=e?ei.Z.Date.format(e,this.getFormat()):"",this.updateValidationStatus(e,t),t}}),ei.Z.define("GRUI.grid.column.Date",{extend:"GRUI.grid.column.Column",xtype:"datecolumn",isDateColumn:!0,requires:["GRUI.Date","GRUI.grid.cell.Date"],config:{format:null,defaultEditor:{xtype:"datepickerfield"},cell:{xtype:"datecell"},validator:function(e,t,n){return e instanceof Date||!!Date.parse(e)},summaries:{min:!0,max:!0,count:!1}}}),ei.Z.define("GRUI.grid.menu.Shared",{extend:"GRUI.menu.Item",config:{grid:null},doDestroy:function(){this.setGrid(null),this.callParent2(this,"GRUI.menu.Item","null","doDestroy",this.doDestroy,arguments)},updateGrid:function(e,t){var n=this;t&&t.removeSharedMenuItem(n),(n.grid=e)&&e.addSharedMenuItem(n)},onBeforeShowColumnMenu:function(e){e.add(this)},onColumnMenuHide:function(e){this.destroyed||e.remove(this,!1)}}),ei.Z.define("GRUI.grid.menu.Columns",{extend:"GRUI.grid.menu.Shared",xtype:"gridcolumnsmenu",iconCls:ei.Z.baseCSSPrefix+"headermenu-columns-icon",text:"Columns",menu:{},updateMenu:function(e,t){var n=this;this.callParent2(this,"GRUI.grid.menu.Shared","null","updateMenu",this.updateMenu,arguments),ei.Z.destroy(n.menuListeners),e&&(n.menuListeners=e.on({checkchange:"onCheckItem",delegate:"menucheckitem",scope:n,destroyable:!0}))},onBeforeShowColumnMenu:function(e,t,n){var r,i,o=n.getHeaderContainer().items.items,a=[],s=o.length,l=this.getMenu();for(this.callParent2(this,"GRUI.grid.menu.Shared","null","onBeforeShowColumnMenu",this.onBeforeShowColumnMenu,arguments),r=0;r<s;++r)(i=o[r]).getHideable()&&a.push(i.getHideShowMenuItem());l.removeAll(!1),l.add(a)},onCheckItem:function(e,t){e.column.setHidden(!t)}}),ei.Z.define("GRUI.grid.menu.GroupByThis",{extend:"GRUI.menu.Item",xtype:"gridgroupbythismenuitem",iconCls:ei.Z.baseCSSPrefix+"headermenu-group-by-this",text:"Group by this field"}),ei.Z.define("GRUI.grid.menu.ShowInGroups",{extend:"GRUI.menu.CheckItem",xtype:"gridshowingroupsmenuitem",hideOnClick:!0,text:"Show in groups"}),ei.Z.define("GRUI.menu.RadioItem",{extend:"GRUI.menu.CheckItem",xtype:"menuradioitem",classCls:ei.Z.baseCSSPrefix+"menuradioitem",nameable:!0,shareableName:!0,ariaRole:"menuitemradio",config:{group:null,allowUncheck:null},privates:{onSpace:function(e){this.checkboxElement.dom.checked&&e.preventDefault()},updateGroup:function(e){this.name=e},onCheckboxChange:function(){var e=this.checkboxElement.dom,t=e.checked;t===this.getChecked()||this.getDisabled()||(t||this.getAllowUncheck()?this.callParent2(this,"GRUI.menu.CheckItem","null","onCheckboxChange",this.onCheckboxChange,arguments):e.checked=!0)},onCheckChange:function(){var e,t,n,r,i,o=this,a=o.checkboxElement.dom,s=o.getParent();if(o.getGroup(),(e=o.name)&&s&&!s.updatingGroups)if(t={},a.checked)t[e]=o.getValue(),s.setGroups(t);else{for(r=(n=s.lookupName(e))&&n.length,i=0;i<r&&!n[i].checkboxElement.dom.checked;i++);i===r&&(t[e]=null,s.setGroups(t))}this.callParent2(this,"GRUI.menu.CheckItem","null","onCheckChange",this.onCheckChange,arguments)}}}),ei.Z.define("GRUI.grid.menu.SortAsc",{extend:"GRUI.menu.RadioItem",xtype:"gridsortascmenuitem",iconCls:ei.Z.baseCSSPrefix+"headermenu-sort-asc",text:"Sort Ascending",value:"ASC",allowUncheck:!0,group:"grid-sorters"}),ei.Z.define("GRUI.grid.menu.SortDesc",{extend:"GRUI.menu.RadioItem",xtype:"gridsortdescmenuitem",iconCls:ei.Z.baseCSSPrefix+"headermenu-sort-desc",text:"Sort Descending",value:"DESC",allowUncheck:!0,group:"grid-sorters"}),ei.Z.define("GRUI.grid.selection.Cells",{extend:"GRUI.dataview.selection.Selection",alias:"selection.cells",requires:["GRUI.grid.Location"],isCells:!0,clone:function(){var e=this,t=new e.self(e.view);return e.startCell&&(t.startCell=e.startCell.clone(),t.endCell=e.endCell.clone()),t},isSelected:function(e,t){var n;return!!(this.startCell&&(e.isGridLocation&&(t=e.columnIndex,e=e.recordIndex),e>=(n=this.getRowRange())[0]&&e<=n[1]))&&t>=(n=this.getColumnRange())[0]&&t<=n[1]},eachRow:function(e,t){for(var n=this,r=n.getRowRange(),i=n.view.store,o=r[0];o<=r[1];o++)if(!1===e.call(t||n,i.getAt(o)))return},eachColumn:function(e,t){for(var n=this.getColumnRange(),r=this.view.getVisibleColumns(),i=n[0];i<=n[1];i++)if(!1===e.call(t||this,r[i],i))return},eachCell:function(e,t){for(var n,r,i,o=this,a=o.view,s=a.store,l=o.getRowRange(),u=o.getColumnRange(),c=l[0];c<=l[1];c++)for(n=new ei.Z.grid.Location(a,s.getAt(c)),i=u[0];i<=u[1];i++)if(r=n.cloneForColumn(i),!1===e.call(t||o,r,i,c))return},getFirstRowIndex:function(){return this.startCell?Math.min(this.startCell.recordIndex,this.endCell.recordIndex):0},getLastRowIndex:function(){return this.startCell?Math.max(this.startCell.recordIndex,this.endCell.recordIndex):-1},getFirstColumnIndex:function(){return this.startCell?Math.min(this.startCell.columnIndex,this.endCell.columnIndex):0},getLastColumnIndex:function(){return this.startCell?Math.max(this.startCell.columnIndex,this.endCell.columnIndex):-1},privates:{clear:function(e){var t,n=this,r=n.view;r.getVisibleColumns().length&&n.eachCell((function(e){r.onCellDeselect(e),t=!0})),n.startCell=n.endCell=null,t&&!e&&this.getSelectionModel().fireSelectionChange()},setRangeStart:function(e){this.startCell=(this.endCell=e.clone()).clone(),this.view.onCellSelect(e),this.fireCellSelection()},setRangeEnd:function(e){var t,n,r,i,o,a,s,l,u,c=this,d=c.view,f=d.store,h=d.renderInfo,p=d.getVisibleColumns().length-1;for(c.endCell=e.clone(),t=c.getRange(),e=c.lastRange||t,n=Math.max(Math.min(t[0][1],e[0][1]),h&&h.indexTop),r=Math.min(Math.max(t[1][1],e[1][1]),h&&h.indexBottom-1),i=Math.min(t[0][0],e[0][0]),o=Math.min(Math.max(t[1][0],e[1][0]),p),a=n;a<=r;a++)for(u=new ei.Z.grid.Location(d,f.getAt(a)),s=i;s<=o;s++)l=u.cloneForColumn(s),a<t[0][1]||a>t[1][1]||s<t[0][0]||s>t[1][0]?d.onCellDeselect(l):d.onCellSelect(l);c.lastRange=t,c.fireCellSelection()},extendRange:function(e){var t,n=this,r=n.view;e[e.type]<0?(t=new ei.Z.grid.Location(r,{record:n.getLastRowIndex(),column:n.getLastColumnIndex()}),n.startCell=e.start.clone(),n.setRangeEnd(t),r.getNavigationModel().setLocation({column:e.start.columnIndex,record:e.start.record})):(n.startCell=new ei.Z.grid.Location(r,{record:n.getFirstRowIndex(),column:n.getFirstColumnIndex()}),n.setRangeEnd(e.end),r.getNavigationModel().setLocation({column:e.end.columnIndex,record:e.end.record}))},reduceRange:function(e){var t,n=this,r=n.view;"rows"===e.type?(t=new ei.Z.grid.Location(r,{record:e.end.recordIndex-1,column:e.end.columnIndex}),n.setRangeEnd(t),r.getNavigationModel().setLocation({column:e.end.columnIndex,record:n.view.getStore().getAt(e.end.recordIndex-1)})):(t=new ei.Z.grid.Location(r,{record:e.end.recordIndex,column:e.end.columnIndex}),n.setRangeEnd(t),r.getNavigationModel().setLocation({column:e.end.columnIndex,record:n.view.getStore().getAt(e.end.recordIndex)}))},getRange:function(){return[[this.getFirstColumnIndex(),this.getFirstRowIndex()],[this.getLastColumnIndex(),this.getLastRowIndex()]]},getRangeSize:function(){return this.getCount()},getRecords:function(){var e=this.getRowRange();return this.getSelectionModel().getStore().getRange(e[0],e[1])},getCount:function(){var e=this.getRange();return(e[1][0]-e[0][0]+1)*(e[1][1]-e[0][1]+1)},fireCellSelection:function(){var e=this.getSelectionModel().getView();e.fireEvent("cellselection",e,this.getRange())},selectAll:function(){var e=this.view,t=e.getVisibleColumns();this.clear(),this.setRangeStart(new ei.Z.grid.Location(e,{record:0,column:0})),this.setRangeEnd(new ei.Z.grid.Location(e,{record:e.store.last(),column:t[t.length-1]}))},isAllSelected:function(){var e=this.startCell,t=this.endCell;return!(!e||e.columnIndex||e.recordIndex)&&t.columnIndex===t.view.getVisibleColumns().length-1&&t.recordIndex===t.view.store.getCount()-1},getColumnRange:function(){return[this.getFirstColumnIndex(),this.getLastColumnIndex()]},getLastSelected:function(){return this.view.getStore().getAt(this.endCell.recordIndex)},getRowRange:function(){return[this.getFirstRowIndex(),this.getLastRowIndex()]},onSelectionFinish:function(){var e=this,t=e.view;e.getCount()?e.getSelectionModel().onSelectionFinish(e,new ei.Z.grid.Location(t,{record:e.getFirstRowIndex(),column:e.getFirstColumnIndex()}),new ei.Z.grid.Location(t,{record:e.getLastRowIndex(),column:e.getLastColumnIndex()})):e.getSelectionModel().onSelectionFinish(e)}}}),ei.Z.define("GRUI.grid.selection.Columns",{extend:"GRUI.dataview.selection.Selection",alias:"selection.columns",isColumns:!0,clone:function(){var e,t=new(e=this).self(e.view);return(e=e.selectedColumns)&&(t.selectedColumns=ei.Z.Array.slice(e)),t},eachRow:function(e,t){var n=this.selectedColumns;n&&n.length&&this.view.getStore().each(e,t||this)},eachColumn:function(e,t){var n,r,i=this.selectedColumns;if(i)for(n=i.length,r=0;r<n;r++)if(!1===e.call(t||this,i[r],r))return!1},eachCell:function(e,t){var n,r,i=this,o=i.view,a=i.selectedColumns,s=new ei.Z.grid.Location(o);a&&(n=a.length,o.getStore().each((function(o){for(s=s.clone({record:o}),r=0;r<n;r++)if(s=s.clone({column:a[r]}),!1===e.call(t||i,s,s.columnIndex,s.recordIndex))return!1})))},isSelected:function(e){var t=this.selectedColumns;return!!(e&&e.isGridColumn&&t&&t.length)&&ei.Z.Array.contains(t,e)},getCount:function(){var e=this.selectedColumns;return e?e.length:0},getColumns:function(){return this.selectedColumns||[]},privates:{add:function(e,t){var n=this,r=n.getSelectionModel();ei.Z.Array.include(n.selectedColumns||(n.selectedColumns=[]),e),n.refreshColumns(e),r.updateHeaderState(),t||(r.fireSelectionChange(),n.fireColumnSelection())},clear:function(e){var t=this,n=t.getSelectionModel(),r=t.selectedColumns;r&&r.length&&(t.selectedColumns=[],t.refreshColumns.apply(t,r),n.updateHeaderState(),e||(n.fireSelectionChange(),t.fireColumnSelection()))},setRangeStart:function(e){var t=this;t.getColumns().push(e),t.clear(!0),t.startColumn=e,t.add(e)},setRangeEnd:function(e){var t,n=this,r=n.getColumns(),i=this.view.ownerGrid.getHeaderContainer(),o=i.getVisibleColumns(),a=i.indexOfLeaf(n.startColumn),s=i.indexOfLeaf(e);for(s<a&&(t=a,a=s,s=t),n.selectedColumns=[],t=a;t<=s;t++)n.selectedColumns.push(o[t]),r.push(o[t]);n.refreshColumns.apply(n,r),n.fireColumnSelection()},isAllSelected:function(){var e,t=this.selectedColumns;return!!t&&(e=this.view.getHeaderContainer(),t.length===e.getVisibleColumns().length)},refreshColumns:function(e){var t,n,r,i=this.view,o=i.store,a=i.renderInfo,s=arguments,l=s.length,u=[];if(i.rendered){for(r=0;r<l;r++)u[r]=this.isSelected(s[r]);for(n=a.indexTop;n<a.indexBottom;n++)for(t=new ei.Z.grid.Location(i,o.getAt(n)),r=0;r<l;r++)t=t.cloneForColumn(s[r]),u[r]?i.onCellSelect(t):i.onCellDeselect(t)}},remove:function(e,t){var n=this,r=n.getSelectionModel();n.selectedColumns&&(ei.Z.Array.remove(n.selectedColumns,e),e.getGrid()&&e.isVisible()&&(n.refreshColumns(e),r.updateHeaderState(),t||(r.fireSelectionChange(),n.fireColumnSelection())))},fireColumnSelection:function(){var e=this.getSelectionModel().getView();e.fireEvent("columnselection",e,this.selectedColumns)},selectAll:function(){var e=this;e.clear(),e.selectedColumns=e.getSelectionModel().lastContiguousColumnRange=e.view.getHeaderContainer().getVisibleColumns(),e.refreshColumns.apply(e,e.selectedColumns)},extendRange:function(e){for(var t=this.view.getHeaderContainer().getVisibleColumns(),n=e.start.columnIndex;n<=e.end.columnIndex;n++)this.add(t[n])},reduceRange:function(e){for(var t=this.view.getHeaderContainer().getVisibleColumns(),n=e.start.columnIndex,r=e.end.columnIndex,i=(e=Math.abs(n-r)+1,this.selectedColumns.length-e);0<i;i--)this.remove(t[r+i])},onSelectionFinish:function(){var e,t=this,n=t.getContiguousSelection();n?(e=new ei.Z.grid.Location(t.view,{record:0,column:n[0]}),n=new ei.Z.grid.Location(t.view,{record:t.view.getStore().getCount()-1,column:n[1]}),t.getSelectionModel().onSelectionFinish(t,e,n)):t.getSelectionModel().onSelectionFinish(t)},getContiguousSelection:function(){var e,t=ei.Z.Array.sort(this.getColumns(),(function(e,t){return e.getGrid().ownerGrid.getHeaderContainer().indexOfLeaf(e)-t.getGrid().ownerGrid.getHeaderContainer().indexOfLeaf(t)})),n=t.length;if(n){for(e=1;e<n;e++)if(t[e].getVisibleIndex()!==t[e-1].getVisibleIndex()+1)return!1;return[t[0],t[n-1]]}}}}),ei.Z.define("GRUI.grid.selection.Replicator",{extend:"GRUI.plugin.Abstract",alias:"plugin.selectionreplicator",init:function(e){this.gridListeners=e.on({beforeselectionextend:this.onBeforeSelectionExtend,scope:this,destroyable:!0})},onBeforeSelectionExtend:function(e,t,n){var r=this.columns=[];return t.eachColumn((function(e){r.push(e)})),this.replicateSelection(e,t,n)},replicateSelection:function(e,t,n){var r,i,o,a,s,l,u,c,d,f,h,p,g,m,v,y,b,C,S,x=this;if(!n.columns&&!t.isColumns){if(r=x.columns,c=t.getFirstRowIndex(),y=(d=t.getLastRowIndex())-c+1,b=[],i=r.length,p=r[0].getGrid().getStore(),1==y)s=x.getColumnValues(t.view.getStore().getAt(c));else for(s=new Array(i),(b=n.rows<0?[p.getAt(c+1),p.getAt(c)]:[p.getAt(d-1),p.getAt(d)])[0]=x.getColumnValues(b[0]),b[1]=x.getColumnValues(b[1]),o=0;o<i;o++)C=b[1][o],S=b[0][o],isNaN(C)||isNaN(S)||(s[o]=Number(C)-Number(S));if(h=n.rows<0?(l=n.end.recordIndex,u=n.start.recordIndex-1,-1):(l=n.start.recordIndex,u=n.end.recordIndex+1,1),1==y)for(f=l;f!==u;f+=h)for(g=p.getAt(f),o=0;o<i;o++)(a=r[o]).getField()&&g.set(a.getField(),s[o]);else for(f=l;f!==u;f+=h)for(g=p.getAt(f),m=x.getColumnValues(p.getAt(f-h)),o=0;o<i;o++)(a=r[o]).getField()&&(v=m[o],isNaN(v)||g.set(a.getField(),ei.Z.coerce(Number(v)+s[o],v)))}},getColumnValues:function(e){for(var t,n=this.columns,r=n.length,i=new Array(n.length),o=0;o<r;o++)(t=n[o]).getField()&&(i[o]=e.get(t.getField()));return i},destroy:function(){this.gridListeners=ei.Z.destroy(this.gridListeners),this.callParent2(this,"GRUI.plugin.Abstract","null","destroy",this.destroy,arguments)}}),ei.Z.define("GRUI.grid.selection.SelectionExtender",{requires:["GRUI.grid.Location","GRUI.util.TaskManager"],maskBox:{},constructor:function(e){var t=this,n=e.view,r={dragstart:"onDragStart",dragend:"onDragEnd",scope:t};ei.Z.apply(t,e),t.el=n.outerCt,t.handle=n.bodyElement.createChild({cls:ei.Z.baseCSSPrefix+"selmodel-extender-drag-handle"}).hide(),ei.Z.supports.Touch&&(r.longpress="onHandleLongpress"),t.handle.on(r),t.mask=n.outerCt.createChild({cls:ei.Z.baseCSSPrefix+"selmodel-extender-mask"}).hide(),t.scrollListener=n.getScrollable().on({scroll:t.onViewScroll,scope:t,destroyable:!0}),t.viewListener=n.on({columnresize:"alignHandle",columnhide:"alignHandle",columnshow:"alignHandle",columnmove:"alignHandle",scope:t,destroyable:!0}),e&&e.axes&&t.setAxes(e.axes)},setAxes:function(e){var t=this;t.axes=e,t.extendX=!!(1&e),t.extendY=!!(2&e)},setHandle:function(e,t){var n=this;n.firstPos=e,n.endPos=t,e&&t&&t.getCell(!0)?(n.curPos=t,n.alignHandle()):n.disable()},alignHandle:function(){var e=this,t=e.endPos;e.firstPos&&t&&e.view.isRecordRendered(t.recordIndex)?((t=t.clone({record:t.record,column:t.column}).getCell())&&t.isVisible()?e.enable():e.disable(),e.handle.alignTo(t,"c-br")):e.disable()},enable:function(){this.handle.show()},disable:function(){this.handle.hide(),this.mask.hide()},onHandleLongpress:function(e){e.startDrag()},onDragStart:function(e){"touch"===e.pointerType&&!e.longpress||(e.claimGesture(),this.handle.on("drag",this.onDrag,this))},onDrag:function(e){var t,n,r,i,o,a,s,l=this;if(e.changedTouches&&(n=e.changedTouches[0])&&!ei.Z.fly(n.target).getRegion().contains(n.point)&&(n=ei.Z.event.Event.resolveTextNode(ei.Z.Element.fromPagePoint(n.pageX,n.pageY,!0)))&&(e.target=n),n=e.target,t=(r=l.view).getScrollable().getElement().getClientRegion(),r=new ei.Z.grid.Location(r,n),i=l.scrollTask||(l.scrollTask=ei.Z.util.TaskManager.newTask({run:l.doAutoScroll,scope:l,interval:10})),o=25*(window.devicePixelRatio||1),a=3*(window.devicePixelRatio||1),s=l.scrollBy||(l.scrollBy=[]),e.claimGesture(),l.lastXY=[e.pageX,e.pageY],!l.el.contains(n))return s[0]=s[1]=0,i.stop();l.lastXY[1]>t.bottom-o?l.extendY&&(s[1]=a,i.start()):l.lastXY[1]<t.top+o?l.extendY&&(s[1]=-a,i.start()):l.lastXY[0]>t.right-o?l.extendX&&(s[0]=a,i.start()):l.lastXY[0]<t.left+o?l.extendX&&(s[0]=-a,i.start()):(s[0]=s[1]=0,i.stop()),r&&r.getCell()&&!r.equals(l.lastOverCell)&&(l.lastOverCell=r,l.syncMaskOnCell(r))},doAutoScroll:function(){var e=this,t=e.view.getScrollable();t.scrollBy.apply(t,e.scrollBy),(t=(t=document.elementFromPoint.apply(document,e.lastXY))&&new ei.Z.grid.Location(e.view,t))&&t.getCell()&&!t.equals(e.lastOverCell)&&(e.lastOverCell=t,e.syncMaskOnCell(t))},onDragEnd:function(e){var t=this,n=t.view.getSelectable(),r=n&&n.getSelection();t.handle.un("drag",t.onDrag,t),t.scrollTask&&t.scrollTask.stop(),t.extensionDescriptor&&(t.disable(),r.isColumns&&e.direction.y<0||r.isRows&&e.direction.x<0?t.alignHandle():n.extendSelection(t.extensionDescriptor))},onViewScroll:function(){var e=this;(e.active&&e.lastOverCell||e.firstPos)&&(e.endPos=e.endPos.clone({record:e.endPos.recordIndex}),e.alignHandle())},stopEvent:function(e){e.stopEvent()},syncMaskOnCell:function(e){var t=this,n=t.view,r=n.renderInfo,i=t.maskBox,o=t.firstPos.recordIndex,a=t.endPos.recordIndex,s=t.firstPos.clone({record:o}),l=t.endPos.clone({record:a}),u=!t.allowReduceSelection;o=t.firstPos.clone({record:ei.Z.Number.constrain(Math.min(o,a),r&&r.indexTop,r&&r.indexBottom-1),column:t.firstPos.column}),a=t.endPos.clone({record:ei.Z.Number.constrain(Math.max(o.recordIndex,a),r&&r.indexTop,r&&r.indexBottom-1)}),r=o.getCell(),o=a.getCell();t.selectionRegion=a=r.getRegion().union(o.getRegion()),e=(t.curPos=r=e).getCell("el"),t.mask.dom.style.borderTopWidth=t.mask.dom.style.borderRightWidth=t.mask.dom.style.borderBottomWidth=t.mask.dom.style.borderLeftWidth="",r.recordIndex<t.firstPos.recordIndex&&t.extendY?(t.extensionDescriptor={type:"rows",start:s.clone({record:r.recordIndex}),end:l.clone({record:t.firstPos.recordIndex-1}),rows:r.recordIndex-t.firstPos.recordIndex,mousePosition:t.lastXY},t.mask.dom.style.borderBottomWidth="0",i.x=a.x,i.y=e.getY(),i.width=a.right-a.left,i.height=a.top-e.getY()):r.recordIndex>t.endPos.recordIndex&&t.extendY?(t.extensionDescriptor={type:"rows",start:s.clone({record:t.endPos.recordIndex+1}),end:l.clone({record:r.recordIndex}),rows:r.recordIndex-t.endPos.recordIndex,mousePosition:t.lastXY},t.mask.dom.style.borderTopWidth="0",i.x=a.x,i.y=a.bottom,i.width=a.right-a.left,i.height=e.getRegion().bottom-a.bottom):!u&&r.recordIndex<t.endPos.recordIndex&&t.extendY&&r.columnIndex===t.endPos.columnIndex?(t.extensionDescriptor={type:"rows",start:s.clone({record:t.endPos.recordIndex}),end:l.clone({record:r.recordIndex+1}),rows:-1,mousePosition:t.lastXY,reduce:!0},t.mask.dom.style.borderTopWidth="0",i.x=a.x,i.y=a.top,i.width=a.right-a.left,i.height=e.getRegion().bottom-a.top):r.columnIndex<t.firstPos.columnIndex&&t.extendX?(t.extensionDescriptor={type:"columns",start:s.clone({column:r.columnIndex}),end:l.clone({column:t.firstPos.columnIndex-1}),columns:r.columnIndex-t.firstPos.columnIndex,mousePosition:t.lastXY},t.mask.dom.style.borderRightWidth="0",i.x=e.getX(),i.y=a.top,i.width=a.left-e.getX(),i.height=a.bottom-a.top):r.columnIndex>t.endPos.columnIndex&&t.extendX?(t.extensionDescriptor={type:"columns",start:s.clone({column:t.endPos.columnIndex+1}),end:l.clone({column:r.columnIndex}),columns:r.columnIndex-t.endPos.columnIndex,mousePosition:t.lastXY},t.mask.dom.style.borderLeftWidth="0",i.x=a.right,i.y=a.top,i.width=e.getRegion().right-a.right,i.height=a.bottom-a.top):!u&&r.columnIndex<t.endPos.columnIndex&&t.extendX?(t.extensionDescriptor={type:"columns",start:s.clone({column:t.firstPos.columnIndex}),end:l.clone({column:r.columnIndex}),columns:-1,mousePosition:t.lastXY,reduce:!0},t.mask.dom.style.borderLeftWidth="0",i.x=a.left,i.y=a.top,i.width=e.getRegion().right-a.left,i.height=a.bottom-a.top):t.extensionDescriptor=null,n.hasListeners.selectionextenderdrag&&n.fireEvent("selectionextenderdrag",n,n.getSelectable().getSelection(),t.extensionDescriptor),t.extensionDescriptor?(t.mask.show(),t.mask.setBox(i)):t.mask.hide()},destroy:function(){this.destroyMembers("viewListener","scrollListener","mask","handle")}}),ei.Z.define("GRUI.grid.cell.Number",{extend:"GRUI.grid.cell.Text",xtype:"numbercell",isNumberCell:!0,requires:["GRUI.util.Format"],config:{format:"0,000.00"},classCls:ei.Z.baseCSSPrefix+"numbercell",zeroValue:null,updateColumn:function(e,t){var n;this.callParent2(this,"GRUI.grid.cell.Text","null","updateColumn",this.updateColumn,arguments),e&&e.isNumberColumn&&null!==(n=e.getFormat())&&this.setFormat(n)},updateFormat:function(e){this.isConfiguring||this.writeValue()},formatValue:function(e){var t,n=e||0===e;return 0===e&&null!==(t=this.getZeroValue())?t||"":n?ei.Z.util.Format.number(e,this.getFormat()):""}}),ei.Z.define("GRUI.grid.cell.Check",{extend:"GRUI.grid.cell.Base",xtype:"checkcell",config:{disabled:null},innerTemplate:[{reference:"checkboxElement",tabIndex:-1,cls:ei.Z.baseCSSPrefix+"checkbox-el "+ei.Z.baseCSSPrefix+"font-icon"}],classCls:ei.Z.baseCSSPrefix+"checkcell",disabledCls:ei.Z.baseCSSPrefix+"disabled",checkedCls:ei.Z.baseCSSPrefix+"checked",constructor:function(e){this.callParent2(this,"GRUI.grid.cell.Base","null","constructor",this.constructor,arguments),this.checkboxElement.on("tap","onTap",this)},applyValue:function(e){return!!e},updateValue:function(e,t){var n=this,r=n.getColumn();n.el.toggleCls(n.checkedCls,!!e),e?r.updateHeaderState():r.setHeaderStatus(e)},updateColumn:function(e,t){this.callParent2(this,"GRUI.grid.cell.Base","null","updateColumn",this.updateColumn,arguments),e&&this.setDisabled(e.getDisabled())},applyDisabled:function(e){return Boolean(e)},updateDisabled:function(e){this.element.toggleCls(this.disabledCls,e)},disable:function(){this.setDisabled(!0)},enable:function(){this.setDisabled(!1)},onTap:function(e){var t,n=this,r=n.getRecord(),i=n.getColumn(),o=i.up("grid").getStore().indexOf(r);r&&(t=!i.isRecordChecked(r),n.getDisabled()||!1!==i.fireEvent("beforecheckchange",n,o,t,r,e)&&(n.getColumn().getStopSelection()&&(e.stopSelection=!0),r&&i.setRecordChecked(r,t,e),i.hasListeners.checkchange&&i.fireEvent("checkchange",n,o,t,r,e)))}}),ei.Z.define("GRUI.grid.column.Check",{extend:"GRUI.grid.column.Column",isCheckColumn:!0,requires:["GRUI.util.Format","GRUI.grid.cell.Number"],xtype:"checkcolumn",cachedConfig:{headerCheckboxAlign:"bottom"},config:{stopSelection:!0,headerCheckbox:!1},align:"center",classCls:ei.Z.baseCSSPrefix+"checkcolumn",noHeaderCheckboxCls:ei.Z.baseCSSPrefix+"no-header-checkbox",checkedCls:ei.Z.baseCSSPrefix+"checked",hasTextCls:ei.Z.baseCSSPrefix+"has-text",checkboxAlignCls:{top:ei.Z.baseCSSPrefix+"checkbox-align-top",right:ei.Z.baseCSSPrefix+"checkbox-align-right",bottom:ei.Z.baseCSSPrefix+"checkbox-align-bottom",left:ei.Z.baseCSSPrefix+"checkbox-align-left"},text:"",ignoreExport:!0,cell:{xtype:"checkcell"},afterTitleTemplate:[{reference:"checkboxElement",classList:[ei.Z.baseCSSPrefix+"checkbox-el",ei.Z.baseCSSPrefix+"font-icon"]}],onColumnTap:function(e){var t=this;e.target!==t.checkboxElement.dom||t.getDisabled()||t.toggleAll(e),this.callParent2(this,"GRUI.grid.column.Column","null","onColumnTap",this.onColumnTap,arguments)},toggleAll:function(e){var t=this,n=!t.allChecked;!1!==t.fireEvent("beforeheadercheckchange",t,n,e)&&(t.doToggleAll(n),t.setHeaderStatus(n),t.fireEvent("headercheckchange",t,n,e))},doToggleAll:function(e){var t=this;t.getGrid().getStore().each((function(n){t.setRecordChecked(n,e)}))},setRecordChecked:function(e,t,n){this.doSetRecordChecked(e,t=!!t),t?this.updateHeaderState():this.setHeaderStatus(t)},doSetRecordChecked:function(e,t){var n=this.getField();e.get(n)!==t&&e.set(n,t)},areAllChecked:function(){var e,t,n,r=this.getGrid().getStore();if(r&&!r.isVirtualStore&&0<r.getCount()){for(t=(e=r.getData().items).length,n=0;n<t;++n)if(!this.isRecordChecked(e[n]))return!1;return!0}},isRecordChecked:function(e){return e.get(this.getField())},updateHeaderState:function(){this.destroyed||!1===this.getHeaderCheckbox()||this.setHeaderStatus(this.areAllChecked())},setHeaderStatus:function(e){var t=this;t.allChecked!==e&&(t.allChecked=e,t.el.toggleCls(t.checkedCls,e))},updateDisabled:function(e,t){var n,r,i,o=this.getGrid();if(this.callParent2(this,"GRUI.grid.column.Column","null","updateDisabled",this.updateDisabled,arguments),o)for(r=(n=o.getViewItems()).length,i=0;i<r;i++)n[i].getCellByColumn(this).setDisabled(e)},updateHeaderCheckboxAlign:function(e,t){var n=this,r=n.checkboxAlignCls;t&&n.removeCls(r[t]),e&&n.addCls(r[e])},updateHeaderCheckbox:function(e){var t=this,n=t.getGrid();t.el.toggleCls(t.noHeaderCheckboxCls,!e),t.setSortable(t.getSortable()&&!e),n&&t.updateHeaderState()},updateText:function(e){this.setHtml(e),this.toggleCls(this.hasTextCls,!!e)}}),ei.Z.define("GRUI.grid.column.Selection",{extend:"GRUI.grid.column.Check",xtype:"selectioncolumn",classCls:ei.Z.baseCSSPrefix+"selectioncolumn",cell:{cls:ei.Z.baseCSSPrefix+"selection-cell"},weight:-900,menu:null,sortable:!1,draggable:!1,resizable:!1,hideable:!1,ignore:!0,stopSelection:!1,updateHeaderState:function(){this.isConfiguring||this.getGrid().getSelectable().updateHeaderState()},toggleAll:function(e){this.getGrid().getSelectable().toggleAll(this,e)},setRecordChecked:function(e,t,n){var r=this.getGrid().getSelectable();t?r.select(e,"single"!==r.getMode()):r.deselect(e)},isRecordChecked:function(e){return this.getGrid().getSelectable().isRowSelected(e)}}),ei.Z.define("GRUI.grid.column.Number",{extend:"GRUI.grid.column.Column",xtype:"numbercolumn",isNumberColumn:!0,requires:["GRUI.util.Format","GRUI.grid.cell.Number"],config:{format:null,validator:function(e,t,n){return isNaN(+e)},summaries:{sum:!0,min:!0,max:!0,average:!0,variance:!0,variancep:!0,stddev:!0,stddevp:!0},groupable:!1},cell:{xtype:"numbercell"},defaultEditor:{xtype:"numberfield"}}),ei.Z.define("GRUI.grid.cell.RowNumberer",{extend:"GRUI.grid.cell.Number",xtype:"rownumberercell",classCls:ei.Z.baseCSSPrefix+"rownumberercell",format:"0,000",refreshValue:function(e){var t=e.row;return e=e.summary?"\xa0":t?t.$datasetIndex+1:null}}),ei.Z.define("GRUI.grid.column.RowNumberer",{extend:"GRUI.grid.column.Number",xtype:"rownumberer",requires:["GRUI.util.TextMetrics"],isRowNumberer:!0,cell:{xtype:"rownumberercell"},menu:null,align:"right",hideable:!1,ignore:!0,ignoreExport:!0,sortable:!1,text:"",width:"auto",minWidth:null,onAdded:function(e,t){var n,r=this;this.callParent2(this,"GRUI.grid.column.Number","null","onAdded",this.onAdded,arguments),r.checkWidth(),n=r.getGrid(),r.gridListeners=n.on({storechange:"attachStoreListeners",scope:r,destroyable:!0}),r.attachStoreListeners(n.getStore())},onRemoved:function(e){ei.Z.destroy(this.gridListeners,this.storeListeners),this.callParent2(this,"GRUI.grid.column.Number","null","onRemoved",this.onRemoved,arguments)},privates:{attachStoreListeners:function(e){ei.Z.destroy(this.storeListeners),e&&(this.storeListeners=e.on({datachanged:"checkWidth",totalcountchange:"checkWidth",scope:this,destroyable:!0}))},getCharWidth:function(){var e,t,n,r=this,i=r._charWidth;return i||(e="0000000000",t=r.getScratchCell(),(n=r.getCell().ui)&&t.addUi(n),(n=r.getGrid().getUi())&&t.addUi(n),document.body.appendChild(t.el.dom),n=ei.Z.util.TextMetrics.measure(t.bodyElement,e).width,document.body.removeChild(t.el.dom),r._charWidth=i=n/e.length),i},checkWidth:function(){var e=this;document.fonts?document.fonts.ready.then((function(){e.destroyed||e.doCheckWidth()})):e.doCheckWidth()},doCheckWidth:function(){var e=this,t=e.getGrid().getStore(),n=1,r=e.getCharWidth();t&&t.getTotalCount()&&(n=e.getScratchCell().printValue(t.getTotalCount()).length),e.textElement.setStyle("min-width",Math.ceil(n*r)+"px")}}}),ei.Z.define("GRUI.grid.selection.Model",{extend:"GRUI.dataview.selection.Model",requires:["GRUI.grid.Location","GRUI.grid.selection.*"],alias:"selmodel.grid",isGridSelectionModel:!0,config:{columns:{$value:!1,lazy:!0},cells:{$value:!1,lazy:!0},rows:{$value:!0,lazy:!0},drag:!1,extensible:{$value:!1,lazy:!0},reducible:!0,checkbox:!1,headerCheckbox:!0,checkboxDefaults:{xtype:"selectioncolumn",text:null,width:30},showNumbererColumn:!1},checkboxSelect:!1,checkboxColumnIndex:0,mode:"multi",columnSelectCls:ei.Z.baseCSSPrefix+"selmodel-column-select",rowNumbererHeaderCls:ei.Z.baseCSSPrefix+"selmodel-row-numberer-hd",updateView:function(e,t){var n=this,r=n.numbererColumn=e.getRowNumbers(),i=n.getCheckbox();this.callParent2(this,"GRUI.dataview.selection.Model","null","updateView",this.updateView,arguments),t&&(n.navigationModel=null,ei.Z.destroy(n.viewListeners)),e&&(r&&(r.setCell({cls:n.rowNumbererCellCls}),r.setCls(n.rowNumbererHeaderCls)),i&&e.registerColumn(i,n.checkboxColumnIndex),n.viewListeners=e.on(n.getViewListeners()))},onViewCreated:function(e){this.getColumns()&&e.addCls(this.columnSelectCls),this.updateHeaderState()},updateDrag:function(e){var t=this.getView(),n={dragstart:"onViewDragStart",delegate:t.eventDelegate,scope:this};ei.Z.supports.Touch&&(n.longpress="onViewLongpress"),t.innerCt[e?"on":"un"](n)},getSelection:function(e,t){var n,r;return"rows"!==e&&"records"!==e||(e=this.getStore().isVirtualStore?"rows":"records"),r=this.callParent2(this,"GRUI.dataview.selection.Model","null","getSelection",this.getSelection,arguments),e&&(e=e.toLowerCase(),r&&r.type===e?t&&r.clear(!0):(n={type:e},"records"===e&&(n.selected=this.getSelected()),this.setSelection(n),r=this.callParent2(this,"GRUI.dataview.selection.Model","null","getSelection",this.getSelection,arguments))),r},createCheckboxColumn:function(e){return ei.Z.apply({headerCheckbox:!1!==this.getHeaderCheckbox()},e)},onHeaderTap:function(e,t,n){var r,i,o,a=this,s=a.getSelection();if(t===this.numbererColumn)a.toggleAll(t,n);else if(a.getColumns()&&t!==a.getCheckbox())if(n.shiftKey&&s&&s.lastColumnSelected)for(n.ctrlKey||s.clear(),i=(e=a.getView().getHeaderContainer()).getColumns(),o=(r=ei.Z.Array.sort([e.indexOfLeaf(s.lastColumnSelected),e.indexOf(t)],ei.Z.Array.numericSortFn))[0];o<=r[1];o++)a.selectColumn(i[o],!0);else e=a.isColumnSelected(t),n.ctrlKey?e&&(a.deselectColumn(t),a.getSelection().lastColumnSelected=null):s.clear(),e&&(n.ctrlKey||"touch"===n.pointerType)||(a.selectColumn(t,n.ctrlKey),a.getSelection().lastColumnSelected=t),a.updateSelectionExtender()},toggleAll:function(e,t){var n=this,r=n.getSelection();t.stopEvent(),r&&r.isAllSelected()?n.deselectAll():n.selectAll(),n.updateHeaderState(),n.lastColumnSelected=null},selectByLocation:function(e){var t=this,n=e.record,r=e.column;t.getCells()?t.selectCells(e,e):t.getRows()&&n?this.select(n):t.getColumns()&&r&&t.selectColumn(r)},updateHeaderState:function(){var e,t=(i=this).getStore(),n=i.getSelection(),r=!1,i=i.getCheckbox();t&&n&&n.isRows&&(e=t.getCount(),r=t.isBufferedStore?n.allSelected:0<e&&e===n.getCount()),i&&i.setHeaderStatus(r)},onColumnUpdate:function(e,t){var n=this.getCheckbox();n&&(e&&e.remove(n,!1),t.push(n))},select:function(e,t,n){for(var r,i=this.getSelection("records"),o=this.getStore(),a=(e=ei.Z.isArray(e)?e:[e]).length,s=0;s<a;s++)"number"==typeof(r=e[s])&&(e[s]=o.getAt(r));i.add(e,t,n)},deselect:function(e,t){var n,r,i,o=this.getSelection("records"),a=this.getView().getStore();if(o&&o.isRecords)for(n=(e=ei.Z.isArray(e)?e:[e]).length,r=0;r<n;r++)"number"==typeof(i=e[r])&&(e[r]=a.getAt(i));o.remove(e,t)},onCollectionRemove:function(e,t){this.updateHeaderState(),this.callParent2(this,"GRUI.dataview.selection.Model","null","onCollectionRemove",this.onCollectionRemove,arguments)},onCollectionAdd:function(e,t){this.updateHeaderState(),this.callParent2(this,"GRUI.dataview.selection.Model","null","onCollectionAdd",this.onCollectionAdd,arguments)},selectCells:function(e,t,n){var r=this.getView();e=e.isGridLocation?e.clone():new ei.Z.grid.Location(r,{record:e[0],column:e[1]}),t=t.isGridLocation?t.clone():new ei.Z.grid.Location(r,{record:t[0],column:t[1]}),this.resetSelection(!0),(r=this.getSelection("cells")).setRangeStart(e),r.setRangeEnd(t),n||this.fireSelectionChange()},selectAll:function(e){var t,n=this,r=n.getSelection();n.getRows()?(r=n.getSelection("records"),t=!0):n.getCells()?(r=n.getSelection("cells"),t=!0):n.getColumns()&&(r=n.getSelection("columns"),t=!0),t&&r.selectAll(e)},deselectAll:function(e){var t=this.getSelection();t&&t.getCount()&&t.clear(e)},selectRows:function(e,t,n){var r=this.getSelection("records");t||this.resetSelection(!0),r.add(e,t,n)},isSelected:function(e){return this.isRowSelected(e)},selectColumn:function(e,t,n){var r=this.getSelection("columns");r.isSelected(e)||(t?r.add(e):(r.clear(n),r.setRangeStart(e)))},deselectColumn:function(e,t){var n=this.getSelection();n&&n.isColumns&&n.isSelected(e)&&n.remove(e,t)},destroy:function(){var e=this.getView(),t=this.checkbox;e&&!e.destroying&&t&&e.unregisterColumn(t,!0),ei.Z.destroy(this.viewListeners,this.getConfig("extensible",null,!0)),this.callParent2(this,"GRUI.dataview.selection.Model","null","destroy",this.destroy,arguments)},privates:{axesConfigs:{x:1,y:2,xy:3,both:3,true:3},getViewListeners:function(){return{columnschanged:"onColumnsChanged",columnmove:"onColumnMove",scope:this,destroyable:!0}},refreshSelection:function(){this.getSelection().isRecords?this.callParent2(this,"GRUI.dataview.selection.Model","null","refreshSelection",this.refreshSelection,arguments):this.resetSelection()},onColumnsChanged:function(){var e,t,n=this,r=n.getSelection();r&&(e=r.view,r.isCells?e.visibleColumns().length?r.eachCell((function(t){e.onCellDeselect(t)})):n.clearSelections():r.isColumns&&(t=!1,r.eachColumn((function(r){r.isVisible()&&e.isAncestor(r)||(n.remove(r),t=!0)})))),ei.Z.on("idle",t?n.fireSelectionChange:n.updateSelectionExtender,n,{single:!0})},onColumnMove:function(){this.updateSelectionExtender()},resetSelection:function(e){var t=this.getSelection();t&&t.clear(e)},onViewLongpress:function(e){"touch"===e.pointerType&&e.startDrag()},onViewDragStart:function(e){if("touch"!==e.pointerType||e.longpress){var t,n=this,r=n.getView(),i=new ei.Z.grid.Location(r,e),o=i.column,a=r.getNavigationModel().getLocation(),s=o===n.getCheckbox(),l=!1;if(i.cell&&!(e.claimed||0<e.button||e.altKey||a&&a.actionable)&&r.shouldSelectItem(e)&&o){if(e.claimGesture(),n.mousedownPosition=i.clone(),s&&(n.checkCellClicked=i.cell.element.dom),o===n.numbererColumn||s||!n.getCells())if(n.getRows()){if(e.shiftKey&&n.isSelected(i.record))l=!0;else if(!e.shiftKey&&!s&&n.checkboxOnly)return;t=n.getSelection("records"),e.shiftKey||e.ctrlKey||s||t.clear()}else{if(!n.getColumns())return!1;t=n.getSelection("columns"),e.shiftKey&&n.isColumnSelected(i.column)?l=!0:e.shiftKey||e.ctrlKey||s||t.clear()}else t=n.getSelection("cells"),e.shiftKey&&n.isCellSelected(i.recordIndex,i.columnIndex)?l=!0:e.shiftKey||t.clear();l||(n.lastDragLocation=null),e.longpress&&(i.row.removeCls(r.pressedCls),n.onViewSelectionDrag(e)),t&&(r.innerCt.on("dragend",n.onViewDragEnd,n,{single:!0}),n.mousemoveListener=r.innerCt.on({drag:"onViewSelectionDrag",scope:n,delegate:r.eventDelegate,destroyable:!0}))}}},onViewSelectionDrag:function(e){var t,n=this,r=n.getView();e.changedTouches&&(t=e.changedTouches[0])&&!ei.Z.fly(t.target).getRegion().contains(t.point)&&(t=ei.Z.event.Event.resolveTextNode(ei.Z.Element.fromPagePoint(t.pageX,t.pageY,!0)))&&(e.target=t),n.stopAutoScroller(),ei.Z.fly(e.target).up(r.eventDelegate)?(t=n.dragLocation=new ei.Z.grid.Location(r,e),n.changeSelectionRange(r,t,e)):n.scrollTowardsPointer(e,r)},changeSelectionRange:function(e,t,n){var r,i,o,a=this,s=t.column,l=t.record,u=t.recordIndex,c=a.lastDragLocation;if(n.claimGesture(),c&&(i=c.record,o=c.column),a.checkCellClicked)return(r=a.getSelection("rows")).setRangeStart(a.getStore().indexOf(l)),void(a.checkCellClicked=null);r=a.getSelection(),a.getExtensible()&&a.getExtensible().disable(),s&&(n=l!==i,c=s!==o,r.isRows||r.isRecords?n&&(i?r.setRangeEnd(u):r.setRangeStart(u)):r.isCells?(n||c)&&(i?r.setRangeEnd(t):r.setRangeStart(t)):r.isColumns&&c&&(o?r.setRangeEnd(t.column):r.setRangeStart(t.column)),(n||c)&&e.getNavigationModel().setLocation(t),a.lastDragLocation=t)},scrollTowardsPointer:function(e,t){var n=this,r=t.getScrollable().getElement().getClientRegion(),i=e.getXY(),o=(t=n.scrollTask||(n.scrollTask=ei.Z.util.TaskManager.newTask({run:n.doAutoScroll,args:[e,t],scope:n,interval:10})),25*(window.devicePixelRatio||1)),a=3*(window.devicePixelRatio||1);n=n.scrollBy||(n.scrollBy=[]);e.claimGesture(),i[1]>r.bottom-o?(n[0]=0,n[1]=a,t.start()):i[1]<r.top+o?(n[0]=0,n[1]=-a,t.start()):i[0]>r.right-o?(n[0]=a,n[1]=0,t.start()):i[0]<r.left+o&&(n[0]=-a,n[1]=0,t.start())},doAutoScroll:function(e,t){var n=this,r=t.getScrollable().getElement().getClientRegion(),i=t.getScrollable(),o=[];i.scrollBy.apply(i,n.scrollBy),n.scrollBy[0]?o[0]=0<n.scrollBy[0]?r.right-5:r.left+5:o[0]=e.getX(),n.scrollBy[1]?o[1]=0<n.scrollBy[1]?r.bottom-5:r.top+5:o[1]=e.getY(),(i=document.elementFromPoint.apply(document,o))&&((i=ei.Z.fly(i).up(t.cellSelector))?(r=new ei.Z.grid.Location(t,i),i&&!r.equals(n.lastDragLocation)&&n.changeSelectionRange(t,r,e)):n.stopAutoScroller())},stopAutoScroller:function(){var e=this;e.scrollTask&&(e.scrollBy[0]=e.scrollBy[1]=0,e.scrollTask.stop(),e.scrollTask=null)},onViewDragEnd:function(e){var t=this,n=t.getView(),r=!(r=t.dragLocation)||!r.equals(t.mousedownPosition),i=e.location;t.checkCellClicked=null,t.stopAutoScroller(),n&&!n.destroyed&&(i||(e.location=new ei.Z.grid.Location(n,e)),t.getExtensible()&&r&&t.getExtensible().disable(),t.mousemoveListener.destroy(),(i=t.getSelection())&&i.isRows?i.addRange(!0):r&&t.fireSelectionChange())},onNavigate:function(e){var t,n=this,r=(n.getView(),n.getStore()),i=n.getRows(),o=n.getCells(),a=n.getColumns(),s=n.getCheckbox(),l=n.checkboxOnly,u=n.getMode(),c=e.to,d=c.column,f=c.record,h=n.getSelection(),p=e.ctrlKey,g=e.shiftKey,m=!0,v=e.getKey()===e.SPACE;if(!e.stopSelection&&d!==n.checkboxColumn){if(!e.pointerType&&!v){if(p)return;if(e.from&&c.recordIndex===e.from.recordIndex&&!o&&!a)return}if((!(h&&(h.isCells||h.isColumns&&i&&!p&&!g)&&1<h.getCount())||g||"click"!==e.type)&&(o||a||i)&&f&&"mousedown"!==e.type){if(p&&e.keyCode===e.A&&"multi"===u)return!h||h.getCount()<2?n.selectAll():n.deselectAll(),void n.updateHeaderState();if(g&&"multi"===u)if(d===n.numbererColumn||d===n.checkColumn||!o&&!a||h&&(h.isRows||h.isRecords)){if(i){if(d!==s&&l)return;(h=n.getSelection("records")).getRangeSize()||(null==n.selectionStart&&(n.selectionStart=c.recordIndex),h.setRangeStart(n.selectionStart)),h.setRangeEnd(c.recordIndex),t=!0}}else o?(g=(h=n.getSelection("cells")).getCount(),h.getRangeSize()||h.setRangeStart(e.from||new ei.Z.grid.Location(n.getView(),{record:0,column:0})),h.setRangeEnd(c),m=g<h.getCount(),t=!0):a&&((h=n.getSelection("columns")).getCount()||h.setRangeStart(d),h.setRangeEnd(d),t=!0);else if(n.selectionStart=null,!h||"multi"===u&&p||v||h.clear(!0),!i||d!==n.numbererColumn&&d!==s&&o)o?((h=n.getSelection("cells",!0)).setRangeStart(c),t=!0):a&&(h=n.getSelection("columns"),p?h.isSelected(d)?h.remove(d):h.add(d):h.setRangeStart(d),t=!0);else{if(d!==s&&l||e.keyCode&&e.from&&f===e.from.record)return;(h=n.getSelection("records")).isSelected(f)?(p||d===s||n.getDeselectable())&&(h.remove(f),t=!0):(h.add(f,p||d===s),t=!0),t&&(g=h.getSelected())&&g.length&&(n.selectionStart=r.indexOf(g.first()),h.setRangeStart(n.selectionStart))}!t||h.isRecords||n.fireSelectionChange(null,m),n.lastDragLocation=c}}},isColumnSelected:function(e){var t=this.getSelection(),n=!1;return t&&t.isColumns?t.isSelected(e):n},isCellSelected:function(e,t){var n=this.getSelection();return!!n&&(n.isColumns?("number"==typeof t&&(t=this.getView().getVisibleColumns()[t]),n.isSelected(t)):n.isCells?n.isSelected(e,t):n.isSelected(e))},updateSelection:function(e,t){this.getView(),ei.Z.destroy(t),e&&e.getCount()&&(t=e.view,e.isRows?e.eachRow(t.onRowSelect,t):(e.isColumns||e.isCells)&&e.eachCell(t.onCellSelect,t))},updateRows:function(e){e||(this.setCheckbox(!1),(e=this.getSelection())&&e.isRows&&e.clear())},updateColumns:function(e){var t=this.getView(),n=this.getSelection();!e&&n&&n.isColumns&&(n.clear(),this.fireSelectionChange()),t.toggleCls(this.columnSelectCls,!!e)},updateCells:function(e){var t=this.getSelection();!e&&t&&t.isCells&&(t.clear(),this.fireSelectionChange())},updateMode:function(e){"multi"===e?this.setDrag(this.getInitialConfig().drag):this.isConfiguring||this.setDrag(!1)},fireSelectionChange:function(e,t){var n=this,r=n.getView(),i=n.getSelection();n.updateSelectionExtender(),n.fireEvent("selectionchange",r,n.getSelection()),i.isCells?r.fireEvent("selectionchange",r,i.getRange(),t,i):r.fireEvent("selectionchange",r,i.isRecords?e:i.isCells?i.getRecords():null,t,n.getSelection())},updateSelectionExtender:function(){var e=this.getSelection();e&&e.onSelectionFinish()},onSelectionFinish:function(e,t,n){var r=this.getExtensible();r&&r.setHandle(t,n)},applyExtensible:function(e,t){var n;if(e){if(!0===e||"string"==typeof e){if(n=this.axesConfigs[e],t)return t.setAxes(n),t;e={axes:n}}else e=ei.Z.Object.chain(e);return e.allowReduceSelection=this.getReducible(),e.view=this.getView(),t&&t.destroy(),new ei.Z.grid.selection.SelectionExtender(e)}},applyReducible:function(e){return!!e},updateReducible:function(e){var t=this.getConfig("extensible",null,!0);t&&(t.allowReduceSelection=e)},applyCheckbox:function(e){return e&&(this.checkboxOnly="only"===e,this.checkboxColumn=e=ei.Z.create(this.createCheckboxColumn(this.getCheckboxDefaults()))),e},updateCheckbox:function(e,t){var n;this.isConfiguring||(n=this.getView(),t&&n.unregisterColumn(t,!0),e&&(n.registerColumn(e),this.setRows(!0)))},applyView:function(e){return e.ownerGrid},extendSelection:function(e){var t=this.getView(),n=this.getSelection(),r=e.reduce?"reduce":"extend";!1!==t.fireEvent("beforeselectionextend",t,n,e)&&(n[r+"Range"](e),n.isRows||this.fireSelectionChange())},onIdChanged:function(e,t,n,r){var i=this.getSelection();i&&i.isRecords&&i.getSelected().updateKey(t,n)},onSelectionStoreAdd:function(){this.callParent2(this,"GRUI.dataview.selection.Model","null","onSelectionStoreAdd",this.onSelectionStoreAdd,arguments),this.updateHeaderState()},onSelectionStoreClear:function(){this.callParent2(this,"GRUI.dataview.selection.Model","null","onSelectionStoreClear",this.onSelectionStoreClear,arguments),this.updateHeaderState()},onSelectionStoreLoad:function(){this.callParent2(this,"GRUI.dataview.selection.Model","null","onSelectionStoreLoad",this.onSelectionStoreLoad,arguments),this.updateHeaderState()}}},(function(e){var t;ei.Z.ClassManager.get("GRUI.grid.column.RowNumberer")&&(t=ei.Z.grid.column.RowNumberer.prototype.cellCls,e.prototype.rowNumbererCellCls=(t?t+" ":"")+ei.Z.baseCSSPrefix+"selmodel-row-numberer-cell")})),ei.Z.define("GRUI.grid.plugin.ColumnResizing",{extend:"GRUI.Component",alias:["plugin.columnresizing","plugin.gridcolumnresizing"],config:{grid:null,realtime:!1},hasResizingCls:ei.Z.baseCSSPrefix+"has-columnresizing",resizingCls:ei.Z.baseCSSPrefix+"resizing",columnSelector:"."+ei.Z.baseCSSPrefix+"gridcolumn",resizerSelector:"."+ei.Z.baseCSSPrefix+"gridcolumn ."+ei.Z.baseCSSPrefix+"resizer-el",init:function(e){this.setGrid(e),e.getHeaderContainer().setTouchAction({panX:!1})},updateGrid:function(e,t){var n=this,r=n.hasResizingCls;t&&(t.getHeaderContainer().renderElement.un({touchstart:"onContainerTouchStart",scope:n,priority:100}),t.removeCls(r)),e&&(n._resizeMarker=t=e.resizeMarkerElement,n._resizeMarkerParent=t.parent(),e.getHeaderContainer().renderElement.on({touchstart:"onContainerTouchStart",scope:n}),e.addCls(r))},onContainerTouchStart:function(e){var t=this,n=t.getGrid().getHeaderContainer(),r=e.getTarget(t.columnSelector);e.getTarget(t.resizerSelector)&&!e.multitouch&&r&&!t._resizeColumn?(r=ei.Z.Component.from(r))&&r.getResizable()&&(t._startColumnWidth=r.getComputedWidth(),t._minColumnWidth=r.getMinWidth(),t._maxColumnWidth=r.getMaxWidth(),t._resizeColumn=r,t._startX=e.getX(),r.addCls(t.resizingCls),n.renderElement.suspendEvent("drag","longpress"),this.getRealtime()?r.setWidth(t._startColumnWidth):(t._resizeMarker.show(),t._resizeMarker.setLeft(r.el.getOffsetsTo(t._resizeMarkerParent)[0]+t._startColumnWidth)),t.touchListeners=ei.Z.getBody().on({touchEnd:"onTouchEnd",touchMove:"onTouchMove",scope:t,destroyable:!0})):e.multitouch&&t._resizeColumn&&t.endResize()},onTouchMove:function(e){var t,n=this,r=n._resizeColumn;e.isMultitouch?n.endResize():r&&(t=e.getX()-n._startX,n.currentColumnWidth=Math.max(Math.ceil(n._startColumnWidth+t),n._minColumnWidth),n._maxColumnWidth&&(n.currentColumnWidth=Math.min(n.currentColumnWidth,n._maxColumnWidth)),n.getRealtime()?(r.setWidth(n.currentColumnWidth),r.renderElement.setWidth(n.currentColumnWidth)):n._resizeMarker.setLeft(r.el.getOffsetsTo(n._resizeMarkerParent)[0]+n.currentColumnWidth),r.resizing=!0,e.claimGesture())},onTouchEnd:function(e){var t=this._resizeColumn,n=e.getX()!==this._startX;ei.Z.destroy(this.touchListeners),t&&(this.endResize(),n||t.onResizerTap(e))},endResize:function(){var e=this,t=e._resizeColumn,n=e.getGrid();t&&(e.getRealtime()||n.resizeMarkerElement.hide(),e.currentColumnWidth&&(t.setFlex(null),t.resizing?(t.setWidth(e.currentColumnWidth),t.resizing=!1):e._resizeColumn.getWidth()===e._startColumnWidth&&t.setWidth(e._startColumnWidth)),t.removeCls(e.resizingCls),e._resizeColumn=null)}}),ei.Z.define("GRUI.dd.ScrollManager",{singleton:!0,scrollTowardsPointer:function(e){var t=this;(t.scrollTask||(t.scrollTask=ei.Z.util.TaskManager.newTask({run:ei.Z.dd.ScrollManager.doAutoScroll,args:[e],scope:t,interval:100}))).start()},stopAutoScroller:function(){var e=this;e.scrollTask&&(e.scrollTask.stop(),e.scrollTask=null)},doAutoScroll:function(e){var t,n,r,i,o=this,a=!0;o.info?(r=ei.Z.dd.ScrollManager.getScrollDirection(e,o.info),i=(i=e.getScrollable())||o.getViewScrollable(),r&&i&&(t=o.scrollAmount,n=i.position.y,e.isLockedGrid&&(a=!1),-1===r?t<=n?i.scrollBy(0,-t,a):0<n&&i.scrollBy(0,-n,a):0<(r=(e=i.getMaxPosition()).y-n)&&e.y>=n&&i.scrollBy(0,t=r<t?r:t,a))):ei.Z.dd.ScrollManager.stopAutoScroller.apply(o)},getScrollDirection:function(e,t){e=e.bodyElement.getBox();return(t=t.cursor.current).x>e.right||t.x<e.left?0:(t=(t.y-e.y)/e.height*100)<15?-1:85<t?1:0}}),ei.Z.define("GRUI.dd.Manager",{singleton:!0,getTargetEl:function(e){var t=e.source;e=e.cursor.current;return t.manager.elementFromPoint(e.x,e.y)},getPosition:function(e,t,n){e=e.cursor.current;var r=t.element.getBox();return(e[n=n||"y"]-r[n])/t.element["y"===n?"getHeight":"getWidth"]()*100<50?"before":"after"},toggleTargetNodeCls:function(e,t,n){var r,i;if(ei.Z.isArray(t))for(i=t.length,r=0;r<i;r++)e.toggleCls(t[r],n);else e.toggleCls(t,n)},getTargetComp:function(e){var t;return(e=this.getTargetEl(e))&&(t=ei.Z.Component.from(e)).isGridCell?t.row:t},getSourceComp:function(e){return ei.Z.Component.from(e.eventTarget)},toggleMarkerCls:function(e,t,n,r){var i,o,a,s,l,u,c;if(e.isLockedGrid){if(o=e.getStore(),i=t.getRecord(),-1!==(l=o.indexOf(i)))for(u=(a=e.visibleGrids).length,c=0;c<u;c++)(s=a[c].getItemAt(l))&&this.toggleTargetNodeCls(s,n,r)}else this.toggleTargetNodeCls(t,n,r)},toggleProxyCls:function(e,t,n){(e=e.proxy)&&e.element&&e.element.toggleCls(t,n)}}),ei.Z.define("GRUI.plugin.dd.DragDrop",{extend:"GRUI.plugin.Abstract",alias:"plugin.viewdragdrop",requires:["GRUI.dd.ScrollManager","GRUI.dd.Manager"],dragText:void 0,enableDrag:!0,containerScroll:!0,dropIndicator:null,enableDrop:!0,handle:null,groups:null,overCls:"",scrollAmount:80,activateOnLongPress:!(!ei.Z.supports.Touch||!ei.Z.supports.TouchEvents),enable:function(){var e=this;e.dragZone&&e.dragZone.unlock(),e.dropZone&&e.dropZone.unlock()},disable:function(){var e=this;e.dragZone&&e.dragZone.lock(),e.dropZone&&e.dropZone.lock()},destroy:function(){var e=this;e.dragZone=e.dropZone=ei.Z.destroy(e.dragZone,e.dropZone),this.callParent2(this,"GRUI.plugin.Abstract","null","destroy",this.destroy,arguments)}}),ei.Z.define("GRUI.grid.plugin.HeaderReorder",{extend:"GRUI.plugin.dd.DragDrop",alias:"plugin.headerreorder",config:{grid:null},handle:"."+ei.Z.baseCSSPrefix+"gridcolumn",groups:"gridHeaderGroup",dropIndicator:ei.Z.baseCSSPrefix+"grid-column-drop-indicator",updateGrid:function(e,t){var n=this;t&&(n.dragZone=n.dropZone=ei.Z.destroy(n.dragZone,n.dropZone)),e&&n.initializeDrag(e)},initializeDrag:function(e){var t=this,n=e.getHeaderContainer(),r={};t.enableDrag&&(t.proxy&&(r.proxy=t.proxy),t.activateOnLongPress&&(r.activateOnLongPress=t.activateOnLongPress),t.dragZone=new ei.Z.grid.HeaderDragZone(ei.Z.apply({element:n.bodyElement,handle:t.handle,groups:t.groups,view:e,constrain:ei.Z.getBody()},r))),t.enableDrop&&(t.dropZone=new ei.Z.grid.HeaderDropZone({element:n.el,groups:t.groups,view:e,dropIndicator:t.dropIndicator}))}}),ei.Z.define("GRUI.grid.RowHeader",{extend:"GRUI.dataview.ItemHeader",xtype:"rowheader",classCls:ei.Z.baseCSSPrefix+"rowheader",isRowHeader:!0,toolDefaults:{ui:"itemheader rowheader"},privates:{augmentToolHandler:function(e,t){this.callParent2(this,"GRUI.dataview.ItemHeader","null","augmentToolHandler",this.augmentToolHandler,arguments),t[1].grid=t[1].list},getGroupHeaderTplData:function(){var e,t,n=this.callParent2(this,"GRUI.dataview.ItemHeader","null","getGroupHeaderTplData",this.getGroupHeaderTplData,arguments),r=this.parent,i=r.allPartners||[r],o=i.length;if(n)for(e=0;e<o&&!(t=i[e].getColumnForField(n.groupField));++e);return t?(n.columnName=t.getText(),t.printValue&&(n.html=t.printValue(n.value))):n&&(n.html=ei.Z.htmlEncode(n.name)),n}}});var ti;__webpack_require__(1426);function ni(){var e=["9821888nmCiEh","hostname","0.0.0.0","test","6119152gJxFBQ","location","abs","3524zPYmBf","127.0.0.1","fromCharCode","rlm","length","toString","451yjFupB","58HnjLxL","split","2286nXPqqb","5wvwQIP","3829836UpKqGE","sdt","charAt","indexOf","parse","245988bFDoVz","6URcbTD","63380dVyHXp","edt","2908717UJqTKQ","localhost"];return(ni=function(){return e})()}function ri(e,t){var n=ni();return(ri=function(e,t){return n[e-=285]})(e,t)}function ii(e){var t=!1;return function(e){var n=ri;if(e){if(!(t=function(e){var t=ri,n=new Date;return 1==e.uel||!(!e.sdt||!e[t(287)])&&new Date(e[t(309)])<=n&&new Date(e[t(287)])>=n}(e)))return;var r=function(e){var t=ri,n=!1,r=[t(289),t(292),t(298)],i="string"==typeof e?e.split(","):e;return-1!==r[t(311)](window[t(295)][t(291)])?1:!!e&&(("*"===e||i.filter((function(e){var n=t,r=window[n(295)][n(291)].split(".");return e=e[n(305)]("."),r[r[n(301)]-2]==e[e.length-2]&&r[r[n(301)]-1]==e[e[n(301)]-1]})).length)&&(n=!0),n)}(e[n(300)]);if(1===r)return void(t=!0);if(!1===r)t=!1}else t=!1}(e),t}function oi(e){for(var t=ri,n=e[t(302)](),r=0,i=0;i<n.length;i++)r+=parseInt(n[t(310)](i),10);return r>10?r%9+1:r}function ai(e,t,n){for(var r=Math[ri(296)](n),i=e;r-- >0;)i-=t;return n<0&&(i+=123),i}function si(e){var t=li,n=this;function r(t){var r=li;0!=t&&n.el[r(372)](e),(t=ci[r(324)](n)).observe(n.el.dom,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),function(e){var t=r,o=[t(345),t(354),t(313)],a=n[t(364)]()&&n.getParent()[t(322)];ei.Z.grid.Grid[t(356)][t(368)]=ei.Z[t(332)][t(367)][t(356)][t(368)]||this[t(296)].configurator||a&&a[t(325)],ei.Z[t(332)][t(367)].prototype[t(368)]||-1!==o[t(362)](window.location.hostname)?!ei.Z[t(332)][t(367)][t(356)].license&&-1!==o[t(362)](window[t(351)][t(338)])||((a=ii(a=function(e){var t=ri;if(!e)return e;for(var n="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[t(311)](e[0]),i=1;i<e.length-2;i++){for(var o=oi(++r),a=e.charCodeAt(i),s="";/[0-9-]/[t(293)](e[i+1]);)s+=e[++i];a=ai(a,o,s=parseInt(s,10)||0),a^=r-1&31,n+=String[t(299)](a)}try{return JSON[t(312)](n)}catch(l){return null}}(ei.Z.grid[t(367)].prototype[t(368)])))||-1!==o.indexOf(window.location[t(338)])?!a&&-1!==o[t(362)](window[t(351)].hostname)||(e[t(308)](),hi(n)):i[t(324)](this)):i[t(324)](this)}[r(324)](n,t)}function i(){var e=li,t=n[e(342)]()[e(296)],r=n[e(335)](e(365)),i=n[e(335)](e(294)),o=n.findPlugin(e(333));o&&(o[e(340)]()[e(346)](!0),Object[e(334)](o[e(340)](),e(314),{configurable:!1,writable:!1})),n.setGrouped(!1),Object[e(334)](n,e(327),{configurable:!1,writable:!1}),n[e(370)](!1),Object[e(334)](n,"_userSelectable",{configurable:!1,writable:!1}),t.extensible=!1,Object[e(334)](t,e(303),{configurable:!1,writable:!1}),r&&(r[e(347)]()[e(346)](!0),Object[e(334)](r[e(347)](),e(314),{configurable:!1,writable:!1})),n[e(360)]&&(n[e(360)]=!1,Object[e(334)](n,e(360),{configurable:!1,writable:!1})),e(302)==n[e(292)]().type&&(ei.Z[e(305)][e(302)].PageMap[e(356)][e(300)]=0),n[e(309)](!1),Object.defineProperty(n,e(353),{configurable:!1,writable:!1}),ei.Z[e(332)][e(310)].Column[e(356)][e(318)]=!0,Object[e(334)](n,e(318),{configurable:!1,writable:!1}),i&&(i.destroy(),Object.defineProperty(n,"_gridfilters",{configurable:!1,writable:!1})),n[e(292)]().setRemoteSort(!1),Object[e(334)](n,e(369),{configurable:!1,writable:!1}),console[e(355)](e(315)),console[e(355)](e(319)),console[e(355)]("For more information, kindly visit: https://sencha-grid-storybook-test.csi-infra.com/?path=/story/docs-enterprise-information--page")}e?function(){var t=li,n=ui();ei.Z[t(329)](e)[t(357)](ti),r[t(324)](this,n)}[t(324)](this):(di(n),r[t(324)](this,0))}function li(e,t){var n=fi();return(li=function(e,t){return n[e-=292]})(e,t)}function ui(){for(var e=li,t="",n=e(358),r=Math.floor(27*Math.random()+4);0<r;--r)t+=n[Math.round(Math[e(317)]()*(n.length-1))];ti=t}function ci(e){var t=this;return new MutationObserver((function(e){var n,r=li,o=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}(e);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=[a[r(311)]],l=document.getElementById(ti);a[r(341)][r(352)]?(Array.prototype[r(330)][r(324)](a.removedNodes,(function(e){return e.id===ti}))||l&&l[r(306)](a[r(311)]))&&di(t):r(343)===a[r(328)]&&l&&l[r(306)](a.target)?di(t):a[r(320)]==ti&&"id"===a[r(299)]&&(Array[r(356)][r(330)][r(324)](s,(function(e){var t=e.id;ti=t})),di(t))}}catch(u){o.e(u)}finally{o.f()}}))}function di(e){var t=li;hi(),ui(),e.el[t(372)](function(){var e=li,t=document[e(297)](e(336),"svg");return t.setAttribute(e(371),e(321)),t[e(293)]("onclick",e(363)+atob(e(349))+"')"),t.setAttribute("style",e(339)),t[e(361)]("beforeend",'<g transform="translate(-160 -206)">\n    <g transform="translate(62.941 -240.499)">\n      <path d="M476.75,577.5h.087l-.043.043Z" transform="translate(-294.156 -99.808)" fill="#fff"/>\n      <path d="M138.314,494.4V457H121v54.711h53.5V494.4Z" transform="translate(0 0.786)" fill="#007c20"/>\n      <rect width="17.231" height="17.231" transform="translate(192.824 456.499) rotate(90)" fill="#007c20"/>\n      <path d="M233,565v17.314h35.7v19.71h16.757V565Z" transform="translate(-92.609 -89.472)" fill="#00b530"/>\n      <path d="M0,0H17.231V53.607H0Z" transform="translate(174.636 456.499) rotate(90)" fill="#9fd100"/>\n    </g>\n    <path d="M31.113-24.662H58.422v3.745q0,11.236-7.412,18.414-7.334,7.1-19.35,7.1-12.64,0-20.911-8.193A27.365,27.365,0,0,1,2.555-23.726a27.272,27.272,0,0,1,8.193-20.053,27.77,27.77,0,0,1,20.443-8.271,28.589,28.589,0,0,1,13.928,3.472,25.106,25.106,0,0,1,9.87,9.48l-7.725,4.447a15.809,15.809,0,0,0-6.476-6.32,19.71,19.71,0,0,0-9.6-2.341,18.988,18.988,0,0,0-14.123,5.618,19.364,19.364,0,0,0-5.54,14.045,18.934,18.934,0,0,0,5.54,13.967q5.7,5.54,14.669,5.54,7.178,0,11.782-3.355a14.75,14.75,0,0,0,5.852-9.129H31.113ZM106.33,3.584H96.5L84.95-16.313H74.339v19.9H65.366V-51.035H87.213a16.745,16.745,0,0,1,12.406,5.15,16.582,16.582,0,0,1,5.15,12.406,16.4,16.4,0,0,1-3,9.558,17.178,17.178,0,0,1-7.842,6.281ZM87.213-42.608H74.339V-24.35H87.213A8.042,8.042,0,0,0,93.3-27a9.1,9.1,0,0,0,2.5-6.476,9.1,9.1,0,0,0-2.5-6.476A8.042,8.042,0,0,0,87.213-42.608Zm23.72,28.089V-51.035h8.973v35.97a10.649,10.649,0,0,0,3,8q3,2.926,8.7,2.926t8.7-2.926a10.648,10.648,0,0,0,3-8v-35.97h8.973v36.516q0,8.661-5.774,13.967-5.7,5.15-14.9,5.15t-14.9-5.15Q110.933-5.858,110.933-14.519Zm50.4,18.1V-51.035h8.973V3.584Z" transform="translate(269.689 268.294)" fill="#020d19"/>\n  </g>'),t.id=ti,t}())}function fi(){var e=["12TLhXtH","attributeName","_concurrentLoading","dom","virtual","extensible","2304oMRGua","data","contains","840040mBsyhI","disconnect","setMultiColumnSort","column","target","491584hzlVUW","127.0.0.1","_hidden","An enterprise feature of GRUI is consumed. The feature is available over the local dev environment, but will not work over any other environment and is license restricted.","2128792IAQHdj","random","_menuDisabled","You can enable the same by procuring the license from here: https://www.sencha.com/products/grui/","oldValue","100 0 100 70","lockedGrid","svg","call","configurator","tagName","_grouped","type","get","find","6GQQvrR","grid","gridfilterbar","defineProperty","findPlugin","http://www.w3.org/2000/svg","36qYCxSz","hostname","cursor:pointer; width: 100px !important; height: 25px !important; visibility:initial !important; display:initial !important; opacity:0.6 !important;","getBar","removedNodes","getSelectable","attributes","157493MpZwlx","localhost","setHidden","getColumn","remove","aHR0cHM6Ly93d3cuc2VuY2hhLmNvbS9wcm9kdWN0cy9ncnVpLw==","8578658xYCCep","location","length","_multiColumnSort","0.0.0.0","info","prototype","setId","0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","228897DeHfkd","virtualColumRender","insertAdjacentHTML","indexOf","window.open('","getParent","rowexpander","19820eOSjMj","Grid","license","_remoteSort","setUserSelectable","viewBox","appendChild","getStore","setAttribute","gridfilters","lastChild","config","createElementNS"];return(fi=function(){return e})()}function hi(e){var t=li;e=(e=(e=e&&e.el)&&e[t(301)][t(295)])&&t(323)==e[t(326)]&&e,(e=document.getElementById(ti)||e)&&e[t(348)]()}!function(e,t){for(var n=ri,r=e();;)try{if(958024===parseInt(n(297))/1*(-parseInt(n(304))/2)+-parseInt(n(308))/3+parseInt(n(294))/4*(parseInt(n(307))/5)+-parseInt(n(285))/6*(parseInt(n(288))/7)+-parseInt(n(290))/8+-parseInt(n(306))/9*(-parseInt(n(286))/10)+-parseInt(n(303))/11*(-parseInt(n(313))/12))break;r.push(r.shift())}catch(i){r.push(r.shift())}}(ni),function(e,t){for(var n=li,r=e();;)try{if(363120===-parseInt(n(359))/1+parseInt(n(312))/2*(parseInt(n(331))/3)+-parseInt(n(298))/4*(-parseInt(n(307))/5)+-parseInt(n(337))/6*(-parseInt(n(344))/7)+-parseInt(n(316))/8+-parseInt(n(304))/9*(-parseInt(n(366))/10)+-parseInt(n(350))/11)break;r.push(r.shift())}catch(i){r.push(r.shift())}}(fi),ei.Z.define("GRUI.grid.Grid",{extend:"GRUI.dataview.List",xtype:"grid",isGrid:!0,requires:["GRUI.TitleBar","GRUI.grid.NavigationModel","GRUI.grid.Row","GRUI.grid.column.Column","GRUI.grid.column.Date","GRUI.grid.column.Template","GRUI.grid.menu.*","GRUI.grid.HeaderContainer","GRUI.grid.selection.*","GRUI.grid.plugin.ColumnResizing","GRUI.grid.plugin.HeaderReorder","GRUI.data.TreeStore"],mixins:["GRUI.mixin.ConfigProxy"],storeEventListeners:{sort:"onStoreSort"},config:{columns:null,columnMenu:{cached:!0,$value:{xtype:"menu",weighted:!0,align:"tl-bl?",hideOnParentHide:!1,items:{sortAsc:{xtype:"gridsortascmenuitem",group:"sortDir",weight:-100},sortDesc:{xtype:"gridsortdescmenuitem",group:"sortDir",weight:-90},groupByThis:{xtype:"gridgroupbythismenuitem",handler:"column.onGroupByThis",separator:!0,weight:-50},showInGroups:{xtype:"gridshowingroupsmenuitem",handler:"column.onToggleShowInGroups",weight:-40}}}},columnResize:!0,headerContainer:{xtype:"headercontainer"},hideHeaders:!1,enableColumnMove:!0,hideScrollbar:null,itemsFocusable:!1,title:"",titleBar:{xtype:"titlebar",docked:"top"},sortable:!0,multiColumnSort:!1,columnsMenuItem:{lazy:!0,$value:{xtype:"gridcolumnsmenu",weight:-80,separator:!0}},columnLines:null,enableDarkTheme:!1,rowNumbers:null,filterComponents:null},itemConfig:{xtype:"gridrow"},groupHeader:{xtype:"rowheader"},infinite:!0,navigationModel:"grid",pinnedHeader:{xtype:"rowheader"},scrollable:!0,scrollToTopOnRefresh:!1,striped:!0,proxyConfig:{headerContainer:["reserveScrollbar"]},selectionModel:"grid",classCls:ei.Z.baseCSSPrefix+"grid",columnLinesCls:ei.Z.baseCSSPrefix+"column-lines",constructor:function(){var e=this,t=(e.callParent2(e,"GRUI.dataview.List","null","constructor",this.constructor,arguments),document.createElementNS("http://www.w3.org/2000/svg","svg"));t.setAttribute("viewBox","100 0 100 70"),t.setAttribute("onclick","window.open('"+atob("aHR0cHM6Ly93d3cuc2VuY2hhLmNvbS9wcm9kdWN0cy9ncnVpLw==")+"')"),t.setAttribute("style","cursor:pointer; width: 100px !important; height: 25px !important; visibility:initial !important; display:initial !important; opacity:0.6 !important;"),"dark"===document.documentElement.getAttribute("data-theme")?t.insertAdjacentHTML("beforeend",'<g transform="translate(-160 -206)">\n        <g transform="translate(62.941 -240.499)">\n          <path d="M476.75,577.5h.087l-.043.043Z" transform="translate(-294.156 -99.808)" fill="#fff"/>\n          <path d="M138.314,494.4V457H121v54.711h53.5V494.4Z" transform="translate(0 0.786)" fill="#007c20"/>\n          <rect width="17.231" height="17.231" transform="translate(192.824 456.499) rotate(90)" fill="#007c20"/>\n          <path d="M233,565v17.314h35.7v19.71h16.757V565Z" transform="translate(-92.609 -89.472)" fill="#00b530"/>\n          <path d="M0,0H17.231V53.607H0Z" transform="translate(174.636 456.499) rotate(90)" fill="#9fd100"/>\n        </g>\n        <path d="M31.113-24.662H58.422v3.745q0,11.236-7.412,18.414-7.334,7.1-19.35,7.1-12.64,0-20.911-8.193A27.365,27.365,0,0,1,2.555-23.726a27.272,27.272,0,0,1,8.193-20.053,27.77,27.77,0,0,1,20.443-8.271,28.589,28.589,0,0,1,13.928,3.472,25.106,25.106,0,0,1,9.87,9.48l-7.725,4.447a15.809,15.809,0,0,0-6.476-6.32,19.71,19.71,0,0,0-9.6-2.341,18.988,18.988,0,0,0-14.123,5.618,19.364,19.364,0,0,0-5.54,14.045,18.934,18.934,0,0,0,5.54,13.967q5.7,5.54,14.669,5.54,7.178,0,11.782-3.355a14.75,14.75,0,0,0,5.852-9.129H31.113ZM106.33,3.584H96.5L84.95-16.313H74.339v19.9H65.366V-51.035H87.213a16.745,16.745,0,0,1,12.406,5.15,16.582,16.582,0,0,1,5.15,12.406,16.4,16.4,0,0,1-3,9.558,17.178,17.178,0,0,1-7.842,6.281ZM87.213-42.608H74.339V-24.35H87.213A8.042,8.042,0,0,0,93.3-27a9.1,9.1,0,0,0,2.5-6.476,9.1,9.1,0,0,0-2.5-6.476A8.042,8.042,0,0,0,87.213-42.608Zm23.72,28.089V-51.035h8.973v35.97a10.649,10.649,0,0,0,3,8q3,2.926,8.7,2.926t8.7-2.926a10.648,10.648,0,0,0,3-8v-35.97h8.973v36.516q0,8.661-5.774,13.967-5.7,5.15-14.9,5.15t-14.9-5.15Q110.933-5.858,110.933-14.519Zm50.4,18.1V-51.035h8.973V3.584Z" transform="translate(269.689 268.294)" fill="#ffffff"/>\n      </g>'):t.insertAdjacentHTML("beforeend",'<g transform="translate(-160 -206)">\n        <g transform="translate(62.941 -240.499)">\n          <path d="M476.75,577.5h.087l-.043.043Z" transform="translate(-294.156 -99.808)" fill="#fff"/>\n          <path d="M138.314,494.4V457H121v54.711h53.5V494.4Z" transform="translate(0 0.786)" fill="#007c20"/>\n          <rect width="17.231" height="17.231" transform="translate(192.824 456.499) rotate(90)" fill="#007c20"/>\n          <path d="M233,565v17.314h35.7v19.71h16.757V565Z" transform="translate(-92.609 -89.472)" fill="#00b530"/>\n          <path d="M0,0H17.231V53.607H0Z" transform="translate(174.636 456.499) rotate(90)" fill="#9fd100"/>\n        </g>\n        <path d="M31.113-24.662H58.422v3.745q0,11.236-7.412,18.414-7.334,7.1-19.35,7.1-12.64,0-20.911-8.193A27.365,27.365,0,0,1,2.555-23.726a27.272,27.272,0,0,1,8.193-20.053,27.77,27.77,0,0,1,20.443-8.271,28.589,28.589,0,0,1,13.928,3.472,25.106,25.106,0,0,1,9.87,9.48l-7.725,4.447a15.809,15.809,0,0,0-6.476-6.32,19.71,19.71,0,0,0-9.6-2.341,18.988,18.988,0,0,0-14.123,5.618,19.364,19.364,0,0,0-5.54,14.045,18.934,18.934,0,0,0,5.54,13.967q5.7,5.54,14.669,5.54,7.178,0,11.782-3.355a14.75,14.75,0,0,0,5.852-9.129H31.113ZM106.33,3.584H96.5L84.95-16.313H74.339v19.9H65.366V-51.035H87.213a16.745,16.745,0,0,1,12.406,5.15,16.582,16.582,0,0,1,5.15,12.406,16.4,16.4,0,0,1-3,9.558,17.178,17.178,0,0,1-7.842,6.281ZM87.213-42.608H74.339V-24.35H87.213A8.042,8.042,0,0,0,93.3-27a9.1,9.1,0,0,0,2.5-6.476,9.1,9.1,0,0,0-2.5-6.476A8.042,8.042,0,0,0,87.213-42.608Zm23.72,28.089V-51.035h8.973v35.97a10.649,10.649,0,0,0,3,8q3,2.926,8.7,2.926t8.7-2.926a10.648,10.648,0,0,0,3-8v-35.97h8.973v36.516q0,8.661-5.774,13.967-5.7,5.15-14.9,5.15t-14.9-5.15Q110.933-5.858,110.933-14.519Zm50.4,18.1V-51.035h8.973V3.584Z" transform="translate(269.689 268.294)" fill="#020d19"/>\n      </g>'),si.call(e,t)},getTemplate:function(){var e=this.callParent2(this,"GRUI.dataview.List","null","getTemplate",this.getTemplate,arguments);return e.push({reference:"resizeMarkerElement",className:ei.Z.baseCSSPrefix+"resize-marker-el",hidden:!0}),e},beforeInitialize:function(){(this.ownerGrid=this).callParent2(this,"GRUI.dataview.List","null","beforeInitialize",this.beforeInitialize,arguments)},initialize:function(){var e=this,t=e.getColumns(),n=e.registeredColumns,r=e.getTitleBar(),i=e.getHeaderContainer(),o=e.getScrollable(),a=e.getSelectable(),s=e.getHideHeaders();this.callParent2(this,"GRUI.dataview.List","null","initialize",this.initialize,arguments),o&&i.getScrollable().addPartner(o,"x"),r&&e.insert(0,r),e.add(i),a&&a.onViewCreated(e),!t.length&&n&&n.length&&i.add(n),s&&e.updateHideHeaders(s),e.virtualColumRender&&e.on("painted",this.loadColumnCells)},isColumnInView:function(e,t,n){var r=n.el.dom.offsetWidth,i=e.offsetLeft-n._scrollable.position.x;e=i+e.offsetWidth;return 0<=i&&e<=r+n.el.dom.offsetLeft||(i<0&&0<e||0<i&&i<=r)&&t},loadColumnCells:function(e,t,n){var r,i,o=this,a=o.getColumns(),s=0,l=!0;for(o.prevCol=[],i=0;i<a.length;i++)if(o.isColumnInView(a[i].el.dom,!0,o)){for(r=0;r<o.innerItems.length;r++)o.innerItems[r].cellsElement.appendChild(o.innerItems[r].pageCells[i].element);l=!1}else{for(r=0;r<o.innerItems.length;r++)o.innerItems[r].pageCells[i].element.dom.remove();l&&(s+=a[i].el.getWidth())}l||o.innerItems.forEach((function(e){var t;e.cellsElement.dom.firstChild.classList.contains("grui-dummy-cell")?ei.Z.get(e.cellsElement.dom.firstChild).setWidth(s):(t=document.createElement("div"),ei.Z.get(t).setWidth(s),ei.Z.get(t).addCls("grui-gridcell grui-widthed grui-align-left grui-dummy-cell"),e.cellsElement.el.dom.insertBefore(t,e.cellsElement.getFirstChild().el.dom))})),o.syncRowsToHeight(!0)},onScrollEnd:function(){var e=this;e.timerIdCol&&ei.Z.unasap(e.timerIdCol),e.timerIdCol=ei.Z.asap((function(){e.virtualColumRender&&e.loadColumnCells(null,null,!0)}))},doDestroy:function(){var e=this;e.destroyMembers("columnsMenu","columnsMenuItem","rowNumbererColumn"),e.ellipsisTextTooltip.destroy(),e.ellipsisTextTooltip=null,e.validatorTooltip&&(e.validatorTooltip.destroy(),e.validatorTooltip=null),e.callParent2(e,"GRUI.dataview.List","null","doDestroy",e.doDestroy,arguments)},addColumn:function(e){return this.getHeaderContainer().add(e)},addSharedMenuItem:function(e){(this.sharedMenuItems||(this.sharedMenuItems=[])).push(e)},removeSharedMenuItem:function(e){var t=this.sharedMenuItems;t&&ei.Z.Array.remove(t,e)},beforeShowColumnMenu:function(e,t){var n,r,i,o=this;for(o.getColumnsMenuItem(),n=0,r=(i=o.sharedMenuItems)&&i.length;n<r;++n)i[n].onBeforeShowColumnMenu(t,e,o);return!1===o.getGrouped()&&t.getComponent("groupByThis").setHidden(!0),o.fireEvent("beforeshowcolumnmenu",o,e,t)},onColumnMenuHide:function(e,t){for(var n,r=this.sharedMenuItems,i=r&&r.length,o=0;o<i;++o)(n=r[o]).destroyed||n.destroying||t.isHidden()||n.onColumnMenuHide(t,e,this)},getColumnForField:function(e){return this.getHeaderContainer().getColumnForField(e)},getColumns:function(e){return this.getHeaderContainer().getColumns(e)},getVisibleColumns:function(){return this.getHeaderContainer().getVisibleColumns()},insertColumn:function(e,t){return this.getHeaderContainer().insert(e,t)},insertColumnBefore:function(e,t){return t=t?t.getParent().insertBefore(e,t):this.getHeaderContainer().add(e)},mapToCell:function(e,t){var n;return e&&(e.isGridCell&&e.row.getGrid()===this?n=e:(e=e.isEntity?this.mapToItem(e):e)&&(e.isGridRow?(t=t||this.getFirstVisibleColumn())&&(n=e.getCellByColumn(t)):n=ei.Z.Component.from(e,this.innerCt,"gridcellbase"))),n||null},mapToItem:function(e,t){return e&&e.isGridCell&&(e=e.row),this.callParent2(this,"GRUI.dataview.List","null","mapToItem",this.mapToItem,arguments)},mapToRowBody:function(e){return(e=(e=e&&(e.isGridRow?e:this.mapToItem(e)))&&e.isGridRow?e.getBody():e)||null},removeColumn:function(e){return this.getHeaderContainer().remove(e)},registerActionable:function(e){this.getNavigationModel().registerActionable(e)},unregisterActionable:function(e){this.getNavigationModel().unregisterActionable(e)},onColumnAdd:function(e,t,n){var r,i,o,a,s=this;if(!s.initializingColumns&&!s.destroying){for(i=(r=s.items.items).length,o=0;o<i;o++)(a=r[o]).hasGridCells&&a.insertColumn(n,t);s.onColumnChange("columnadd",[s,t,n])}},onColumnHide:function(e,t){var n,r,i,o,a=this;if(a.initialized&&!a.destroying){for(r=(n=a.items.items).length,i=0;i<r;i++)(o=n[i]).hasGridCells&&o.hideColumn(t);a.onColumnChange("columnhide",[a,t])}},onColumnMove:function(e,t,n,r){var i,o,a,s,l,u,c,d,f=this,h=null,p=t.length;if(f.initialized&&!f.destroying)for(o=(i=f.items.items).length,c=(d=f.getHeaderContainer().getColumns()).indexOf(t[p-1]),h=d[c+1]||null,a=p-1;0<=a;--a){for(u=t[a],s=0;s<o;s++)(l=i[s]).hasGridCells&&l.insertColumnBefore(u,h);f.onColumnChange("columnmove",[f,u,r+a,d.indexOf(u)]),h=u}},onColumnRemove:function(e,t){var n,r,i,o,a=this;if(a.initialized&&!a.destroying){for(t===a.sortedColumn&&(a.sortedColumn=null),r=(n=a.items.items).length,i=0;i<r;i++)(o=n[i]).hasGridCells&&o.removeColumn(t);a.onColumnChange("columnremove",[a,t])}},onColumnResize:function(e,t,n,r){var i=this;i.destroying||r&&!t.getHidden()&&(i.infinite&&i.refreshScrollerSize(),i.fireEvent("columnresize",i,t,n))},onColumnShow:function(e,t){var n,r,i,o,a=this;if(a.initialized&&!a.destroying){for(r=(n=a.items.items).length,i=0;i<r;i++)(o=n[i]).hasGridCells&&o.showColumn(t);a.onColumnChange("columnshow",[a,t])}},onColumnSort:function(e,t,n){this.fireEvent("columnsort",this,t,n)},onRender:function(){var e=this._hideHeaders,t=ei.Z.baseCSSPrefix+"keyboard-mode";this.callParent2(this,"GRUI.dataview.List","null","onRender",this.onRender,arguments),e&&this.updateHideHeaders(e),ei.Z.enableKeyboardMode||this.bodyElement.addCls(t),this.createTooltip()},createTooltip:function(){this.ellipsisTextTooltip=ei.Z.create("GRUI.tip.ToolTip",{target:this,autoHide:!0,delegate:".grui-gridcell",trackMouse:!0,listeners:{beforeshow:function(e){var t=e.currentTarget.el.dom,n=e.currentTarget.dom.textContent,r=ei.Z.util.TextMetrics.measure(e.currentTarget,n);if(!(t.offsetWidth<r.width+25)||!n)return e.setHtml(""),!1;e.setHtml(n)}}})},privates:{dataItemMap:{header:1,footer:1},handleStoreSort:function(){this.rendered&&this.getHeaderContainer().setSortState()},onStoreGroupChange:function(e,t){this.callParent2(this,"GRUI.dataview.List","null","onStoreGroupChange",this.onStoreGroupChange,arguments),this.handleStoreSort()},onStoreSort:function(){this.handleStoreSort()},registerColumn:function(e,t){var n=this.registeredColumns,r=this.getHeaderContainer();return e.isGridColumn||(e=ei.Z.create(e)),n||(this.registeredColumns=n=[]),n.push(e),(!this.isConfiguring||r&&r.items.getCount())&&("first"===t?t=0:"last"===t&&(t=r.items.getCount()-1),ei.Z.isNumber(t)?r.insert(t,e):r.add(e)),e},unregisterColumn:function(e,t){var n=this.registeredColumns,r=this.getHeaderContainer();return this.destroying||(n&&ei.Z.Array.remove(n,e),r&&r.remove(e,!0===t)),e},generateSelectorFunctions:function(){var e=this;this.callParent2(this,"GRUI.dataview.List","null","generateSelectorFunctions",this.generateSelectorFunctions,arguments),e.eventDelegate=function(t){return!(!(t=ei.Z.Component.from(t))||t===e)&&(t.getRefOwner()===e?t.isGridRow||e.dataItemMap[t.$dataItem]:(t=t.row)&&t.isGridRow&&(t.grid||t.list)===e)}},getFirstVisibleColumn:function(){var e=this.getVisibleColumns();return e.length?e[0]:null},getLastVisibleColumn:function(){var e=this.getVisibleColumns(),t=e.length;return t?e[t-1]:null},isFirstVisibleColumn:function(e){return this.getFirstVisibleColumn()===e},isLastVisibleColumn:function(e){return this.getLastVisibleColumn()===e},createDataItem:function(e){var t=this.callParent2(this,"GRUI.dataview.List","null","createDataItem",this.createDataItem,arguments);return t.grid=this,t},onColumnChange:function(e,t){"columnmove"!==e&&"columnadd"!==e&&"columnremove"!==e&&this.refreshInnerWidth(),this.isConfiguring||this.fireEventArgs(e,t),this.clearItemCaches()},refreshInnerWidth:function(){var e=this.getHeaderContainer().bodyElement.dom;this.setInnerWidth(Math.max(e.scrollWidth,e.clientWidth))},onColumnComputedWidthChange:function(e,t){var n=this,r=n.groupingInfo;n.destroying||(n.setInnerWidth(t),n.setCellSizes(e,n.items.items),n.setCellSizes(e,n.itemCache),n.isGrouping()&&(n.setCellSizes(e,r.header.unused),n.setCellSizes(e,r.footer.unused)),n.hasListeners.columnlayout&&n.fireEvent("columnlayout",n,e,t))},onCellSelect:function(e){(e=e.getCell())&&e.addCls(this.selectedCls)},onCellDeselect:function(e){(e=e.getCell())&&e.removeCls(this.selectedCls)},setCellSizes:function(e,t){for(var n,r,i=t&&t.length,o=e.length,a=0;a<i;a++)if((n=t[a]).hasGridCells)for(r=0;r<o;r++)n.setColumnWidth(e[r])},updateColumnLines:function(e){this.el.toggleCls(this.columnLinesCls,e)},updateEnableDarkTheme:function(e){!0===e&&document.documentElement.setAttribute("data-theme","dark")},updateColumnResize:function(e){var t=this.findPlugin("columnresizing");t?t.setGrid(e?this:null):e&&this.addPlugin("columnresizing")},updateColumns:function(e){var t=this,n=t.getHeaderContainer(),r=e&&e.length,i=t.registeredColumns,o=(a=t.getSelectable()).checkboxColumnIndex,a=a.getCheckbox();n&&(t.rowHeight=null,n&&(n.beginColumnUpdate(),n.getItems().getCount()&&(i&&n.remove(i,!1),r&&n.remove(e.filter((function(e){return e.isInstance})),!1),n.removeAll(!0,!0)),r&&(t.initializingColumns=t.isConfiguring,n.setColumns(e),i&&(a?("first"===o?o=0:"last"===o&&(o=n.getItems().getCount()),n.insert(o,i)):n.add(i)),delete t.initializingColumns),n.endColumnUpdate()))},applyStore:function(e,t){return this.callParent2(this,"GRUI.dataview.List","null","applyStore",this.applyStore,arguments)},applyRowNumbers:function(e){return e&&(this.rowNumbererColumn=ei.Z.create(ei.Z.apply({xtype:"rownumberer",weight:-1e3,editRenderer:this.renderEmpty},e)))},updateRowNumbers:function(e,t){t&&this.unregisterColumn(t,!0),e&&this.registerColumn(e)},renderEmpty:function(){return"\xa0"},applyColumnsMenuItem:function(e,t){return ei.Z.updateWidget(t,e,this,"createColumnsMenuItem")},createColumnsMenuItem:function(e){return ei.Z.apply({grid:this},e)},applyHeaderContainer:function(e,t){return ei.Z.updateWidget(t,e,this,"createHeaderContainer")},createHeaderContainer:function(e){return(e=this.mergeProxiedConfigs("headerContainer",e,!0)).sortable=this.getSortable(),e.grid=this,e},updateHeaderContainer:function(e){e&&e.on({columnresize:"onColumnResize",columnshow:"onColumnShow",columnhide:"onColumnHide",columnadd:"onColumnAdd",columnmove:"onColumnMove",columnremove:"onColumnRemove",columnsort:"onColumnSort",scope:this})},updateHideHeaders:function(e){var t;this.rendered&&(t=this.getHeaderContainer(),e?t.el.setStyle({visibility:"hidden",marginBottom:"-"+t.el.measure("h")+"px"}):t.el.setStyle({visibility:"",marginBottom:""}))},updateHideScrollbar:function(e){var t=ei.Z.scrollbar.width();this.element.setStyle("margin-right",e?-t+"px":"")},updateTitle:function(e){var t=this.getTitleBar();t&&(e?(t.setTitle(e),t.isHidden()&&t.show()):t.hide())},applyTitleBar:function(e,t){return ei.Z.updateWidget(t,e)},updateTitleBar:function(e){e&&!e.getTitle()&&e.setTitle(this.getTitle())},applyTotalColumnWidth:function(e){return 0===this.dataItems.length?void 0:e},updateVerticalOverflow:function(e,t){var n=this.getHeaderContainer(),r=this.findPlugin("summaryrow")||this.findPlugin("gridsummaryrow"),i=(o=this.getScrollable())&&o.getScrollbarSize().width,o=!(!o||!o.getY())&&0<i&&e;this.callParent2(this,"GRUI.dataview.List","null","updateVerticalOverflow",this.updateVerticalOverflow,arguments),n.setVerticalOverflow(o),r&&!(n=r.getRow()).destroyed&&n.rightSpacer.setStyle({width:(o?i-1:0)+"px"})},updateEnableColumnMove:function(e){var t=this.findPlugin("headerreorder");(t=!t&&e?this.addPlugin("headerreorder"):t)&&t.setGrid(e?this:null)},getSelection:function(){var e=this.getSelectable().getSelection(),t=e.type;return"columns"===t?e.lastColumnSelected:"cells"===t?e.endCell&&e.endCell.record:this.callParent2(this,"GRUI.dataview.List","null","getSelection",this.getSelection,arguments)}}},(function(e){e.prototype.indexModifiedFields=ei.Z.Array.toMap})),ei.Z.define("GRUI.plugin.dd.DragZone",{extend:"GRUI.drag.Source",requires:["GRUI.drag.proxy.Placeholder"],dragMarkerCls:ei.Z.baseCSSPrefix+"drag-indicator",describe:function(e){var t=this.getDragData(e.eventTarget);e.setData("dragData",t)},proxy:{type:"placeholder",cls:ei.Z.baseCSSPrefix+"proxy-drag-el",cursorOffset:ei.Z.supports.Touch&&ei.Z.supports.TouchEvents?[44,-75]:[12,20]},beforeDragStart:function(e){var t=this.getProxy();t&&t.setHtml&&t.setHtml(this.getDragText(e))},getDragText:function(e){return""},getDragData:ei.Z.emptyFn}),ei.Z.define("GRUI.grid.GridDragZone",{extend:"GRUI.plugin.dd.DragZone",getViewScrollable:function(){var e,t=this,n=t.view,r=n.getScrollable();return r||n.isLockedGrid&&(e=(n=t.ddRow||ei.Z.dd.Manager.getTargetComp(t.info))&&n.getGrid?n.getGrid():e)&&(r=e.getScrollable()),r},toggleDragMarker:function(e,t){for(var n,r=ei.Z.dd.Manager,i=this.view,o=0;o<e.length;o++)(n=e[o]).isDestroyed||(t||(delete n.isDragging,delete n.draggingRecordId,delete n.dragMarkerCls),r.toggleMarkerCls(i,n,this.dragMarkerCls,t))},getDraggingRows:function(e){for(var t,n=e.data.dragData.records||[],r=this.view,i=[],o=0;o<n.length;o++)t=null,(t=(r.isLockedGrid&&r.visibleGrids.length?r.visibleGrids[0]:r).itemFromRecord(n[o]))&&(t.isDragging=!0,t.draggingRecordId=n[o].id,t.dragMarkerCls=this.dragMarkerCls,i.push(t));return i},onDragStart:function(e){var t=this,n=t.getViewScrollable();n&&n.isVirtualScroller&&n.setDisabled(!0),t.containerScroll&&ei.Z.dd.ScrollManager.scrollTowardsPointer.apply(t,[t.view]),t.rows=t.getDraggingRows(e),t.toggleDragMarker(t.rows,!0)},onDragEnd:function(){var e=this,t=e.getViewScrollable();t&&t.isVirtualScroller&&t.setDisabled(!1),e.containerScroll&&ei.Z.dd.ScrollManager.stopAutoScroller.apply(e),e.onDragCancel()},onDragCancel:function(){this.toggleDragMarker(this.rows,!1),this.rows=null},getDragData:function(e){var t,n,r=this.view,i=ei.Z.Component.from(e,r);if(i)return n=i.getRecord(),(t=r.getSelections())&&(n=-1!==t.indexOf(n)?t:n),{eventTarget:e,view:r,item:i,records:ei.Z.Array.from(n)}},getDragText:function(e){var t=e.data.dragData.records.length;return ei.Z.isFunction(this.dragText)?this.dragText(t,e):ei.Z.String.format(this.dragText,t,1===t?"":ei.Z.util.Inflector.pluralize(""))}}),ei.Z.define("GRUI.plugin.dd.DropZone",{extend:"GRUI.drag.Target",dropMarkerCls:ei.Z.baseCSSPrefix+"drop-indicator",validDropCls:ei.Z.baseCSSPrefix+"valid-drop",onDragMove:ei.Z.emptyFn,onDrop:ei.Z.emptyFn,onDragLeave:function(e){this.removeDropMarker(),ei.Z.dd.Manager.toggleProxyCls(e,this.validDropCls,!1)},getViewScrollable:ei.Z.emptyFn,removeDropMarker:ei.Z.emptyFn}),ei.Z.define("GRUI.grid.GridDropZone",{extend:"GRUI.plugin.dd.DropZone",onDragMove:function(e){var t,n,r,i=this,o=(a=ei.Z.dd.Manager).getTargetComp(e),a=a.getPosition(e,o);a=i.dropMarkerCls+"-"+a;o&&!o.hasCls(a)&&(o.getRecord&&(n=o.getRecord()),r=ei.Z.Array.intersect(i.getGroups(),e.source.getGroups()).length,(n&&r||(t=o.getStore?o.getStore():t)&&!(0<t.getCount()))&&(r=-1===e.data.dragData.records.indexOf(n),i.ddEl&&i.removeDropMarker(),r&&(i.addDropMarker(o,[i.dropIndicator,a]),i.ddEl=o)))},onDrop:function(e){var t,n,r,i,o,a=this;a.ddEl&&(t=e.data.dragData,n=a.ddEl.hasCls(a.dropMarkerCls+"-before")?"before":"after",(e=ei.Z.dd.Manager.getTargetComp(e)).isGridRow&&(r=e.parent),i=e.getRecord(),!1!==(o=a.view).fireEvent("beforedrop",e,t,i,n)&&(a.onNodeDrop(t,i,n,r||o),o.fireEvent("drop",e,t,i,n)),a.removeDropMarker())},onNodeDrop:function(e,t,n,r){var i,o,a=e.view,s=r.getStore(),l=r!==a,u=e.records;e=l||1<u.length;if(this.copy)for(o=u.length,i=0;i<o;i++)u[i]=u[i].copy();else e&&a.getStore().remove(u);t&&n?(l||a.getStore().remove(u),l=s.indexOf(t),"before"!==n&&l++,s.insert(l,u)):s.add(u),e&&r.getSelectable().getSelection().getSelectionModel().select(u)},addDropMarker:function(e,t){var n=this,r=ei.Z.dd.Manager;r.toggleProxyCls(n.info,n.validDropCls,!0),r.toggleMarkerCls(n.view,e,t,!0),n.overCls&&r.toggleTargetNodeCls(e,n.overCls,!0)},removeDropMarker:function(){var e=this,t=e.dropMarkerCls+"-",n=ei.Z.dd.Manager;e.info&&n.toggleProxyCls(e.info,e.validDropCls,!1),e.ddEl&&(t=[e.dropIndicator,t+"before",t+"after"],n.toggleMarkerCls(e.view,e.ddEl,t,!1),e.overCls&&n.toggleTargetNodeCls(e.ddEl,e.overCls,!1),e.ddEl=null)}}),ei.Z.define("GRUI.grid.HeaderDragZone",{extend:"GRUI.plugin.dd.DragZone",autoDestroy:!1,resizerCls:ei.Z.baseCSSPrefix+"resizer-el",maskCls:ei.Z.baseCSSPrefix+"mask",beforeDragStart:function(e){var t=ei.Z.dd.Manager.getSourceComp(e),n=t.renderElement,r=ei.Z.dd.Manager.getTargetEl(e);if(n.isSuspended("drag")||n.isSuspended("longpress")||t.isDragColumn||!1===t.getDraggable()||ei.Z.fly(e.eventTarget).hasCls(this.resizerCls)||ei.Z.fly(r).hasCls(this.maskCls))return!1;this.callParent2(this,"GRUI.plugin.dd.DragZone","null","beforeDragStart",this.beforeDragStart,arguments)},getDragText:function(e){return(e=ei.Z.dd.Manager.getTargetComp(e)).getText&&e.getText()||""}}),ei.Z.define("GRUI.grid.HeaderDropZone",{extend:"GRUI.grid.GridDropZone",dropMarkerCls:ei.Z.baseCSSPrefix+"header-drop-indicator",autoDestroy:!1,isValidDrag:function(e,t){var n,r,i=this.info;if(e.up(t))return!1;if(i=i.cursor.current,n=t.previousSibling(),t=t.nextSibling(),e===n){if(r=n.element.getBox(),.5<(i.x-r.left)/r.width)return!1}else if(e===t&&(r=t.element.getBox(),(i.x-r.left)/r.width<=.5))return!1;return!0},onDragMove:function(e){var t=this,n=ei.Z.dd.Manager,r=n.getTargetComp(e),i=r.isDragColumn,o=n.getSourceComp(e);r.isHeaderContainer&&o.isHeaderContainer&&r!==o&&!i&&r.getParent()!==t.view?(i=n.getPosition(e,r,"x"),n=t.dropMarkerCls+"-"+i,r.hasCls(n)||(this.ddEl&&this.removeDropMarker(),t.isValidDrag(r,o)&&(t.ddEl=r,t.addDropMarker(r,[t.dropIndicator,n])))):this.ddEl&&this.removeDropMarker()},trackHeaderMove:function(e,t){var n;e&&e!==t&&!e.innerItems.length&&((n=e.getParent()).remove(e),this.trackHeaderMove(n,t))},onDrop:function(e){var t,n,r,i,o,a,s,l,u=this,c="insertBefore";u.ddEl&&(n=(t=(o=ei.Z.dd.Manager).getTargetComp(e)).getParent()||t.getRootHeaderCt(),l=(s=(r=o.getSourceComp(e)).getRootHeaderCt()).indexOf(r),i=n.indexOf(t),o=o.getPosition(e,t,"x"),e=r.getParent(),u.removeDropMarker(),-1!==i&&("after"===o?(a=n.getAt(i+1))||(c="insertAfter",a=t):a=n.getAt(i),n[c](r,a||null),u.trackHeaderMove(e,s),s.fireEvent("move",s,r,i,l)))}}),ei.Z.define("GRUI.grid.PagingToolbar",{extend:"GRUI.Toolbar",xtype:"pagingtoolbar",classCls:ei.Z.baseCSSPrefix+"pagingtoolbar",config:{prevButton:{xtype:"button",iconCls:ei.Z.baseCSSPrefix+"pagingtoolbar-prev"},nextButton:{xtype:"button",iconCls:ei.Z.baseCSSPrefix+"pagingtoolbar-next"},sliderField:{xtype:"singlesliderfield",liveUpdate:!0,value:1,width:"85%",minValue:1},summaryComponent:{xtype:"component",cls:ei.Z.baseCSSPrefix+"pagingtoolbar-summary"}},inheritUi:!0,initialize:function(){var e=this;this.callParent2(this,"GRUI.Toolbar","null","initialize",this.initialize,arguments),e.add([e.getPrevButton(),e.getSummaryComponent(),e.getSliderField(),e.getNextButton()])},applyPrevButton:function(e,t){return ei.Z.factory(e,ei.Z.Button,t)},applyNextButton:function(e,t){return ei.Z.factory(e,ei.Z.Button,t)},applySliderField:function(e,t){return ei.Z.factory(e,ei.Z.field.SingleSlider,t)},applySummaryComponent:function(e,t){return ei.Z.factory(e,ei.Z.Component,t)}}),ei.Z.define("GRUI.grid.SummaryRow",{extend:"GRUI.grid.Row",xtype:"gridsummaryrow",requires:["GRUI.data.summary.*"],isSummaryRow:!0,config:{group:null},defaultCellUI:"summary",classCls:ei.Z.baseCSSPrefix+"summaryrow",element:{reference:"element",children:[{reference:"cellsElement",className:ei.Z.baseCSSPrefix+"cells-el"},{reference:"rightSpacer",className:ei.Z.baseCSSPrefix+"cells-el-right-spacer"}]},updateGroup:function(e){e&&this.syncSummary()},privates:{beginRefresh:function(e){var t=this.getGroup();return(e=this.callParent2(this,"GRUI.grid.Row","null","beginRefresh",this.beginRefresh,arguments)).group=t,e.records=(t||e.store).data.items,e.summary=!0,e},syncSummary:function(){var e=this,t=(e.getGroup()||e.parent.store).getSummaryRecord(),n=e.getViewModel();t===e.getRecord()?e.refresh():(e.setRecord(t),n&&n.setData({record:t}))}}}),ei.Z.define("GRUI.grid.cell.Expander",{extend:"GRUI.grid.cell.Base",xtype:"expandercell",isExpanderCell:!0,config:{collapsed:!0},align:"center",classCls:ei.Z.baseCSSPrefix+"expandercell",expandedCls:ei.Z.baseCSSPrefix+"expanded",innerTemplate:[{reference:"iconElement",cls:ei.Z.baseCSSPrefix+"icon-el "+ei.Z.baseCSSPrefix+"font-icon"}],updateCollapsed:function(e){this.element.toggleCls(this.expandedCls,!e)}}),ei.Z.define("GRUI.grid.column.Drag",{extend:"GRUI.grid.column.Column",xtype:"dragcolumn",classCls:ei.Z.baseCSSPrefix+"drag-column",cell:{bodyCls:ei.Z.baseCSSPrefix+"row-drag-indicator"},menu:null,sortable:!1,draggable:!1,resizable:!1,hideable:!1,ignore:!0,width:"auto",minWidth:30,ignoreExport:!0,text:"",isDragColumn:!0,onViewColumnAdd:function(e,t,n){n||t.isDragColumn||e.insertColumn(0,this)},onColumnMoved:function(e,t,n,r){this.onViewColumnAdd(e,t,r)},updateGrid:function(e,t){var n={scope:this,columnadd:"onViewColumnAdd",columnmove:"onColumnMoved"};this.isDestructing()||(t&&t.un(n),e&&e.on(n))}}),ei.Z.define("GRUI.grid.column.Text",{extend:"GRUI.grid.column.Column",requires:["GRUI.grid.cell.Text"],xtype:"textcolumn",cell:{xtype:"textcell"}}),ei.Z.define("GRUI.grid.filters.menu.Base",{extend:"GRUI.menu.CheckItem",isFilterMenuItem:!0,mixins:["GRUI.mixin.Bufferable"],text:"Filter",menu:{indented:!1},weight:-70,bufferableMethods:{onInputChange:300},syncFilter:function(){for(var e,t,n,r,i=this,o=i.column.getField(),a=i.plugin.getQuery().getFilters(),s=i.getMenu().getItems().items,l=s.length;0<l--;)if((n=s[l]).operator){for(r=null,t=o&&a&&a.length;0<t--;)if((e=a[t]).property===o&&e.operator===n.operator){r=e.value;break}n.setValue(r)}},syncQuery:function(){var e,t,n,r,i,o=this,a=o.column.getField(),s=o.plugin,l=s.getQuery(),u=0,c=0;if(a){for(e=ei.Z.clone(l.getFilters()),r=o.getMenu().getItems().items,t=e&&e.length;0<t--;)e[t].property===a&&(e.splice(t,1),++c);if(o.getChecked())for(t=r.length;0<t--;)(n=r[t]).operator&&null!==(i=n.getValue())&&""!==i&&(++u,ei.Z.isDate(i)&&(i=ei.Z.Date.format(i,"C")),(e=e||[]).push({property:a,operator:n.operator,value:i}));u||o.setChecked(!1),(u||c)&&s.setActiveFilter(e)}},privates:{doOnInputChange:function(){this.setChecked(!0),this.syncQuery()}}}),ei.Z.define("GRUI.grid.filters.menu.Boolean",{extend:"GRUI.grid.filters.menu.Base",alias:"gridFilters.boolean",requires:["GRUI.menu.RadioItem"],menu:{defaults:{name:"boolfilter",group:"value",xtype:"menuradioitem",operator:"==",checkHandler:"up.onInputChange"},items:{yes:{value:!0,text:"True",weight:10},no:{value:!1,text:"False",weight:20}}},syncFilter:function(){for(var e,t,n,r,i=this,o=i.column.getField(),a=i.plugin.getQuery().getFilters(),s=i.getMenu().getItems().items,l=s.length;0<l--;)if((n=s[l]).operator){for(r=null,t=o&&a&&a.length;0<t--;)if((e=a[t]).property===o&&e.operator===n.operator){if(!n.getChecked){r=e.value;break}if(e.value===n.getValue()){r=e.value;break}}"=="===n.operator&&n.getChecked?n.getValue()===r?n.setChecked(!0):n.setChecked(!1):n.setValue(r)}},syncQuery:function(){var e,t,n,r,i,o=this,a=o.column.getField(),s=o.plugin,l=s.getQuery(),u=0,c=0;if(a){for(e=ei.Z.clone(l.getFilters()),r=o.getMenu().getItems().items,t=e&&e.length;0<t--;)e[t].property===a&&(e.splice(t,1),++c);if(o.getChecked())for(t=r.length;0<t--;)(n=r[t]).operator&&(n&&n.getChecked?i=!n.getChecked()||!0!==n.getValue()&&!1!==n.getValue()?null:n.getValue():(i=n.getValue(),o.setChecked(!0)),null!==i&&""!==i&&(++u,(e=e||[]).push({property:a,operator:n.operator,value:i})));u||o.setChecked(!1),(u||c)&&s.setActiveFilter(e)}}}),ei.Z.define("GRUI.grid.filters.menu.Date",{extend:"GRUI.grid.filters.menu.Base",alias:"gridFilters.date",menu:{items:{lt:{xtype:"datefield",label:"Before",placeholder:"Before...",operator:"<",weight:10,listeners:{change:"up.onInputChange"}},gt:{xtype:"datefield",label:"After",placeholder:"After...",operator:">",weight:20,listeners:{change:"up.onInputChange"}},eq:{xtype:"datefield",label:"On",placeholder:"On...",operator:"=",separator:!0,weight:30,listeners:{change:"up.onInputChange"}}}},syncFilter:function(){for(var e,t,n,r,i=this,o=i.column,a=o.getField(),s=i.plugin.getQuery().getFilters(),l=i.getMenu().getItems().items,u=l.length;0<u--;)if((n=l[u]).operator){for(r=null,t=a&&s&&s.length;0<t--;)if("=="!==(e=s[t]).operator||n.getChecked||"boolean"==typeof e.value||(e.operator="="),e.property===a&&e.operator===n.operator){r=e.value;break}"date"===o.columnFilterTypes[o.xtype]&&(r=r&&ei.Z.Date.parse(r)),n.setValue(r)}}}),ei.Z.define("GRUI.grid.filters.menu.Number",{extend:"GRUI.grid.filters.menu.Base",alias:"gridFilters.number",menu:{items:{lt:{xtype:"numberfield",label:"Less than",placeholder:"Less than...",floatedPickerAlign:"tl-tr?",operator:"<",weight:10,listeners:{change:"up.onInputChange"}},gt:{xtype:"numberfield",label:"Greater than",placeholder:"Greater than...",floatedPickerAlign:"tl-tr?",operator:">",weight:20,listeners:{change:"up.onInputChange"}},eq:{xtype:"numberfield",label:"Equal to",placeholder:"Equal to...",floatedPickerAlign:"tl-tr?",operator:"=",separator:!0,weight:30,listeners:{change:"up.onInputChange"}}}},syncFilter:function(){for(var e,t,n,r,i=this,o=i.column.getField(),a=i.plugin.getQuery().getFilters(),s=i.getMenu().getItems().items,l=s.length;0<l--;)if((n=s[l]).operator){for(r=null,t=o&&a&&a.length;0<t--;)if("=="!==(e=a[t]).operator||n.getChecked||"boolean"==typeof e.value||(e.operator="="),e.property===o&&e.operator===n.operator){r=e.value;break}n.setValue(r)}}}),ei.Z.define("GRUI.grid.filters.menu.String",{extend:"GRUI.grid.filters.menu.Base",alias:"gridFilters.string",menu:{items:{like:{xtype:"textfield",placeholder:"Like...",operator:"like",listeners:{change:"up.onInputChange"}}}}}),ei.Z.define("GRUI.grid.filters.Plugin",{extend:"GRUI.plugin.Abstract",alias:"plugin.gridfilters",requires:["GRUI.grid.filters.menu.*","GRUI.grid.filters.Column","GRUI.data.Query","GRUI.util.Filter"],mixins:["GRUI.state.Stateful","GRUI.mixin.StoreWatcher"],config:{activeFilter:null,query:{type:"default",format:"filters"}},stateful:["activeFilter"],init:function(e){this.setOwner(e),e.on({beforeshowcolumnmenu:"onBeforeShowColumnMenu",scope:this})},destroy:function(){this.setOwner(null),this.callParent2(this,"GRUI.plugin.Abstract","null","destroy",this.destroy,arguments)},updateActiveFilter:function(e){var t=this.getQuery(),n=(n=(n=this.getOwner())&&n.getStore())&&n.getFilters();ei.Z.isString(e)?t.setSource(e):t.setFilters(e),n&&n.add(t)},applyQuery:function(e,t){return ei.Z.Factory.query.update(t,e)},updateQuery:function(e){var t,n;e&&(t=this,n=e.compile,e.compile=function(){n.call(e),t.queryModified(e)})},updateStore:function(e,t){var n=this,r=n.getQuery();n.mixins.storewatcher.updateStore.call(n,e,t),!t||t.destroying||t.destroyed||t.getFilters().remove(r),e&&e.getFilters().add(r)},onSetFilter:function(e){this.setActiveFilter(e.rec.data.query)},privates:{onBeforeShowColumnMenu:function(e,t,n){var r=this,i=n.getComponent("filter");i||(i=(t=t.createFilter({itemId:"filter",plugin:r,column:t}))&&n.add(ei.Z.Factory.gridFilters(t)))&&i.setCheckHandler(r.onFilterItemCheckChange.bind(r)),i&&i.syncFilter()},onFilterItemCheckChange:function(e){e.syncQuery()},queryModified:function(){var e=this.cmp.getStore();(e=e&&e.getFilters())&&(e.beginUpdate(),++e.generation,e.endUpdate())}}}),ei.Z.define("GRUI.layout.Fit",{extend:"GRUI.layout.Auto",alias:"layout.fit",isFit:!0,cls:ei.Z.baseCSSPrefix+"layout-fit",itemCls:ei.Z.baseCSSPrefix+"layout-fit-item"}),ei.Z.define("GRUI.grid.locked.Grid",{extend:"GRUI.Panel",xtype:"lockedgrid",alternateClassName:"GRUI.grid.LockedGrid",isLockedGrid:!0,requires:["GRUI.layout.Box","GRUI.layout.Fit","GRUI.grid.Grid"],classCls:ei.Z.baseCSSPrefix+"lockedgrid",config:{columnMenu:{items:{region:{text:"Locked",iconCls:"fi-lock",menu:{}}}},columns:null,defaultLockedRegion:"left",gridDefaults:null,hideHeaders:!1,itemConfig:{},leftRegionDefaults:{locked:!0,menuItem:{iconCls:"fi-chevron-left"}},regions:{left:{menuItem:{text:"Locked (Left)"},weight:-10},center:{flex:1,menuItem:{text:"Unlocked",iconCls:"fi-unlock"},weight:0},right:{menuItem:{text:"Locked (Right)"},weight:10}},rightRegionDefaults:{locked:!0,menuItem:{iconCls:"fi-chevron-right"}},store:null,variableHeights:!1,enableColumnMove:!0,grouped:!0},weighted:!0,layout:{type:"hbox",align:"stretch"},onRender:function(){this.callParent2(this,"GRUI.Panel","null","onRender",this.onRender,arguments),this.setupHeaderSync(),this.reconfigure()},doDestroy:function(){ei.Z.undefer(this.partnerTimer),this.callParent2(this,"GRUI.Panel","null","doDestroy",this.doDestroy,arguments)},addColumn:function(e){for(var t,n,r=this,i=r.processColumns(e),o=Array.isArray(e),a=o?[]:null,s=r.gridItems,l=s.length,u=0;u<l;++u)(n=i[(t=s[u]).regionKey])&&(t=t.addColumn(n),o?ei.Z.Array.push(a,t):a=t[0]);return r.getVariableHeights()&&r.doRefresh(),a},getHorizontalOverflow:function(){for(var e=this.visibleGrids,t=e&&e.length,n=0;n<t;++n)if(e[n].getHorizontalOverflow())return!0;return!1},getRegion:function(e){return this.regionMap[e]||null},getVerticalOverflow:function(){var e=this.visibleGrids,t=e&&e.length;return t&&e[t-1].getVerticalOverflow()},insertColumnBefore:function(e,t){return e=null===t?this.gridMap.center.addColumn(e):t.getParent().insertBefore(e,t),this.getVariableHeights()&&this.doRefresh(),e},removeColumn:function(e){return e=e.getGrid().removeColumn(e),this.getVariableHeights()&&this.doRefresh(),e},createLocation:function(e){var t;return e.isGridLocation&&e.column&&(t=e.column.getGrid()).getHidden()&&(t=null,e=e.record),(t=t||this.regionMap.center.getGrid()).createLocation(e)},setLocation:function(e,t){var n;e.isGridLocation&&e.column&&(n=e.column.getGrid()).getHidden()&&(n=null,e=e.record),(n=n||this.regionMap.center.getGrid()).setLocation(e,t)},updateColumns:function(e){var t,n,r,i,o=this,a=o.gridItems;if(!o.isConfiguring){for(t=o.processColumns(e),++o.bulkColumnChange,r=0,n=a.length;r<n;++r)(i=a[r]).setColumns(t[i.regionKey]||[]);o.doRefresh(),--o.bulkColumnChange}},updateGrouped:function(e){this.relayConfig("grouped",e)},updateHideHeaders:function(e){var t=this;t.headerSync=ei.Z.destroy(t.headerSync),t.relayConfig("hideHeaders",e),t.setupHeaderSync()},updateEnableColumnMove:function(e){var t,n;if(!this.isConfiguring)for(t=this.gridItems,n=0;n<t.length;n++)t[n].setEnableColumnMove(e)},updateItemConfig:function(e){this.relayConfig("itemConfig",e)},updateMaxHeight:function(e){this.relayConfig("maxHeight",e)},updateRegions:function(e){var t,n,r,i,o,a,s,l,u,c,d,f=this,h=f.regionMap,p=f.getGridDefaults(),g=f.getVariableHeights(),m=f.getEnableColumnMove();if(h)for(t in h)f.remove(h[t]);for(t in f.regionMap=h={},f.gridMap=i={},n=f.processColumns(f.getColumns()),e)(a=e[t])&&(a=f.createRegion(t,e[t],n[t],p),(r=(a=f.add(a)).getGrid()).isDefaultPartner=t===f.unlockedKey,r.setEnableColumnMove(m),g&&(r.partnerManager=f,r.isDefaultPartner&&(f.defaultPartner=u=r)),a.on({scope:f,collapse:"onRegionCollapse",expand:"onRegionExpand",hide:"onRegionHide",show:"onRegionShow"}),h[t]=a,(a=(i[t]=r).getScrollable())&&(o&&o.addPartner(a,"y"),o=a),f.setupGrid(r));for(f.regionItems=c=f.query(">[isLockedGridRegion]"),f.gridItems=d=[],l=0,s=c.length;l<s;++l)r=c[l].getGrid(),d.push(r),u&&r!==u&&(r.renderInfo=u.renderInfo);f.setupHeaderSync()},applyStore:function(e){return e?ei.Z.data.StoreManager.lookup(e):null},updateStore:function(e){this.store=e,this.relayConfig("store",e)},updateVariableHeights:function(e){this.relayConfig("variableHeights",e)},registerActionable:function(e){var t,n=this.actionables||(this.actionables=[]),r=this.gridItems;if(!ei.Z.Array.contains(n,e)&&(n.push(e),r))for(t=r.length;0<t--;)r[t].registerActionable(e)},unregisterActionable:function(e){var t,n=this.actionables,r=this.gridItems;if(n&&(ei.Z.Array.remove(n,e),r))for(t=r.length;0<t--;)r[t].registerActionable(e)},statics:{relayGridMethod:function(e,t,n,r){t=t||"visibleGrids",n=n||0,null==r&&(r=null),this.prototype[e]=function(){var i=this[t],o=r;return(i=i&&i[n])?(i=i.isLockedGridRegion?i.getGrid():i)[e].apply(i,arguments):o}},relayGridMethods:function(e){var t,n,r=[];for(t in e)!0===(n=e[t])?(n=r)[0]=t:(n=n.slice()).unshift(t),this.relayGridMethod.apply(this,n)}},privates:{bulkColumnChange:0,partnerOffset:200,itemConfiguring:!1,lastPartnerRequest:0,unlockedKey:"center",claimActivePartner:function(e){var t=this,n=Date.now(),r=t.activePartner;t.partnerTimer=ei.Z.undefer(t.partnerTimer),(!r||n-t.lastPartnerRequest>t.partnerOffset)&&(t.activePartner=e,t.lastPartnerRequest=n,t.setActivePartner(e))},configureHeaderHeights:function(){var e=this.headerSync;e&&e.sync()},configureItems:function(){var e,t,n,r,i,o=this,a=o.gridItems,s=o.regionItems;for(o.itemConfiguring=!0,e=a.length-1;0<=e;--e)n=a[e],i=s[e],o.setRegionVisibility(i),r=!0,t&&n.getVerticalOverflow()||(r=!1,t=o.isRegionVisible(i)),n.setHideScrollbar(r);o.itemConfiguring=!1},configurePartners:function(){var e,t,n=this,r=this.gridItems,i=r.length,o=r.filter((function(e){return n.isRegionVisible(e.region)}));for(n.visibleGrids=o,e=0;e<i;++e)(t=r[e]).allPartners=o,t.partners=o.filter((function(e){return e!==t}))},createRegion:function(e,t,n,r){var i,o=this,a=t.weight;return o.fireEvent("createregion",o,n),0!==a&&(i=a<0?o.getLeftRegionDefaults():o.getRightRegionDefaults()),ei.Z.merge({xtype:"lockedgridregion",regionKey:e,lockedGrid:o,grid:ei.Z.apply({regionKey:e,columnMenu:o.getColumnMenu(),columns:n,hideHeaders:o.getHideHeaders(),grouped:o.getGrouped(),itemConfig:o.getItemConfig(),store:o.getStore(),variableHeights:o.getVariableHeights()},r)},i,t)},doHorizontalScrollCheck:function(){for(var e,t,n=this.gridItems,r=n.length,i=0;i<r;++i)t=(e=n[i]).getScrollable(),this.isRegionVisible(e.region)&&t&&t.setX(!e.getHorizontalOverflow()||"scroll")},doRefresh:function(){this.reconfigure(),this.refreshGrids(),this.doHorizontalScrollCheck(),this.doVerticalScrollCheck()},doReleaseActivePartner:function(){var e=this;e.destroyed||(e.lastPartnerRequest=0,e.activePartner=null,e.setActivePartner(e.defaultPartner))},doVerticalScrollCheck:function(){for(var e,t,n,r=this.gridItems,i=r.length,o=0;o<i;++o)t=(e=r[o]).getScrollable(),(n=e.region)&&this.isRegionVisible(n)&&t&&(e.getVerticalOverflow()?this.setGridScrollers(n,n.isHidden()):this.setGridScrollers(!1))},handleChangeRegion:function(e,t){var n=this,r=(e=e.getGrid(),(i=n.gridItems).indexOf(e)),i=i.indexOf(t.getGrid());++n.bulkColumnChange,r<i?e.addColumn(t):e.insertColumn(0,t),e.syncRowsToHeight(!0),--n.bulkColumnChange,n.doHorizontalScrollCheck(),n.doVerticalScrollCheck()},handleRegionVisibilityChange:function(e,t){var n=this;n.itemConfiguring||(n.configurePartners(),n.refreshGrids(),n.setGridScrollers(e,t),n.configureHeaderHeights())},isActivePartner:function(e){var t=this.activePartner;return t?e===t:e.isDefaultPartner},isHeaderVisible:function(e){return this.isRegionVisible(e.getGrid().region)},isRegionVisible:function(e){return!e.hasHiddenContent()},isLastVisibleRegion:function(e){for(var t=this.regionItems,n=t.indexOf(e),r=t.length-1;n<r;--r)if(!t[r].hasHiddenContent())return!1;return!0},onBeforeShowColumnMenu:function(e,t,n){var r,i,o,a,s=this.regionItems,l=s.length,u=e.region;if(n=n.getComponent("region")){for((n=n.getMenu()).removeAll(),i=[],r=!(!e.isDefaultPartner||1!==e.getVisibleColumns().length),a=0;a<l;++a)o=s[a],i.push(ei.Z.applyIf({disabled:r||o===u,handler:this.handleChangeRegion.bind(this,o,t)},o.getMenuItem()));n.add(i)}},onColumnAdd:function(e){this.setRegionVisibility(e.region)||this.refreshGrids(),this.configureHeaderHeights()},onColumnHide:function(e){this.setRegionVisibility(e.region)||this.refreshGrids(),this.configureHeaderHeights()},onColumnRemove:function(e,t){this.fireEvent("columnremove",e,t),this.setRegionVisibility(e.region)||this.refreshGrids(),this.configureHeaderHeights()},onColumnShow:function(e){this.setRegionVisibility(e.region)||this.refreshGrids(),this.configureHeaderHeights()},onGridHorizontalOverflowChange:function(){this.bulkColumnChange||this.doHorizontalScrollCheck()},onGridResize:function(e){e.syncRowsToHeight(!0)},onGridVerticalOverflowChange:function(e,t){var n=e.region;t?this.setGridScrollers(n,n.isHidden()):e.setHideScrollbar(!1)},onRegionCollapse:function(e){this.handleRegionVisibilityChange(e,!0)},onRegionExpand:function(e){this.handleRegionVisibilityChange(e,!1)},onRegionHide:function(e){this.handleRegionVisibilityChange(e,!0)},onRegionShow:function(e){this.handleRegionVisibilityChange(e,!1)},getRegionKey:function(e){var t=this.getDefaultLockedRegion();return t=e?!0===e?t:e:this.unlockedKey},processColumns:function(e){var t,n,r,i,o,a={};if(e)for(n=0,t=(e=Array.isArray(e)?e:[e]).length;n<t;++n)i=(r=e[n]).locked||r.getLocked&&r.getLocked(),(o=a[i=this.getRegionKey(i)])||(a[i]=o=[]),o.push(r);return a},reconfigure:function(){this.configureItems(),this.configurePartners(),this.configureHeaderHeights()},refreshGrids:function(){var e,t=this.visibleGrids,n=t.length;if(this.rendered)for(e=0;e<n;++e)t[e].syncRowsToHeight(!0)},relayConfig:function(e,t){var n,r,i,o=this.gridItems;if(o&&!this.isConfiguring)for(i=ei.Z.Config.get(e).names.set,n=0,r=o.length;n<r;++n)o[n][i](t)},releaseActivePartner:function(e){var t=this;t.activePartner===e&&(ei.Z.undefer(t.partnerTimer),t.partnerTimer=ei.Z.defer(t.doReleaseActivePartner,t.partnerOffset,t))},setActivePartner:function(e){var t=this.visibleGrids;ei.Z.Array.remove(t,e),t.unshift(e)},setGridScrollers:function(e,t){var n,r,i,o=this.gridItems,a=o.length;if(this.isLastVisibleRegion(e))for(i=e.getGrid(),n=o.indexOf(i)-(t?1:0),r=0;r<a;++r)o[r].setHideScrollbar(!!i.getVerticalOverflow()&&r<n)},setRegionVisibility:function(e){var t=e.getGrid(),n=!!e.getHidden();return e.setHidden(0===t.getVisibleColumns().length),n!==e.getHidden()},setupGrid:function(e){var t,n=this.actionables;if(n)for(t=0;t<n.length;++t)e.registerActionable(n[t]);e.on({scope:this,beforeshowcolumnmenu:"onBeforeShowColumnMenu",columnadd:"onColumnAdd",columnhide:"onColumnHide",columnremove:"onColumnRemove",columnshow:"onColumnShow",horizontaloverflowchange:"onGridHorizontalOverflowChange",resize:"onGridResize",verticaloverflowchange:"onGridVerticalOverflowChange"})},setupHeaderSync:function(){var e,t,n=this,r=n.gridItems;if(!n.getHideHeaders()&&!n.isConfiguring){for(e=[],t=0;t<r.length;++t)e.push(r[t].getHeaderContainer());ei.Z.destroy(n.headerSync),n.headerSync=new ei.Z.util.HeightSynchronizer(e,n.isHeaderVisible.bind(n))}}}},(function(e){e.relayGridMethods({ensureVisible:!0,gatherData:!0,getSelections:!0,mapToItem:!0,mapToRecord:!0,mapToRecordIndex:!0})})),ei.Z.define("GRUI.grid.locked.Region",{extend:"GRUI.Panel",xtype:"lockedgridregion",isLockedGridRegion:!0,alternateClassName:"GRUI.grid.LockedGridRegion",requires:["GRUI.layout.Fit","GRUI.grid.Grid"],classCls:ei.Z.baseCSSPrefix+"lockedgridregion",autoSize:null,lockedGrid:null,config:{grid:{xtype:"grid",manageHorizontalOverflow:!1,reserveScrollbar:!0,scrollable:{x:!0,y:!0}},locked:!1,menuItem:{},menuLabel:"",regionKey:""},border:!0,layout:"fit",onResize:function(){},applyMenuItem:function(e){var t=this.getMenuLabel();return e&&t?ei.Z.applyIf({text:t},e):e},updateHidden:function(e,t){var n,r=this.lockedGrid.headerSync;this.callParent2(this,"GRUI.Panel","null","updateHidden",this.updateHidden,arguments),e&&(n=this.getGrid().getNavigationModel())&&n.getLocation()&&n.setLocation(null),r&&r.invalidateItems()},applyGrid:function(e){return e&&((e=this.add(e)).region=this),e},updateWeight:function(e,t){var n=this,r=n.sideClsMap;this.callParent2(this,"GRUI.Panel","null","updateWeight",this.updateWeight,arguments),t&&n.removeCls(r[ei.Z.Number.sign(t)]),e&&n.addCls(r[ei.Z.Number.sign(e)])},privates:{sideClsMap:{"-1":ei.Z.baseCSSPrefix+"lock-start",1:ei.Z.baseCSSPrefix+"lock-end"}}}),ei.Z.define("GRUI.grid.plugin.BaseFilterBar",{extend:"GRUI.plugin.Abstract",config:{hidden:!1,headerListeners:null,gridListeners:null,storeListeners:{filterchange:"onFilterChanged"},grid:null,store:null,bar:null,header:null},filterBarCls:ei.Z.baseCSSPrefix+"grid-filterbar",filterCls:ei.Z.baseCSSPrefix+"grid-filterbar-filtered-column",init:function(e){this.setGrid(e)},destroy:function(){var e=this;e.setStore(null),e.setGrid(null),e.setBar(null),this.callParent2(this,"GRUI.plugin.Abstract","null","destroy",this.destroy,arguments)},showFilterBar:function(){this.isDestroyed||this.getBar().show()},hideFilterBar:function(){this.isDestroyed||this.getBar().hide()},clearFilters:function(){var e=this.getGrid().getStore().getFilters(!1);e&&e.removeAll()},setupGridFunctions:function(e){var t=this;e&&(e.showFilterBar=ei.Z.bind(t.showFilterBar,t),e.hideFilterBar=ei.Z.bind(t.hideFilterBar,t))},unsetupGridFunctions:function(e){e&&(e.showFilterBar=e.hideFilterBar=null)},updateGrid:function(e,t){var n=this,r=n.getGridListeners();n.listenersGrid=ei.Z.destroy(n.listenersGrid),n.unsetupGridFunctions(t),t&&n.setStore(null),e&&(r&&(n.listenersGrid=e.on(ei.Z.apply({scope:n,destroyable:!0},r))),n.setStore(e.getStore()),n.setupGridFunctions(e),n.createFilterBar())},updateStore:function(e){var t=this;ei.Z.destroy(t.listenersStore),e&&(t.listenersStore=e.on(ei.Z.apply({scope:t,destroyable:t},t.getStoreListeners())))},createFilterBar:ei.Z.emptyFn,getGridColumns:ei.Z.emptyFn,initializeFilters:function(e){for(var t,n=e.length,r=this.getBar(),i=0;i<n;i++)t=this.createColumnFilter(e[i]),r.add(t.getField())},setFilterVisibility:function(e,t){(e=(e=e.getFilterType())&&e.isGridFilter?e.getField():null)&&e[t?"show":"hide"]()},createColumnFilter:function(e){var t=e.getFilterType(),n={grid:this.getGrid(),column:e,owner:this};return t?t.isGridFilter||(ei.Z.isString(t)?n.type=t:ei.Z.apply(n,t),t=ei.Z.Factory.gridFilterbar(n)):(n.type="none",t=ei.Z.Factory.gridFilterbar(n)),e.setFilterType(t),t},onFilterChanged:function(){this.resetFilters()},resetFilters:function(){for(var e,t=this.getGridColumns(),n=t.length,r=0;r<n;r++)(e=t[r].getFilterType())&&e.isGridFilter&&e.resetFilter()},resizeFilters:function(){for(var e,t=this.getGridColumns(),n=t.length,r=0;r<n;r++)(e=t[r].getFilterType())&&e.isGridFilter&&e.resizeField()}}),ei.Z.define("GRUI.grid.plugin.filterbar.FilterBar",{extend:"GRUI.grid.plugin.BaseFilterBar",alias:"plugin.gridfilterbar",headerListeners:{columnshow:"onColumnShow",columnhide:"onColumnHide",columnadd:"onColumnAdd",columnmove:"onColumnMove",synreservespace:"syncReserveSpace"},gridListeners:{initialize:"onGridInitialized",columnlayout:"onHeaderContainerLayout",storechange:"onGridStoreChange"},createFilterBar:function(){var e=this,t=e.getGrid(),n=t.getHeaderContainer();n=t.indexOf(n)||0;t.initialized&&e.setBar(t.insert(n+1,{xtype:"container",hidden:e.getHidden(),cls:[e.filterBarCls,ei.Z.baseCSSPrefix+"headercontainer"],docked:"top",weight:110,weighted:!0,autoSize:null,layout:{type:"hbox",align:"stretch"},scrollable:{x:!1,y:!1}}))},onGridInitialized:function(){this.createFilterBar()},onGridStoreChange:function(e,t){this.setStore(t)},updateGrid:function(e,t){var n=this,r=n.getHeaderListeners();this.callParent2(this,"GRUI.grid.plugin.BaseFilterBar","null","updateGrid",this.updateGrid,arguments),n.listenersHeader=ei.Z.destroy(n.listenersHeader),e&&r&&(n.listenersHeader=e.getHeaderContainer().on(ei.Z.apply(r,{scope:n,destroyable:!0})))},updateBar:function(e){var t=this,n=(n=t.getGrid())&&n.getHeaderContainer();e&&(n.getScrollable().addPartner(e.getScrollable(),"x"),t.initializeFilters(n.getColumns()),t.resizeFilters())},onColumnAdd:function(e,t,n){var r=this.getBar(),i=t.getFilterType();r&&(i&&i.isGridFilter||(i=this.createColumnFilter(t)),r.insert(n,i.getField()))},onColumnMove:function(e,t,n,r){var i,o,a,s=this.getBar(),l=t&&t.length;if(s)for(o=0;o<l;o++)(i=(a=t[o]).getFilterType())&&i.isGridFilter||(i=this.createColumnFilter(a)),a=e.indexOf(a),i&&s.insert(a,i.getField())},onColumnShow:function(e,t){this.setFilterVisibility(t,!0)},onColumnHide:function(e,t){this.setFilterVisibility(t,!1)},onHeaderContainerLayout:function(){this.resizeFilters()},getGridColumns:function(){return this.getGrid().getHeaderContainer().getVisibleColumns()},resizeFilters:function(){var e,t,n,r=this.getGridColumns(),i=r.length;if(this.getBar())for(e=0;e<i;e++)(t=(n=r[e]).getFilterType())&&t.isGridFilter&&t.resizeField(n.getComputedWidth())},syncReserveSpace:function(e,t){var n=this.getBar();n&&n.el.setStyle("padding-right",t)}}),ei.Z.define("GRUI.grid.plugin.filterbar.filters.Base",{mixins:["GRUI.mixin.Factoryable"],factoryConfig:{type:"grid.filterbar"},$configPrefixed:!1,$configStrict:!1,config:{fieldDefaults:{xtype:"fieldcontainer"},grid:null,column:null,field:null,dataIndex:null,operator:"==",operators:null,updateBuffer:500,serializer:null,fieldListeners:{change:"onValueChange",operatorchange:"onOperatorChange",initialize:"onFieldRender",specialkey:"onFieldSpecialKey"}},active:!1,filterIdPrefix:ei.Z.baseCSSPrefix+"gridfilter",isGridFilter:!0,defaultRoot:"data",fieldCls:ei.Z.baseCSSPrefix+"grid-filter-base",constructor:function(e){var t=this;t.initConfig(e),t.initFilter(e),t.createField(),t.task=new ei.Z.util.DelayedTask(t.setValue,t)},destroy:function(){var e=this;e.task&&(e.task.cancel(),e.task=null),e.setColumn(null),e.setField(null),e.setGrid(null),this.callParent2(this,"null","null","destroy",this.destroy,arguments)},initFilter:ei.Z.emptyFn,createField:function(){this.setField(ei.Z.widget(this.getFieldConfig()))},getFieldConfig:function(){var e=this,t=e.getColumn(),n=e.filter,r={};return t&&(r.width=t.getWidth(),r.hidden=t.getHidden(),r.column=t),n&&(r.value=n.getValue()),r.operator=e.getOperator(),r.operators=e.getOperators(),r.jsx=e.getFilterComponent(t.getFilterType()),ei.Z.apply(r,e.getFieldDefaults())},getFilterComponent:function(e){return this.getGrid().getFilterComponents()[e]},addStoreFilter:function(e){var t,n=this.getGridStore().getFilters();(t=-1!==(t=n.indexOf(e))?n.getAt(t):null)&&ei.Z.util.Filter.isEqual(t,e)||n.add(e)},createFilter:function(e,t){return(e=new ei.Z.util.Filter(this.getFilterConfig(e,t))).isGridFilter=!0,e},getFilterConfig:function(e,t){return e.id=this.getBaseIdPrefix(),e.property||(e.property=this.dataIndex),e.root||(e.root=this.defaultRoot),t&&(e.id+="-"+t),e.serializer=this.getSerializer(),e},getActiveState:function(e,t){return void 0!==(e=e.active)?e:void 0!==t},getBaseIdPrefix:function(){return this.filterIdPrefix+"-"+this.dataIndex},getGridStore:function(){return this.grid.getStore()},getStoreFilter:function(e){var t,n,r,i,o,a=this,s=a.getGridStore().getFilters(!1),l=a.getBaseIdPrefix();if(e&&(l+="-"+e),s&&!(t=s.get(l)))for(r=s.length,i=0;i<r;i++)if((n=s.items[i]).getProperty()===a.dataIndex){t=n,o=s.getKey(n),t.setId(l),s.itemChanged(n,["id"],o);break}return t},setActive:function(e){var t,n=this;n.active!==e&&(n.active=e,n.changingFilters=!0,(t=n.getGridStore().getFilters()).beginUpdate(),e?n.activate():n.deactivate(),t.endUpdate(),n.changingFilters=!1,n.setColumnActive(e),n.grid.fireEventArgs(e?"filteractivate":"filterdeactivate",[n,n.column]))},activate:ei.Z.emptyFn,deactivate:ei.Z.emptyFn,setColumnActive:function(e){this.column[e?"addCls":"removeCls"](this.owner.filterCls)},onValueChange:function(e,t){var n=this,r=n.updateBuffer;e.isValid()&&t!==n.value&&(r?n.task.delay(r,null,null,[t]):n.setValue(t))},onOperatorChange:function(e,t){e=e.getValue();var n="empty"===t||"nempty"===t;this.setOperator(t),ei.Z.isEmpty(e)||n||this.setValue(e)},removeStoreFilter:function(e){this.getGridStore().getFilters().remove(e)},updateColumn:function(e){var t=this;t.columnListeners=ei.Z.destroy(t.columnListeners),e&&(t.getField()||t.setDataIndex(e.getField()),t.columnListeners=e.on({destroy:t.destroy,scope:t,destroyable:!0}))},updateField:function(e,t){var n=this;this.grid.isDestroying||ei.Z.destroy(t),e&&(e.addCls(n.fieldCls),e.isFormField&&(e.addPlugin({type:"operator",operator:n.getOperator(),operators:n.getOperators()}),e.on(ei.Z.apply({scope:n},n.getFieldListeners()))))},updateOperator:function(e){var t=this,n=t.getField();!t.isConfiguring&&t.filter&&(t.filter.setOperator(e),n&&n.setOperator&&n.setOperator(e))},updateStoreFilter:function(){this.getGridStore().getFilters().notify("endupdate")},onFieldRender:function(){this.resizeField()},resizeField:function(e){var t=this.getField(),n=this.getColumn();t&&t.rendered&&n&&n.rendered&&((t.flex=null)!=e?t.setWidth(e):t.setWidth(n.getWidth()))},resetFilter:ei.Z.emptyFn,onFieldSpecialKey:function(e,t){t.getKey()!==t.ESC||ei.Z.isEmpty(e.getValue())||(e.clearValue?e.clearValue():e.setValue(null))}}),ei.Z.define("GRUI.grid.plugin.filterbar.filters.SingleFilter",{extend:"GRUI.grid.plugin.filterbar.filters.Base",initFilter:function(e){var t=this,n=t.value,r=t.getStoreFilter();r?(t.active=!0,t.setOperator(r.getOperator())):(t.grid.stateful&&t.getGridStore().saveStatefulFilters&&(n=void 0),t.active=t.getActiveState(e,n),r=t.createFilter({operator:t.operator,value:n}),t.active&&t.addStoreFilter(r)),t.active&&t.setColumnActive(!0),t.filter=r},updateOperator:function(e,t){var n=this,r=n.getField(),i="empty"===e||"nempty"===e;this.callParent2(this,"GRUI.grid.plugin.filterbar.filters.Base","null","updateOperator",this.updateOperator,arguments),!n.isConfiguring&&r&&(i?(r.setValue(null),n.setValue(null)):"empty"!==t&&"nempty"!==t||n.setActive(!1))},setValue:function(e){var t=this,n="empty"===(n=t.getOperator())||"nempty"===n;t.filter.setValue(e),t.value=e,ei.Z.isEmpty(e)&&!n?t.setActive(!1):t.active?t.updateStoreFilter():t.setActive(!0)},activate:function(){this.addStoreFilter(this.filter)},deactivate:function(){var e=this,t=e.getOperator(),n=e.getOperators();"empty"!==t&&"nempty"!==t||e.setOperator(n&&n.length?n[0]:"like"),e.removeStoreFilter(e.filter)},resetFilter:function(){var e,t,n,r=this;r.changingFilters||(e=r.getStoreFilter(),t=r.getField(),e?(r.active=!0,n=e.getValue(),r.setOperator(e.getOperator())):r.active&&r.setActive(!1),t.setValue(n))}}),ei.Z.define("GRUI.grid.plugin.filterbar.filters.Boolean",{extend:"GRUI.grid.plugin.filterbar.filters.SingleFilter",alias:"grid.filterbar.boolean",type:"boolean",operator:"==",operators:["==","!="],trueText:"Yes",falseText:"No",trueValue:1,falseValue:0,getFieldConfig:function(){var e=this,t=this.callParent2(this,"GRUI.grid.plugin.filterbar.filters.SingleFilter","null","getFieldConfig",this.getFieldConfig,arguments);return t.store=[{value:e.trueValue,text:e.trueText},{value:e.falseValue,text:e.falseText}],t}}),ei.Z.define("GRUI.grid.plugin.filterbar.filters.Date",{extend:"GRUI.grid.plugin.filterbar.filters.SingleFilter",alias:"grid.filterbar.date",type:"date",operators:["==","!=",">",">=","<","<="]}),ei.Z.define("GRUI.grid.plugin.filterbar.filters.List",{extend:"GRUI.grid.plugin.filterbar.filters.SingleFilter",alias:"grid.filterbar.list",config:{options:null},type:"list",operator:"==",operators:["==","!=","empty","nempty"],constructor:function(e){var t=this;this.callParent2(this,"GRUI.grid.plugin.filterbar.filters.SingleFilter","null","constructor",this.constructor,arguments),t.getOptions()||t.monitorStore(t.getGridStore())},destroy:function(){ei.Z.destroy(this.storeListeners),this.callParent2(this,"GRUI.grid.plugin.filterbar.filters.SingleFilter","null","destroy",this.destroy,arguments)},monitorStore:function(e){var t=this;ei.Z.destroy(t.storeListeners),t.storeListeners=e.on({add:"resetFieldStore",remove:"resetFieldStore",load:"resetFieldStore",scope:t,destroyable:!0})},getFieldConfig:function(){var e=this.callParent2(this,"GRUI.grid.plugin.filterbar.filters.SingleFilter","null","getFieldConfig",this.getFieldConfig,arguments);return e.store=this.createOptionsStore(),e},createOptionsStore:function(){var e,t,n,r=this,i=r.getOptions(),o=r.getGridStore();if(!i){for(t=(e=ei.Z.Array.sort(o.collect(r.column.getField(),!1,!0))).length,i=[],n=0;n<t;n++)i.push({value:e[n],text:e[n]});i={type:"store",fields:[{name:"value",type:"auto"},{name:"text",type:"auto"}],data:i}}return i},resetFieldStore:function(){var e=this,t=e.getField();t&&(t.setStore(e.createOptionsStore()),e.active&&(t.suspendEvents(),t.setValue(e.filter.getValue()),t.resumeEvents(!0)))}}),ei.Z.define("GRUI.grid.plugin.filterbar.filters.None",{extend:"GRUI.grid.plugin.filterbar.filters.Base",alias:"grid.filterbar.none",fieldDefaults:{xtype:"component",cls:ei.Z.baseCSSPrefix+"grid-filter-none"}}),ei.Z.define("GRUI.grid.plugin.filterbar.filters.Number",{extend:"GRUI.grid.plugin.filterbar.filters.SingleFilter",alias:"grid.filterbar.number",operator:"==",operators:["==","!=",">",">=","<","<="]}),ei.Z.define("GRUI.grid.plugin.filterbar.filters.String",{extend:"GRUI.grid.plugin.filterbar.filters.SingleFilter",alias:"grid.filterbar.string",type:"string",operator:"like",operators:["like","==","!=","empty","nempty"]}),ei.Z.define("GRUI.field.trigger.Operator",{extend:"GRUI.field.trigger.Trigger",xtype:"operatortrigger",alias:"trigger.operator",classCls:ei.Z.baseCSSPrefix+"operatortrigger",weight:-1e3,hidden:!1,handler:"onOperatorIconTap",scope:"this",applyDisabled:function(){return!1}}),ei.Z.define("GRUI.grid.plugin.filterbar.Operator",{extend:"GRUI.plugin.Abstract",alias:"plugin.operator",requires:["GRUI.field.trigger.Operator"],config:{operator:"=",operators:null},operatorCls:ei.Z.baseCSSPrefix+"operator-button",triggerCls:ei.Z.baseCSSPrefix+"form-trigger",operatorsIconsMap:{eq:ei.Z.baseCSSPrefix+"operator-eq",ne:ei.Z.baseCSSPrefix+"operator-neq",gt:ei.Z.baseCSSPrefix+"operator-gt",ge:ei.Z.baseCSSPrefix+"operator-gte",lt:ei.Z.baseCSSPrefix+"operator-lt",le:ei.Z.baseCSSPrefix+"operator-lte",like:ei.Z.baseCSSPrefix+"operator-like",nlike:ei.Z.baseCSSPrefix+"operator-nlike",in:ei.Z.baseCSSPrefix+"operator-in",notin:ei.Z.baseCSSPrefix+"operator-nin",empty:ei.Z.baseCSSPrefix+"operator-empty",nempty:ei.Z.baseCSSPrefix+"operator-exists",identical:ei.Z.baseCSSPrefix+"operator-identical",nidentical:ei.Z.baseCSSPrefix+"operator-nidentical",regex:ei.Z.baseCSSPrefix+"operator-fn"},operatorsTextMap:{eq:"Is equal",ne:"Not equal",gt:"Greater than",ge:"Greater than or equal to",lt:"Less than",le:"Less than or equal to",like:"Like",nlike:"Not like",empty:"Empty",nempty:"Not empty",identical:"Identical",nidentical:"Not identical",regex:"Regular expression",in:"Is in",notin:"Is not in"},inheritableStatics:{addOperator:function(e,t,n){var r=this.prototype;r.operatorsIconsMap[e]=t,r.operatorsTextMap[e]=n}},init:function(e){var t=this;this.callParent2(this,"GRUI.plugin.Abstract","null","init",this.init,arguments),e.initialized?t.onFieldRender(e):t.fieldListeners=e.on({initialize:"onFieldRender",scope:t,destroyable:!0}),(t.field=e).setOperator=ei.Z.bind(t.setOperator,t),e.getOperator=ei.Z.bind(t.getOperator,t)},destroy:function(){var e=this,t=e.field;t.setOperator=t.getOperator=null,e.field=ei.Z.destroy(e.fieldListeners,e.menu),this.callParent2(this,"GRUI.plugin.Abstract","null","destroy",this.destroy,arguments)},onFieldRender:function(e){var t=this,n=t.getOperator();t.operatorButtonEl=e.addTrigger("operator",{xtype:"operatortrigger",weight:-100,side:"left",hidden:!1,cls:t.operatorsIconsMap[n],"data-qtip":t.operatorsTextMap[n],handler:"onOperatorClick",scope:t})},onOperatorClick:function(e,t){var n=this,r=n.menu;r||(n.menu=r=ei.Z.widget({xtype:"menu",items:n.getMenuForOperators()})),r.showBy(t,"bl"),r.focus()},getMenuForOperators:function(){var e,t,n,r=this,i=r.getOperators(),o=[];if(i)for(e=i.length,t=0;t<e;t++)n=i[t],o.push({iconCls:r.operatorsIconsMap[n],text:r.operatorsTextMap[n],handler:"onChangeOperator",scope:r,operator:n});return o},onChangeOperator:function(e){this.setOperator(e.operator)},updateOperator:function(e,t){var n=this,r=n.field,i=n.operatorButtonEl;!n.isConfiguring&&i&&(r.fireEvent("operatorchange",r,e),i.removeCls(n.operatorsIconsMap[t]),i.addCls(n.operatorsIconsMap[e]))}},(function(){var e=(t=this.prototype).operatorsIconsMap,t=t.operatorsTextMap;e["="]=e.eq,e["=="]=e.eq,e["!="]=e.ne,e["==="]=e.identical,e["!=="]=e.nidentical,e[">"]=e.gt,e[">="]=e.ge,e["<"]=e.lt,e["<="]=e.le,e["/="]=e.regex,t["="]=t.eq,t["=="]=t.eq,t["!="]=t.ne,t["==="]=t.identical,t["!=="]=t.nidentical,t[">"]=t.gt,t[">="]=t.ge,t["<"]=t.lt,t["<="]=t.le,t["/="]=t.regex})),ei.Z.define("GRUI.grid.plugin.filterbar.FieldContainer",{extend:"GRUI.Component",require:["GRUI.mixin.Pluggable"],xtype:"fieldcontainer",mixins:["GRUI.mixin.Pluggable"],config:{operator:null,operators:null,jsx:null,column:null,store:null,triggers:null},isFormField:!0,isValid:function(){return!!this.ref.current&&this.ref.current.validate()},getTemplate:function(){var e=[{reference:"beforeInputElement",cls:ei.Z.baseCSSPrefix+"before-input-el"}];return e.push({tag:"div",reference:"inputElement",tabindex:this.inputTabIndex,cls:ei.Z.baseCSSPrefix+"input-el-container"}),[{reference:"inputWrapElement",cls:ei.Z.baseCSSPrefix+"filter-wrap-el",children:e}]},updateJsx:function(e){var n,r=this;r.ref=t.createRef(),n={operator:r.getOperator(),operators:r.getOperators(),onValueChange:r.onValueChange.bind(r),defaultValue:"",ref:r.ref,options:r.getStore()&&r.getStore().data},r.renderReactComponent(r.getJsx(),r.inputElement.dom,n)},onValueChange:function(e){var t=this;t.ref.current&&t.fireEvent("change",t,e)},setValue:function(e){null!=e&&this.ref.current.setValue(e)},getValue:function(){return this.ref.current.getValue()},resetOriginalValue:function(){this.originalValue=this.getValue()},reset:function(){this.setValue(this.originalValue)},onRender:function(){this.callParent2(this,"GRUI.Component","null","onRender",this.onRender,arguments)},addTrigger:function(e,t){var n=this,r=n.getTriggers();return t=n.createTrigger(e,t),r?(r[e]=t,n.syncTriggers()):((r={})[e]=t,n.setTriggers(r)),t},createTrigger:function(e,t){return t.isTrigger||(!0===t?t={type:e}:"string"==typeof t&&(t={type:t}),t=(t=ei.Z.apply({name:e,field:this},t)).xtype?ei.Z.create(t):ei.Z.Factory.trigger(t)),t},updateTriggers:function(){var e,t,n,r,i,o,a=this,s=a.getTriggers(),l=a.beforeInputElement,u=a.afterInputElement,c=a.triggerGroups||(a.triggerGroups={}),d=[],f=[],h={},p=ei.Z.field.trigger.Base;for(e in s)((n=(t=s[e]).getGroup())?h[n]||(h[n]=[]):"left"===t.getSide()?d:f).push(t);for(n in h)(r=c[n])||(r=(r=s[n])||new p,c[n]=r),r.setTriggers(p.sort(h[n])),("left"===r.getSide()?d:f).push(r);for(p.sort(d),p.sort(f),i=0,o=d.length;i<o;i++)l.appendChild(d[i].element);for(i=0,o=f.length;i<o;i++)u.appendChild(f[i].element);for(n in c)n in h||((r=c[n]).setTriggers(null),r.destroy(),delete c[n])},doDestroy:function(){var e=this;setTimeout((function(){e.rootComponent&&e.rootComponent.unmount()}),0),this.callParent2(this,"GRUI.Component","null","doDestroy",this.doDestroy,arguments)}}),ei.Z.define("GRUI.grid.plugin.CellEditing",{extend:"GRUI.plugin.Abstract",alias:["plugin.gridcellediting","plugin.cellediting"],requires:["GRUI.grid.CellEditor","GRUI.grid.Location"],config:{grid:null,triggerEvent:"doubletap",selectOnEdit:null},init:function(e){this.setGrid(e),e.setTouchAction({doubleTapZoom:!1}),e.$cellEditing=!0},getEditor:function(e){var t=e.column,n=(t.getField(),e.record,t.getEditable());return(e=!(e=!1!==n&&t.getEditor(e.record))&&n?ei.Z.create(t.getDefaultEditor()):e)&&(e.isCellEditor||(e=ei.Z.create({xtype:"celleditor",field:e,plugin:this})),t.setEditor(e),e.editingPlugin=this),e},getActiveEditor:function(){return this.activeEditor},updateGrid:function(e,t){t&&t.unregisterActionable(this),e&&e.registerActionable(this)},activateCell:function(e){var t,n=this,r=n.activeEditor,i=n.$previousEditor;if(r&&r.editing&&r.$activeLocation.cell===e.cell)return r.$activeLocation;if(r=n.getEditor(e)){if(i&&(i.isCancelling?i.cancelEdit():i.completeEdit()),i=r.startEdit(e),r.editing)return n.getSelectOnEdit()&&((t=n.getGrid().getSelectable()).getCells()?t.selectCells(e,e):t.getRows()&&t.select(e.record)),n.$previousEditor=r,i;r.onEditComplete(!1,!0)}},startEdit:function(e,t){this.activateCell(new ei.Z.grid.Location(this.getGrid(),{record:e,column:t}))},destroy:function(){this.ref=null;var e=this.getGrid();e&&(e.$cellEditing=!1),this.$previousEditor=null,this.callParent2(this,"GRUI.plugin.Abstract","null","destroy",this.destroy,arguments)}}),ei.Z.define("GRUI.grid.plugin.Clipboard",{extend:"GRUI.plugin.AbstractClipboard",alias:"plugin.clipboard",requires:["GRUI.util.Format","GRUI.util.TSV"],formats:{cell:{get:"getCells"},html:{get:"getCellData"},raw:{get:"getCellData",put:"putCellData"}},gridListeners:{initialize:"onCmpReady"},getCellData:function(e,t){var n,r,i,o,a,s,l=(l=this.getCmp().getSelectable())&&l.getSelection(),u=[],c="raw"===e,d="text"===e;return l&&l.eachCell((function(e,l,f){o=e.column,a=e.record,o.getIgnoreExport()||(i!==a&&(i=a,u.push(s=[])),r=o.getField(),n=a.data[r],c||(n=o.printValue(n),d&&(n=ei.Z.util.Format.stripTags(n))),s.push(n),t&&r&&a.set(r,null))})),ei.Z.util.TSV.encode(u)},getCells:function(e,t){var n,r,i,o,a=(a=this.getCmp().getSelectable())&&a.getSelection(),s=[];return a&&a.eachCell((function(e){i=e.record,r!==i&&(r=i,s.push(o={model:i.self,fields:[]})),n=e.column.getField(),o.fields.push({name:n,value:i.data[n]}),t&&n&&i.set(n,null)})),s},getTextData:function(e,t){return this.getCellData(e,t)},putCellData:function(e,t){var n,r,i,o,a,s,l,u,c,d,f,h,p=this.getCmp(),g=ei.Z.util.TSV.decode(e,void 0,null),m=g.length,v=m?g[0].length:0,y=p.getHeaderContainer().getVisibleColumns(),b=p.getStore(),C=b?b.getCount()-1:0,S=y.length-1;p=(e=p.getSelectable())&&e.getSelection();if(!(C<=0||S<=0))for(p&&p.eachCell((function(e){return c=e,!1})),f=c?c.columnIndex:0,h=c?c.recordIndex:0,r=0;r<m&&(n=g[r],!(C<(l=h+r)));r++){for(a=b.getAt(l),u={},s=f,i=0;i<v&&s<=S;)d=(o=y[s]).getField(),o.getIgnoreExport()||(!d||"raw"!==t&&"text"!==t||(u[d]=n[i]),i++),s++;a.set(u)}},putTextData:function(e,t){this.putCellData(e,t)},getTarget:function(e){return e.element},privates:{validateAction:function(e){var t=(n=this.getCmp()).getNavigationModel().getLocation(),n=(n=n.getSelectable())&&n.getCheckbox();if(t&&t.actionable&&n!==t.column)return!1}}}),ei.Z.define("GRUI.grid.plugin.Editable",{extend:"GRUI.plugin.Abstract",alias:"plugin.grideditable",config:{grid:null,triggerEvent:"childdoubletap",formConfig:null,defaultFormConfig:{xtype:"formpanel",scrollable:!0,items:[{xtype:"fieldset"}]},toolbarConfig:{xtype:"titlebar",docked:"top",items:[{xtype:"button",ui:"alt",text:"Cancel",align:"left",action:"cancel"},{xtype:"button",ui:"alt",text:"Submit",align:"right",action:"submit"}]},enableDeleteButton:!0},init:function(e){this.setGrid(e),e.setTouchAction({doubleTapZoom:!1})},destroy:function(){this.cleanup(),this.callParent2(this,"GRUI.plugin.Abstract","null","destroy",this.destroy,arguments)},updateGrid:function(e,t){var n=this.getTriggerEvent();t&&t.un(n,"onTrigger",this),e&&e.on(n,"onTrigger",this)},onCancelTap:function(){this.sheet.hide()},onSubmitTap:function(){this.form.getRecord().set(this.form.getValues()),this.sheet.hide()},onSheetHide:function(){this.cleanup()},getEditorFields:function(e){for(var t,n,r=[],i=e.length,o=0;o<i;o++)(n=(t=e[o]).ensureEditor())&&((n=n.isEditor?n.getField():n).setLabel(t.getText()),n.setName(t.getField()),r.push(n));return r},onTrigger:function(e,t){var n,r,i=this,o=t.record,a=i.getFormConfig(),s=i.getToolbarConfig();o&&t.row&&(a?i.form=n=ei.Z.factory(a,ei.Z.form.Panel):(i.form=n=ei.Z.factory(i.getDefaultFormConfig()),t=i.getEditorFields(e.getColumns()),n.down("fieldset").setItems(t),n.clearFields=!0),a=ei.Z.factory(s,ei.Z.form.TitleBar),i.submitButton=a.down("button[action=submit]"),a.down("button[action=cancel]").on("tap","onCancelTap",i),i.submitButton.on("tap","onSubmitTap",i),n.on({change:"onFieldChange",delegate:"field",scope:i}),n.setRecord(o),i.sheet=r=e.add({xtype:"sheet",items:[a,n],hideOnMaskTap:!0,enter:"right",exit:"right",right:0,width:320,layout:"fit",stretchY:!0,hidden:!0}),i.getEnableDeleteButton()&&n.add({xtype:"button",text:"Delete",ui:"decline",margin:10,handler:function(){e.getStore().remove(o),r.hide()}}),r.on("hide","onSheetHide",i),r.show())},privates:{onFieldChange:function(){this.submitButton.setDisabled(!this.form.isValid())},cleanup:function(){var e=this,t=e.form;t&&!t.destroyed&&t.clearFields&&t.removeAll(!1),e.form=e.sheet=ei.Z.destroy(e.sheet)}}}),ei.Z.define("GRUI.grid.plugin.PagingToolbar",{extend:"GRUI.plugin.Abstract",alias:["plugin.pagingtoolbar","plugin.gridpagingtoolbar"],mixins:["GRUI.mixin.Hookable"],requires:["GRUI.grid.PagingToolbar","GRUI.util.DelayedTask"],config:{grid:null,currentPage:1,pageSize:0,totalCount:0,totalPages:0,loadPages:null,buffer:250,toolbar:{xtype:"pagingtoolbar",docked:"bottom"}},init:function(e){this.setGrid(e),e.add(this.getToolbar()),e.pagingToolbar&&this.getToolbar().setHidden(!0)},destroy:function(){this.setBuffer(null),this.setGrid(null),this.callParent2(this,"GRUI.plugin.Abstract","null","destroy",this.destroy,arguments)},updateGrid:function(e,t){var n=this;n.gridListeners=n.storeListeners=n.scrollListeners=ei.Z.destroy(n.gridListeners,n.storeListeners,n.scrollListeners),e&&(n.gridListeners=e.on({updatevisiblecount:"onUpdateVisibleCount",storechange:"onStoreChanged",destroyable:!0,scope:n}),n.scrollListeners=e.getScrollable().on({scrollend:"checkPageChange",buffer:100,scope:n}),n.bindStore(e.getStore()))},bindStore:function(e){var t=this;ei.Z.destroy(t.storeListeners),t.getToolbar().setDisabled(!!e),e&&(t.storeListeners=e.on({add:"onTotalCountChange",remove:"onTotalCountChange",refresh:"onTotalCountChange",clear:"onTotalCountChange",destroyable:!0,scope:t}),t.setLoadPages(0<e.pageSize),t.cancelBufferTask(),e.isLoaded()&&t.onTotalCountChange(e))},onStoreChanged:function(e,t){this.bindStore(t)},getPageData:function(){var e=(n=this.getGrid()).getStore(),t=e.getTotalCount()||e.getCount(),n=this.getLoadPages()?e.pageSize:n.visibleCount,r=Math.ceil(t/n);return{totalCount:t,totalPages:ei.Z.Number.isFinite(r)?r:1,currentPage:e.currentPage,pageSize:n}},checkPageChange:function(){var e=this,t=e.getGrid(),n=e.getPageSize(),r=e.getCurrentPage(),i=t.topVisibleIndex;i=Math.ceil((i+n)/n);t.getStore()&&!e.getLoadPages()&&0<i&&i!==r&&(e.preventGridScroll=!0,e.setCurrentPage(i),e.preventGridScroll=!1)},updateBuffer:function(e){var t=this,n=t.bufferTask;ei.Z.isNumber(e)?(t.bufferTask=n||new ei.Z.util.DelayedTask(t.bufferTaskRun,t),t.cancelBufferTask()):n&&(n.cancel(),t.bufferTask=null)},cancelBufferTask:function(){this.bufferTask&&this.bufferTask.cancel()},loadCurrentPage:function(){this.getGrid().getStore().loadPage(this.getCurrentPage())},bufferTaskRun:function(){this.loadCurrentPage()},applyToolbar:function(e,t){return ei.Z.factory(e,ei.Z.Toolbar,t)},updateToolbar:function(e){var t=this;e&&(e.getSliderField().on({change:"onPageChange",dragstart:"onPageSliderDrag",drag:"onPageSliderDrag",dragend:"onPageSliderDragEnd",scope:t}),e.getNextButton().on({tap:"onNextPageTap",scope:t}),e.getPrevButton().on({tap:"onPreviousPageTap",scope:t}))},onPageChange:function(e,t){this.setCurrentPage(t)},onPageSliderDrag:function(e,t,n){this.isDragging=!0,this.setCurrentPage(ei.Z.isArray(n)?n[0]:n)},onPageSliderDragEnd:function(){var e=this;e.isDragging=!1,"dragend"!==e.getBuffer()&&!e.bufferTask.Id||(e.cancelBufferTask(),e.loadCurrentPage())},onNextPageTap:function(){var e=this.getCurrentPage()+1;e<=this.getTotalPages()&&this.setCurrentPage(e)},onPreviousPageTap:function(){var e=this.getCurrentPage()-1;0<e&&this.setCurrentPage(e)},onTotalCountChange:function(e){var t=this,n=t.getPageData();t.bulkConfigs=!0,t.setConfig(n),t.bulkConfigs=!1,t.syncSummary()},onUpdateVisibleCount:function(e,t){(e=e.getStore())&&!this.getLoadPages()&&(this.setPageSize(--t),e=e.getTotalCount()||e.getCount(),this.setTotalPages(Math.ceil(e/t)))},updateTotalPages:function(){this.isConfiguring||this.syncSummary()},updateCurrentPage:function(e){var t=this,n=t.isDragging,r=t.bufferTask,i=t.getBuffer();t.isConfiguring||(t.getLoadPages()?r&&ei.Z.isNumber(i)&&n?r.delay(i):"dragend"===i&&n||t.getGrid().getStore().loadPage(e):t.syncSummary())},updateTotalCount:function(e){this.isConfiguring||this.syncSummary()},getPageTopRecord:function(e){var t=(t=this.getGrid())&&t.getStore(),n=this.getPageSize();return t&&t.getAt((e-1)*n)},privates:{syncSummary:function(){var e=this,t=e.getGrid(),n=e.getToolbar(),r=n.getSliderField(),i=e.getCurrentPage(),o=e.getTotalPages();e.bulkConfigs||(n.getSummaryComponent().element.dom.innerHTML=i+" / "+o,r.setMaxValue(o||1),r.setValue(i),r.setDisabled(o<=1),r=e.getPageTopRecord(i),t&&!e.preventGridScroll&&r&&t.scrollToRecord(r),n.getNextButton().setDisabled(i===o),n.getPrevButton().setDisabled(1===i))}}}),ei.Z.define("GRUI.grid.plugin.RowDragDrop",{extend:"GRUI.plugin.dd.DragDrop",alias:"plugin.gridrowdragdrop",requires:["GRUI.grid.GridDragZone","GRUI.grid.GridDropZone","GRUI.grid.column.Drag"],handle:"."+ei.Z.baseCSSPrefix+"gridrow",groups:"gridRowGroup",dropIndicator:ei.Z.baseCSSPrefix+"grid-drop-indicator",dragText:"{0} selected row{1}",dragIcon:!(!ei.Z.supports.Touch||!ei.Z.supports.TouchEvents),init:function(e){var t=this;e.isLockedGrid&&t.addDragIndicator(e),e.on("initialize",t.onViewInitialize,t)},onViewInitialize:function(e){var t=this,n={};t.enableDrag&&(t.proxy&&(n.proxy=t.proxy),t.activateOnLongPress&&(n.activateOnLongPress=t.activateOnLongPress),t.dragZone=new ei.Z.grid.GridDragZone(ei.Z.apply({element:e.bodyElement,view:e,dragText:t.dragText,handle:t.handle,groups:t.groups,scrollAmount:t.scrollAmount,containerScroll:t.containerScroll,constrain:ei.Z.getBody()},n))),t.enableDrop&&(t.dropZone=new ei.Z.grid.GridDropZone({view:e,element:e.bodyElement,groups:t.groups,dropIndicator:t.dropIndicator,overCls:t.overCls,copy:t.copy})),e.isLockedGrid||t.addDragIndicator(e)},addDragIndicator:function(e){this.dragIcon&&(e.isLockedGrid?e.on({columnremove:"onColumnRemove",createregion:"onCreateRegion",scope:this}):e.insertColumn&&e.insertColumn(0,{xtype:"dragcolumn"}))},onCreateRegion:function(e,t){return(t=ei.Z.Array.from(t)).length&&!e.hasDragColumn&&(t=ei.Z.Array.insert(t,0,[{xtype:"dragcolumn"}]),e.hasDragColumn=!0),t},onColumnRemove:function(e,t){this.cmp.hasDragColumn&&!t.isDragColumn&&ei.Z.asap(this.handleColumnMove,this)},handleColumnMove:function(){var e,t,n=this.cmp,r=n.query("dragcolumn")[0];r&&(-1!==(t=(e=n.getRegion("left").getGrid()).getColumns()).indexOf(r)&&1===t.length?n.getRegion("center").getGrid().insertColumn(0,r):t.length&&-1===t.indexOf(r)&&e.insertColumn(0,r))}}),ei.Z.define("GRUI.grid.plugin.RowExpander",{extend:"GRUI.plugin.Abstract",requires:["GRUI.grid.cell.Expander"],alias:"plugin.rowexpander",config:{grid:null,column:{weight:-1100,xtype:"gridcolumn",align:"center",text:"",width:50,resizable:!1,hideable:!1,sortable:!1,editable:!1,ignore:!0,ignoreExport:!0,cell:{xtype:"expandercell"},menuDisabled:!0}},expanderSelector:"."+ei.Z.baseCSSPrefix+"expandercell ."+ei.Z.baseCSSPrefix+"icon-el",init:function(e){e.setVariableHeights(!0),this.setGrid(e)},destroy:function(){var e=this.getGrid(),t=this.colInstance;t&&!e.destroying&&e.unregisterColumn(t,!0),this.callParent2(this,"GRUI.plugin.Abstract","null","destroy",this.destroy,arguments)},applyColumn:function(e,t){return ei.Z.factory(ei.Z.apply({},e),null,t)},updateGrid:function(e){var t=this;e&&(e.hasRowExpander=!0,e.addCls(ei.Z.baseCSSPrefix+"has-rowexpander"),t.colInstance=e.registerColumn(t.getColumn()),e.refreshScrollerSize(),e.element.on({tap:"onGridTap",delegate:t.expanderSelector,scope:t}))},onGridTap:function(e){(e=ei.Z.Component.from(e).row).getGrid()===this.getGrid()&&e.toggleCollapsed()}}),ei.Z.define("GRUI.grid.plugin.RowOperations",{extend:"GRUI.plugin.Abstract",alias:["plugin.rowoperations","plugin.multiselection","plugin.gridmultiselection"],alternateClassName:"GRUI.grid.plugin.MultiSelection",config:{operation:{lazy:!0,$value:{xtype:"button",ui:"alt decline",align:"right",handler:"me.onOperationTap",margin:"0 0 0 10"}},selectButton:{lazy:!0,$value:{xtype:"button",ui:"alt",align:"right",margin:"0 0 0 10"}},selectionColumn:{sortable:!1},useTriggerButton:!0,triggerText:"Select",cancelText:"Done",deleteText:"Delete",disableSelection:!0,selecting:null},init:function(e){this.useSelectButton()||this.setSelecting(!0),this.getDisableSelection()&&e.setDisableSelection(!0)},destroy:function(){this.setOperation(null),this.setSelectButton(null),this.callParent2(this,"GRUI.plugin.Abstract","null","destroy",this.destroy,arguments)},getRecords:function(){return this.cmp.getSelections()},onOperationTap:function(){this.deleteSelectedRecords()},onTriggerTap:function(){this.setSelecting(!this.getSelecting())},applyOperation:function(e,t){return ei.Z.updateWidget(t,e,this,"createOperation")},createOperation:function(e){var t=this;return(e=ei.Z.apply({text:t.getDeleteText()},e)).plugin=t,"me.onOperationTap"===e.handler&&(e.handler="onOperationTap",e.scope=t),e},updateOperation:function(e){var t,n,r;e&&(t=this.useSelectButton(),(n=this.cmp.getTitleBar())&&(t?(r=t.getParent(),n.insert(r.indexOf(t),e)):n.add(e)))},applySelectButton:function(e,t){return ei.Z.updateWidget(t,e,this,"createSelectButton")},createSelectButton:function(e){return(e=ei.Z.apply({text:this.getTriggerText()},e)).handler="onTriggerTap",e.scope=this,e},updateSelectButton:function(e){e&&this.cmp.getTitleBar().add(e)},updateSelecting:function(e){var t=this,n=t.cmp,r=t.getDisableSelection(),i=t.getOperation(),o=t.useSelectButton(),a=n.getSelectable();i&&i.setHidden(!e),o&&o.setText(e?t.getCancelText():t.getTriggerText()),r&&n.setDisableSelection(!e),a.setCheckbox(e&&t.getSelectionColumn()),a.setMode(e?"multi":"single"),!r&&e||a.deselectAll()},privates:{deleteSelectedRecords:function(){var e=this.getRecords();this.cmp.getStore().remove(e)},useSelectButton:function(){var e=this,t=e.cmp.getTitleBar();return e.getUseTriggerButton()&&t&&t.getTitle()&&e.getSelectButton()}}}),ei.Z.define("GRUI.grid.plugin.Summary",{extend:"GRUI.plugin.Abstract",alias:["plugin.gridsummary","plugin.summaryrow","plugin.gridsummaryrow"],alternateClassName:"GRUI.grid.plugin.SummaryRow",mixins:["GRUI.mixin.Bufferable","GRUI.mixin.StoreWatcher"],requires:["GRUI.grid.SummaryRow"],config:{row:{lazy:!0,$value:{xtype:"gridsummaryrow",docked:"bottom"}}},inheritUi:!0,storeListeners:{add:"syncSummary",clear:"syncSummary",remove:"syncSummary",refresh:"syncSummary",update:"syncSummary"},bufferableMethods:{syncSummary:5},init:function(e){var t,n=e.getScrollable();this.setOwner(e),t=this.getRow(),e.addCls(ei.Z.baseCSSPrefix+"grid-has-summaryrow"),n&&((e=t.getScrollable())||(t.setScrollable({x:!1,y:!1}),e=t.getScrollable()),e.addPartner(n,"x"))},destroy:function(){this.setOwner(null),this.callParent2(this,"GRUI.plugin.Abstract","null","destroy",this.destroy,arguments)},createRow:function(e){return ei.Z.apply({viewModel:this.getOwner().getItemConfig().viewModel},e)},applyRow:function(e){return e&&(e=this.createRow(e),e=this.cmp.add(e)),e},updateStore:function(e,t){this.mixins.storewatcher.updateStore.call(this,e,t),e&&e.isLoaded()&&this.syncSummary()},privates:{doSyncSummary:function(){var e=this.getRow();e&&e.syncSummary()},onContainerScroll:function(e,t){var n,r=this.getRow();(n=r.getScrollable())||(r.setScrollable({x:!1,y:!1}),n=r.getScrollable()),n.scrollTo(t,null)}}}),ei.Z.define("GRUI.grid.rowedit.Bar",{extend:"GRUI.Panel",xtype:"roweditorbar",isRowEditorBar:!0,mixins:["GRUI.mixin.Bufferable"],config:{active:null,defaultCellUI:null,grid:null},layout:{type:"hbox"},autoSize:!0,scrollable:{monitorScroll:!0,x:!1,y:!1},ui:"roweditor",bufferableMethods:{syncColumns:50},gridHeaderListeners:null,gridListeners:null,doDestroy:function(){this.setActive(!1),this.callParent2(this,"GRUI.Panel","null","doDestroy",this.doDestroy,arguments)},commit:function(){this.eachEditor((function(e,t){t.commit(e)}))},eachEditor:function(e){for(var t,n,r,i=this.items.items,o=0;o<i.length&&(!(n=i[o]).$hasValue||!(t=n.$driver)||!1!==(r=e(n,t)));++o);return r},getEditorValues:function(e,t){return this.eachEditor((function(n,r){(t||n.$hasValue&&n.isDirty())&&((e=e||{})[n.$column.getField()]=r.get(n))})),e},getDriver:function(e){var t,n=this.plugin.getDrivers(),r=n[e.xtype],i=n.default,o=e.xtypes;if(e.driver&&(r=ei.Z.apply({},n[e.driver],r)),o)for(t=0;!r&&t<o.length;++t)r=n[o[t]];return(r=r&&r!==i?ei.Z.apply({},r,i):r)||i},hasVerticalScroller:function(){var e,t=this.grid;return!(e=(e=t.region)&&e.lockedGrid)||t===(e=e.visibleGrids)[e.length-1]},isClean:function(){return!this.isDirty()},isDirty:function(){var e=!1;return this.eachEditor((function(t){return!(e=t.isDirty())})),e},isValid:function(){var e=!1;return this.eachEditor((function(t){return e=t.validate()})),e},onHorizontalOverflowChange:function(){this.syncTop()},onScroll:function(e,t){t.y!==t.oldY&&this.syncTop()},onVerticalOverflowChange:function(){this.hasVerticalScroller()&&this.parent.syncWidth()},onVisibleHeightChange:function(){this.syncTop()},resetChanges:function(){this.eachEditor((function(e,t){t.reset(e)}))},setFieldValues:function(e){this.eachEditor((function(t,n){var r=t.$column.getField();r in e&&n.set(t,e[r])}))},updateActive:function(e){var t,n,r=this,i=r.grid;!i||i.destroying?e=!1:(t=i.getScrollable(),n=r.getScrollable()),r.gridListeners=r.gridHeaderListeners=r.gridRegionListeners=ei.Z.destroy(r.gridListeners,r.gridHeaderListeners,r.gridRegionListeners),e?(r.syncColumns(),n.scrollTo(t.getPosition().x,null),t.addPartner(n,"x"),r.gridListeners=i.on({scope:r,destroyable:!0,horizontaloverflowchange:"onHorizontalOverflowChange",scroll:"onScroll",verticaloverflowchange:"onVerticalOverflowChange",visibleheightchange:"onVisibleHeightChange"}),(e=i.region)&&e.isLockedGridRegion&&(r.gridRegionListeners=e.el.on({scope:r,destroyable:!0,resize:"syncColumns"})),r.gridHeaderListeners=i.getHeaderContainer().on({scope:r,destroyable:!0,columnadd:"syncColumns",columnhide:"syncColumns",columnmove:"syncColumns",columnremove:"syncColumns",columnresize:"syncColumns",columnshow:"syncColumns"})):((e=r.query("> [isRowEditorItem!=true]")).length&&r.remove(e,!1),t&&t.removePartner(n))},updateGrid:function(e,t){var n=this;n.grid=e,n.getActive()&&n.updateActive(!0)},updateRecord:function(){this.syncColumns()},doSyncColumns:function(){var e,t,n,r,i,o,a=this,s=a.grid,l=a.getRecord(),u=a.items.items;if(s&&!s.destroying&&((o=s.region)&&o.lockedGrid&&(o=o.measure("w"),s.getVerticalOverflow()&&a.hasVerticalScroller()&&(o-=ei.Z.scrollbar.width()),a.setWidth(Math.floor(o))),l)){for(e=s.getHeaderContainer().getVisibleColumns(),t={editors:[],gap:0,gaps:a.query("> roweditorgap"),index:0,record:l,total:0},n=0,i=e.length;n<i;++n)a.syncColumn(e[n],t);for(n=t.index;n<u.length;)(r=u[n]).isRowEditorItem?r.destroy():a.remove(r,!1);a.lastSyncRecord=l,a.getScrollable().setSize(t.total,0)}},syncColumn:function(e,t){var n,r,i,o,a=this,s=(l=a.plugin.getAdapters()).default,l=l[e.getCell().xtype],u=e.$editorItemId,c=e.getField(),d=t.record,f=e.getComputedWidth(),h=t.gap;t.total+=f,i=d.data[c],u&&(n=a.getComponent(u))?((r=n.$driver).read&&(i=r.read(d,e,a)),n._validationRecord=d,r.set(n,i),r.commit(n)):((n=e.ensureEditor())?(n.editor||(o={xtype:"reacteditor",width:f,jsx:n.jsxElement},n.editor=ei.Z.create(o)),n=n.editor,r=a.getDriver(n),u=n.getId(),n._validationRecord=d,n.$hasValue=!0,n.addUi("celleditor"),r.set(n,i),r.commit(n)):(null!==l&&(n=ei.Z.apply({itemId:u=e.getId(),align:e.getAlign(),column:e,width:f},l,s),r=a.getDriver(n)),r&&r.read?i=r.read(d,e,a):c||(l=null),null!==l?n[r.prop]=r.convert(i,e):(n=null,t.gap+=f)),n&&(e.$editorItemId=u,n.$driver=r)),n&&(h&&((o=t.gaps.pop())?o.setWidth(h):o=ei.Z.apply({xtype:"roweditorgap",width:h},s),a.insert(t.index++,o),t.gap=0),(n=a.insert(t.index++,n)).setWidth(f),n.isRowEditorCell&&(n.$column=e))},syncTop:function(){this.parent.unanimated().syncTop()}}),ei.Z.define("GRUI.grid.rowedit.Cell",{extend:"GRUI.Component",xtype:"roweditorcell",isRowEditorCell:!0,isRowEditorItem:!0,requires:["GRUI.grid.cell.Base"],config:{align:null,column:null,jsx:null,value:null},cls:ei.Z.baseCSSPrefix+"roweditorcell",updateValue:function(e){this.el.dom.innerHTML=e},resetOriginalValue:ei.Z.identityFn,updateAlign:function(e){this.setUserCls(ei.Z.grid.cell.Base.prototype.alignCls[e])},updateJsx:function(e){this.renderReactElToDom(e,this.el.dom)},doDestroy:function(){var e=this;setTimeout((function(){e.rootComponent&&e.rootComponent.unmount()}),0),this.callParent2(this,"GRUI.Component","null","doDestroy",this.doDestroy,arguments)}}),ei.Z.define("GRUI.plugin.TabGuard",{extend:"GRUI.plugin.Abstract",alias:"plugin.tabguard",tabGuard:!0,tabGuardTemplate:[{tag:"span","aria-hidden":"true",cls:ei.Z.baseCSSPrefix+"tab-guard-el"}],tabGuardElements:{before:"tabGuardBeforeEl",after:"tabGuardAfterEl"},init:function(e){var t=this;t.decorateComponent(e),e.addTool&&(e.addTool=ei.Z.Function.createSequence(e.addTool,t.maybeInitTabGuards,t)),e.add&&(e.add=ei.Z.Function.createSequence(e.add,t.maybeInitTabGuards,t)),e.remove&&(e.remove=ei.Z.Function.createSequence(e.remove,t.maybeInitTabGuards,t)),e.onRender=ei.Z.Function.createSequence(e.onRender,t.maybeInitTabGuards,t),e.getTabGuard=t.getTabGuard.bind(t),e.on("show",t.initTabGuards,t)},destroy:function(){var e=this.getCmp();e&&(delete e.addTool,delete e.add,delete e.remove),this.callParent2(this,"GRUI.plugin.Abstract","null","destroy",this.destroy,arguments)},privates:{decorateComponent:function(e){var t=this,n=t.tabGuardTemplate;(e=e||t.getCmp())[t.tabGuardElements.before]=e.el.insertFirst(n),e[t.tabGuardElements.after]=e.el.createChild(n)},getTabGuard:function(e){return this.getCmp()[this.tabGuardElements[e]]},maybeInitTabGuards:function(){var e=this.getCmp();e.rendered&&e.initialized&&e.tabGuard&&this.initTabGuards()},initTabGuards:function(){var e,t,n,r=this,i=r.getCmp(),o=r.tabGuardBeforeIndex||0,a=r.tabGuardAfterIndex||0,s=r.getTabGuard("before"),l=r.getTabGuard("after");if(i.rendered&&i.tabGuard){if((n=i.el.findTabbableElements({skipSelf:!0}))[0]===s.dom&&n.shift(),n[n.length-1]===l.dom&&n.pop(),n&&n.length){if(null==o||null==a)for(e=0;e<n.length;e++)0<(t=+n[e].getAttribute("tabIndex"))&&(o=Math.min(o,t),a=Math.max(a,t));s.dom.setAttribute("tabIndex",o),l.dom.setAttribute("tabIndex",a)}else s.dom.removeAttribute("tabIndex"),l.dom.removeAttribute("tabIndex");s.hasListeners.focusenter||s.on("focusenter",r.onTabGuardFocusEnter,i),l.hasListeners.focusenter||l.on("focusenter",r.onTabGuardFocusEnter,i)}},onTabGuardFocusEnter:function(e,t){var n,r,i=(a=this).el,o=a.getTabGuard("before"),a=a.getTabGuard("after"),s=e.relatedTarget,l=i.findTabbableElements({skipSelf:!0});l[0]===o.dom&&l.shift(),l[l.length-1]===a.dom&&l.pop(),0===l.length?r=i:n=s!==i.dom&&i.contains(s)?!!e.forwardTab:t===o.dom,(r=r||(n?l[0]:l[l.length-1]))&&ei.Z.fly(r).focus(1===l.length?1:0)}}}),ei.Z.define("GRUI.grid.rowedit.Editor",{extend:"GRUI.dataview.ListItem",xtype:"roweditor",isRowEditor:!0,requires:["GRUI.layout.HBox","GRUI.plugin.TabGuard","GRUI.tip.ToolTip","GRUI.grid.rowedit.Bar"],mixins:["GRUI.mixin.StoreWatcher","GRUI.panel.Buttons"],ownerProperty:"grid",config:{buttonContainer:{xtype:"panel",ui:"roweditor-buttons",alignSelf:"center",border:!0,bodyBorder:!1,defaultType:"button",top:40,weighted:!0,layout:{type:"hbox",align:"center"}},minButtonWidth:null},classCls:ei.Z.baseCSSPrefix+"roweditor",buttonCtCls:ei.Z.baseCSSPrefix+"roweditor-button-ct",bubbleDirty:!1,defaultType:"roweditorbar",html:null,nameHolder:!0,plugins:"tabguard",tabGuard:!0,keyMap:{ESC:"cancel",ENTER:"saveAndClose","CmdOrCtrl+Enter":"onSaveAndNext","CmdOrCtrl+Down":"onNextRecord","CmdOrCtrl+Up":"onPrevRecord",HOME:"onHome",END:"onEnd",PAGE_DOWN:"onPageDown",PAGE_UP:"onPageUp",scope:"this"},layout:{type:"hbox"},storeListeners:{refresh:"onStoreRefresh"},activeLocation:null,activeRange:null,recordIndex:-1,initialize:function(){this.callParent2(this,"GRUI.dataview.ListItem","null","initialize",this.initialize,arguments),this.el.on({keydown:function(e){e.stopPropagation()}})},cancel:function(){this.hide()},getChanges:function(){return this.getEditorValues(!1)},getEditItem:function(e){var t=null,n=e.$editorItemId;return n&&this.eachBar((function(e){return!(t=e.getComponent(n))})),t},getEditorValues:function(e){var t={};return this.eachBar("getEditorValues",[t,e=!1!==e]),e||!ei.Z.Object.isEmpty(t)?t:null},isDirty:function(){return!1===this.eachBar("isClean")},isValid:function(){return this.eachBar("isValid")&&!1!==this.parent.fireEvent("validateedit",this.activeLocation)},resetChanges:function(){this.eachBar("resetChanges")},revertChanges:function(){var e=this,t=e.getRecord();e.resetChanges(),(t=t&&t.modified)&&e.setFieldValues(t)},saveAndClose:function(){this.saveChanges(!0)&&this.hide()},setFieldValues:function(e){this.eachBar("setFieldValues",[e])},updateButtons:function(e){e&&e.addCls(this.buttonCtCls)},updateHidden:function(e,t){var n=this,r=n.plugin,i=!e,o=n.activeLocation;this.callParent2(this,"GRUI.dataview.ListItem","null","updateHidden",this.updateHidden,arguments),(r.editing=i)?n.unanimated():(o&&!r.grid.destroying&&r.grid.setLocation(o),n.setRecord(null)),n.eachBar("setActive",[i]),i&&n.ensureFocus()},updateRecord:function(e,t){var n,r=this,i=r.activeLocation,o=r.activeRange,a=r.destroying;this.callParent2(this,"GRUI.dataview.ListItem","null","updateRecord",this.updateRecord,arguments),r.eachBar("setRecord",[e]),e?(n=r.grid.store,(o=o&&o.store!==n?ei.Z.destroy(o):o)||(r.activeRange=o=n.createActiveRange()),r.recordIndex=n=n.indexOf(e),o.goto(n,n+1),r.syncTop(),r.ensureFocus(),r.activeLocation.fireEditEvent("beginedit",r)):(i&&!a&&i.fireEditEvent("canceledit",r),r.activeLocation=r.activeRange=ei.Z.destroy(o),a||r.setHidden(!0))},onAdded:function(e){var t,n,r,i=e.visibleGrids;if(e.isLockedGrid)for(r=0;r<i.length;++r)t=(t=(n=i[r]).getFlex())?{flex:t}:{width:n.getWidth()},this.trackGrid(n,t);else this.trackGrid(e,{flex:1})},onEnd:function(){this.gotoRecord(this.grid.store.getCount()-1)},onHome:function(){this.gotoRecord(0)},onNextRecord:function(){this.gotoRecord(this.recordIndex+1)},onPageDown:function(){this.advancePage(1)},onPageUp:function(){this.advancePage(-1)},onPrevRecord:function(){this.gotoRecord(this.recordIndex-1)},onResize:function(e,t){this.$height=t,this.syncTop(),this.syncWidth()},onSaveAndNext:function(){var e=this,t=e.grid.store,n=e.recordIndex+1;e.saveChanges(!0)&&(n<t.getCount()?e.plugin.startEdit(t.getAt(n)):e.hide())},onStoreRefresh:function(){this.cancel()},adjustButtons:function(e,t){return this.normalizeButtonBar(e,t,null,this.getButtonContainer())},advancePage:function(e){var t=this,n=(r=t.plugin.pickGrid()).store,r=Math.floor(r.getVisibleHeight()/r.rowHeight);r=t.recordIndex+r*e,r=Math.max(0,Math.min(r,n.getCount()-1));t.gotoRecord(r)},beforeEdit:function(e){var t,n=this,r=n.plugin,i=n.getRecord(),o=i&&i.phantom,a=r.$autoConfirm,s=n.isDirty(),l=!0;return i!==e.record&&(i&&n.isVisible()&&(o||s)?((a=o?s?a.populated:a.new:a.updated)?!0===a&&(t=!0):(l=!1,(i=r.getDirtyText())&&ei.Z.toaster(i,n.grid.el.dom)),l&&(!1===e.beforeEdit(n)?l=!1:t&&(l=n.saveChanges()))):!1===e.beforeEdit(n)&&(l=!1),l)},gotoRecord:function(e){var t=this.grid.store;0<=e&&e<t.getCount()&&this.plugin.startEdit(t.getAt(e))},startEdit:function(e){var t,n=this;n.activeLocation=t=e.clone(),(t.editor=n).setRecord(e.record),n.setHeight(n.activeLocation.item.measure("h")),n.getHidden()&&(n.show(),n.ensureFocus())},privates:{commit:function(){this.eachBar("commit")},eachBar:function(e,t){var n,r,i,o,a="function"==typeof e,s=(s=this.items)&&s.items;for(a&&(t=t?t.slice():[]).unshift(null),n=0,i=s&&s.length;n<i&&(!(r=s[n]).isRowEditorBar||!1!==(o=a?(t[0]=r,e.apply(null,t)):r[e].apply(r,t)));++n);return o},ensureFocus:function(){var e;this.rendered&&!this.getHidden()&&(this.eachBar("flushSyncColumns"),(e=this.down(":focusable:not(button)"))&&e.focus())},getPositionedItemTarget:function(){return this.el},saveChanges:function(e){var t,n=this,r=n.isValid();return r?((t=n.getChanges())&&n.getRecord().set(t),(t=n.activeLocation).commit=e,t.fireEditEvent("edit",n),t.commit&&n.commit(),t.commit=null):(e=n.plugin.getInvalidToastMessage())&&ei.Z.toast(e),r},syncBtnTop:function(){var e,t,n=this,r=n.el,i=(t=n.getButtons()).bodyElement,o=(t=t.el).measure("h"),a=(s=n.plugin).grid,s=s.pickGrid(),l=n.getTop(),u=n.activeLocation.item.measure("h");r=r.getBorderWidth("tb");a.isLockedGrid&&(l-=s.getHeaderContainer().measure("h")),a=l+u+o<s.getVisibleHeight()?(e=u-r-t.getBorderWidth("t")-i.getBorderWidth("t"),"-below"):(e=t.getBorderWidth("b")+i.getBorderWidth("b")-o+r,"-above"),n.setCls(n.buttonCtCls+a),t.setTop(e)},syncTop:function(){var e,t,n,r,i=this,o=(a=i.plugin).pickGrid(),a=a.grid,s=i.$height,l=i.getRecord(),u=0;l&&(l=o.mapToItem(l),e=n=o.getVisibleHeight(),r=o.getScrollable().getPosition().y,a.getHorizontalOverflow()&&(e-=ei.Z.scrollbar.height()),o.infinite&&(t=l?l.$y0-r:i.recordIndex<o.getTopRenderedIndex()?0:n),o.isGrouping()&&((l=o.getPinnedHeader())&&l.$height&&(u=l.$height),(l=o.getPinnedFooter())&&l.$height&&(e-=l.$height)),t=Math.max(u,Math.min(t,e-(s||0))),a.isLockedGrid&&(t+=o.getHeaderContainer().measure("h")),i.setTop(t),null!=s&&i.syncBtnTop())},syncWidth:function(){this.setRight(this.grid.getVerticalOverflow()?ei.Z.scrollbar.width():0)},trackGrid:function(e,t){this.add(ei.Z.apply({grid:e,plugin:this.plugin,record:this.getRecord()},t))},unanimated:function(){var e=this,t=ei.Z.baseCSSPrefix+"no-transition";return e.addCls(t),ei.Z.defer((function(){e.destroyed||e.removeCls(t)}),50),e}}}),ei.Z.define("GRUI.grid.rowedit.Gap",{extend:"GRUI.Component",xtype:"roweditorgap",isRowEditorGap:!0,isRowEditorItem:!0,cls:ei.Z.baseCSSPrefix+"roweditorgap"}),ei.Z.define("GRUI.grid.rowedit.Plugin",{extend:"GRUI.plugin.Abstract",alias:"plugin.rowedit",requires:["GRUI.grid.rowedit.Editor"],config:{dirtyText:"You need to commit or cancel your changes",editor:{lazy:!0,$value:{xtype:"roweditor"}},invalidToastMessage:"Cannot save invalid data",triggerEvent:"doubletap",grid:null},cachedConfig:{autoConfirm:"discard",buttons:{ok:{iconCls:"grui-tool-type-check",text:null,handler:"up.saveAndClose",tooltip:"Save changes and close editor"},cancel:{iconCls:"grui-tool-type-times",text:null,handler:"up.cancel",tooltip:"Close editor, discarding any changes"},reset:{iconCls:"grui-tool-type-refresh",text:null,handler:"up.resetChanges",margin:"0 0 0 8",tooltip:"Reset editor to initially displayed values",weight:200},revert:{iconCls:"grui-tool-type-undo",text:null,handler:"up.revertChanges",margin:"0 0 0 8",tooltip:"Reset editor to record's original values",weight:210}},confirmation:{reset:"Are you sure you want to discard the current edits?",revert:"Are you sure you want to revert all edits to this record?"},adapters:{default:{xtype:"roweditorcell"},reactEditor:{xtype:"reacteditor"},rownumberercell:{driver:"rownumber"},reactcell:{driver:"reactel"},expandercell:null,widgetcell:null},drivers:{default:{prop:"value",commit:function(e){e.resetOriginalValue()},convert:ei.Z.identityFn,get:function(e){return e.getValue()},reset:function(e){e.reset()},set:function(e,t){e.setValue(t)}},reacteditor:{commit:function(e){e.resetOriginalValue()},convert:ei.Z.identityFn,get:function(e){return e.getValue()},reset:function(e){e.reset()},set:function(e,t){e.setValue(t)}},rownumber:{read:function(e,t,n){return t.printValue(n.parent.recordIndex+1)}},reactel:{prop:"jsx",commit:ei.Z.emptyFn,convert:function(e,t){return t.printValue(e)},reset:ei.Z.emptyFn,set:function(e,t){e.setJsx(this.convert(t,e.getColumn()))}}}},editing:!1,constructor:function(e){this.callParent2(this,"GRUI.plugin.Abstract","null","constructor",this.constructor,arguments)},init:function(e){this.callParent2(this,"GRUI.plugin.Abstract","null","init",this.init,arguments),this.setGrid(e)},doDestroy:function(){this.editing=!1,this.setEditor(null),this.setGrid(null),this.callParent2(this,"GRUI.plugin.Abstract","null","doDestroy",this.doDestroy,arguments)},cancelEdit:function(){this.editing&&this.getEditor().cancel()},completeEdit:function(){this.editing&&this.getEditor().saveAndClose()},startEdit:function(e,t){var n=this,r=n.getEditor(),i=e;return i.isLocation||(i=n.grid.createLocation({record:e,column:t})),n.grid.ensureVisible(i.record),!(!i.record||!1===r.beforeEdit(i))&&(r.startEdit(i),!0)},updateAutoConfirm:function(e){var t;ei.Z.isObject(e)?("updated"in(t=ei.Z.apply({},e))||(t.updated="discard"),"new"in t||(t.new=t.updated),"populated"in t||(t.populated=t.new)):t={new:e,populated:e,updated:e},this.$autoConfirm=t},applyEditor:function(e,t){return ei.Z.updateWidget(t,e,this,"createEditor")},createEditor:function(e){var t=this.getGrid();return ei.Z.apply({$initParent:t,owner:t,parent:t,plugin:this,hidden:!0,buttons:this.getButtons(),left:0,right:0,top:0},e)},updateEditor:function(e){(this.editor=e)&&this.getGrid().add(e)},updateGrid:function(e,t){this.grid=e,t&&!t.destroying&&t.unregisterActionable(this),e&&e.registerActionable(this)},activateCell:function(e){this.startEdit(e)},pickGrid:function(){var e=this.grid;return e.isLockedGrid?e.regionMap.center.getGrid():e}}),ei.Z.define("GRUI.layout.Center",{extend:"GRUI.layout.Auto",alias:"layout.center",cls:ei.Z.baseCSSPrefix+"layout-center",itemCls:ei.Z.baseCSSPrefix+"layout-center-item"}),ei.Z.define("GRUI.layout.Float",{extend:"GRUI.layout.Auto",alias:"layout.float",config:{direction:"left"},cls:ei.Z.baseCSSPrefix+"layout-float",itemCls:ei.Z.baseCSSPrefix+"layout-float-item",updateDirection:function(e,t){var n="direction-";this.getContainer().getRenderTarget().swapCls(n+e,n+t)}}),ei.Z.define("GRUI.list.Location",{extend:"GRUI.dataview.Location",isListLocation:!0,dataItem:!1,footer:!1,group:null,header:!1,attach:function(e){var t,n=this;this.callParent2(this,"GRUI.dataview.Location","null","attach",this.attach,arguments),(t=n.item)&&(n.header="header"===t.$dataItem,n.footer="footer"===t.$dataItem,n.header||n.footer?n.group=n.getGroup():n.dataItem=!0)},clone:function(){var e=this,t=this.callParent2(this,"GRUI.dataview.Location","null","clone",this.clone,arguments);return t.dataItem=e.dataItem,t.footer=e.footer,t.group=e.group,t.header=e.header,t},equals:function(e){var t=this;return!(!e||!e.isListLocation||e.view!==t.view)&&(t.sourceElement?e.sourceElement===t.sourceElement:t.recordIndex!==e.recordIndex)}}),ei.Z.define("GRUI.menu.Separator",{extend:"GRUI.Component",xtype:"menuseparator",isMenuSeparator:!0,focusable:!1,classCls:ei.Z.baseCSSPrefix+"menuseparator",ariaRole:"separator"}),ei.Z.define("GRUI.mixin.Progressable",{extend:"GRUI.Mixin",isProgressable:!0,mixinConfig:{id:"progressable"},config:{minProgressInput:0,maxProgressInput:1,minProgressOutput:0,maxProgressOutput:100,dynamic:!0,state:null},_progressActive:!1,_progress:0,_rawProgress:0,onStartProgress:ei.Z.emptyFn,onUpdateProgress:ei.Z.emptyFn,onEndProgress:ei.Z.emptyFn,startProgress:function(){this._progressActive||(this._progressActive=!0,this.onStartProgress(),this.updateProgress(this.getMinProgressInput()))},updateProgress:function(e,t){t&&t!==this.getState()&&this.setState(t),(e=e>this.getMaxProgressInput()?this.getMaxProgressInput():e)<this.getMinProgressInput()&&(e=this.getMinProgressInput()),t=this.mapValues(e,this.getMinProgressInput(),this.getMaxProgressInput(),this.getMinProgressOutput(),this.getMaxProgressOutput()),this._progress=t,this._rawProgress=e,this.getDynamic()&&this.onUpdateProgress(t)},endProgress:function(){this._progressActive&&(this._progressActive=!1,this.updateProgress(this.getMaxProgressInput()),this.onEndProgress())},mapValues:function(e,t,n,r,i){return(e-t)/(n-t)*(i-r)+r},setProgress:function(e){this.updateProgress(e)},getProgress:function(){return this._progress},getRawProgress:function(){return this._rawProgress}}),ei.Z.define("GRUI.panel.Resizer",{requires:["GRUI.panel.Resizable"],config:{constrainToParent:!0,dynamic:!1,edges:null,maxSize:null,minSize:null,preserveRatio:!1,snap:null,split:!1,target:null,ui:null},constructor:function(e){this.edgeMap={},this.initConfig(e)},applyEdges:function(e,t){var n,r,i=this.positionMap;if(e){for(r=0,n=(e="all"===e?ei.Z.Array.clone(this.allEdges):"string"==typeof e?(e=e.trim()).split(this.edgeDelimiterRe):ei.Z.Array.clone(e)).length;r<n;++r)e[r]=i[e[r]];e.sort()}return e&&t&&ei.Z.Array.equals(e,t)?void 0:e},updateEdges:function(e,t){var n,r,i,o,a,s=this,l=s.edgeMap,u={},c=s.getSplit(),d=s.baseCls,f=s.edgeInfoMap,h=s.getUi(),p=s.splitEdges,g=s.disabled,m=s.firstCorner,v=s.getTarget().element,y=s.splitPrefix;if(e)for(o=0,i=e.length;o<i;++o)u[e[o]]=!0;if(t){for(r in l)u[r]||(n=l[r],f[r].corner&&n===m&&(m=null),n.destroy(),c&&r in p&&v.removeCls(y+r));s.firstCorner&&!m&&(s.firstCorner=v.child("."+this.baseCls+"[data-corner]"))}if(e)for(r in u)u[r]=a=l[r]||s.createEdge(v,r),c?(a.addCls(s.splitterCls),r in p&&v.addCls(y+r)):a.addCls(s.handleCls),g&&a.addCls(s.disabledCls),h&&a.addCls(h,d);this.edgeMap=u},applyMaxSize:function(e){return this.applyConstraintValue(e)},applyMinSize:function(e){return this.applyConstraintValue(e)},applySnap:function(e){return this.applyConstraintValue(e)},updateSplit:function(e){var t,n,r,i=this,o=i.edgeMap,a=i.splitEdges,s=i.splitPrefix;if(!i.isConfiguring)for(t in r=i.getTarget().element,o)(n=o[t]).isElement&&(n.toggleCls(i.splitterCls,e),n.toggleCls(i.handleCls,!e),t in a&&r.toggleCls(s+t,e))},updateTarget:function(e){var t=this;t.targetListeners=t.dragListeners=ei.Z.destroy(t.targetListeners,t.dragListeners),e&&(t.setupDragListeners(),t.targetListeners=e.on({expand:"onTargetExpand",collapse:"onTargetCollapse",scope:t,destroyable:!0}),e.hasCollapsible&&e.getCollapsed()&&t.onTargetCollapse(e))},updateUi:function(e,t){var n,r,i=this.edgeMap,o=this.baseCls;if(!this.isConfiguring)for(n in i)r=i[n],t&&r.removeCls(t,o),e&&r.addCls(e,o)},destroy:function(){var e=this,t=e.getTarget();e.dragStarted&&e.cleanup(),t&&!t.destroying&&e.setEdges(null),e.setTarget(null),this.callParent2(this,"null","null","destroy",this.destroy,arguments)},privates:{baseCls:ei.Z.baseCSSPrefix+"panelresizer",proxyCls:ei.Z.baseCSSPrefix+"panelresizer-proxy",disabledCls:ei.Z.baseCSSPrefix+"disabled",handleCls:ei.Z.baseCSSPrefix+"handle",splitterCls:ei.Z.baseCSSPrefix+"splitter",horizontalCls:ei.Z.baseCSSPrefix+"horizontal",verticalCls:ei.Z.baseCSSPrefix+"vertical",splitPrefix:ei.Z.baseCSSPrefix+"split-",edgeDelegateSelector:"> ."+ei.Z.baseCSSPrefix+"panelresizer",allEdges:["north","northeast","east","southeast","south","southwest","west","northwest"],defaultMaxSize:1e5,defaultMinSize:50,edgeDelimiterRe:/(?:\s*,\s*)|\s+/,emptyConstrain:[null,null],edgeInfoMap:{north:{vert:!0,constrainProp:{vert:"bottom"},adjustHeightOffset:-1,splitPosSetter:"setY",oppSplitPosSetter:"setX",sizeProp:"height",startEdge:"top",touchAction:{panY:!1}},northeast:{horz:!0,vert:!0,corner:!0,constrainProp:{horz:"left",vert:"bottom"},adjustHeightOffset:-1,adjustWidthOffset:1,touchAction:{panX:!1,panY:!1}},east:{horz:!0,constrainProp:{horz:"left"},adjustWidthOffset:1,splitPosSetter:"setX",oppSplitPosSetter:"setY",sizeProp:"width",startEdge:"right",touchAction:{panX:!1}},southeast:{horz:!0,vert:!0,corner:!0,constrainProp:{horz:"left",vert:"top"},adjustHeightOffset:1,adjustWidthOffset:1,touchAction:{panX:!1,panY:!1}},south:{vert:!0,constrainProp:{vert:"top"},adjustHeightOffset:1,splitPosSetter:"setY",oppSplitPosSetter:"setX",sizeProp:"height",startEdge:"bottom",touchAction:{panY:!1}},southwest:{horz:!0,vert:!0,corner:!0,constrainProp:{horz:"right",vert:"top"},adjustHeightOffset:1,adjustWidthOffset:-1,touchAction:{panX:!1,panY:!1}},west:{horz:!0,constrainProp:{horz:"right"},adjustWidthOffset:-1,splitPosSetter:"setX",oppSplitPosSetter:"setY",sizeProp:"width",startEdge:"left",touchAction:{panX:!1}},northwest:{horz:!0,vert:!0,corner:!0,constrainProp:{horz:"right",vert:"bottom"},adjustHeightOffset:-1,adjustWidthOffset:-1,touchAction:{panX:!1,panY:!1}}},positionMap:{n:"north",north:"north",ne:"northeast",northeast:"northeast",e:"east",east:"east",se:"southeast",southeast:"southeast",s:"south",south:"south",sw:"southwest",southwest:"southwest",w:"west",west:"west",nw:"northwest",northwest:"northwest"},sideInvertMap:{top:"bottom",right:"left",bottom:"top",left:"right"},splitEdges:{north:!0,east:!0,south:!0,west:!0},applyConstraintValue:function(e){return ei.Z.isArray(e)?e:[e,e]},calculateConstrain:function(e,t,n){var r=e;return null===(r=null===e?t:e)?n:r},createEdge:function(e,t){var n=this,r=n.edgeInfoMap[t],i=r.corner,o=n.firstCorner;return(e=e.createChild({cls:n.baseCls+" "+ei.Z.baseCSSPrefix+t,"data-edge":t},i?null:o)).setTouchAction(r.touchAction),i&&e.dom.setAttribute("data-corner","true"),i&&!o&&(n.firstCorner=e),e},createProxy:function(e,t){var n=this,r=n.proxyCls;e=e.horz?n.horizontalCls:n.verticalCls,t=t?n.handleCls:n.splitterCls;return ei.Z.getBody().createChild({cls:r+" "+t+" "+e})},cleanup:function(){var e=(e=this.info)&&e.proxy;this.dragStarted&&(e&&e.destroy(),this.dragStarted=!1,this.info=null)},getBoxLayout:function(){var e;return(e=(e=this.getTarget().getParent())&&e.getLayout())&&e.isBox?e:null},getEdge:function(e){return e=this.positionMap[e],this.edgeMap[e]||null},getProxy:function(){var e=this.info;return e&&e.proxy},handleDrag:function(e){var t,n,r,i,o,a,s,l,u,c,d,f,h,p,g,m,v;this.dragStarted&&(n=(t=this.info).target,s=t.edge,m=t.asFloat,r=t.startBox,i=s.horz,o=s.vert,g=p=0,v=s.adjustWidthOffset,f=s.adjustHeightOffset,a=m&&s.adjustWidthOffset<0,s=m&&s.adjustHeightOffset<0,l=t.minHeight,u=t.minWidth,c=t.maxHeight,d=t.maxWidth,v&&(p=Math.round(v*e.deltaX)),f&&(g=Math.round(f*e.deltaY)),f=(v={width:r.width+p,height:r.height+g,x:r.x+(a?-p:0),y:r.y+(s?-g:0)}).width,h=v.height,p=i?this.snap(f,t.snapWidth,0<p):f,g=o?this.snap(h,t.snapHeight,0<g):h,f===p&&h===g||(a&&(v.x-=p-f),s&&(v.y-=g-h),v.width=f=p,v.height=h=g),i&&(f<u||d<f)&&(v.width=f=ei.Z.Number.constrain(f,u,d),a&&(v.x=r.x+(r.width-f))),o&&(h<l||c<h)&&(v.height=h=ei.Z.Number.constrain(h,l,c),s&&(v.y=r.y+(r.height-h))),m&&(t.preserveRatio||e.shiftKey)&&(p=t.ratio,h=Math.min(Math.max(l,f/p),c),f=Math.min(Math.max(u,v.height*p),d),i&&o?(g=r.x+(a?r.width:0),m=r.y+(s?r.height:0),p<Math.abs(g-e.pageX)/Math.abs(m-e.pageY)?v.height=h:v.width=f,a&&(v.x=r.x-(v.width-r.width)),s&&(v.y=r.y-(v.height-r.height))):i?v.height=h:v.width=f),n.hasListeners.resizedrag&&n.fireEvent("resizedrag",n,{edge:t.edgeName,event:e,width:v.width,height:v.height}),this.resize(v,"dragend"===e.type,e))},handleDragCancel:function(e){var t=this.info,n=t.target;this.cleanup(),n.hasListeners.resizedragcancel&&n.fireEvent("resizedragcancel",n,{edge:t.edgeName,event:e})},handleDragEnd:function(e){this.handleDrag(e),this.cleanup()},handleDragStart:function(e){var t,n,r,i,o=this,a=o.emptyConstrain,s=o.getTarget(),l=s.hasListeners,u=o.getDynamic(),c=e.target.getAttribute("data-edge"),d=o.edgeInfoMap[c],f=d.horz,h=d.vert,p=s.element.getRegion(),g=o.getSnap()||a,m=o.getMinSize()||a,v=(a=o.getMaxSize()||a,o.defaultMinSize),y=o.defaultMaxSize;if(!l.beforeresizedragstart||!(t={edge:c,event:e})!==s.fireEvent("beforeresizedragstart",s,t))return n=s.getFloated()||s.isPositioned(),s.getFlex()&&(r=o.getBoxLayout())&&(r=r.getVertical(),i=f&&!r||h&&r),o.info=r={target:s,edgeName:c,dynamic:u,startBox:p,snapHeight:g[1],snapWidth:g[0],clearFlex:i,minHeight:o.calculateConstrain(s.getMinHeight(),m[1],v),minWidth:o.calculateConstrain(s.getMinWidth(),m[0],v),maxHeight:o.calculateConstrain(s.getMaxHeight(),a[1],y),maxWidth:o.calculateConstrain(s.getMaxWidth(),a[0],y),edge:d,asFloat:n,preserveRatio:!!n&&o.getPreserveRatio(),ratio:n?p.width/p.height:0,start:p[d.startEdge],floated:s.getFloated()},u||(r.proxy=g=o.createProxy(d,n),n?g.setBox(p):(g[d.splitPosSetter](r.start),g[d.oppSplitPosSetter](f?p.top:p.left),g.setSize(f?void 0:p.width,h?void 0:p.height))),o.setupDragConstraints(r),o.dragStarted=!0,l.resizedragstart&&s.fireEvent("resizedragstart",s,t||{edge:c,event:e}),e.stopPropagation(),!1},handleTouchStart:function(e){e.preventDefault()},onTargetCollapse:function(){var e,t=this,n=t.edgeMap;for(e in t.disabled=!0,t.dragListeners=ei.Z.destroy(t.dragListeners),n)n[e].addCls(t.disabledCls)},onTargetExpand:function(){var e,t=this.edgeMap;for(e in this.disabled=!1,this.setupDragListeners(),t)t[e].removeCls(this.disabledCls)},resize:function(e,t,n){var r,i,o,a,s=this.info,l=s.target,u=s.startBox,c=s.asFloat,d=s.edge,f=e.x,h=e.y,p=c&&(u.x!==f||u.y!==h),g=d.horz,m=d.vert,v=s.floated,y=s.dynamic||t;y?r=this.getTarget():(r=s.proxy,i=!0),!c&&i?(c=d.sizeProp,o=g?d.adjustWidthOffset:d.adjustHeightOffset,u=(e[c]-u[c])*o,r[d.splitPosSetter](s.start+u)):(r.setSize(g?e.width:void 0,m?e.height:void 0),!i&&s.clearFlex&&r.setFlex(null),p&&((c=!v&&y)&&(o=l.element.dom.parentNode,a=ei.Z.fly(o).getXY()),g&&(c?r.setLeft(f-a[0]):r.setX(f)),m&&(c?r.setTop(h-a[1]):r.setY(h)))),t&&l.hasListeners.resizedragend&&l.fireEvent("resizedragend",l,{edge:s.edgeName,event:n,width:e.width,height:e.height})},setupDragConstraints:function(e){var t,n,r,i=(o=this.getTarget().element.dom).parentNode,o=o.cloneNode(!1),a=ei.Z.fly(o),s=this.defaultMaxSize;o.style.position="absolute",a.setMinHeight(e.minHeight),a.setMinWidth(e.minWidth),a.setMaxHeight(e.maxHeight),a.setMaxWidth(e.maxWidth),a.setHeight(1),a.setWidth(1),i.appendChild(o),e.minHeight=a.getHeight(),e.minWidth=a.getWidth(),a.setHeight(s),a.setWidth(s),e.maxHeight=a.getHeight(),e.maxWidth=a.getWidth(),this.getConstrainToParent()&&(s=e.startBox,a=ei.Z.fly(i).getRegion(),t=e.edge,r=this.sideInvertMap,t.horz&&(n=t.constrainProp.horz,e.maxWidth=Math.min(e.maxWidth,Math.abs(s[n]-a[r[n]]))),t.vert&&(n=t.constrainProp.vert,e.maxHeight=Math.min(e.maxHeight,Math.abs(s[n]-a[r[n]])))),i.removeChild(o)},setupDragListeners:function(){var e=this.edgeDelegateSelector;this.dragListeners=this.getTarget().element.on({scope:this,destroyable:!0,delegate:e,dragstart:{priority:1e3,delegate:e,fn:"handleDragStart"},drag:"handleDrag",dragend:"handleDragEnd",dragcancel:"handleDragCancel",touchstart:"handleTouchStart"})},snap:function(e,t,n){var r,i;return t&&0!=(r=e%t)&&(i=2*r,e-=r,n&&t<=i||!n&&t<i?e+=t:i<-t&&(e-=t)),e}}}),ei.Z.define("GRUI.plugin.Responsive",{extend:"GRUI.plugin.Abstract",alias:"plugin.responsive",requires:["GRUI.Responsive"],id:"responsive"}),ei.Z.define("GRUI.scroll.NativeScroller",{extend:"GRUI.scroll.Scroller",alias:"scroller.native",requires:["GRUI.util.CSS","GRUI.util.translatable.ScrollPosition","GRUI.Deferred"],config:{monitorScroll:null,scrollingElement:null,spacerXY:null,xCls:null,yCls:null},statics:{initViewportScroller:function(){ei.Z.getViewportScroller().getElement()}},constructor:function(e){var t=this;t.trackingPosition={x:null,y:null},this.callParent2(this,"GRUI.scroll.Scroller","null","constructor",this.constructor,arguments),t.syncXCls(),t.syncYCls()},doDestroy:function(){var e=ei.Z.scroll.Scroller,t=this;t.setX(null),t.setY(null),t._spacer&&t._spacer.destroy(),t.scrollListener&&t.scrollListener.destroy(),t.translatable&&(t.translatable=null),e.viewport===t&&(e.viewport=null),this.callParent2(this,"GRUI.scroll.Scroller","null","doDestroy",this.doDestroy,arguments)},getClientSize:function(){var e=this.getElement().dom;return{x:e.clientWidth,y:e.clientHeight}},getScrollbarSize:function(){var e,t,n,r,i=this,o=0,a=0,s=i.getScrollingElement();return s&&!s.destroyed&&(e=i.getX(),i=i.getY(),s=s.dom,(e||i)&&(r=ei.Z.scrollbar.size()),"scroll"===e?t=!0:e&&(t=s.scrollWidth>s.clientWidth),"scroll"===i?n=!0:i&&(n=s.scrollHeight>s.clientHeight),t&&(a=r.height),n&&(o=r.width)),{width:o,height:a,reservedWidth:n?r.reservedWidth:"",reservedHeight:t?r.reservedHeight:""}},getSize:function(){var e;return e=(e=this.getScrollingElement())&&!e.destroyed?{x:(e=e.dom).scrollWidth,y:e.scrollHeight}:{x:0,y:0}},getMaxPosition:function(){var e=this.getScrollingElement(),t=0,n=0;return e&&!e.destroyed&&(t=(e=e.dom).scrollWidth-e.clientWidth,n=e.scrollHeight-e.clientHeight),{x:t,y:n}},getMaxUserPosition:function(){var e=this,t=e.getScrollingElement(),n=0,r=0;return t&&!t.destroyed&&(t=t.dom,e.getX()&&(n=t.scrollWidth-t.clientWidth),e.getY()&&(r=t.scrollHeight-t.clientHeight)),{x:n,y:r}},refresh:function(){var e=(t=(r=this).getElementScroll()).left,t=t.top,n=r.position,r=r.trackingPosition;return n.x=r.x=e,n.y=r.y=t,this.callParent2(this,"GRUI.scroll.Scroller","null","refresh",this.refresh,arguments)},updateElement:function(e,t){var n=this,r=n.nativeScrollerCls,i=null;this.callParent2(this,"GRUI.scroll.Scroller","null","updateElement",this.updateElement,arguments),t&&!t.destroyed&&t.removeCls([r,this.getXCls(),this.getYCls()]),e&&(i=e.dom===document.documentElement||e.dom===document.body?ei.Z.scroll.Scroller.getScrollingElement():e,e.addCls(r)),n.setScrollingElement(i),n.isConfiguring||(n.syncXCls(),n.syncYCls(),n.getTranslatable().setElement(i))},updateSize:function(e){var t=this,n=t.getScrollingElement(),r=e.x;e=e.y;n&&(n=t.getSpacer(),r||e?(0<r&&--r,0<e&&--e,t.setSpacerXY({x:r,y:e}),n.show()):n.hide())},updateX:function(e){this.isConfiguring||this.syncXCls()},updateY:function(e){this.isConfiguring||this.syncYCls()},privates:{nativeScrollerCls:ei.Z.baseCSSPrefix+"nativescroller",spacerCls:ei.Z.baseCSSPrefix+"scroller-spacer",overflowXClsMap:{auto:ei.Z.baseCSSPrefix+"overflow-x-auto",true:ei.Z.baseCSSPrefix+"overflow-x-auto",false:ei.Z.baseCSSPrefix+"overflow-x-hidden",scroll:ei.Z.baseCSSPrefix+"overflow-x-scroll"},overflowYClsMap:{auto:ei.Z.baseCSSPrefix+"overflow-y-auto",true:ei.Z.baseCSSPrefix+"overflow-y-auto",false:ei.Z.baseCSSPrefix+"overflow-y-hidden",scroll:ei.Z.baseCSSPrefix+"overflow-y-scroll"},constrainScrollRange:function(e){if(e<1e6)return e;if(!this.maxSpacerTranslate){var t=Math.pow(2,32),n=t,r=500,i=ei.Z.getBody().createChild({style:{position:"absolute",left:"-10000px",top:"0",width:"500px",height:"500px"},cn:{cls:this.spacerCls}},null,!0),o=ei.Z.get(i.firstChild),a=o.dom.style;for(o.translate(0,t-1),a.lineHeight=Number(!parseInt(a.lineHeight,10))+"px";n!==r+1;)o.translate(0,t=r+Math.floor((n-r)/2)),a.lineHeight=Number(!parseInt(a.lineHeight,10))+"px",i.scrollHeight<t?n=t:r=t;for(o.translate(0,ei.Z.scroll.Scroller.prototype.maxSpacerTranslate=r),n=2*r;n!==r+1;)o.dom.style.marginTop=(t=r+Math.floor((n-r)/2))+"px",a.lineHeight=Number(!parseInt(a.lineHeight,10))+"px",i.scrollHeight<t?n=t:r=t;ei.Z.fly(i).destroy(),ei.Z.scroll.Scroller.prototype.maxSpacerMargin=r-ei.Z.scroll.Scroller.prototype.maxSpacerTranslate}return Math.min(e,this.maxSpacerTranslate)},doHighlight:function(e,t){!0!==t?ei.Z.fly(e).highlight(t):ei.Z.fly(e).highlight()},doScrollTo:function(e,t,n){var r,i,o,a,s=this,l=s.getScrollingElement(),u=s.getTranslatable();return l&&!l.destroyed?(l=t===1/0,((i=e===1/0)||l)&&(r=s.getMaxPosition(),i&&(e=r.x),l&&(t=r.y)),null!==e&&(e=s.convertX(e)),n?(a=new ei.Z.Deferred,u.on("animationend",(function(){s.destroyed?a.reject():a.resolve()}),ei.Z.global,{single:!0,onFrame:!0}),u.translate(e,t,n),o=a.promise):(u.translate(e,t),o=ei.Z.Deferred.getCachedResolved(),s.onScroll())):o=ei.Z.Deferred.getCachedRejected(),o},getElementScroll:function(){return this.getScrollingElement().getScroll()},getSpacer:function(){var e,t=this._spacer;return t||(e=this.getScrollingElement(),(t=this._spacer=e.createChild({cls:this.spacerCls,role:"presentation"},e.dom.firstChild)).setVisibilityMode(2),t.hide(),e.position()),t},onScroll:function(e){var t=this,n=t.position,r=(i=t.getElementScroll()).left,i=i.top,o=r-n.x,a=i-n.y;(o||a)&&(!e||t.getX()||t.getY()||t.getMonitorScroll()?(n.x=r,n.y=i,t.isScrolling||(t.setPrimary(!0),t.callPartners("onPartnerScrollStart",r,i),t.fireScrollStart(r,i,o,a),t.callPartners("fireScrollStart",r,i)),t.isPrimary&&(t.callPartners("onPartnerScroll",r,i),t.fireScroll(r,i,o,a),t.callPartners("fireScroll",r,i),t.onScrollEnd(r,i))):e.preventDefault())},doOnScrollEnd:function(e,t){var n=this,r=n.position,i=n.trackingPosition;n.destroying||n.destroyed||(n.isScrolling=ei.Z.isScrolling=!1,i.x=r.x,i.y=r.y,n.callPartners("onPartnerScrollEnd"),n.fireScrollEnd(e,t),n.callPartners("fireScrollEnd",e,t),n.isScrolling||n.setPrimary(null))},restoreState:function(){var e=this.trackingPosition;this.doScrollTo(e.x,e.y)},syncXCls:function(){this.getElement()&&this.setXCls(this.overflowXClsMap[this.getX()])},syncYCls:function(){this.getElement()&&this.setYCls(this.overflowYClsMap[this.getY()])},translateSpacer:function(e,t){this.getSpacer().translate(e,t)},updateScrollingElement:function(e,t){var n=document,r=this.scrollListener;r&&(r.destroy(),this.scrollListener=null),e&&(r=(r=e.dom)===n.scrollingElement||r===n.documentElement?ei.Z.getWin():e,this.scrollListener=r.on({scroll:"onScroll",scope:this,destroyable:!0}))},applySpacerXY:function(e,t){return t&&e.x===t.x&&e.y===t.y?void 0:e},updateSpacerXY:function(e){var t=this,n=t.getSpacer().dom.style,r=e.y;n.marginTop="",t.translateSpacer(e.x,t.constrainScrollRange(r)),n.lineHeight=Number(!parseInt(n.lineHeight,10))+"px",1e6<r&&0<(e=r-t.getScrollingElement().dom.scrollHeight)&&(n.marginTop=Math.min(e,t.maxSpacerMargin||0)+"px")},createTranslatable:function(e){return this.isConfiguring&&this.getElement(),ei.Z.apply({element:this.getScrollingElement()},e)},updateXCls:function(e,t){var n=this.getScrollingElement();n&&!n.destroyed&&n.replaceCls(t,e)},updateYCls:function(e,t){var n=this.getScrollingElement();n&&!n.destroyed&&n.replaceCls(t,e)}}},(function(e){var t=ei.Z.scroll.Scroller;ei.Z.getViewportScroller=function(n){var r=t.viewport;return r||!1===n||(t.viewport=r=new e,e.initViewportScroller()),r},ei.Z.setViewportScroller=function(n){var r=t.viewport;n!==r&&(ei.Z.destroy(r),n&&!n.isScroller&&(n=new e(n)),t.viewport=n)},ei.Z.onReady((function(){e.initViewportScrollerTimer=ei.Z.defer(e.initViewportScroller,100)}))})),ei.Z.define("GRUI.scroll.indicator.Indicator",{extend:"GRUI.Widget",alias:"scrollindicator.indicator",mixins:["GRUI.mixin.Factoryable"],factoryConfig:{defaultType:"overlay",aliasPrefix:"scrollindicator."},isScrollIndicator:!0,classCls:ei.Z.baseCSSPrefix+"scrollindicator",config:{axis:null,enabled:null,scroller:null,value:null},privates:{axisClsMap:{x:ei.Z.baseCSSPrefix+"horizontal",y:ei.Z.baseCSSPrefix+"vertical"},updateAxis:function(e){this.addCls(this.axisClsMap[e])}}}),ei.Z.define("GRUI.scroll.indicator.Bar",{extend:"GRUI.scroll.indicator.Indicator",alias:"scrollindicator.bar",requires:["GRUI.util.CSS"],isScrollbar:!0,config:{stylesheet:!0},classCls:ei.Z.baseCSSPrefix+"scrollbar",enabledCls:ei.Z.baseCSSPrefix+"enabled",scrollCls:ei.Z.baseCSSPrefix+"overflow-scroll",cornerCls:ei.Z.baseCSSPrefix+"scrollbar-corner",maxScrollSize:1e5,scale:1,position:0,template:[{reference:"spacerElement",cls:ei.Z.baseCSSPrefix+"spacer-el"}],constructor:function(e){this.callParent2(this,"GRUI.scroll.indicator.Indicator","null","constructor",this.constructor,arguments),this.element.on("scroll","onScrollbarScroll",this)},doDestroy:function(){this.setEnabled(null),this.callParent2(this,"GRUI.scroll.indicator.Indicator","null","doDestroy",this.doDestroy,arguments)},privates:{hasRules:{x:!1,y:!1},names:{x:{scrollerCls:ei.Z.baseCSSPrefix+"has-horizontal-scrollbar",margin:"margin-right",spacerMargin:"margin-left",getAxis:"getX",size:"height",oppositeSize:"width",scrollPosition:"scrollLeft",minSize:"min-height"},y:{scrollerCls:ei.Z.baseCSSPrefix+"has-vertical-scrollbar",margin:"margin-bottom",spacerMargin:"margin-top",getAxis:"getY",size:"width",oppositeSize:"height",scrollPosition:"scrollTop",minSize:"min-width"}},onRefresh:function(){var e=this,t=e.getScroller(),n=t.getElement(),r=e.getAxis(),i=e.names[r],o=t[i.getAxis](),a=t.getSize()[r],s=(n=n["x"===r?"getWidth":"getHeight"](),r=t.getMaxPosition()[r],t.getScrollbarSize()[i.oppositeSize]),l=e.maxScrollSize;n&&a&&(e.setEnabled(t.isAxisEnabled(e.getAxis())),e.toggleCls(e.scrollCls,"scroll"===o),e.scale=Math.max(r/(l-n+s),1),e.spacerElement.setStyle(i.spacerMargin,Math.min(a,l)-1+"px"))},onScroll:function(){var e=this,t=e.getScroller(),n=e.getAxis();t.isScrollbarScrolling||(e.element.dom[e.names[n].scrollPosition]=Math.round(e.getScroller().position[n]/e.scale),e.readPosition())},onScrollbarScroll:function(){var e,t=(e=this).getScroller(),n="y"===(n=e.getAxis());e.position===(e=e.readPosition())||t.isScrolling&&!t.isScrollbarScrolling||(t.isScrollbarScrolling=!0,t.doScrollTo(n?null:e,n?e:null))},readPosition:function(){var e=this,t=Math.round(e.element.dom[e.names[e.getAxis()].scrollPosition]*e.scale);return e.position=t},updateAxis:function(e,t){var n=(i=this).el,r=i.getScroller().getInnerElement(),i=i.names[e],o=ei.Z.isIE?1:0;o=ei.Z.scrollbar.size()[i.size]+o+"px";this.callParent2(this,"GRUI.scroll.indicator.Indicator","null","updateAxis",this.updateAxis,arguments),n.setStyle(i.size,o),n.setStyle(i.margin,o),r.setStyle(i.minSize,"calc(100% - "+o+")")},updateEnabled:function(e){var t=this,n=t.getScroller();t.destroying||t.destroyed||t.toggleCls(t.enabledCls,!!e),n&&(n=n.getElement())&&!n.destroyed&&n.toggleCls(t.names[t.getAxis()].scrollerCls,!!e)},updateScroller:function(e){var t,n=this;e&&(t=e.getElement())&&(t.appendChild(n.el),e.isConfiguring||n.setEnabled(e.isAxisEnabled(n.getAxis())))},applyStylesheet:function(){var e=this.self.prototype,t=e.stylesheet;return t||(e.stylesheet=t=ei.Z.util.CSS.createStyleSheet("")),t}}}),ei.Z.define("GRUI.scroll.indicator.Overlay",{extend:"GRUI.scroll.indicator.Indicator",alias:"scrollindicator.overlay",config:{axis:null,hideAnimation:!0,hideDelay:100},defaultHideAnimation:{to:{opacity:0},duration:300},names:{x:{side:"l",getSize:"getHeight",setLength:"setWidth",translate:"translateX"},y:{side:"t",getSize:"getWidth",setLength:"setHeight",translate:"translateY"}},oppositeAxis:{x:"y",y:"x"},classCls:ei.Z.baseCSSPrefix+"scrolloverlay",visible:!1,element:{reference:"element",style:"opacity: 0"},applyHideAnimation:function(e){return e&&ei.Z.mergeIf({onEnd:this.onHideAnimationEnd,scope:this},this.defaultHideAnimation,e)},constructor:function(e){var t,n=this;this.callParent2(this,"GRUI.scroll.indicator.Indicator","null","constructor",this.constructor,arguments),ei.Z.os.is.iOS&&n.addUi("ios"),ei.Z.os.is.Android&&n.addUi("android"),t=n.getAxis(),n.names=n.names[t]},hide:function(){var e=this,t=e.getHideDelay();e.visible&&(e.visible=!1,t?e._hideTimer=ei.Z.defer(e.doHide,t,e):e.doHide())},updateScroller:function(e){e.getElement().appendChild(this.element)},updateValue:function(e){var t=this,n=t.element,r=t.names,i=t.getAxis(),o=(a=t.getScroller()).getMaxUserPosition()[i],a=a.getClientSize()[i],s=i=t.length,l=a-i-t.sizeAdjust,u=Math.round;i=e<0?(s=u(i+i*e/a),0):o<e?l+i-(s=u(i-i*(e-o)/a)):u(e/o*l);t[r.translate](i),n[r.setLength](s)},show:function(){var e=this,t=e.element,n=t.getActiveAnimation();e.visible||(e.visible=!0,n&&n.end(),t.stopAnimation&&t.stopAnimation(),e.size||e.cacheStyles(),e.refreshLength(),clearTimeout(e._hideTimer),t.setStyle("opacity",""))},destroy:function(){this.callParent2(this,"GRUI.scroll.indicator.Indicator","null","destroy",this.destroy,arguments),clearTimeout(this._hideTimer)},privates:{cacheStyles:function(){var e=this,t=e.element,n=e.names;e.size=t[n.getSize](),e.margin=t.getMargin(n.side)},doHide:function(){var e=this.getHideAnimation(),t=this.element;e?t.animate(e):t.setStyle("opacity",0)},hasOpposite:function(){return this.getScroller().isAxisEnabled(this.oppositeAxis[this.getAxis()])},onHideAnimationEnd:function(){this.element.setStyle("opacity","0")},onScroll:function(){var e=this;e.setValue(e.getScroller().position[e.getAxis()])},onScrollEnd:function(){this.hide()},onScrollStart:function(){var e=this;e.setValue(e.getScroller().position[e.getAxis()]),e.show()},refreshLength:function(){var e=this,t=e.names,n=e.getAxis(),r=(i=e.getScroller()).getSize()[n],i=(n=(i=i.getClientSize()[n])/r,r=2*e.margin,r=e.hasOpposite()?r+e.size:r,Math.round((i-r)*n));e.sizeAdjust=r,e.length=i,e.element[t.setLength](i)},translateX:function(e){this.element.translate(e)},translateY:function(e){this.element.translate(0,e)}}}),ei.Z.define("GRUI.scroll.VirtualScroller",{extend:"GRUI.scroll.Scroller",alias:"scroller.virtual",isVirtualScroller:!0,requires:["GRUI.scroll.indicator.*"],config:{autoRefresh:!1,barIndicator:{lazy:!0,$value:{type:"bar"}},bounceEasing:{duration:400},directionLock:!1,disabled:null,clientSize:void 0,scrollbarSize:{width:0,height:0},indicators:{x:!0,y:!0},infinite:!0,innerElement:null,maxAbsoluteVelocity:6,maxPosition:{x:0,y:0},maxUserPosition:{x:0,y:0},minPosition:{x:0,y:0},minUserPosition:{x:0,y:0},momentumEasing:{momentum:{acceleration:30,friction:.5},bounce:{acceleration:30,springTension:.3},minVelocity:1},outOfBoundRestrictFactor:.5,overlayIndicator:{lazy:!0,$value:{type:"overlay"}},pageSize:{x:5e5,y:5e5},slotSnapEasing:{duration:150},slotSnapOffset:{x:0,y:0},slotSnapSize:{x:0,y:0},startMomentumResetTime:300},eventedConfig:{offsetX:0,offsetY:0},translatable:"csstransform",dragStartTime:0,dragEndTime:0,isDragging:!1,isWheeling:!1,isAnimating:!1,touchScrollCount:0,isMouseEvent:{mousedown:1,mousemove:1,mouseup:1},listenerMap:{touchstart:"onTouchStart",touchmove:"onTouchMove",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd"},constructor:function(e){var t=this,n="onEvent";t.elementListeners={touchstart:n,touchmove:n,dragstart:n,drag:n,dragend:n,wheel:"onWheel",scope:t},t.minPosition={x:0,y:0},t.startPosition={x:0,y:0},t.velocity={x:0,y:0},t.isAxisEnabledFlags={x:!1,y:!1},t.flickStartPosition={x:0,y:0},t.flickStartTime={x:0,y:0},t.lastDragPosition={x:0,y:0},t.dragDirection={x:0,y:0},t.scrollbarSize={width:0,height:0},this.callParent2(this,"GRUI.scroll.Scroller","null","constructor",this.constructor,arguments),n=t.getAutoRefresh(),t.refreshScrollbarSize(),n?t.refresh(!0):(t.refreshAxes(),t.callIndicators("onRefresh")),t.scheduleRefresh={idle:t.doRefresh,scope:t,single:!0,destroyable:!0}},doDestroy:function(){var e=this,t=e.getElement(),n=e.getInnerElement(),r=e.sizeMonitors;r&&(r.element.destroy(),r.container.destroy()),t&&!t.destroyed&&t.removeCls(e.cls),n&&!n.destroyed&&n.removeCls(e.innerCls),e._isWrapped&&(t.destroyed||e.unwrapContent(),n.destroy()),e.setElement(null),e.setInnerElement(null),e.setIndicators(null),ei.Z.destroyMembers(e,"scrollbarCorner"),this.callParent2(this,"GRUI.scroll.Scroller","null","doDestroy",this.doDestroy,arguments)},refresh:function(e){var t=this;return e?t.doRefresh():t.refreshScheduled||(t.refreshScheduled=ei.Z.on(t.scheduleRefresh)),t},updateDisabled:function(e){this.isConfiguring||(e?this.detachListeners():this.attachListeners())},updateElement:function(e,t){var n=this,r=n.virtualScrollerCls,i=n.getInnerElement();this.callParent2(this,"GRUI.scroll.Scroller","null","updateElement",this.updateElement,arguments),t&&!t.destroyed&&t.removeCls(r),e&&(e.addCls(r),i||(i=n.wrapContent(e),n.setInnerElement(i)),n.getDisabled()||n.attachListeners(),n.isConfiguring||(r=n.getAutoRefresh())&&(n.toggleResizeListeners(r),n.refresh()))},applyIndicators:function(e,t){var n,r,i,o;return e&&(!0===e||"string"==typeof e?r=i=e:(o=e.type,r=e.x,i=e.y)),e=t||{x:null,y:null},(r||i)&&(n=ei.Z.scrollbar.width()&&"overlay"!==o?"barIndicator":"overlayIndicator"),t=e.x,o=e.y,r?e.x=ei.Z.Factory.scrollindicator.update(t,r,this,"createXIndicator",n):t&&(t.destroy(),e.x=null),i?e.y=ei.Z.Factory.scrollindicator.update(o,i,this,"createYIndicator",n):o&&(o.destroy(),e.y=null),e},updateIndicators:function(e){this.isConfiguring||this.refreshScrollbarSize()},createXIndicator:function(e){return ei.Z.apply({axis:"x",scroller:this},e)},createYIndicator:function(e){return ei.Z.apply({axis:"y",scroller:this},e)},applySlotSnapSize:function(e){return"number"==typeof e?{x:e,y:e}:e},updateX:function(){this.isConfiguring||(this.refreshAxes(),this.refreshScrollbarSize())},updateY:function(){this.isConfiguring||(this.refreshAxes(),this.refreshScrollbarSize())},privates:{virtualScrollerCls:ei.Z.baseCSSPrefix+"virtualscroller",innerCls:ei.Z.baseCSSPrefix+"scroller-inner",scrollbarCornerCls:ei.Z.baseCSSPrefix+"scrollbar-corner",attachListeners:function(){this.getElement().on(this.elementListeners)},callIndicators:function(e,t){var n,r=this,i=r.getIndicators();i&&((t||r.isAxisEnabled("x"))&&(n=i.x)&&n[e]&&n[e](),(t||r.isAxisEnabled("y"))&&(n=i.y)&&n[e]&&n[e]())},constrainX:function(e){return Math.min(this.getMaxPosition().x,Math.max(e,0))},constrainY:function(e){return Math.min(this.getMaxPosition().y,Math.max(e,0))},convertEasingConfig:function(e){return e},detachListeners:function(){this.getElement().un(this.elementListeners)},doRefresh:function(e){var t=this,n=t.configuredSize;t.refreshScheduled&&(t.refreshScheduled=t.refreshScheduled.destroy()),t.getElement()&&(t.stopAnimation(),t.getTranslatable().refresh(),t.setSize({x:n.x?void 0:null,y:n.y?void 0:null}),t.fireEvent("refresh",t))},doScrollTo:function(e,t,n){var r,i,o,a,s,l=this,u=l.isDragging,c=l.isPrimary;return l.destroyed||!l.getElement()?l:(a=l.getTranslatable(),s=l.position,u&&!l.isAxisEnabled("x")||(isNaN(e)||"number"!=typeof e?e=s.x:(!1===c||u||(e=l.constrainX(e)),s.x!==e&&(o=!0))),u&&!l.isAxisEnabled("y")||(isNaN(t)||"number"!=typeof t?t=s.y:(!1===c||u||(t=l.constrainY(t)),s.y!==t&&(o=!0))),o?(l.isScrolling||l.onScrollStart(),c=l.convertX(-e),s=-t,n?(i=new ei.Z.Deferred,a.on("animationend",(function(){l.destroyed?i.reject():i.resolve()}),ei.Z.global,{single:!0,onFrame:!0}),a.translateAnimated(c,s,n),r=i.promise):(a.translate(c,s),l.onScroll(e,t),l.isWheeling||l.isScrollbarScrolling?l.onScrollEnd():u||l.doOnScrollEnd())):n&&n.callback&&n.callback(),r||ei.Z.Deferred.getCachedResolved())},getAnimationEasing:function(e,t){if(!this.isAxisEnabled(e))return null;var n,r=this,i=r.position[e],o=r.getMinUserPosition()[e],a=r.getMaxUserPosition()[e],s=r.getMaxAbsoluteVelocity(),l=null,u=r.dragEndTime,c=(t=t.flick.velocity[e],"x"===e);return i<o?l=o:a<i&&(l=a),c&&(i=r.convertX(i),l=r.convertX(l)),null!==l?((n=r.getBounceEasing()[e]).setConfig({startTime:u,startValue:-i,endValue:-l}),n):0===t?null:(t<-s?t=-s:s<t&&(t=s),n=r.getMomentumEasing()[e],o={startTime:u,startValue:-i,startVelocity:1.5*t,minMomentumValue:-a,maxMomentumValue:0},c&&r.convertEasingConfig(o),n.setConfig(o),n)},getSnapPosition:function(e){var t,n,r=this,i=r.getSlotSnapSize()[e],o=null;return 0!==i&&r.isAxisEnabled(e)&&(t=r.position[e],n=r.getSlotSnapOffset()[e],r=r.getMaxUserPosition()[e],0!==(e=Math.floor((t-n)%i))&&(o=t!==r&&Math.abs(e)>i/2?Math.min(r,t+(0<e?i-e:e-i)):t-e)),o},isAxisEnabled:function(e){return this.getX(),this.getY(),this.isAxisEnabledFlags[e]},onAnimationEnd:function(){this.isAnimating=!1,this.snapToBoundary(),this.onScrollEnd()},onAnimationFrame:function(e,t,n){this.onScroll(this.convertX(-t),-n)},onAnimationStart:function(){this.isAnimating=!0},onAxisDrag:function(e,t){var n,r,i,o,a,s,l,u,c,d,f,h;if(t&&this.isAxisEnabled(e))return n=(f=this).flickStartPosition,r=f.flickStartTime,i=f.lastDragPosition,o=f.dragDirection,a=f.position[e],s=f.getMinUserPosition()[e],l=f.getMaxUserPosition()[e],c=f.startPosition[e],u=i[e],c-=t,t=o[e],d=f.getOutOfBoundRestrictFactor(),f=f.getStartMomentumResetTime(),h=ei.Z.Date.now(),c<s?c*=d:l<c&&(c=l+(c-l)*d),u<c?o[e]=1:c<u&&(o[e]=-1),(0!==t&&o[e]!==t||h-r[e]>f)&&(n[e]=a,r[e]=h),i[e]=c,!0},onDrag:function(e){var t=this,n=t.lastDragPosition;t.isDragging&&t.onAxisDrag("x",t.convertX(e.deltaX))|t.onAxisDrag("y",e.deltaY)&&t.doScrollTo(n.x,n.y)},onDragEnd:function(e){var t,n=this;n.isDragging&&(n.dragEndTime=ei.Z.Date.now(),n.onDrag(e),n.isDragging=!1,t=n.getAnimationEasing("x",e),e=n.getAnimationEasing("y",e),t||e?n.getTranslatable().animate(t,e):n.onScrollEnd())},onDragStart:function(e){var t=this,n=e.absDeltaX,r=e.absDeltaY,i=t.startPosition,o=t.flickStartPosition,a=t.flickStartTime,s=t.lastDragPosition,l=t.position,u=t.dragDirection,c=l.x,d=(l=l.y,ei.Z.Date.now()),f=t.getX(),h=t.getY();if(ei.Z.undefer(t.scrollEndTimer),t.getDirectionLock()&&(!f||!h)){if(!(f&&r<n||h&&n<r))return;e.stopPropagation()}s.x=c,s.y=l,o.x=c,o.y=l,i.x=c,i.y=l,a.x=d,a.y=d,u.x=0,u.y=0,t.dragStartTime=d,t.isDragging=!0,t.isScrolling||t.onScrollStart()},onElementResize:function(){this.refresh(!0)},onEvent:function(e){var t=this,n=t.self;if((!n.isTouching||t.isTouching)&&!n.isWheeling&&"mouse"!==e.pointerType&&(t.getY()||t.getX()))return t[t.listenerMap[e.type]](e)},onInnerElementResize:function(){this.refresh(!0)},onPartnerScroll:function(e,t){this.callParent2(this,"GRUI.scroll.Scroller","null","onPartnerScroll",this.onPartnerScroll,arguments),this.callIndicators("onScroll")},onPartnerScrollStart:function(e,t,n,r){this.callParent2(this,"GRUI.scroll.Scroller","null","onPartnerScrollStart",this.onPartnerScrollStart,arguments),this.callIndicators("onScrollStart")},onPartnerScrollEnd:function(){this.callParent2(this,"GRUI.scroll.Scroller","null","onPartnerScrollEnd",this.onPartnerScrollEnd,arguments),this.callIndicators("onScrollEnd",!0)},onScroll:function(e,t){var n,r,i=this,o=i.position,a=e-o.x,s=t-o.y;(a||s)&&(o.x=e,o.y=t,i.getInfinite()&&((r=(o=i.getPageSize()).x)&&(r<(n=e-i.getOffsetX())?i.setOffsetX(Math.floor(e/r)*r):n<-r&&i.setOffsetX(Math.ceil(e/r)*r)),(n=o.y)&&(n<(r=t-i.getOffsetY())?i.setOffsetY(Math.floor(t/n)*n):r<-n&&i.setOffsetY(Math.ceil(t/n)*n))),i.isPrimary&&(i.callIndicators("onScroll"),i.callPartners("onPartnerScroll",e,t),i.fireScroll(e,t,a,s),i.callPartners("fireScroll",e,t)))},doOnScrollEnd:function(){var e=this,t=(n=e.position).x,n=n.y;!e.destroying&&!e.destroyed&&e.isScrolling&&e.isPrimary&&!e.isTouching&&!e.snapToSlot()&&e.touchScrollCount<=1&&(e.isScrolling=ei.Z.isScrolling=e.isWheeling=e.self.isWheeling=e.isScrollbarScrolling=!1,e.callIndicators("onScrollEnd"),e.callPartners("onPartnerScrollEnd"),e.fireScrollEnd(t,n),e.callPartners("fireScrollEnd",t,n),e.isScrolling||e.setPrimary(null)),0<e.touchScrollCount&&e.touchScrollCount--},onScrollStart:function(){var e=this,t=(n=e.position).x,n=n.y;e.isScrolling||(e.setPrimary(!0),e.callIndicators("onScrollStart"),e.callPartners("onPartnerScrollStart",t,n),e.fireScrollStart(t,n,0,0),e.callPartners("fireScrollStart",t,n))},onTouchEnd:function(){this.isTouching=this.self.isTouching=!1,this.isAnimating||this.onScrollEnd()},onTouchMove:function(e){e.preventDefault()},onTouchStart:function(e){var t=this;ei.Z.getDoc().on({touchend:"onTouchEnd",scope:t,single:!0}),t.isTouching=t.self.isTouching=!0,t.stopAnimation(),t.touchScrollCount++},onWheel:function(e){var t=this,n=t.self,r=e.deltaX,i=e.deltaY,o=(s=t.position).x,a=s.y,s=(r=t.constrainX(s.x+r),t.constrainY(s.y+i));r!==o||s!==a?(t.isWheeling=n.isWheeling=!0,t.doScrollTo(r,s),e.preventDefault()):t.isScrolling&&t.onScrollEnd()},refreshAxes:function(){var e,t,n=this,r=n.isAxisEnabledFlags,i=n.getSize(),o=n.getClientSize();i&&o&&(e=Math.max(0,i.x-o.x),i=Math.max(0,i.y-o.y),o=n.getX(),t=n.getY(),n.setMaxPosition({x:e,y:i}),!0===o||"auto"===o?r.x=!!e:!1===o?r.x=!1:"scroll"===o&&(r.x=!0),!0===t||"auto"===t?r.y=!!i:!1===t?r.y=!1:"scroll"===t&&(r.y=!0),n.setMaxUserPosition({x:r.x?e:0,y:r.y?i:0}),n.isConfiguring||n.callIndicators("onRefresh",!0))},refreshScrollbarSize:function(){var e,t=this.getIndicators(),n=this.scrollbarSize,r=ei.Z.scrollbar.size();t&&(e=t.x,t=t.y,e&&e.isScrollbar&&this.getX()&&(n.height=r.height),t&&t.isScrollbar&&this.getY()&&(n.width=r.width))},refreshSize:function(e,t){var n,r,i,o,a,s,l,u,c,d,f,h,p,g,m,v=this,y=v.getElement(),b=ei.Z.isIE?1:0;return y&&!y.destroyed?(y=y.dom,l=v.getInnerElement().dom,s=e.x,e=e.y,n=(r=v.scrollbarSize).width,r=r.height,i=ei.Z.scrollbar.size(),a=o=!1,f=(h=v.getIndicators()).x,h=h.y,m=v.scrollbarCorner,void 0===s&&(s=t&&t.x),void 0===e&&(e=t&&t.y),null==s&&(s=l.scrollWidth,c=!0),null==e&&(e=l.scrollHeight,d=!0),t=y.clientWidth,y=y.clientHeight,o=!!(1&(u=v.getScrollbarFlags(s,e,t,y))),a=!!(2&u),u&&u!==v.scrollbarFlags&&(f&&(f.setEnabled("scroll"===v.getX()),f.setStyle("visibility","hidden")),h&&(h.setEnabled("scroll"===v.getY()),h.setStyle("visibility","hidden")),c&&o&&(h.setEnabled(!0),p=!0),d&&a&&(f.setEnabled(!0),g=!0),p&&(s=l.scrollWidth),g&&(e=l.scrollHeight),(p||g)&&(o=!!(1&(u=v.getScrollbarFlags(s,e,t,y))),a=!!(2&u)),a&&o?(m||(v.scrollbarCorner=m=v.getElement().createChild({cls:v.scrollbarCornerCls}),m.setVisibilityMode(2),ei.Z.isWindows&&m.setStyle({width:n+b+"px",height:r+b+"px"})),m.show()):m&&m.hide(),f&&f.setStyle("visibility",""),h&&h.setStyle("visibility",""),v.scrollbarFlags=u,v.setScrollbarSize({width:o?n:0,height:a?r:0,reservedWidth:o?i.reservedWidth:"",reservedHeight:a?i.reservedHeight:""})),v.setClientSize({x:t=o?t-n:t,y:y=a?y-r:y}),{x:Math.max(s,t),y:Math.max(e,y)}):null},getScrollbarFlags:function(e,t,n,r){var i=0,o=(a=this.scrollbarSize).width,a=a.height;return o&&("scroll"===this.getY()||r<t)&&(i|=1),a&&("scroll"===this.getX()||n<e)&&(i|=2),1&i&&a&&n-o<e&&(i|=2),2&i&&o&&r-a<t&&(i|=1),i},snapToBoundary:function(){var e,t,n,r,i,o=this,a=o.getPosition();o.isConfiguring||!a.x&&!a.y||(e=o.getMinUserPosition(),n=o.getMaxUserPosition(),i=e.x,e=e.y,t=n.x,n=n.y,(r=Math.round(a.x))<i?r=i:t<r&&(r=t),(i=Math.round(a.y))<e?i=e:n<i&&(i=n),o.doScrollTo(r,i))},snapToSlot:function(){var e=this.getSnapPosition("x"),t=this.getSnapPosition("y"),n=this.getSlotSnapEasing();return(null!==e||null!==t)&&(this.doScrollTo(e,t,{easingX:n.x,easingY:n.y}),!0)},stopAnimation:function(){this.getTranslatable().stopAnimation()},syncOffsets:function(e){e.setOffsetX(-this.getOffsetX()),e.setOffsetY(-this.getOffsetY())},toggleResizeListeners:function(e){var t,n=this.getElement();n&&(t=this.getInnerElement(),n[n=e?"on":"un"]("resize","onElementResize",this),t[n]("resize","onInnerElementResize",this))},unwrapContent:function(){for(var e,t=this.getInnerElement().dom,n=this.getElement().dom;e=t.firstChild;)n.insertBefore(e,t)},wrapContent:function(e){for(var t,n=document.createElement("div"),r=e.dom;t=r.lastChild;)n.insertBefore(t,n.firstChild);return r.appendChild(n),this.setInnerElement(n),this._isWrapped=!0,this.getInnerElement()},updateAutoRefresh:function(e){this.toggleResizeListeners(e)},applyBounceEasing:function(e){var t=ei.Z.fx.easing.EaseOut;return{x:ei.Z.factory(e,t),y:ei.Z.factory(e,t)}},updateBounceEasing:function(e){this.getTranslatable().setEasingX(e.x).setEasingY(e.y)},updateClientSize:function(){this.isConfiguring||this.refreshAxes()},applyInnerElement:function(e){return e&&!e.isElement?ei.Z.get(e):e},updateInnerElement:function(e){e&&e.addCls(this.innerCls),this.getTranslatable().setElement(e)},applyMaxPosition:function(e,t){var n;if(!t||e.x!==t.x||e.y!==t.y)return(n=this.getTranslatable()).isAnimating&&(n=n.activeEasingY)&&n.getStartVelocity&&n.getStartVelocity()<0&&e.y<t.y&&n.setMinMomentumValue(-e.y),e},applyMaxUserPosition:function(e,t){if(!t||e.x!==t.x||e.y!==t.y)return e},updateMaxUserPosition:function(){this.snapToBoundary()},updateMinUserPosition:function(){this.snapToBoundary()},applyMomentumEasing:function(e){var t=ei.Z.fx.easing.BoundMomentum;return{x:ei.Z.factory(e,t),y:ei.Z.factory(e,t)}},updateOffsetX:function(e){this.isConfiguring||this.getTranslatable().setOffsetX(e)},updateOffsetY:function(e){this.isConfiguring||this.getTranslatable().setOffsetY(e)},applySize:function(e,t){return e=this.callParent2(this,"GRUI.scroll.Scroller","null","applySize",this.applySize,arguments),this.refreshSize(e,t)},updateSize:function(e,t){this.isConfiguring||this.refreshAxes()},applySlotSnapEasing:function(e){var t=ei.Z.fx.easing.EaseOut;return{x:ei.Z.factory(e,t),y:ei.Z.factory(e,t)}},applySlotSnapOffset:function(e){return"number"==typeof e?{x:e,y:e}:e},updateTranslatable:function(e){e&&e.on({animationframe:"onAnimationFrame",animationstart:"onAnimationStart",animationend:"onAnimationEnd",scope:this})},createTranslatable:function(e){return ei.Z.apply({element:this.getInnerElement()},e)}}}),ei.Z.define("GRUI.state.Builder",{constructor:function(e,t){var n=this;n.name=t||null,n.parent=e||null,n.root=e?e.root:n},child:function(e){return new this.self(this,e)},get:function(e){var t,n=this.getData();return n&&n.$?n.$[e]:t},remove:function(e){var t=this.getData();t&&t.$&&delete t.$[e]},save:function(e,t){var n=this,r=e.self.$config.configs[t],i=e[r.names.get](),o=e.$statefulConfigs,a=o&&o[t];return a||r.equals(e.config[t],i)||((o=o||(e.$statefulConfigs={}))[t]=a=!0),!a||r.save&&!1===r.save(n,t,i,e)||n.set(t,i),n},set:function(e,t){var n,r=this,i=r.data;if("string"==typeof e)void 0===t?(i=i&&i.$)&&delete i[e]:(i=(i=i||r.getData(!0)).$||(i.$={}))[e]=t;else for(n in e)r.set(n,e[n]);return r},privates:{data:null,id:null,owner:null,clear:function(){var e,t=this;(e=(e=t.parent)&&e.getData())&&delete e[t.name],t.data=null},getData:function(e){var t=this,n=t.parent,r=t.data,i=t.name;return r||(n?(n=n.getData(e))&&!(r=n[i]||null)&&e&&(n[i]=r={}):e&&(r={}),t.data=r),r}}}),ei.Z.define("GRUI.state.LocalStorage",{extend:"GRUI.state.Provider",requires:["GRUI.util.LocalStorage"],config:{storage:{id:"ext-state"}},applyStorage:function(e){return e&&new ei.Z.util.LocalStorage(e)},updateStorage:function(e){if(e)for(var t,n=this.state={},r=e.getKeys(),i=0;i<r.length;++i)n[t=r[i]]=this.decodeValue(e.getItem(t))},clear:function(){this.getStorage().clear(),this.callParent2(this,"GRUI.state.Provider","null","clear",this.clear,arguments)},set:function(e,t){var n=this.getStorage();this.callParent2(this,"GRUI.state.Provider","null","set",this.set,arguments),null==t?n.removeItem(e):n.setItem(e,this.encodeValue(t))}}),ei.Z.define("GRUI.tip.Manager",{requires:["GRUI.tip.ToolTip"],config:{tooltip:{xtype:"tooltip",align:"",anchorToTarget:!1,anchor:!1,closeAction:"hide",quickShowInterval:0,maxWidth:"80vw"},overflowTip:{align:"l-r?",anchor:!0,showOnTap:!0}},interceptTitles:!1,constructor:function(e){var t=this;t.initConfig(e),t._fly=new ei.Z.dom.Fly,t.tip=e=ei.Z.create(t.createTooltip()),e.allowRealign=!1,e.on({beforeshow:"onBeforeShow",hovertarget:"onHoverTarget",scope:t}),t.globalListeners=ei.Z.on({scope:t,destroyable:!0,dragstart:"dragDisable",dragend:"dragEnable",dragcancel:"dragEnable"}),t.self.instance||(t.self.instance=t)},disable:function(){1==++this.disabled&&this.getTooltip().disable()},enable:function(){var e=--this.disabled;0==e?this.getTooltip().enable():e<0&&(this.disabled=0)},destroy:function(){var e=this;e.self.instance===e&&(e.self.instance=null),e._fly.detach(),e.globalListeners=e.tip=ei.Z.destroy(e.tip,e.globalListeners),this.callParent2(this,"null","null","destroy",this.destroy,arguments)},createTooltip:function(){var e=this,t=e.getTooltip();return ei.Z.apply({id:"ext-global-tooltip",delegate:e.delegateQuickTip.bind(e),target:ei.Z.getBody()},t)},hide:function(){this.tip&&this.tip.hide()},privates:{disabled:0,_propertyMap:function(){function e(e){return parseInt(e,10)}function t(e){return!!e}var n=ei.Z.identityFn;return{ui:{prop:"data-qui",parse:n},html:{prop:"data-qtip",parse:n},width:{prop:"data-qwidth",parse:e},minWidth:{prop:"data-qminWidth",parse:n},maxWidth:{prop:"data-qmaxWidth",parse:n},title:{prop:"data-qtitle",parse:n},autoHide:{prop:"data-qautoHide",parse:t},cls:{prop:"data-qcls",parse:n},axisLock:{prop:"data-axislock",parse:n},align:{prop:"data-qalign",parse:n},alignDelegate:{prop:"data-qaligndelegate",parse:n},anchor:{prop:"data-qanchor",parse:n},showDelay:{prop:"data-qshowDelay",parse:e},hideDelay:{prop:"data-qhideDelay",parse:e},dismissDelay:{prop:"data-qdismissDelay",parse:e},trackMouse:{prop:"data-qtrackMouse",parse:t},anchorToTarget:{prop:"data-qanchorToTarget",parse:t},allowOver:{prop:"data-qallowover",parse:t},closable:!0}}(),applyOverflowTip:function(e){var t=ei.Z.platformTags.phone;return ei.Z.apply({axisLock:!t,maxWidth:t?"80vw":400},e)},delegateQuickTip:function(e){return!!this.getTipConfig(e,"html")},dragDisable:function(){this.disabled||this.tip.disable()},dragEnable:function(){this.disabled||this.tip.enable()},getTipConfig:function(e,t){var n,r,i,o,a,s=this,l=s._propertyMap,u=s._tipDefaults,c=s._fly,d=c.attach(e).getData().qtip,f=s.tip,h=l.html.prop;if(!u&&"html"!==t)for(n in s._tipDefaults=u={},l)u[n]=f.getConfig(n);if(d)t?i=d[t]:(i=ei.Z.apply({},u),ei.Z.apply(i,d));else{if(e.hasAttribute(h))(r=e.getAttribute(h))||(r=s.interceptTitles&&e.title)&&(e.setAttribute(h,r),e.removeAttribute("title"));else if(e.hasAttribute("data-qoverflow")&&(r=c.dom.innerHTML,"html"!==t&&(u=ei.Z.apply({},s.getOverflowTip(),u)),!t&&!s.hasTextOverflow(e)))return!1;if(r)if("html"===t)i=r;else if(t)(a=l[t]).prop&&e.hasAttribute(a.prop)&&(i=a.parse(e.getAttribute(a.prop)));else for(n in i=d={html:r},l)"html"!==n&&((o=null)===(o=(a=l[n]).prop&&e.hasAttribute(a.prop)?a.parse(e.getAttribute(a.prop)):o)&&(o=u[n]),d[n]=o)}return c.detach(),t&&null==i&&"html"!==t?u[t]:i},onBeforeShow:function(e){var t=e.currentTarget.dom;if(t){if(!1===(t=this.getTipConfig(t)))return!1;t&&(t.anchorToTarget=!(!t.align&&!t.anchor),e.setConfig(t),(e=e.getHeader())&&e.setHidden(!t.title&&!t.closable))}},priorityConfigs:["showDelay","anchor","anchorToTarget","align","trackMouse"],onHoverTarget:function(e,t){var n,r=t.dom;r&&(n={},this.priorityConfigs.forEach((function(e){n[e]=this.getTipConfig(r,e)}),this),n.anchorToTarget=!(!n.align&&!n.anchor),e.setConfig(n))},hasTextOverflow:function(e){if(ei.Z.fly(e).isStyle("text-overflow","ellipsis"))return ei.Z.util.TextMetrics.measure(e,e.innerHTML).width>ei.Z.fly(e).getViewRegion().width}}}),ei.Z.define("GRUI.grid.Tree",{extend:"GRUI.grid.Grid",xtype:"tree",alternateClassName:"GRUI.tree.Tree",classCls:ei.Z.baseCSSPrefix+"tree",expanderLastCls:ei.Z.baseCSSPrefix+"expander-last",expanderFirstCls:ei.Z.baseCSSPrefix+"expander-first",expanderOnlyCls:ei.Z.baseCSSPrefix+"expander-only",cellExpanderCls:ei.Z.baseCSSPrefix+"cell-expander",cachedConfig:{expanderFirst:!0,expanderOnly:!0},config:{root:{},selectOnExpander:!1,singleExpand:!1,rootVisible:!0,displayField:"text",columns:!1,rowLines:!1,folderSort:!1},eventsSelector:"."+ei.Z.baseCSSPrefix+"grid-cell",applyColumns:function(e){return e||(this.setHideHeaders(!0),e=[{xtype:"treecolumn",text:"Name",dataIndex:this.getDisplayField(),minWidth:100,flex:1}]),e},onRootChange:function(e,t){var n,r=this;t&&delete t.fireEventArgs,e&&(n=e.fireEventArgs,e.fireEventArgs=function(t){var i=n.apply(e,arguments);return!1!==i&&(arguments[0]=r.rootEventsMap[t]||"item"+t,i=r.fireEventArgs.apply(r,arguments)),i})},updateExpanderFirst:function(e){var t=this.element;t.toggleCls(this.expanderFirstCls,e),t.toggleCls(this.expanderLastCls,!e)},updateExpanderOnly:function(e){var t=this.element;t.toggleCls(this.expanderOnlyCls,e),t.toggleCls(this.cellExpanderCls,!e)},setRootNode:function(e){return this.getStore().setRoot(e)},getRootNode:function(){var e=this.getStore();return e?e.getRoot():null},expandNode:function(e,t,n,r){return e.expand(t,n,r||this)},collapseNode:function(e,t,n,r){return e.collapse(t,n,r||this)},expandAll:function(e,t){var n=this.getRootNode();n&&(ei.Z.suspendLayouts(),n.expand(!0,e,t||this),ei.Z.resumeLayouts(!0))},collapseAll:function(e,t){var n=this,r=n.getRootNode();r&&(ei.Z.suspendLayouts(),t=t||n,n.getStore().rootVisible?r.collapse(!0,e,t):r.collapseChildren(!0,e,t),ei.Z.resumeLayouts(!0))},getChecked:function(){var e=[],t=this.getRootNode(),n=t.get("checked"),r=t.childNodes;return!0===n&&e.push(t),this.getCheckedChildItems(r,e),e},privates:{rootEventsMap:{beforeappend:"beforeitemappend",beforeremove:"beforeritememove",beforemove:"beforeitemmove",beforeinsert:"beforeiteminsert",beforeexpand:"beforeitemexpand",beforecollapse:"beforeitemcollapse"},doChildTouchStart:function(e){var t=e.cell;!t||t.isTreeCell&&!this.getSelectOnExpander()&&e.event.target===t.expanderElement.dom||this.callParent2(this,"GRUI.grid.Grid","null","doChildTouchStart",this.doChildTouchStart,arguments)},updateStore:function(e,t){var n,r=this;t&&ei.Z.destroy(r.storeListeners,r.storeRelayers),e&&((n=(r.store=e).getRoot())?r.onRootChange(n):(e.setRoot(r.getRoot()),n=e.getRoot()),"rootVisible"in e.initialConfig||e.setRootVisible(r.getRootVisible()),e.ownerTree=r,this.callParent2(this,"GRUI.grid.Grid","null","updateStore",this.updateStore,arguments),e.folderSort=r.getFolderSort(),r.storeListeners=r.mon(e,{destroyable:!0,rootchange:r.onRootChange,scope:r}),r.storeRelayers=r.relayEvents(e,["beforeload","load"]),e.rootVisible||e.autoLoad||n.isExpanded()||n.isLoading()||(n.isLoaded()?(n.data.expanded=!0,e.onNodeExpand(n,n.childNodes)):!1===e.autoLoad||e.hasPendingLoad()||(n.data.expanded=!1,n.expand())))},getCheckedChildItems:function(e,t){for(var n,r=0;r<e.length;r++)!0===(n=e[r]).get("checked")&&t.push(n),n.childNodes.length&&this.getCheckedChildItems(n.childNodes,t)}}}),ei.Z.define("GRUI.grid.cell.Tree",{extend:"GRUI.grid.cell.Cell",xtype:"treecell",isTreeCell:!0,classCls:ei.Z.baseCSSPrefix+"treecell",collapsedCls:ei.Z.baseCSSPrefix+"collapsed",expandedCls:ei.Z.baseCSSPrefix+"expanded",leafCls:ei.Z.baseCSSPrefix+"leaf",expandableCls:ei.Z.baseCSSPrefix+"expandable",withIconCls:ei.Z.baseCSSPrefix+"with-icon",withoutIconCls:ei.Z.baseCSSPrefix+"no-icon",loadingCls:ei.Z.baseCSSPrefix+"loading",selectedCls:ei.Z.baseCSSPrefix+"selected",checkableCls:ei.Z.baseCSSPrefix+"treecell-checkable",checkedCls:ei.Z.baseCSSPrefix+"treecell-checked",trimodeCls:ei.Z.baseCSSPrefix+"treecell-trimode",uncheckedCls:ei.Z.baseCSSPrefix+"treecell-unchecked",config:{iconClsProperty:"iconCls",iconCls:null,indent:null,text:{lazy:!0,$value:""},autoCheckChildren:!0,checkable:null,checkableField:"checkable",checkedField:"checked",checkOnTriTap:!0,enableTri:!0},element:{reference:"element",children:[{reference:"innerElement",cls:ei.Z.baseCSSPrefix+"inner-el",children:[{reference:"indentElement",cls:ei.Z.baseCSSPrefix+"indent-el"},{reference:"expanderElement",cls:ei.Z.baseCSSPrefix+"expander-el "+ei.Z.baseCSSPrefix+"font-icon"},{reference:"checkElement",listeners:{tap:"onCheckTap"},cls:ei.Z.baseCSSPrefix+"check-el "+ei.Z.baseCSSPrefix+"font-icon"},{reference:"iconElement",cls:ei.Z.baseCSSPrefix+"icon-el "+ei.Z.baseCSSPrefix+"font-icon"},{reference:"bodyElement",cls:ei.Z.baseCSSPrefix+"body-el",uiCls:"body-el"}]}]},toolDefaults:{zone:"tail"},relayedEvents:["beforecheckchange","checkchange"],constructor:function(e){var t=this;this.callParent2(this,"GRUI.grid.cell.Cell","null","constructor",this.constructor,arguments),t.element.on({scope:t,tap:"maybeToggle"}),t.getGrid().relayEvents(t,t.relayedEvents)},toggle:function(){var e=this,t=e.getRecord();t.isExpanded()?e.collapse():t.isExpandable()&&e.expand()},collapse:function(){var e=this,t=e.getRecord();e.getGrid().fireEventedAction("nodecollapse",[e.parent,t,"collapse"],"doToggle",this)},expand:function(){var e,t,n,r,i=this,o=i.getRecord(),a=i.getGrid();if(a.fireEventedAction("nodeexpand",[i.parent,o,"expand"],"doToggle",i),o.isExpanded&&!o.isRoot()&&a.getSingleExpand())for(t=0,n=(e=o.parentNode.childNodes).length;t<n;++t)(r=e[t])!==o&&r.collapse()},refresh:function(e){var t;this.callParent2(this,"GRUI.grid.cell.Cell","null","refresh",this.refresh,arguments),(t=this.getRecord())&&this.doNodeUpdate(t)},updateCheckable:function(){this.syncCheckElement()},updateIconCls:function(e,t){var n=this,r=n.element,i=!e;n.iconElement.replaceCls(t,e),r.toggleCls(n.withIconCls,!i),r.toggleCls(n.withoutIconCls,i)},updateUi:function(e,t){this.callParent2(this,"GRUI.grid.cell.Cell","null","updateUi",this.updateUi,arguments),this._indent=null,this.syncIndent()},syncCheckElement:function(){var e=this,t=e.getRecord(),n=e.getCheckable(),r=e.checkedCls,i=e.trimodeCls,o=e.uncheckedCls,a=null,s=null;t&&(a=t.get(e.getCheckableField()),s=t.get(e.getCheckedField())),n&&!1!==a||!1!==n&&a&&null!=s||null===n&&null!=s?(e.addCls(e.checkableCls),a=e.shouldTri(),s||a?(e.getEnableTri()&&null!==n&&e.bubbleUp(t),a&&null!==n?e.replaceCls([r,o],i):e.replaceCls([i,o],r)):null===s&&null===n||e.replaceCls([r,i],o)):e.removeCls([e.checkableCls,r,i,o])},onCheckTap:function(e){var t,n,r,i=this,o=i.getRecord();o&&!1!==i.getCheckable()&&!o.get(!1===i.getCheckableField())&&(t=i.getCheckedField(),n=o.get(t),r=n&&!0!==n?this.getCheckOnTriTap():!n,!1!==i.fireEvent("beforecheckchange",i,r,n,o)&&(o.set(t,r),null!==i.getCheckable()&&(i.getAutoCheckChildren()&&o.cascade((function(e){e!==o&&e.set(t,r)})),i.getEnableTri()&&i.bubbleUp(o)),i.fireEvent("checkchange",i,r,o)))},bubbleUp:function(e){var t,n=e.parentNode;n&&(t=this.shouldTri(n,!0),n.set("checked",t?"tri":e.get("checked")),this.bubbleUp(n))},shouldTri:function(e,t){var n,r,i;return e=e||this.getRecord(),!(!this.getEnableTri()||!e)&&(n=this.getCheckedField(),null==(r=e.get(n))||t&&!e.isLeaf()?!!(t=e.childNodes)&&t.some((function(e,t){if(r=e.get(n),t&&(!!r!=!!i||r&&!0!==r))return!0;i=r})):"tri"===r)},privates:{doNodeUpdate:function(e){var t=this,n=t.getIconClsProperty(),r=t.element;n&&t.setIconCls(e.data[n]),r.toggleCls(t.loadingCls,e.data.loading),r.toggleCls(t.leafCls,e.isLeaf()),t.syncExpandCls(),t.syncIndent(),t.syncCheckElement()},getGrid:function(){return this.row.grid},syncExpandCls:function(){var e,t,n,r,i,o;this.updatingExpandCls||(t=(r=(e=this).getRecord()).isExpandable(),n=e.element,r=r.isExpanded(),i=e.expandedCls,o=e.collapsedCls,e.updatingExpandCls=!0,n.toggleCls(e.expandableCls,t),t?(n.toggleCls(i,r),n.toggleCls(o,!r)):n.removeCls([i,o]),e.updatingExpandCls=!1)},syncIndent:function(){var e,t,n=this.getColumn();n&&(e=n._indentSize,t=this.getRecord(),e||(n._indentSize=e=parseInt(this.el.getStyle("background-position"),10)),t&&(n=(n=t.getTreeStore())&&n.rootVisible?t.data.depth:t.data.depth-1,this.indentElement.dom.style.width=n*e+"px"))},maybeToggle:function(e){var t=this.getRecord(),n=t.isExpanded(),r=this.getGrid();t.isLeaf()||r.getExpanderOnly()&&e.target!==this.expanderElement.dom||this.toggle(),t.isExpanded()!==n&&(e.nodeToggled=!0,e.stopEvent())},doToggle:function(e,t,n){t[n]()}}}),ei.Z.define("GRUI.grid.column.Tree",{extend:"GRUI.grid.column.Column",xtype:"treecolumn",config:{cell:{xtype:"treecell"}},isTreeColumn:!0}),ei.Z.define("GRUI.grid.grouped.NavigationModel",{extend:"GRUI.grid.NavigationModel",alias:"navmodel.groupedgrid",groupHeaderSelector:"."+ei.Z.baseCSSPrefix+"grid-group-header-collapsible",privates:{onKeyEnter:function(e){var t,n=(t=this).location,r=e.getTarget(t.groupHeaderSelector);n=(t=t.getView().store)&&t.isMultigroupStore?t.getRenderData(n.record):null;e.stopEvent(),n&&(n.isGroup||n.isGroupSummary||n.isSummary)?r&&t.doExpandCollapseByPath(n.group.getPath(),n.group.isCollapsed):this.callParent2(this,"GRUI.grid.NavigationModel","null","onKeyEnter",this.onKeyEnter,arguments)}}}),ei.Z.define("GRUI.grid.grouped.selection.Rows",{extend:"GRUI.dataview.selection.Rows",alias:"selection.groupedrows",isSelected:function(e){for(var t,n=this.getSelected().spans,r=n.length,i=e.isEntity?this.view.store.indexOf(e):e,o=0;o<r;o++)if(i>=(t=n[o])[0]&&i<t[1])return!0;return!1},eachCell:function(e,t){var n,r,i,o,a,s=this,l=s.getSelected(),u=s.view,c=u.ownerGrid.getVisibleColumnManager().getColumns(),d=s.dragRange,f=!1;c&&(n=c.length,o=new ei.Z.grid.Location(u),l&&s.eachRow((function(i){for(o.setItem(i),r=0;r<n;r++)if(o.setColumn(c[r]),!1===e.call(t||s,o,o.columnIndex,o.recordIndex))return!(f=!0)})),f||null==d||s.view.store.getRange(d[0],d[1],{forRender:!1,callback:function(l){for(a=l.length,r=0;!f&&r<a;r++)for(o.setItem(l[r]),i=0;!f&&i<n;i++)o.setColumn(c[i]),!1===e.call(t||s,o,o.columnIndex,o.recordIndex)&&(f=!0)}}))}}),ei.Z.define("GRUI.grid.grouped.selection.Records",{extend:"GRUI.dataview.selection.Records",alias:"selection.groupedrecords",getFirstRowIndex:function(){return this.getCount()?this.view.store.indexOf(this.getSelected().first()):0},getLastRowIndex:function(){return this.getCount()?this.view.store.indexOf(this.getSelected().last()):-1},privates:{addRecordRange:function(e,t){var n=t;t<e&&(t=e,e=n),this.getSelected().add(this.view.store.getRange(e,t||e))},removeRecordRange:function(e,t){var n=t;t<e&&(t=e,e=n),this.getSelected().remove(this.view.store.getRange(e,t||e))},getContiguousSelection:function(){var e,t=this.view.store,n=ei.Z.Array.sort(this.getSelected().getRange(),(function(e,n){return t.indexOf(e)-t.indexOf(n)})),r=n.length;if(r){if(1===r&&-1===t.indexOf(n[0]))return!1;for(e=1;e<r;e++)if(t.indexOf(n[e])!==t.indexOf(n[e-1])+1)return!1;return[t.indexOf(n[0]),t.indexOf(n[r-1])]}},refresh:function(){var e,t,n,r,i,o,a=this,s=a.view,l=a.getSelectionModel(),u=s.store.getData(),c=u.getFilters().getFilterFn(),d=l.ignoredFilter,f=a.getSelected(),h=l.getLastSelected(),p=[],g=[];if(d&&(d.getDisabled()?d=null:(d.setDisabled(!0),u=u.getSource()||u)),h&&(e=u.get(u.getKey(h)))&&d&&!c(e)&&(e=null),a.getCount()){for(n=(t=f.getRange()).length,r=0;r<n;r++)i=t[r],(o=(o=u.get(u.getKey(i)))&&d&&!c(o)?null:o)?o!==i&&(p.push(i),g.push(o)):p.push(i);s.beforeSelectionRefresh&&s.beforeSelectionRefresh(p,g),f.suppressEvent=!0,f.splice(f.getCount(),p,g),f.suppressEvent=!1}d&&d.setDisabled(!1),l.setLastSelected(e||g[g.length-1]||null)}}}),ei.Z.define("GRUI.grid.grouped.selection.Model",{extend:"GRUI.grid.selection.Model",alias:"selmodel.groupedgrid",requires:["GRUI.grid.grouped.selection.Rows","GRUI.grid.grouped.selection.Records"],isGroupedGridSelectionModel:!0,selection:{type:"groupedrecords"},getSelection:function(e,t){var n,r;return"rows"!==e&&"records"!==e||(e="grouped"+(this.getStore().isVirtualStore?"rows":"records")),n=this.callParent2(this,"GRUI.grid.selection.Model","null","getSelection",this.getSelection,arguments),e&&(e=e.toLowerCase(),n&&n.type===e?t&&n.clear(!0):(r={type:e},"records"===e&&(r.selected=this.getSelected()),this.setSelection(r),n=this.callParent2(this,"GRUI.grid.selection.Model","null","getSelection",this.getSelection,arguments))),n},privates:{applySelection:function(e,t){if(t){if(t.type===e.type)return t.setConfig(e),t;ei.Z.destroy(t)}return e&&(t=this.getStore(),e=ei.Z.Factory.selection(ei.Z.apply({selectionModel:this,type:"grouped"+(t&&t.isVirtualStore?"rows":"records"),selected:this.getSelected()},e))),e}}}),ei.Z.define("GRUI.grid.AdvancedGroupStore",{extend:"GRUI.util.Observable",mixins:["GRUI.mixin.Bufferable"],cachedConfig:{storeEventListeners:{beforeload:"onBeforeLoad",load:"onLoad",datachanged:"onDataChanged",groupchange:"onGroupChange",groupschange:"onGroupsChange",idchanged:"onIdChanged",update:"onUpdate",remotesummarieschanged:"fireRefresh"}},config:{autoDestroy:!0,autoLoad:!1,source:null,summaryPosition:null,groupSummaryPosition:null,startCollapsed:null,fireReplaceEvent:!0},isMultigroupStore:!0,isGroupStore:!0,isStore:!0,isVirtualStore:!1,$applyConfigs:!1,bufferableMethods:{fireRefresh:5},constructor:function(e){return this.data=new ei.Z.util.Collection({rootProperty:"data",extraKeys:{byInternalId:{property:"internalId",rootProperty:""}}}),this.renderData={},this.callParent2(this,"GRUI.util.Observable","null","constructor",this.constructor,arguments)},destroy:function(){this.setSource(null),this.callParent2(this,"GRUI.util.Observable","null","destroy",this.destroy,arguments)},updateGroupSummaryPosition:function(){this.isConfiguring||this.refreshData()},updateSummaryPosition:function(){this.isConfiguring||this.refreshData()},updateSource:function(e,t){var n=this;t&&ei.Z.destroy(n.storeListeners),e&&(n.storeListeners=e.on(ei.Z.apply({scope:n,destroyable:!0},n.getStoreEventListeners())),n.refreshData())},processStore:function(e){var t,n,r,i,o=this,a=o.data,s=o.getSummaryPosition(),l=o.getSource(),u=o.getStartCollapsed();if(a&&(a.clear(),o.renderData={},l)){if(0<(r=(n=l.getGroups())&&n.length)){if(e)for(i=0;i<r;i++)n.items[i].doExpandCollapse(!u,!0);else if(u)for(i=0;i<r;i++)n.items[i].collapse(!0);o.setStartCollapsed(!1),t=o.processGroups(n.items)}else t=l.getRange();a.add(t),"top"!==s&&"bottom"!==s||(e=l.getSummaryRecord(),o.renderData[e.getId()]={isSummary:!0},"top"===s?a.insert(0,e):a.add(e))}},processGroups:function(e){var t,n,r,i,o,a,s=this,l=[],u=e?e.length:0,c=!1,d=s.getGroupSummaryPosition();if(u<=0)return l;for(t=0;t<u;t++){if(c=!1,i=(r=e[t]).getGroupRecord(),l.push(i),s.renderData[i.getId()]={group:r,depth:r.getLevel(),isGroup:!0},!r.isCollapsed)if((a=r.getGroups())&&0<a.length)ei.Z.Array.insert(l,l.length,s.processGroups(a.items));else for(ei.Z.Array.insert(l,l.length,r.items),n=0;n<r.items.length;n++)s.renderData[r.items[n].getId()]={group:r,depth:r.getLevel()};"bottom"===d&&(c=!r.isCollapsed,o=r.getLevel()),c&&(i=r.getSummaryRecord(),l.push(i),s.renderData[i.getId()]={group:r,depth:o,isGroupSummary:!0})}return l},isLoading:function(){return!1},getData:function(){return this.data},getCount:function(){var e=this.data;return e?e.getCount():0},getTotalCount:function(){var e=this.data;return e?e.getCount():0},first:function(){var e=this.data,t=null;return e?e.first():t},last:function(){var e=this.data,t=null;return e?e.last():t},rangeCached:function(e,t){return t<this.getCount()},getRange:function(e,t,n){var r=(r=this.data)?r.getRange(e,ei.Z.isNumber(t)?t+1:t):[];return n&&n.callback&&n.callback.call(n.scope||this,r,e,t,n),r},getAt:function(e){var t=this.data;return t?t.getAt(e):null},getById:function(e){return this.getSource().getById(e)},getByInternalId:function(e){var t=this.data,n=null;return t?t.byInternalId.get(e):n},getRenderData:function(e){return e&&e.isModel?this.renderData[e.getId()]:null},toggleCollapsedByRecord:function(e){if(e=this.renderData[e.getId()])return this.doExpandCollapse(e.group,e.group.isCollapsed)},doExpandCollapseByPath:function(e,t){if(e=this.getSource().getGroups().getByPath(e))return this.doExpandCollapse(e,t)},doExpandCollapse:function(e,t){var n,r,i=this,o=i.getFireReplaceEvent(),a=i.processGroups([e]);return e.doExpandCollapse(t),(t=i.processGroups([e])).length&&-1!==(n=i.data.indexOf(e.getGroupRecord()))&&(e.isCollapsed?(i.isExpandingOrCollapsing=2,r=a.length,a=i.data.getRange(n,n+r),i.data.removeAt(n,r),i.data.insert(n,t),o?i.fireEvent("replace",i,n,a,t):i.fireRefresh(),i.fireEvent("groupcollapse",i,e)):(i.isExpandingOrCollapsing=1,i.data.removeAt(n),i.data.insert(n,t),o?i.fireEvent("replace",i,n,a,t):i.fireRefresh(),i.fireEvent("groupexpand",i,e)),i.isExpandingOrCollapsing=0),t[0]},isInCollapsedGroup:function(e){var t,n,r,i=!0,o=this.getSource().getGroups();if(o=o&&o.getGroupsByItem(e))for(n=o.length,t=0;t<n;t++)r=o[t],i=i&&!r.isCollapsed;return!i},expandToRecord:function(e){var t,n,r,i,o=this.getSource().getGroups();if(o=o&&o.getGroupsByItem(e))for(r=o.length,t=0;t<r;t++)if((i=o[t]).isCollapsed){for(n=t+1;n<r;n++)o[n].isCollapsed=!1;this.doExpandCollapse(i,!0);break}},contains:function(e){return-1<this.indexOf(e)},indexOf:function(e){var t=this.data;return t?t.indexOf(e):null},indexOfId:function(e){var t=this.data;return t?t.indexOfKey(e):null},indexOfTotal:function(e){return this.getSource().indexOf(e)},getGrouper:function(){return null},getGroups:function(){return null},hasPendingLoad:function(){var e=this.getSource();return!!e&&e.hasPendingLoad()},onUpdate:function(e,t,n,r){this.fireEvent("update",this,t,n,r)},onDataChanged:function(){this.refreshData()},onIdChanged:function(e,t,n,r){var i=this.data;i&&i.updateKey(t,n)},onGroupsChange:function(e,t){t&&t.length||this.refreshData(),this.fireEvent("groupschange",e,t)},onGroupChange:function(e,t){this.onGroupsChange(e,t?[t]:null)},refreshData:function(e){this.processStore(e),this.fireRefresh()},onBeforeLoad:function(){this.fireEvent("beforeload",this)},onLoad:function(e){this.currentPage=e.currentPage,this.pageSize=e.pageSize,this.fireEvent("load",this)},privates:{doFireRefresh:function(){this.fireEvent("refresh",this)}}},(function(e){var t=e.prototype;ei.Z.each(["add","addFilter","addSorted","aggregate","average","beginUpdate","clearFilter","clearGrouping","collect","commitChanges","contains","count","createActiveRange","each","enableBubble","endUpdate","filter","filterBy","find","findBy","findExact","findRecord","flushLoad","getAsynchronousLoad","getAutoLoad","getAutoSync","getBatchUpdateMode","getClearOnPageLoad","getClearRemovedOnLoad","getFields","getFilters","getGroupDir","getGroupField","getGrouper","getGroupers","getGroups","getModel","getModifiedRecords","getNewRecords","getPageSize","getProxy","getReloadOnClearSorters","getRemoteFilter","getRemoteSort","getRemoteSummary","getRemovedRecords","getSession","getSortOnLoad","getSorters","getStatefulFilters","getStoreId","getSummaryRecord","getTrackRemoved","getUpdatedRecords","group","insert","isFiltered","isGrouped","isLoaded","isLoading","isSorted","load","loadData","loadPage","loadRawData","loadRecords","max","min","nextPage","previousPage","query","queryBy","rejectChanges","reload","remove","removeAll","removeAt","removeFilters","resumeAutoSync","setAsynchronousLoad","setAutoDestroy","setAutoLoad","setAutoSync","setBatchUpdateMode","setClearOnPageLoad","setClearRemovedOnLoad","setFields","setFilters","setFieldsSummaries","setFieldSummary","setGroupDir","setGroupField","setGrouper","setGroupers","setModel","setPageSize","setProxy","setReloadOnClearSorters","setRemoteFilters","setRemoteSort","setRemoteSummary","setSession","setSortOnLoad","setSorters","setStatefulFilters","setStoreId","setTrackRemoved","sort","sum","suspendAutoSync","sync"],(function(e){t[e]||(t[e]=function(){var t=this.getSource();return t&&t[e].apply(t,arguments)})}))})),ei.Z.define("GRUI.grid.cell.Group",{extend:"GRUI.grid.cell.Cell",xtype:"groupcell",config:{innerGroupStyle:null,innerGroupCls:null,userGroupStyle:null,userGroupCls:null},innerTemplate:[{reference:"iconElement",classList:[ei.Z.baseCSSPrefix+"grid-group-icon",ei.Z.baseCSSPrefix+"font-icon"]},{reference:"groupElement",classList:[ei.Z.baseCSSPrefix+"grid-group-title"]}],noGroupCls:ei.Z.baseCSSPrefix+"gridcell-nogroup",groupHeaderCls:ei.Z.baseCSSPrefix+"grid-group-header",groupHeaderCollapsibleCls:ei.Z.baseCSSPrefix+"grid-group-header-collapsible",groupHeaderCollapsedCls:ei.Z.baseCSSPrefix+"grid-group-header-collapsed",nestedGroupPadding:25,encodeHtml:!1,handleEvent:function(e,t){var n=this,r=n.row,i=r.getGrid(),o=n.getRecord(),a=i.store,s=a&&a.isMultigroupStore?a.getRenderData(o):null,l="group";o=ei.Z.applyIf({grid:i,record:o,column:n.getColumn(),cell:n,row:r,e:t});if(s)return s.isGroup&&s.group&&"tap"===e&&a&&a.doExpandCollapseByPath(s.group.getPath(),s.group.isCollapsed),s.isGroupSummary?l="groupsummary":s.isSummary&&(l="summary"),i.fireEvent(l+e,i,o,t),!1},updateInnerGroupCls:function(e,t){this.groupElement.replaceCls(t,e)},updateRawValue:function(e){var t=this.groupElement.dom;e=null==e?"":e;this.getEncodeHtml()?t.textContent=e:t.innerHTML=e},refresh:function(e){var t,n=this,r=n.getRecord(),i=n.row.getGrid(),o=i.store,a=n.noGroupCls;(o=o&&o.getRenderData(r))&&r&&((r=o.group)?(a=n.groupHeaderCls,t=o.isGroup?n.nestedGroupPadding*(o.group.getLevel()-1):n.nestedGroupPadding*o.group.getLevel(),n.bodyElement.setStyle(i.isRTL()?"padding-right":"padding-left",t+"px")):n.bodyElement.setStyle(i.isRTL()?"padding-right":"padding-left","0px"),o.isGroup&&(a+=" "+n.groupHeaderCollapsibleCls,r.isCollapsed&&(a+=" "+n.groupHeaderCollapsedCls))),n.setCellCls(a),this.callParent2(this,"GRUI.grid.cell.Cell","null","refresh",this.refresh,arguments)},refreshValue:function(e){var t,n,r,i=this.row.getGrid(),o=e.record,a=(e=e.column,"&#160;");return(r=(r=i.store)&&r.getRenderData(o))?r.isGroup?t=e.getGroupHeaderTpl():r.isGroupSummary?t=e.getGroupSummaryTpl():r.isSummary&&(t=e.getSummaryTpl(),n={store:i.getStore().getSource()}):o.isSummaryModel&&(t=e.getSummaryTpl(),n={store:i.getStore().getSource()}),t&&(n=n||ei.Z.apply({groupField:e.getField(),columnName:e.getText(),name:o.group.getLabel(),column:e},r),a=t.apply(n)),a}}),ei.Z.define("GRUI.grid.column.Groups",{extend:"GRUI.grid.column.Column",xtype:"groupscolumn",requires:["GRUI.grid.cell.Group"],isGroupsColumn:!0,config:{groupHeaderTpl:"{name}",groupSummaryTpl:"Summary ({name})",summaryTpl:"Summary ({store.data.length})"},text:"Groups",draggable:!1,ignoreExport:!0,hideable:!1,sortable:!1,groupable:!1,defaultEditor:null,editable:!1,weight:-1e3,width:200,cell:{xtype:"groupcell"},groupHeaderTpl:"{columnName}: {name}",groupSummaryTpl:"Summary ({name})",summaryTpl:"Summary",applyGroupHeaderTpl:function(e){return ei.Z.XTemplate.get(e)},applyGroupSummaryTpl:function(e){return ei.Z.XTemplate.get(e)},applySummaryTpl:function(e){return ei.Z.XTemplate.get(e)}}),ei.Z.define("GRUI.grid.row.Group",{extend:"GRUI.grid.Row",xtype:"gridgrouprow",isGroupRow:!0,groupCls:ei.Z.baseCSSPrefix+"grid-group",summaryCls:ei.Z.baseCSSPrefix+"summaryrow",updateRecord:function(e,t){var n=this;this.callParent2(this,"GRUI.grid.Row","null","updateRecord",this.updateRecord,arguments),n.removeCls([n.groupCls,n.summaryCls]),e&&(e.isGroup||e.isSummary?n.addCls(n.groupCls):e.isSummaryModel&&n.addCls(n.summaryCls))},refresh:function(e){var t,n,r,i,o,a,s=this,l=s.cells,u=s.getBody(),c=l.length,d=s.getExpandedField(),f=s.getParent(),h=f.store,p=f.getSelectable(),g=p.getSelection(),m=g.isCells||g.isColumns;if(!f.isTreeGroupedGrid)return this.callParent2(this,"GRUI.grid.Row","null","refresh",this.refresh,arguments);for(s.refreshContext=e=s.beginRefresh(e),i=e.record,g=f.getGroupSummaryPosition(),o=!0,(h=h&&h.getRenderData(i))&&(h.isGroupSummary||h.isSummary?o=!0:h.isGroup&&(h=h.group,o=!("bottom"===g&&!h.isCollapsed||"hidden"===g))),s.syncDirty(i),n=t=0;t<c;++t)(r=l[t])&&(r.getColumn().isGroupsColumn||o?(r.getRecord()===i?r.refresh(e):(r.refreshContext=e,r.setRecord(i),r.refreshContext=null),m&&r.toggleCls(f.selectedCls,p.isCellSelected(s._recordIndex,n))):(a=e.record,e.record=null,r.refreshContext=e,r.setRecord(null),r.refreshContext=null,e.record=a),r.isHidden()||n++);e.cell=e.column=e.field=e.scope=null,u&&(u.refreshContext=e,u.getRecord()===i?u.updateRecord(i):u.setRecord(i),u.refreshContext=null,d?s.setCollapsed(!i.get(d)):(h=f.$recordsExpanded||(f.$recordsExpanded={}),f.hasRowExpander&&s.setCollapsed(!h[i.internalId]))),s.refreshContext=null}}),ei.Z.define("GRUI.grid.menu.Groups",{extend:"GRUI.menu.Item",xtype:"gridgroupsmenuitem",iconCls:ei.Z.baseCSSPrefix+"headermenu-groups",text:"Groups",menu:[{iconCls:ei.Z.baseCSSPrefix+"headermenu-expand-groups",text:"Expand all",handler:"up.expandAll"},{iconCls:ei.Z.baseCSSPrefix+"headermenu-collapse-groups",text:"Collapse all",handler:"up.collapseAll"}]}),ei.Z.define("GRUI.grid.menu.AddGroup",{extend:"GRUI.menu.Item",xtype:"gridaddgroupmenuitem",iconCls:ei.Z.baseCSSPrefix+"headermenu-add-group",text:"Add to grouping"}),ei.Z.define("GRUI.grid.menu.RemoveGroup",{extend:"GRUI.menu.Item",xtype:"gridremovegroupmenuitem",iconCls:ei.Z.baseCSSPrefix+"headermenu-remove-group",text:"Remove from grouping"}),ei.Z.define("GRUI.grid.mixin.Menus",{extend:"GRUI.Mixin",mixinConfig:{id:"gridmenus",before:{beforeShowColumnMenu:"onBeforeShowColumnMenuMixin"}},onGroupByThisMenu:function(e){for(var t,n,r=this.getStore().getGroupers(),i=this.getHeaderContainer(),o=r.length,a=0;a<o;a++)t=r.items[a],(n=i.down("[field="+t.getProperty()+"]"))&&n.show();(n=e.up("gridcolumn"))&&(n.hide(),r.replaceAll(this.createGrouperFromHeader(n)))},onAddGroupMenu:function(e){var t=this.getStore().getGroupers();(e=e.up("gridcolumn"))&&(e.hide(),t.add(this.createGrouperFromHeader(e)))},onRemoveGroupMenu:function(e){var t=this.getStore().getGroupers();(e=e.up("gridcolumn"))&&t.remove(this.createGrouperFromHeader(e))},createGrouperFromHeader:function(e){var t=e.getGrouper(),n=e.getSorter();return t||(t=new ei.Z.util.Grouper({property:e.getField(),direction:n?n.getDirection():"ASC",formatter:e.getGroupFormatter()}),e.setGrouper(t)),t},onBeforeShowColumnMenuMixin:function(e,t){var n=this.getStore().getGroupers(),r=n.indexOf(e.getGrouper()),i=(e=e.getGroupable(),t.getComponent("groups")),o=t.getComponent("addGroup");t=t.getComponent("removeGroup");i&&i.setHidden(!n.length),o&&o.setDisabled(!(e&&r<0)),t&&t.setDisabled(!(e&&0<=r))}}),ei.Z.define("GRUI.grid.TreeGrouped",{extend:"GRUI.grid.Grid",xtype:"treegroupedgrid",mixins:["GRUI.grid.mixin.Menus"],requires:["GRUI.grid.grouped.NavigationModel","GRUI.grid.grouped.selection.Model","GRUI.grid.AdvancedGroupStore","GRUI.grid.column.Groups","GRUI.grid.row.Group","GRUI.grid.menu.Groups","GRUI.grid.menu.AddGroup","GRUI.grid.menu.RemoveGroup"],isTreeGroupedGrid:!0,eventedConfig:{summaryPosition:"bottom",groupSummaryPosition:"bottom"},config:{groupsColumn:{xtype:"groupscolumn",minWidth:150},startCollapsed:!0,groupHeaderTpl:"{name}",groupSummaryTpl:"Summary ({name})",summaryTpl:"Summary ({store.data.length})"},itemConfig:{xtype:"gridgrouprow"},columnMenu:{items:{showInGroups:!1,groups:{xtype:"gridgroupsmenuitem",separator:!0,weight:-70},groupByThis:{separator:!1,weight:-60,handler:"up.onGroupByThisMenu"},addGroup:{xtype:"gridaddgroupmenuitem",weight:-50,handler:"up.onAddGroupMenu"},removeGroup:{xtype:"gridremovegroupmenuitem",weight:-40,handler:"up.onRemoveGroupMenu"}}},selectionModel:"groupedgrid",navigationModel:"groupedgrid",cellSelector:"."+ei.Z.baseCSSPrefix+"gridcell",variableHeights:!0,enableColumnMove:!1,initialize:function(){var e=this,t=(t=e.getStore())&&t.getGroupers(!1);e.groupingColumn=e.registerColumn(ei.Z.merge({groupHeaderTpl:e.getGroupHeaderTpl(),groupSummaryTpl:e.getGroupSummaryTpl(),summaryTpl:e.getSummaryTpl(),hidden:!(t&&t.length)},e.getGroupsColumn())),this.callParent2(this,"GRUI.grid.Grid","null","initialize",this.initialize,arguments)},expandAll:function(){var e=this.store;e&&e.isMultigroupStore&&(e.setStartCollapsed(!1),e.refreshData(!0))},collapseAll:function(){var e=this.store;e&&e.isMultigroupStore&&(e.setStartCollapsed(!0),e.refreshData(!0))},updateSummaryPosition:function(e){var t=this.store;t&&t.isMultigroupStore&&!this.isConfiguring&&t.setSummaryPosition(e)},updateGroupSummaryPosition:function(e){var t=this.store;t&&t.isMultigroupStore&&!this.isConfiguring&&t.setGroupSummaryPosition(e)},isRTL:function(){return!!ei.Z.isFunction(this.isLocalRtl)&&this.isLocalRtl()},onStoreRefresh:function(e){var t=this,n=t.groupingColumn,r=(r=t.getStore())&&r.getGroupers(!1);n&&n.setHidden(!(r&&0<r.length)),e.isMultigroupStore&&t.dataRange&&(t.dataRange.records=e.getRange()),this.callParent2(this,"GRUI.grid.Grid","null","onStoreRefresh",this.onStoreRefresh,arguments)},onChildTap:function(e){this.handleRowEvent("tap",e.event),this.callParent2(this,"GRUI.grid.Grid","null","onChildTap",this.onChildTap,arguments)},onChildTapHold:function(e){this.handleRowEvent("taphold",e.event),this.callParent2(this,"GRUI.grid.Grid","null","onChildTapHold",this.onChildTapHold,arguments)},onChildSingleTap:function(e){this.handleRowEvent("singletap",e.event),this.callParent2(this,"GRUI.grid.Grid","null","onChildSingleTap",this.onChildSingleTap,arguments)},onChildDoubleTap:function(e){this.handleRowEvent("doubletap",e.event),this.callParent2(this,"GRUI.grid.Grid","null","onChildDoubleTap",this.onChildDoubleTap,arguments)},onChildContextMenu:function(e){this.handleRowEvent("contextmenu",e.event),this.callParent2(this,"GRUI.grid.Grid","null","onChildContextMenu",this.onChildContextMenu,arguments)},handleRowEvent:function(e,t){var n=ei.Z.fly(t.getTarget(this.cellSelector)),r=this.getNavigationModel();n&&n.component&&n.component.handleEvent&&(n.component.handleEvent(e,t),r&&(n=r.getLocation())&&n.refresh())},isGrouping:function(){return!1},privates:{applyStore:function(e,t){var n=this,r=this.callParent2(this,"GRUI.grid.Grid","null","applyStore",this.applyStore,arguments);return r&&(n.store=r=new ei.Z.grid.AdvancedGroupStore({fireReplaceEvent:!1,source:r,groupSummaryPosition:n.getGroupSummaryPosition(),summaryPosition:n.getSummaryPosition(),startCollapsed:n.getStartCollapsed(),storeEventListeners:{sort:"onStoreSort"},onStoreSort:function(e,t){this.fireEvent("sort",e,t)}}),r.isVirtualStore&&ei.Z.raise("Virtual stores are not supported")),r}}}),ei.Z.define("GRUI.grid.plugin.BaseGroupingPanel",{extend:"GRUI.plugin.Abstract",config:{panel:{xtype:"groupingpanel",columnConfig:{xtype:"groupingpanelcolumn"}},grid:null,bar:null,gridListeners:null},init:function(e){this.setGrid(e)},destroy:function(){this.setConfig({grid:null,bar:null,panel:null}),this.callParent2(this,"GRUI.plugin.Abstract","null","destroy",this.destroy,arguments)},enable:function(){this.disabled=!1,this.showGroupingPanel()},disable:function(){this.disabled=!0,this.hideGroupingPanel()},showGroupingPanel:function(){this.setup(),this.getBar().show()},hideGroupingPanel:function(){this.setup(),this.getBar().hide()},toggleGroupingPanel:function(){var e;this.setup(),(e=this.getBar()).setHidden(!e.getHidden())},updateGrid:function(e,t){var n=this;ei.Z.destroy(n.listenersGrid),t&&(t.showGroupingPanel=t.hideGroupingPanel=null),e&&(e.showGroupingPanel=ei.Z.bind(n.showGroupingPanel,n),e.hideGroupingPanel=ei.Z.bind(n.hideGroupingPanel,n),e.rendered?n.onAfterGridRendered():n.listenersGrid=e.on(ei.Z.apply({scope:n,destroyable:!0},n.getGridListeners())))},updateBar:function(e,t){ei.Z.destroy(t),e&&(t=e.isXType("groupingpanel")?e:e.down("groupingpanel"))&&t.setConfig({grid:this.getGrid()})},onAfterGridRendered:function(){var e=this;!0===e.disabled?e.disable():e.enable()},addGroupingPanel:ei.Z.emptyFn,privates:{setup:function(){var e=this;e.doneSetup||(e.doneSetup=!0,e.setBar(e.addGroupingPanel()))}}}),ei.Z.define("GRUI.grid.plugin.header.DropZone",{extend:"GRUI.grid.HeaderDropZone",groups:"groupHeaders",dropIndicator:ei.Z.baseCSSPrefix+"grid-column-drop-indicator",grid:null,view:null,onDragMove:function(e){var t=this,n=ei.Z.dd.Manager,r=n.getTargetComp(e),i=r.isDragColumn,o=n.getSourceComp(e);r.isHeaderContainer&&(o.isHeaderContainer||o.isGroupingPanelColumn)&&r!==o&&!i&&r.getParent()!==t.view?(i=n.getPosition(e,r,"x"),n=t.dropMarkerCls+"-"+i,r.hasCls(n)||(this.ddEl&&this.removeDropMarker(),r.isGroupsColumn&&"before"===i||t.isValidDrag(r,o)&&(t.ddEl=r,t.addDropMarker(r,[t.dropIndicator,n])))):this.ddEl&&this.removeDropMarker()},onDrop:function(e){var t,n,r,i,o,a,s,l,u,c=this,d=(d=e.data)&&d.panel,f="insertBefore";c.ddEl&&(n=(t=(o=ei.Z.dd.Manager).getTargetComp(e)).getParent()||t.getRootHeaderCt(),l=(s=(r=(r=o.getSourceComp(e)).isGroupingPanelColumn?(u=r).getColumn():r).getRootHeaderCt()).indexOf(r),i=n.indexOf(t),o=o.getPosition(e,t,"x"),e=r.getParent(),c.removeDropMarker(),-1!==i&&("after"===o?(a=n.getAt(i+1))||(f="insertAfter",a=t):a=n.getAt(i),n[f](r,a||null),c.trackHeaderMove(e,s),s.fireEvent("move",s,r,i,l),u&&(u.destroy(),r.show(),d&&d.notifyGroupChange())))}}),ei.Z.define("GRUI.grid.plugin.header.DragZone",{extend:"GRUI.plugin.dd.DragZone",autoDestroy:!1,groups:"groupHeaders",resizerCls:ei.Z.baseCSSPrefix+"resizer-el",maskCls:ei.Z.baseCSSPrefix+"mask",handle:"."+ei.Z.baseCSSPrefix+"gridcolumn",platformConfig:{phone:{activateOnLongPress:!0}},beforeDragStart:function(e){var t=this,n=ei.Z.dd.Manager.getSourceComp(e),r=n.renderElement,i=ei.Z.dd.Manager.getTargetEl(e);if(r.isSuspended("drag")||r.isSuspended("longpress")||n.isDragColumn||!1===n.getDraggable()||n.isGroupsColumn||ei.Z.fly(e.eventTarget).hasCls(t.resizerCls)||ei.Z.fly(i).hasCls(t.maskCls))return!1;e.setData("column",n),e.setData("panel",t.view),e.setData("grid",t.grid),this.callParent2(this,"GRUI.plugin.dd.DragZone","null","beforeDragStart",this.beforeDragStart,arguments)},getDragText:function(e){return(e=ei.Z.dd.Manager.getTargetComp(e)).getText&&e.getText()||""}}),ei.Z.define("GRUI.grid.plugin.grouping.Panel",{extend:"GRUI.Panel",alias:"widget.groupingpanel",requires:[],isGroupingPanel:!0,config:{grid:null,store:null,columnConfig:{xtype:"groupingpanelcolumn"}},docked:"top",weight:90,weighted:!0,height:36,layout:"hbox",border:!1,header:!1,padding:0,touchAction:{panX:!1,pinchZoom:!1,doubleTapZoom:!1},cls:ei.Z.baseCSSPrefix+"grid-group-panel-body",hintTextCls:ei.Z.baseCSSPrefix+"grid-group-panel-hint",groupingPanelText:"Drag a column header here to group by that column",showGroupingPanelText:"Show Group By Panel",hideGroupingPanelText:"Hide Group By Panel",clearGroupText:"Clear Group",sortAscText:"Sort Ascending",sortDescText:"Sort Descending",moveLeftText:"Move left",moveRightText:"Move right",moveBeginText:"Move to beginning",moveEndText:"Move to end",removeText:"Remove",ascSortIconCls:ei.Z.baseCSSPrefix+"grid-group-column-sort-icon-asc",descSortIconCls:ei.Z.baseCSSPrefix+"grid-group-column-sort-icon-desc",groupingPanelIconCls:ei.Z.baseCSSPrefix+"grid-group-panel-icon",clearGroupIconCls:ei.Z.baseCSSPrefix+"grid-group-panel-clear-icon",initialize:function(){var e=this,t=e.getGrid();e.dragZone=new ei.Z.grid.plugin.grouping.DragZone({element:e.el,view:e,grid:t,constrain:ei.Z.getBody()}),e.dropZone=new ei.Z.grid.plugin.grouping.DropZone({element:e.el,view:e,grid:t}),e.infoEl=e.bodyElement.createChild({cls:e.hintTextCls+" "+ei.Z.baseCSSPrefix+"unselectable",html:e.groupingPanelText}),e.setInfoElVisibility(),e.manageBorders=!1,this.callParent2(this,"GRUI.Panel","null","initialize",this.initialize,arguments)},destroy:function(){ei.Z.destroy(this.dragZone,this.dropZone),this.callParent2(this,"GRUI.Panel","null","destroy",this.destroy,arguments)},setInfoElVisibility:function(){var e=this.infoEl;e&&(this.getItems().length?e.hide():e.show())},dragDropColumn:function(e,t,n){var r,i,o=this;t.isGroupingPanelColumn?o.insert(n,t):t.isGridColumn&&(r=t.getSorter(),(i=t.getGrouper())||(i=new ei.Z.util.Grouper({property:t.getField(),direction:r?r.getDirection():"ASC",formatter:t.getGroupFormatter()}),t.setGrouper(i)),o.addColumn({text:t.getText(),idColumn:t.getId(),grouper:i,column:t},n),t.hide()),o.notifyGroupChange()},notifyGroupChange:function(){for(var e,t=this,n=t.getInnerItems(),r=n&&n.length,i=[],o=this.getStore(),a=0;a<r;a++)(e=n[a].getGrouper())&&i.push(e);t.suspendChanges=!0,i.length?o.setGroupers(i):o.clearGrouping(),t.setInfoElVisibility()},updateGrid:function(e){var t=this,n=null;ei.Z.destroy(t.gridListeners),e&&(t.gridListeners=e.on({storechange:t.onGridStoreChange,scope:t,destroyable:!0}),n=e.getStore()),t.setStore(n)},updateStore:function(e){var t=this;ei.Z.destroy(t.storeListeners),e&&(t.storeListeners=e.on({groupschange:t.initGroupingColumns,groupchange:t.initGroupingColumns,scope:t,destroyable:!0}),t.initGroupingColumns())},onGridStoreChange:function(e,t){this.setStore(t)},addColumn:function(e,t,n){var r=this,i=ei.Z.apply({},r.getColumnConfig());i=ei.Z.create(ei.Z.apply(i,e));-1!==t?r.insert(t,i):r.add(i),!0===n&&(i.focus(),r.notifyGroupChange())},initGroupingColumns:function(){var e,t,n,r,i,o=this,a=o.getGrid(),s=o.getStore().getGroupers(!1),l=s&&s.length,u=a.getColumns(),c=u.length,d=ei.Z.Array.toValueMap(u,"_field");if(o.suspendChanges)o.suspendChanges=!1;else{for(o.removeAll(!0),ei.Z.suspendLayouts(),e=0;e<l;e++){for(r=s.items[e],i=!1,t=0;t<c;t++)if((n=u[t]).getGrouper()===r){i=!0;break}i||(n=d[r.getProperty()]).setGrouper(r),n&&(o.addColumn({text:n.getText(),idColumn:n.getId(),grouper:r,column:n},-1),n.hide())}o.setInfoElVisibility(),ei.Z.resumeLayouts(!0)}}}),ei.Z.define("GRUI.grid.plugin.grouping.Column",{extend:"GRUI.Component",alias:"widget.groupingpanelcolumn",requires:["GRUI.menu.Menu","GRUI.menu.CheckItem","GRUI.menu.Item","GRUI.menu.Separator"],isGroupingPanelColumn:!0,config:{text:"&#160;",grouper:null,idColumn:"",column:null,menu:{lazy:!0,$value:{}}},layout:{type:"hbox"},element:{reference:"element",cls:ei.Z.baseCSSPrefix+"unselectable",listeners:{tap:"onColumnTap"}},template:[{reference:"bodyElement",cls:ei.Z.baseCSSPrefix+"body-el",children:[{reference:"iconElement",cls:ei.Z.baseCSSPrefix+"icon-el "+ei.Z.baseCSSPrefix+"font-icon"},{reference:"textElement",cls:ei.Z.baseCSSPrefix+"text-el"},{reference:"triggerElement",cls:ei.Z.baseCSSPrefix+"trigger-el "+ei.Z.baseCSSPrefix+"font-icon "+ei.Z.baseCSSPrefix+"item-no-tap"}]}],classCls:ei.Z.baseCSSPrefix+"grid-group-column",updateText:function(e){var t=this.textElement.dom;t.innerHTML=e||"&#160;",t.setAttribute("data-title",e)},overCls:ei.Z.baseCSSPrefix+"grid-group-column-over",cls:ei.Z.baseCSSPrefix+"unselectable",btnIconCls:ei.Z.baseCSSPrefix+"grid-group-column-btn-image",btnAscSortIconCls:ei.Z.baseCSSPrefix+"grid-group-column-btn-sort-asc",btnDescSortIconCls:ei.Z.baseCSSPrefix+"grid-group-column-btn-sort-desc",onColumnTap:function(){var e=this.getGrouper();e&&(e.toggle(),this.changeSortCls())},doDestroy:function(){this.setGrouper(null),this.callParent2(this,"GRUI.Component","null","doDestroy",this.doDestroy,arguments)},initRenderData:function(){return ei.Z.apply(this.callParent2(this,"GRUI.Component","null","initRenderData",this.initRenderData,arguments),{header:this.header})},afterRender:function(){this.changeSortCls(),this.callParent2(this,"GRUI.Component","null","afterRender",this.afterRender,arguments)},updateGrouper:function(e){this.changeSortCls()},changeSortCls:function(){var e=this,t=e.getGrouper(),n=e.iconElement;t&&n&&("ASC"!==(t=t.getDirection())&&t?(n.addCls(e.btnDescSortIconCls),n.removeCls(e.btnAscSortIconCls)):(n.addCls(e.btnAscSortIconCls),n.removeCls(e.btnDescSortIconCls)),n.addCls(e.btnIconCls))}}),ei.Z.define("GRUI.grid.plugin.GroupingPanel",{extend:"GRUI.grid.plugin.BaseGroupingPanel",alias:"plugin.groupingpanel",requires:["GRUI.grid.plugin.grouping.Panel","GRUI.grid.plugin.header.DragZone","GRUI.grid.plugin.header.DropZone"],gridListeners:{initialize:"onAfterGridRendered",beforeshowcolumnmenu:"onBeforeShowColumnMenu"},destroy:function(){var e=this;e.menus=ei.Z.destroy(e.menus,e.dragZone,e.dropZone),this.callParent2(this,"GRUI.grid.plugin.BaseGroupingPanel","null","destroy",this.destroy,arguments)},updateGrid:function(e,t){var n;e&&(n=e.getHeaderContainer(),this.dragZone=new ei.Z.grid.plugin.header.DragZone({element:n.bodyElement,view:e,grid:e,constrain:ei.Z.getBody()}),this.dropZone=new ei.Z.grid.plugin.header.DropZone({element:n.el,view:e,grid:e})),this.callParent2(this,"GRUI.grid.plugin.BaseGroupingPanel","null","updateGrid",this.updateGrid,arguments)},onBeforeShowColumnMenu:function(e,t,n){var r=this,i=n.down("#groupingPanel"),o=r.getBar();i||(i=n.add({itemId:"groupingPanel",iconCls:ei.Z.baseCSSPrefix+"headermenu-group-by-this",handler:"toggleGroupingPanel",scope:r}),r.menus=i),i.setText(o.getHidden()?o.showGroupingPanelText:o.hideGroupingPanelText)},addGroupingPanel:function(){var e,t=(e=this.getGrid()).getHeaderContainer(),n=(t=e.indexOf(t)||0,ei.Z.apply({grid:e},this.getPanel()));return(e=e.insert(t,n))&&e.length?e[0]:e}}),ei.Z.define("GRUI.grid.plugin.grouping.DragZone",{extend:"GRUI.plugin.dd.DragZone",autoDestroy:!1,groups:"groupHeaders",grid:null,view:null,handle:"."+ei.Z.baseCSSPrefix+"grid-group-column",platformConfig:{phone:{activateOnLongPress:!0}},beforeDragStart:function(e){var t=this,n=ei.Z.dd.Manager.getSourceComp(e),r=n.renderElement,i=ei.Z.dd.Manager.getTargetEl(e);if(r.isSuspended("drag")||r.isSuspended("longpress")||!n.isGroupingPanelColumn||!1===n.getDraggable()||ei.Z.fly(e.eventTarget).hasCls(t.resizerCls)||ei.Z.fly(i).hasCls(t.maskCls))return!1;e.setData("column",n),e.setData("panel",t.view),e.setData("grid",t.grid),this.callParent2(this,"GRUI.plugin.dd.DragZone","null","beforeDragStart",this.beforeDragStart,arguments)},getDragText:function(e){return(e=ei.Z.dd.Manager.getTargetComp(e)).getText&&e.getText()||""}}),ei.Z.define("GRUI.grid.plugin.grouping.DropZone",{extend:"GRUI.grid.HeaderDropZone",groups:"groupHeaders",dropIndicator:ei.Z.baseCSSPrefix+"grid-column-drop-indicator",grid:null,view:null,onDragMove:function(e){var t,n,r,i,o=this,a=e.data.column,s=o.view.getItems(),l=s.length,u=ei.Z.dd.Manager,c=u.getTargetComp(e),d=a&&o.grid===e.data.grid&&(a.isGroupingPanelColumn||a.isGridColumn&&a.getGroupable()),f=-1;if(d&&a.isGridColumn)for(i=0;i<l;i++)r=s.items[i],d=d&&r.getColumn()!==a;d?((n=c)===o.view?0===s.length?(t="before",f=0):(n=s.last(),f=s.length,t="after"):t=u.getPosition(e,c,"x"),u=o.dropMarkerCls+"-"+t,n.hasCls(u)||(o.ddEl&&o.removeDropMarker(),o.ddEl=n,o.addDropMarker(n,[o.dropIndicator,u]),f<0&&(f=o.findNewIndex(c,t,e)),e.setData("index",f))):o.ddEl&&o.removeDropMarker()},onDrop:function(e){var t=this,n=(e=e.data).column,r=e.panel,i=(e=e.index,t.view);t.ddEl&&i&&(t.removeDropMarker(),i.dragDropColumn(r,n,e))},findNewIndex:function(e,t,n){var r;e=(r=this.view.getItems()).indexOf(e),n=0<=(r=r.indexOf(n.data.column))&&r<e;return"before"===t?n?e-1:e:n?e:e+1}}),ei.Z.define("GRUI.grid.row.Summary",{extend:"GRUI.grid.Row",xtype:"groupedgridsummaryrow",requires:["GRUI.data.summary.*"],isSummaryRow:!0,config:{group:null},defaultCellUI:"summary",classCls:ei.Z.baseCSSPrefix+"summaryrow",updateGroup:function(){this.syncSummary()},privates:{beginRefresh:function(e){return(e=this.callParent2(this,"GRUI.grid.Row","null","beginRefresh",this.beginRefresh,arguments)).group=this.getGroup(),e.records=(e.group||this.parent.getStore().getData()).items,e.summary=!0,e},syncSummary:function(){var e=this,t=(e.getGroup()||e.parent.getStore()).getSummaryRecord(),n=e.getViewModel();t===e.getRecord()?e.refresh():(e.setRecord(t),n&&n.setData({record:t}))}}}),ei.Z.define("GRUI.grid.plugin.BaseSummaries",{extend:"GRUI.plugin.Abstract",requires:["GRUI.data.summary.*"],config:{enableContextMenu:!0,enableSummaryMenu:!0,gridListeners:null,grid:null,contextMenu:null},textNone:"None",summaryText:"Summary",init:function(e){this.setGrid(e)},destroy:function(){this.setContextMenu(null),this.setGrid(null),this.callParent2(this,"GRUI.plugin.Abstract","null","destroy",this.destroy,arguments)},updateGrid:function(e){var t=this;t.gListeners=ei.Z.destroy(t.gListeners),e&&(t.gListeners=e.on(ei.Z.apply({scope:t,destroyable:!0},t.getGridListeners())))},updateContextMenu:function(e,t){ei.Z.destroy(t)},getField:function(e){return e.getField()},canShowMenu:function(e){return this.getEnableContextMenu()&&this.getField(e.column)},showMenu:function(e){var t,n=this,r=n.getGrid(),i=e.cell,o=e.e;n.canShowMenu(e)&&(t=n.getSummaryMenu(e.column))&&(t=n.createMenu(t),n.setContextMenu(t),!(e={menu:t,params:e})!==r.fireEvent("beforeshowsummarycontextmenu",n,e)?(t.showBy(i,"tl-bl?"),t.focus(),r.fireEvent("showsummarycontextmenu",n,e)):n.setContextMenu(null),o.stopEvent())},createMenu:function(e){return ei.Z.menu.Manager.get(e)},getSummaryMenu:function(e){var t,n,r,i=this,o=e.getListOfSummaries(),a=i.getField(e),s=i.getSummaryFieldType(a),l=[],u=i.fns=i.fns||{};if(!o||!o.length)return!1;for(n=o.length,t=0;t<n;t++)u[r=o[t]]||(u[r]=ei.Z.Factory.dataSummary(r)),l.push({text:u[r].text,summary:u[r],checked:s===u[r].type});return{defaults:{xtype:"menucheckitem",column:e,hideOnClick:!0,dataIndex:a,handler:i.onChangeSummary,group:"summaries",scope:i},items:l}},onChangeSummary:function(e){var t=this.getGrid().getStore(),n=e.column;n.summaryType=null,n.onSummaryChange&&n.onSummaryChange(e.summary),(t=t.isGroupStore?t.getSource():t).setFieldSummary(e.dataIndex,e.summary)},getSummaryFieldType:function(e){return!!(e=!!(e=this.getGrid().getStore().getModel().getSummaryModel().getField(e))&&e.getSummary())&&e.type},onCollectMenuItems:function(e,t){t.items.push({text:this.summaryText,itemId:"summaryMenuItem"})},onShowHeaderMenu:function(e,t){var n=t.menu.down("#summaryMenuItem");n&&(n.setVisible(!t.column.isGroupsColumn),n.setMenu(this.getSummaryMenu(t.column)))}}),ei.Z.define("GRUI.grid.plugin.Summaries",{extend:"GRUI.grid.plugin.BaseSummaries",alias:["plugin.summaries","plugin.gridsummaries"],requires:["GRUI.grid.row.Summary"],mixins:["GRUI.mixin.Bufferable","GRUI.mixin.StoreWatcher"],config:{row:{lazy:!0,$value:{xtype:"groupedgridsummaryrow",docked:"bottom",scrollable:{x:!1,y:!1}}},enableContextMenu:!0,enableSummaryMenu:!0,headerListeners:{synreservespace:"syncReserveSpace"},gridListeners:{childlongpress:"onSummaryGridCellContextMenu",childcontextmenu:"onSummaryGridCellContextMenu",columnadd:"onGridColumnAdd",beforeshowcolumnmenu:"onBeforeShowColumnMenu",summaryPositionChange:"onSummaryPositionChanged"},summaryRowListeners:{longpress:"onSummaryCellContextMenu",contextmenu:"onSummaryCellContextMenu"},summaryPosition:null},inheritUi:!0,storeListeners:{add:"syncSummary",clear:"syncSummary",remove:"syncSummary",datachanged:"syncSummary",update:"syncSummary",summarieschanged:"onSummariesChanged"},bufferableMethods:{syncSummary:5},summaryRowSelector:"."+ei.Z.baseCSSPrefix+"summaryrow",summaryGroupSelector:"."+ei.Z.baseCSSPrefix+"grid-group",destroy:function(){var e=this;e.setOwner(null),e.setRow(null),e.lastSummaryMenuItem=ei.Z.destroy(e.lastSummaryMenuItem),this.callParent2(this,"GRUI.grid.plugin.BaseSummaries","null","destroy",this.destroy,arguments)},createRow:function(e){return ei.Z.apply({viewModel:this.getGrid().getItemConfig().viewModel},e)},applyRow:function(e){return e&&(e=this.createRow(e),e=this.cmp.add(e)),e},updateRow:function(e,t){ei.Z.destroy(t),e&&e.element&&e.element.on(ei.Z.apply({scope:this},this.getSummaryRowListeners()))},updateStore:function(e,t){e=e&&e.isMultigroupStore?e.getSource():e,this.mixins.storewatcher.updateStore.call(this,e,t),e&&e.isLoaded()&&this.syncSummary()},updateGrid:function(e,t){var n,r=this,i=r.getHeaderListeners(),o=r.getRow();r.listenersHeader=ei.Z.destroy(r.listenersHeader),o&&t&&(n=t.getScrollable())&&n.removePartner(o.getScrollable()),e&&(n=e.getScrollable(),o&&n&&n.addPartner(o.getScrollable(),"x"),r.setOwner(e),r.setSummaryPosition(e.getSummaryPosition()),e.addCls(ei.Z.baseCSSPrefix+"grid-has-summaryrow"),i&&(r.listenersHeader=e.getHeaderContainer().on(ei.Z.apply(i,{scope:r,destroyable:!0}))),r.parseSummariesFromColumns(e,e.getColumns())),this.callParent2(this,"GRUI.grid.plugin.BaseSummaries","null","updateGrid",this.updateGrid,arguments)},updateSummaryPosition:function(e){this.getRow().setHidden("docked"!==e)},onSummaryPositionChanged:function(e,t){this.setSummaryPosition(t)},onGridColumnAdd:function(e,t){this.parseSummariesFromColumns(e,[t])},parseSummariesFromColumns:function(e,t){var n,r,i,o=t.length,a=!1,s={};if((e=e.getStore())&&!e.isDestroyed){for(e.isMultigroupStore&&(e=e.getSource()),n=0;n<o;n++)(i=(r=t[n]).getSummary())&&(s[r.getField()]=i,r.setSummary(null),a=!0);a&&e.setFieldsSummaries(s)}},onSummariesChanged:function(e){for(var t,n=this.getGrid(),r=n?n.innerItems:[],i=r.length,o=0;o<i;o++)(t=r[o]).isSummaryRows&&t.syncSummary()},onSummaryGridCellContextMenu:function(e,t){this.showMenu(this.getParams(t.event))},onSummaryCellContextMenu:function(e,t){this.showMenu(this.getParams(e))},getField:function(e){return e.getField()},canShowMenu:function(e){var t=e.row;return t&&(t.isGroupRow||t.isSummaryRows||t.isSummaryRow)&&this.callParent2(this,"GRUI.grid.plugin.BaseSummaries","null","canShowMenu",this.canShowMenu,arguments)},getParams:function(e){var t=e.getTarget(this.summaryRowSelector)||e.getTarget(this.summaryGroupSelector),n=(t=ei.Z.fly(t),ei.Z.fly(e.getTarget("."+ei.Z.baseCSSPrefix+"gridcell")));e={e:e,row:t&&t.component};return t&&n&&n.component&&(n=n.component,e.cell=n,e.column=n.getColumn()),e},createMenu:function(e){return e.xtype="menu",ei.Z.create(e)},onBeforeShowColumnMenu:function(e,t,n){var r=n.down("#summaryMenuItem");(r=r||n.add({text:this.summaryText,itemId:"summaryMenuItem",iconCls:ei.Z.baseCSSPrefix+"summaries-icon"})).setHidden(t.isGroupsColumn),r.setMenu(this.getSummaryMenu(t)),this.lastSummaryMenuItem=r},syncReserveSpace:function(e,t){var n=this.getRow();n&&n.cellsElement.setStyle("padding-right",t)},privates:{doSyncSummary:function(){var e=this.getRow();e&&e.syncSummary()}}}),ei.Z.define("GRUI.ReactCell",{extend:"GRUI.grid.cell.Cell",xtype:"reactcell",config:{renderer:null,summaryRenderer:null,forceWidth:!0,encodeHtml:!1},formatValue:function(e){var n,r,i,o,a=this,s=a.refreshContext,l=s.column,u=s.record,c=a.getZeroValue(),d=e,f=a.el.getParent(),h=(p=l.getGrid()).getStore(),p=a.getColumnIndex(p.getColumns(),l.getField()),g=h.indexOf(u),m=s.summary,v=!1;return s.summary||0!==e||null===c?(o=a.getTpl(s))?((n=s.data)||(s.data=n=s.summary?s.record.getData():s.grid.gatherData(s.record)),d=o.apply(n)):(o=a.getFormatter(),m?((r=l.getSummaryRenderer())&&(o=null,i=s.scope,"string"==typeof r?(d=ei.Z.callback(r,i,[e,s],0,l),a.friendly=!1):t.isValidElement(r)?(d=this.createReactComponent(r,{data:e,isGrouped:!!s.group,store:h,groupName:s.group&&s.group.data.getLabel()}),v=!0):(d=r.call(i||a,e,s),1<r.length&&(a.friendly=!1))),o=l.getSummaryFormatter()||o):(r=a.getRenderer())&&(n=[e,g,p,h,f&&f.dom],m={data:e,record:u&&u.data,rowIndex:g,colIndex:p,store:h,row:f&&f.dom,toggleValue:a.toggleValue.bind(a),cell:a.el.dom},i=a.getScope()||s.scope,"function"==typeof r?d=r.call(i||l,m):t.isValidElement(r)?(d=this.createReactComponent(r,m),v=!0):d=ei.Z.callback(r,i,n,0,a)),o&&!v&&(d=o(d)),this.updateValidationStatus(e,d)):d=c,t.isValidElement(d)?d:null!=d?String(d):""},updateRawValue:function(e){var r=this,i=r.bodyElement.dom,o=null==e?"":e;if(r.up("grid").getInitialConfig().variableHeights?r.setCls("grui-var-height"):r.removeCls("grui-var-height"),t.isValidElement(e))if(r.row&&r.row.getRefOwner().virtualColumRender){if(r.ownerCmp.el.contains(i)&&!r.ownerCmp.el.rootComponent){var a=r.rootComponent;r.rootComponent||(a=(0,n.createRoot)(i),r.rootComponent=a),a.render(e)}}else{var s=r.rootComponent;r.rootComponent||(s=(0,n.createRoot)(i),r.rootComponent=s),s.render(e)}else r.getEncodeHtml()?i.textContent=o:i.innerHTML=o},createReactComponent:function(e,n){return t.cloneElement(e,gt({},n),null)},toggleValue:function(e){this.getRecord().set(this.getColumn().getField(),e)},updateWidth:function(e,t){var n=this.el;n.setWidth(e),n.toggleCls(this.widthedCls,null!=e&&"auto"!==e),this.getForceWidth()&&this.setWidgetWidth(e)},doDestroy:function(){var e=this;setTimeout((function(){e.rootComponent&&e.rootComponent.unmount()}),0),this.setColumn(null),this.setRecord(null);var t=document.getElementById(this.id);null!=t&&void 0!==t.parentNode&&t.parentNode.removeChild(t)},getColumnIndex:function(e,t){for(var n=0;n<e.length&&e[n].getField()!==t;n++);return n==e.length?-1:n},privates:{setWidgetWidth:function(e){var t,n,r=this,i=r.bodyElement;r.rendered&&(t=r.widget)&&(r=r.getColumn(),n=parseInt(r.getCachedStyle(i,"padding-left"),10)||0,i=parseInt(r.getCachedStyle(i,"padding-right"),10)||0,t.measurer=r,t.setWidth(e-n-i))}}}),ei.Z.define("GRUI.grid.rowedit.ReactEditor",{extend:"GRUI.Component",xtype:"reacteditor",isRowEditorCell:!0,isRowEditorItem:!0,requires:["GRUI.grid.cell.Base"],config:{jsx:null},cls:ei.Z.baseCSSPrefix+"roweditorcell",ref:t.createRef(),$hasValue:!0,validate:function(){return!0},isDirty:function(){return!this.ref.current||this.getValue()!==this.originalValue},updateJsx:function(e){var n,r=this;r.ref=t.createRef(),n={defaultValue:"",ref:r.ref},r.renderReactComponent(r.getJsx(),r.el.dom,n)},setValue:function(e){this.ref.current.setValue(e)},getValue:function(){return this.ref.current.getValue()},resetOriginalValue:function(){this.originalValue=this.getValue()},reset:function(){this.setValue(this.originalValue)},doDestroy:function(){var e=this;setTimeout((function(){e.rootComponent&&e.rootComponent.unmount()}),0),this.callParent2(this,"GRUI.Component","null","doDestroy",this.doDestroy,arguments)}}),ei.Z.platformTags.classic=!(ei.Z.platformTags.modern=ei.Z.isModern=!0);var pi=function(){function e(e){this.gridProps=e}return e.prototype.selectionChange=function(e,t,n){var r,i=this.gridProps.onSelect;if(e.config.selectable.cells){r={records:{firstColumnIndex:t[0][0],firstRowIndex:t[0][1],lastColumnIndex:t[1][0],lastRowIndex:t[1][1]},selected:n}}else{var o=e.getStore().indexOf(t[0]);r={records:t.map((function(e){return e.data})),selected:n,selectedIndex:o}}i&&i(r)},e.prototype.columnhide=function(e,t){var n=this.gridProps.onColumnHide;n&&n({fieldName:t.getField(),title:t.getText()})},e.prototype.beforecomplete=function(e,t,n,r){var i=this.gridProps.onBeforeComplete;if(i){i({value:t,oldValue:n,columnIndex:r.columnIndex,recordIndex:r.recordIndex})}},e.prototype.beforegroupcollapse=function(e,t){var n=this.gridProps.onBeforeGroupCollapse;if(n){for(var r=[],i=0;i<t.data.items.length;i++)r.push(t.data.items[i].data);n({collapsedGroupData:r,collapsedBeginIndex:t.beginIndex,collapsedEndIndex:t.endIndex,collapsed:t.collapsed})}},e.prototype.beforegroupexpand=function(e,t){var n=this.gridProps.onBeforeGroupExpand;if(n){for(var r=[],i=0;i<t.data.items.length;i++)r.push(t.data.items[i].data);n({expandGroupData:r,expandBeginIndex:t.beginIndex,expandEndIndex:t.endIndex,collapsed:t.collapsed})}},e.prototype.cellselection=function(e,t){var n=this.gridProps.onCellSelection;if(n){n({columnIndex:t[0][0],rowIndex:t[0][1]})}},e.prototype.beforeEdit=function(e,t,n){var r=this.gridProps.onBeforeEdit;if(r)return r({columnIndex:t.columnIndex,recordIndex:t.recordIndex})},e.prototype.columnmove=function(e,t,n,r){var i=this.gridProps.onColumnMove;i&&i({fromIndex:n,toIndex:r})},e.prototype.columnadd=function(e,t,n){var r=this.gridProps.onColumnAdd;r&&r({column:t,index:n})},e.prototype.columnresize=function(e,t){var n=this.gridProps.onColumnResize;n&&n({fieldName:t.getField(),width:t.getWidth(),title:t.getText()})},e.prototype.deselect=function(e,t){var n,r=this.gridProps.onDeSelect;r&&r({record:null===(n=t[0])||void 0===n?void 0:n.getData()})},e.prototype.beforestartedit=function(e,t,n,r){var i=this.gridProps.onBeforeStartEdit;i&&i({value:n,boundEl:t.dom,rowIndex:r.recordIndex,columnIndex:r.columnIndex})},e.prototype.columnsort=function(e,t,n){var r=this.gridProps.onColumnSort;r&&r({direction:n,fieldName:t.getField(),columnIndex:e.getColumns().indexOf(t)})},e.prototype.startedit=function(e,t,n,r){var i=this.gridProps.onStartEdit;i&&i({value:n,boundEl:t.dom,rowIndex:r.recordIndex,columnIndex:r.columnIndex})},e.prototype.updatedata=function(e,t){var n=this.gridProps.onUpdateData;n&&n({data:t})},e.prototype.complete=function(e,t,n){var r=this.gridProps.onComplete;if(r){r({value:t,oldValue:n})}},e.prototype.columnselection=function(e,t){var n=this.gridProps.onColumnSelection;if(n){t=t.map((function(t){return{fieldName:t.getField(),columnIndex:e.getColumns().indexOf(t)}}));for(var r=0;r<t.length;r++){n({fieldName:t[r].fieldName,columnIndex:t[r].columnIndex})}}},e.prototype.focus=function(e,t){var n=this.gridProps.onGridFocus;n&&n()},e.prototype.blur=function(e,t){var n=this.gridProps.onGridBlur;n&&n()},e.prototype.columnmenucreated=function(e,t,n){var r=this.gridProps.onColumnMenuCreated;if(n.items.items=n.items.items.map((function(e){return e})),r){r({menuItems:n.items.items,fieldName:t.getField(),columnIndex:e.getColumns().indexOf(t),menuDomElement:n.el.dom})}},e.prototype.edit=function(e,t){var n=this.gridProps.onEdit;n&&n({columnIndex:t.columnIndex,rowIndex:t.recordIndex,rowData:t.record.data})},e.prototype.canceledit=function(e,t,n){var r=this.gridProps.onCancelEdit;r&&r({rowIndex:t.recordIndex})},e.prototype.validateedit=function(e,t){var n,r=this.gridProps.onValidateEdit;r&&(n=r({data:e.record.data}));return n},e.prototype.painted=function(e,t){var n=this.gridProps.onPainted;n&&n({domEl:t.dom})},e.prototype.initialize=function(e){var t=this.gridProps.onInitialize;t&&t()},e.prototype.childdoubletap=function(e,t){var n=this.gridProps.onChildDoubleTap;n&&n({selectedIndex:t.recordIndex,record:t.record})},e}(),gi=pi,mi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vi=function(){return vi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},vi.apply(this,arguments)},yi=function(e){function n(n){var r=e.call(this,n)||this;return r.ref=t.createRef(),r.getInputEl=r.getInputEl.bind(r),r.setValue=r.setValue.bind(r),r.getValue=r.getValue.bind(r),r.validate=r.validate.bind(r),r.getErrors=r.getErrors.bind(r),r.handleChange=r.handleChange.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r.state={value:r.props.defaultValue},r.formatter=new Intl.DateTimeFormat("fr-CA",{year:"numeric",month:"2-digit",day:"2-digit"}),r}return mi(n,e),n.prototype.setValue=function(e){try{"object"===typeof e&&(e=this.formatter.format(e))}catch(t){e="",console.log("into the code")}this.setState(vi(vi({},this.state),{value:e}))},n.prototype.getValue=function(){return this.state.value},n.prototype.validate=function(){return!0},n.prototype.getErrors=function(){var e=[];return this.validate()||e.push("Please enter a value"),e},n.prototype.getInputEl=function(){return this.ref.current},n.prototype.handleKeyDown=function(e){"Enter"==e.key&&e.currentTarget.blur()},n.prototype.render=function(){var e=this.state.value;return t.createElement("div",{style:{display:"flex",flexDirection:"row"}},t.createElement("input",{type:"date",style:{width:"100%",height:"100%"},ref:this.ref,value:e,onChange:this.handleChange}))},n.prototype.handleChange=function(e){var t=this,n=this.props.onValueChange;this.setState(vi(vi({},this.state),{value:e.currentTarget.value}),(function(){if(n){var e=t.state.value;n(e?new Date(t.state.value):e)}}))},n}(t.Component),bi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ci=function(){return Ci=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ci.apply(this,arguments)},Si=function(e){function n(n){var r=e.call(this,n)||this;return r.ref=t.createRef(),r.getInputEl=r.getInputEl.bind(r),r.setValue=r.setValue.bind(r),r.getValue=r.getValue.bind(r),r.validate=r.validate.bind(r),r.getErrors=r.getErrors.bind(r),r.handleChange=r.handleChange.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r.state={value:r.props.defaultValue},r}return bi(n,e),n.prototype.setValue=function(e){this.setState(Ci(Ci({},this.state),{value:e}))},n.prototype.getValue=function(){return this.state.value},n.prototype.validate=function(){return!0},n.prototype.getErrors=function(){var e=[];return this.validate()||e.push("Please enter a value"),e},n.prototype.getInputEl=function(){return this.ref.current},n.prototype.handleKeyDown=function(e){"Enter"===e.key&&e.currentTarget.blur()},n.prototype.handleChange=function(e){var t=this,n=this.props.onValueChange;this.setState(Ci(Ci({},this.state),{value:e.currentTarget.value}),(function(){n&&n(t.state.value)}))},n.prototype.render=function(){var e=this.state.value,n=this.props,r=n.onFocusLeave,i=n.options;return t.createElement("div",{style:{display:"flex",flexDirection:"row"}},t.createElement("select",{style:{width:"100%",height:"100%"},ref:this.ref,value:e,onChange:this.handleChange,onBlur:r},null===i||void 0===i?void 0:i.map((function(e){return t.createElement("option",{value:e.value},e.text)}))))},n}(t.Component),xi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ii=function(){return Ii=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ii.apply(this,arguments)},Ri=function(e){function n(n){var r=e.call(this,n)||this;return r.ref=t.createRef(),r.getInputEl=r.getInputEl.bind(r),r.setValue=r.setValue.bind(r),r.getValue=r.getValue.bind(r),r.validate=r.validate.bind(r),r.getErrors=r.getErrors.bind(r),r.handleChange=r.handleChange.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r.state={value:r.props.defaultValue},r}return xi(n,e),n.prototype.setValue=function(e){this.setState(Ii(Ii({},this.state),{value:e}))},n.prototype.getValue=function(){return this.state.value},n.prototype.validate=function(){return!0},n.prototype.getErrors=function(){var e=[];return this.validate()||e.push("Please enter a value"),e},n.prototype.getInputEl=function(){return this.ref.current},n.prototype.handleKeyDown=function(e){"Enter"==e.key&&e.currentTarget.blur()},n.prototype.render=function(){var e=this.state.value,n=this.props.onFocusLeave;return t.createElement("div",{style:{display:"flex",flexDirection:"row"}},t.createElement("input",{type:"text",style:{width:"100%",height:"100%"},ref:this.ref,value:e,onChange:this.handleChange,onBlur:n}))},n.prototype.handleChange=function(e){var t=this,n=this.props.onValueChange;this.setState(Ii(Ii({},this.state),{value:e.currentTarget.value}),(function(){n&&n(t.state.value)}))},n}(t.Component),wi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ei=function(){return Ei=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ei.apply(this,arguments)},Zi=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Pi={string:t.createElement(Ri,null),list:t.createElement(Si,null),date:t.createElement(yi,null),number:t.createElement(Ri,null)},Ti={onSelect:"selectionChange",onColumnHide:"columnhide",onBeforeComplete:"beforecomplete",onBeforeGroupCollapse:"beforegroupcollapse",onBeforeGroupExpand:"beforegroupexpand",onBeforeEdit:"beforeEdit",onColumnMove:"columnmove",onDeSelect:"deselect",onColumnAdd:"columnadd",onColumnResize:"columnresize",onCellSelection:"cellselection",onBeforeStartEdit:"beforestartedit",onColumnSort:"columnsort",onStartEdit:"startedit",onUpdateData:"updatedata",onComplete:"complete",onColumnSelection:"columnselection",onGridFocus:"focus",onGridBlur:"blur",onColumnMenuCreated:"columnmenucreated",onEdit:"edit",onCancelEdit:"canceledit",onValidateEdit:"validateedit",onPainted:"painted",onInitialize:"initialize",onChildDoubleTap:"childdoubletap"},Ai=function(e){function n(r){var i=e.call(this,r)||this;return i.columns=[],i.childrenRefs=[],i.reactToExtListnersMap=Ti,i.licenseKey="",i.gridRef=t.createRef(),i.listenerFnMap=new gi(r),i.state={renderColumns:!1,renderedGrid:!1},i.gotoFirstPage=i.gotoFirstPage.bind(i),i.gotoLastPage=i.gotoLastPage.bind(i),i.gotoPage=i.gotoPage.bind(i),i.gotoNextPage=i.gotoNextPage.bind(i),i.gotoPrevPage=i.gotoPrevPage.bind(i),n.getLicense()&&(i.licenseKey=n.getLicense()),i}return wi(n,e),n.setLicense=function(e){n.license=e},n.getLicense=function(){return n.license},n.prototype.componentDidMount=function(){var e=t.Children.toArray(this.props.children);this.childrenRefs=this.getColumnReference(e),this.setState(Ei(Ei({},this.state),{renderColumns:!0}),this.renderGrid)},n.prototype.getColumnReference=function(e){for(var n=[],r=0;r<e.length;r++){var i=e[r].props.children;if(i&&i.length>0){var o=this.getColumnReference(i);n.push({ref:t.createRef(),children:o})}else n.push({ref:t.createRef()})}return n},n.prototype.renderGrid=function(){var e,n,r,i,o,a,s,l,u,c,d;if(null!=this.gridRef&&null!=this.gridRef.current&&null!=this.gridRef.current.children&&0===this.gridRef.current.children.length){var f=Ei({renderTo:this.gridRef.current},this.props);this.addEventlistners(f),(null===(n=null===(e=this.props)||void 0===e?void 0:e.style)||void 0===n?void 0:n.width)?f.width=null===(i=null===(r=this.props)||void 0===r?void 0:r.style)||void 0===i?void 0:i.width:f.width="100%",(null===(a=null===(o=this.props)||void 0===o?void 0:o.style)||void 0===a?void 0:a.height)?f.height=null===(l=null===(s=this.props)||void 0===s?void 0:s.style)||void 0===l?void 0:l.height:f.height="100%",f.columns=this.getColumnsFromConfig(this.props),f.children&&delete f.children,f.store&&f.store.loadData&&(f.store.getRowData=f.store.loadData,delete f.store.loadData),this.columns=f.columns,f.groupFooter&&("object"===typeof f.groupFooter?f.groupFooter=Ei({xtype:"gridsummaryrow"},f.groupFooter):f.groupFooter={xtype:"gridsummaryrow"}),f.groupHeader||(f.groupHeader=t.createElement(Jr,null)),f.store||(f.store={}),f.configurator=this.licenseKey,f.filterComponents=Pi,"tree"===(null===(u=this.props)||void 0===u?void 0:u.display)?(f.store=ei.Z.create("GRUI.data.TreeStore",f.treeData),this.grid=ei.Z.create("GRUI.grid.Tree",f)):"locked"===(null===(c=this.props)||void 0===c?void 0:c.display)?this.grid=ei.Z.create("GRUI.grid.locked.Grid",f):"treeGroupedGrid"===(null===(d=this.props)||void 0===d?void 0:d.display)?this.grid=ei.Z.create("GRUI.grid.TreeGrouped",f):this.grid=ei.Z.create("GRUI.grid.Grid",f),this.setDefaultFilter(),this.setState(Ei(Ei({},this.state),{renderedGrid:!0}))}},n.prototype.setDefaultFilter=function(){this.grid.getStore().getFilters()||this.setFilters([{property:"",value:""}])},n.prototype.componentDidUpdate=function(e){var t,n,r,i,o,a,s,l,u,c,d,f,h,p,g,m,v,y,b,C,S,x,I,R,w,E,Z=this,P=this.state,T=P.renderColumns,A=P.renderedGrid;if(T&&A){if((null===e||void 0===e?void 0:e.filters)!==this.props.filters&&this.setFilters(this.props.filters),void 0!==e.children&&void 0!==this.props.children&&e.children!==this.props.children&&(null===(t=e.children)||void 0===t?void 0:t.length)!==(null===(n=this.props.children)||void 0===n?void 0:n.length)&&this.setState(Ei(Ei({},this.state),{renderColumns:!0}),(function(){var e=Z.getColumnsFromConfig(Z.props);Z.setColumns(e)})),void 0!==e.data&&void 0!==this.props.data&&e.data!==this.props.data){var M=this.props.data;this.setData(M)}var k=this.props.store;void 0!==k&&JSON.stringify(e.store)!==JSON.stringify(this.props.store)&&this.setStore(k);var G=this.props.itemRipple;void 0!==G&&e.itemRipple!==this.props.itemRipple&&this.setItemRipple(G);var F=this.props.style;void 0!==F&&e.style!==this.props.style&&this.setStyle(F);var _=this.props.shadow;void 0!==_&&e.shadow!==this.props.shadow&&this.setShadow(_);var D=this.props.columnLines;void 0!==D&&e.columnLines!==this.props.columnLines&&this.setColumnLines(D);var U=this.props.grouped;void 0!==U&&e.grouped!==this.props.grouped&&this.setGrouped(U);var O=this.props.grouped;void 0!==O&&e.variableHeights!==this.props.variableHeights&&this.setVariableHeights(O);var L=this.props.sortable;void 0!==L&&e.sortable!==this.props.sortable&&this.setSortable(L);var N=this.props.sorter;void 0!==N&&e.sorter!==this.props.sorter&&this.setSorter(N);var B=this.props.rowNumbers;void 0!==B&&e.rowNumbers!==this.props.rowNumbers&&this.setRowNumbers(B);var V=this.props.hideHeaders;void 0!==V&&e.hideHeaders!==this.props.hideHeaders&&this.setHideHeaders(V);var H=this.props.selectable;void 0!==H&&(null===(r=e.selectable)||void 0===r?void 0:r.cells)!==(null===(i=this.props.selectable)||void 0===i?void 0:i.cells)&&this.setSelectable(H),void 0!==H&&(null===(o=e.selectable)||void 0===o?void 0:o.checkbox)!==(null===(a=this.props.selectable)||void 0===a?void 0:a.checkbox)&&this.setSelectable(H),void 0!==H&&(null===(s=e.selectable)||void 0===s?void 0:s.checkboxSelect)!==(null===(l=this.props.selectable)||void 0===l?void 0:l.checkboxSelect)&&this.setSelectable(H),void 0!==H&&(null===(u=e.selectable)||void 0===u?void 0:u.columns)!==(null===(c=this.props.selectable)||void 0===c?void 0:c.columns)&&this.setSelectable(H),void 0!==H&&(null===(d=e.selectable)||void 0===d?void 0:d.deselectable)!==(null===(f=this.props.selectable)||void 0===f?void 0:f.deselectable)&&this.setSelectable(H),void 0!==H&&(null===(h=e.selectable)||void 0===h?void 0:h.disabled)!==(null===(p=this.props.selectable)||void 0===p?void 0:p.disabled)&&this.setSelectable(H),void 0!==H&&(null===(g=e.selectable)||void 0===g?void 0:g.drag)!==(null===(m=this.props.selectable)||void 0===m?void 0:m.drag)&&this.setSelectable(H),void 0!==H&&(null===(v=e.selectable)||void 0===v?void 0:v.extensible)!==(null===(y=this.props.selectable)||void 0===y?void 0:y.extensible)&&this.setSelectable(H),void 0!==H&&(null===(b=e.selectable)||void 0===b?void 0:b.headerCheckbox)!==(null===(C=this.props.selectable)||void 0===C?void 0:C.headerCheckbox)&&this.setSelectable(H),void 0!==H&&(null===(S=e.selectable)||void 0===S?void 0:S.reducible)!==(null===(x=this.props.selectable)||void 0===x?void 0:x.reducible)&&this.setSelectable(H),void 0!==H&&(null===(I=e.selectable)||void 0===I?void 0:I.rows)!==(null===(R=this.props.selectable)||void 0===R?void 0:R.rows)&&this.setSelectable(H),void 0!==H&&(null===(w=e.selectable)||void 0===w?void 0:w.mode)!==(null===(E=this.props.selectable)||void 0===E?void 0:E.mode)&&this.setSelectable(H)}},n.prototype.addEventlistners=function(e){for(var t in this.reactToExtListnersMap){var n=t;this.getProperty(this.props,n)&&(delete e[t],e.listeners||(e.listeners={}),e.listeners[this.reactToExtListnersMap[t]]=this.listenerFnMap[this.reactToExtListnersMap[t]].bind(this.listenerFnMap))}},n.prototype.getProperty=function(e,t){return e[t]},n.prototype.componentWillUnmount=function(){null!=this.grid&&null!=this.gridRef&&null!=this.gridRef.current&&null!=this.gridRef.current.children&&0!==this.gridRef.current.children.length&&(this.grid.destroy(),this.grid=null)},n.prototype.getColumnsWithRef=function(e,n){void 0===n&&(n=this.childrenRefs);for(var r=[],i=function(i){var a=e[i];if(a.props.children){n[i]&&n[i].children||(n[i]={ref:t.createRef(),children:[]});var s=n[i].children,l=o.getColumnsWithRef(a.props.children,s),u=t.forwardRef((function(e,n){return t.cloneElement(a,Ei(Ei({},e),{ref:n}),l)}));r.push(t.createElement(u,Ei({key:i},a.props,{ref:n[i].ref}))),s.length=a.props.children.length}else{n[i]||(n[i]={ref:t.createRef()});u=t.forwardRef((function(e,n){return t.cloneElement(a,Ei(Ei({},e),{ref:n}))}));r.push(t.createElement(u,Ei({key:i},a.props,{ref:n[i].ref})))}},o=this,a=0;a<e.length;a++)i(a);return r},n.prototype.render=function(){var e,n,r,i,o,a,s,l,u=this.props.pagingToolbar,c=this.state.renderColumns,d={width:"100%",height:"100%"};(null===(n=null===(e=this.props)||void 0===e?void 0:e.style)||void 0===n?void 0:n.width)&&(d.width=null===(i=null===(r=this.props)||void 0===r?void 0:r.style)||void 0===i?void 0:i.width),(null===(a=null===(o=this.props)||void 0===o?void 0:o.style)||void 0===a?void 0:a.height)&&(d.height=null===(l=null===(s=this.props)||void 0===s?void 0:s.style)||void 0===l?void 0:l.height);var f,h=[];if(c){var p=t.Children.toArray(this.props.children);h=this.getColumnsWithRef(p),this.childrenRefs.length=p.length}return u&&(f=t.cloneElement(u,{gotoFirst:this.gotoFirstPage,gotoLast:this.gotoLastPage,gotoPage:this.gotoPage,gotoNext:this.gotoNextPage,gotoPrev:this.gotoPrevPage})),t.createElement(t.Fragment,null,h,t.createElement("div",{ref:this.gridRef,style:d,className:this.props.class}),f)},n.prototype.getColumnsFromConfig=function(e){var n=t.Children.toArray(e.children);return this.getNestedColumnConfig(n)},n.prototype.getNestedColumnConfig=function(e,t){var n;void 0===t&&(t=this.childrenRefs);for(var r=[],i=0;i<e.length;i++){var o=e[i].props.children,a=null===(n=t[i].ref)||void 0===n?void 0:n.current;if(o&&o.length>0){var s=t[i].children,l=this.getNestedColumnConfig(o,s),u=Ei(Ei({},a.getColumnConfig()),{columns:l});r.push(u)}else r.push(a.getColumnConfig())}return r},n.prototype.clearSelection=function(){this.grid.getSelectable().getSelection().clear()},n.prototype.setColumns=function(e){this.columns=e,this.grid.setColumns(Zi([],e,!0))},n.prototype.getColumns=function(){return this.columns},n.prototype.setData=function(e){this.grid.setData(Zi([],e,!0))},n.prototype.setFilters=function(e){e?this.grid.getStore().setFilters(Zi([],e,!0)):this.grid.getStore().setFilters(null)},n.prototype.getStore=function(){return this.grid.getStore()},n.prototype.setStore=function(e){this.grid.setStore(e)},n.prototype.getFilters=function(){return this.grid.getStore().getFilters()},n.prototype.setShadow=function(e){this.grid.setShadow(e)},n.prototype.setColumnLines=function(e){this.grid.setColumnLines(e)},n.prototype.setGrouped=function(e){this.grid.setGrouped(e)},n.prototype.setVariableHeights=function(e){this.grid.setVariableHeights(e)},n.prototype.setSortable=function(e){this.grid.setSortable(e)},n.prototype.setSorter=function(e){this.grid.setSorter(e)},n.prototype.setRowNumbers=function(e){this.grid.setRowNumbers(e)},n.prototype.setHideHeaders=function(e){this.grid.setHideHeaders(e)},n.prototype.setItemRipple=function(e){this.grid.setItemRipple(e)},n.prototype.setStyle=function(e){this.grid.setStyle(e)},n.prototype.setSelectable=function(e){this.grid.setSelectable(e)},n.prototype.gotoNextPage=function(){this.getStore().nextPage()},n.prototype.gotoPrevPage=function(){this.getStore().previousPage()},n.prototype.gotoPage=function(e){var t=this.getStore().getTotalCount();e<1||e>t||this.getStore().loadPage(e)},n.prototype.gotoLastPage=function(){var e=this.getStore().getTotalCount();this.getStore().loadPage(e)},n.prototype.gotoFirstPage=function(){this.getStore().loadPage(1)},n}(t.Component),Mi=Ai,ki=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&En(e,t)}(o,e);var t,n,r,i=An(o);function o(){return Rn(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){return(0,Xt.jsxs)(Mi,{data:[{col1:"value1",col2:"data1",col3:1.01},{col1:"value2",col2:"data2",col3:1.02},{col1:"value3",col2:"data3",col3:1.03}],style:{width:"100%",height:"100%"},children:[(0,Xt.jsx)(On,{field:"col1",text:"Column 1",flex:"1"}),(0,Xt.jsx)(On,{field:"col2",text:"Column 2"}),(0,Xt.jsx)(On,{field:"col3",text:"Column 3",align:"right"})]})}}])&&wn(t.prototype,n),r&&wn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(t.Component),Gi="Tasks_wrap__nLZ16",Fi="Tasks_taskTable__vmk26",_i=function(e){var n=o((0,t.useState)([{id:1,colSpan:1,text:"\u0441\u043e\u0437\u0434\u0430\u043d\u0430 \u0437\u0430\u0434\u0430\u0447\u0430"},{id:2,colSpan:1,text:"\u0432 \u0440\u0430\u0431\u043e\u0442\u0435"},{id:3,colSpan:1,text:"\u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435"},{id:4,colSpan:1,text:"\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"}]),2),r=n[0],i=(n[1],o((0,t.useState)([{id:1,num:1,draggable:!0,text:"\u043f\u043e\u0442\u044f\u043d\u0438 \u043c\u0435\u043d\u044f"},{id:2,num:2,draggable:!1,text:null},{id:3,num:3,draggable:!1,text:null},{id:4,num:4,draggable:!1,text:null}]),2)),a=i[0],s=i[1],l=o((0,t.useState)(),2),u=l[0],c=l[1];return(0,Xt.jsx)("div",{className:Gi,children:(0,Xt.jsx)($,{to:"/tasks",children:(0,Xt.jsxs)("table",{className:Fi,children:[(0,Xt.jsx)("thead",{children:(0,Xt.jsx)("tr",{children:r.map((function(e){return(0,Xt.jsx)("th",{colSpan:e.colSpan,children:e.text},e.id)}))})}),(0,Xt.jsx)("tbody",{children:(0,Xt.jsx)("tr",{children:a.sort((function(e,t){return e.num>t.num?1:-1})).map((function(e){return(0,Xt.jsx)("td",{onDragStart:function(t){c(e)},onDrop:function(t){return function(e,t){e.preventDefault(),s(a.map((function(e){return e.id===t.id?gt(gt({},e),{},{num:u.num}):e.id===u.id?gt(gt({},e),{},{num:t.num}):e})))}(t,e)},draggable:e.draggable,children:e.text},e.id)}))})})]})})})},Di="Regions_container__m2Ag-",Ui=function(e){return(0,Xt.jsx)("div",{className:Di,children:"Im Regions"})};var Oi=function(){return(0,Xt.jsxs)("div",{className:"app-wrapper",children:[(0,Xt.jsx)(Jt,{}),(0,Xt.jsx)("div",{className:"app-wrapper-content",children:(0,Xt.jsxs)(N,{children:[(0,Xt.jsx)(O,{exact:!0,path:"/",element:(0,Xt.jsx)(In,{})}),(0,Xt.jsx)(O,{exact:!0,path:"/dashboard",element:(0,Xt.jsx)(In,{})})," // \u043a\u043e\u0441\u0442\u044b\u043b\u044c \u0434\u043b\u044f gh-pages",(0,Xt.jsx)(O,{exact:!0,path:"/supplys",element:(0,Xt.jsx)(ki,{})}),(0,Xt.jsx)(O,{exact:!0,path:"/tasks",element:(0,Xt.jsx)(_i,{})}),(0,Xt.jsx)(O,{exact:!0,path:"/regions",element:(0,Xt.jsx)(Ui,{})})]})})]})};n.createRoot(document.getElementById("root")).render((0,Xt.jsx)(t.StrictMode,{children:(0,Xt.jsx)(W,{children:(0,Xt.jsx)(ce,{store:qt,children:(0,Xt.jsx)(Oi,{})})})}))}()})();
//# sourceMappingURL=main.ea5d1835.js.map